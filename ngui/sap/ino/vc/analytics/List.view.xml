<mvc:View
    controllerName="sap.ino.vc.analytics.List"
	xmlns="sap.m"
	xmlns:ino="sap.ino.controls"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc">
	<Page 
        id="reportlistpage"
        enableScrolling="false">
		<customHeader>
			<ino:ColorBar 
                backgroundColor="{= !!${data>COLOR_CODE} ? (${path : 'data>COLOR_CODE', formatter : '.formatter.color'}) : undefined }"
                class="sapMBar" 
                design="Auto">
				<core:Fragment fragmentName="sap.ino.vc.commons.fragments.NavBackButton" type="XML" />
				<ToolbarSpacer/>
				<Label text="{i18n>ANALYTICS_LIST_TIT_REPORTS}"/>
				<ToolbarSpacer/>
				<core:Fragment fragmentName="sap.ino.vc.commons.fragments.RefreshButton" type="XML" />
				<core:Fragment fragmentName="sap.ino.vc.commons.fragments.FullScreenButton" type="XML" />
			</ino:ColorBar>
		</customHeader>
		<content>
			<Panel id="sapInoPanelAnalytics" width="100%" height="100%" class="sapInoHomeTitledPanel sapInoCampaignHomeIdeaList">
				<infoToolbar>
					<Toolbar class="sapInoHomeTitledPanelNav sapInoReportListPosition">
						<ToolbarSpacer/>
						<SegmentedButton
                            id="sapInoCampHomeIdeasButtons"
                            visible="{= !${device>/system/phone} }"
                            width="40%"
                            selectedKey="{view>/List/VARIANT}"
                            items="{list>/Variants/Values}">
							<items>
								<SegmentedButtonItem
                                    text="{parts:['list>TEXT','list>ACTION'], formatter : '.formatter.formatterReportText'}"
                                    key="{list>ACTION}"
                                    visible="{path : 'list>VISIBLE'}"
                                    press="onVariantBasePress" />
							</items>
						</SegmentedButton>
						<Select
                            id="sapInoCampHomeIdeasSelect"
                            visible="{device>/system/phone}"
                            selectedKey="{view>/List/VARIANT}"
                            change="onVariantBasePress"
                            items="{list>/Variants/Values}">
							<core:Item
                                text="{parts:['list>TEXT','list>ACTION'], formatter : '.formatter.formatterReportText'}"
                                visible="{path : 'list>VISIBLE'}"
                                key="{list>ACTION}" />
						</Select>
						<ToolbarSpacer/>
					</Toolbar>
				</infoToolbar>
				<content>
					<ScrollContainer
                        id="scrollContainer"
                        horizontal="false"
                        vertical="true"
                        height="100%"
                        class="sapInoScrollContainer sapInoObjectList sapInoReportListPosition">
						<PullToRefresh
                            id="pullToRefresh"
                            visible="{device>/support/touch}"
                            refresh="onRefresh" />
						<ino:WrappingList 
                            id="reportlist"
                            growing="true"
                            growingThreshold="{path : 'device>/system', formatter: '.formatter.listThreshold'}"
                            growingScrollToLoad="true"
                            wrapping="true"
                            updateStarted="onObjectListUpdateStarted"
                            updateFinished="onObjectListUpdateFinished"></ino:WrappingList>
							<HBox id="customReportsActionBtns" class="sapInmCustomReportsButtons" visible="{parts:['list>/IS_INN_MGR','list>/CURRENT_ACTION_SELECTED'], formatter:'.formatter.visibleOperationBox'}">
								<Button text="{i18n>ANALYTICS_LIST_CUSTOM_REPORTS_CREATE}" class="sapUiSmallMarginEnd" enabled ="{path:'customReport>/CAN_CREATE', formatter: '.formatter.visibleCreateBtn' }" 
								 press="onCreateCustomReportStyle"/>
								<Button text="{i18n>ANALYTICS_LIST_CUSTOM_REPORTS_MODIFY}" class="sapUiSmallMarginEnd" enabled = "{customReport>/CAN_MODIFY}" press="onModifyCustomReportStyle"/>
								<Button text="{i18n>ANALYTICS_LIST_CUSTOM_REPORTS_DELETE}" press="onDeleteCustomReportStyle" enabled = "{customReport>/CAN_DELETE}" />
							</HBox>                            
						<VBox id="customReports" class="sapInmCustomReportsVboxContainer">
						</VBox>
							<HBox id="customReportsSaveBtns" class="sapInmCustomReportsButtons" visible = "{parts:['customReport>/EDIT_STATUS','list>/BACKOFFICE_ACCESSABLE','list>/CURRENT_ACTION_SELECTED'], formatter:'.formatter.visibleSaveActionsBtn'}">
								<Button text="{i18n>BTN_SAVE}" class="sapUiSmallMarginEnd" enabled ="{path:'customReport>/EDIT_STATUS', formatter: '.formatter.visibleCreateBtn' }" 
								 press="onCustomReportStyleSave"/>
								<Button text="{i18n>BTN_CANCEL}" enabled = "{customReport>/EDIT_STATUS}" press="onCustomReportStyleCancel"/>
							</HBox>  						
					</ScrollContainer>
				</content>
			</Panel>
		</content>
	</Page>
</mvc:View>