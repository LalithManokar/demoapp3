<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:ino="sap.ino.controls"
	xmlns:mvc="sap.ui.core.mvc">
	<CustomListItem
        type="Active"
        press="onCardItemPress">
		<content>
			<ino:IdeaCard
                ideaId="{:= ${data>ID}}"
                ideaHref="{:= ${path: 'data>ID', formatter: '.formatter.ideaNavigationLink'}}"
                ideaName="{:= ${data>NAME}}"
                ideaDescription="{:= ${path: 'data>SHORT_DESCRIPTION'}}"
                ideaSubmitter="{:= ${data>SUBMITTER_NAME}}"
                ideaSubmitterId="{:= ${data>SUBMITTER_ID}}"
                ideaSubmittedAt="{:= ${path: 'data>SUBMITTED_AT', formatter: '.formatter.toRelativeDate'}}"
                ideaCreatedAt="{:= ${path: 'data>CREATED_AT', formatter: '.formatter.toRelativeDate'}}"
                isDraft="{:= ${path: 'data>STATUS', formatter: '.formatter.isDraft'}}"
                campaignId="{:= ${data>CAMPAIGN_ID}}"
                campaignHref="{:= ${path: 'data>CAMPAIGN_ID', formatter: '.formatter.campaignNavigationLink'}}"
                campaignName="{:= ${data>CAMPAIGN_SHORT_NAME}}"
                isOpenForContributors="{:= ${path: 'data>IS_OPEN_FOR_CONTRIBUTORS', formatter: '.formatter.toBool'}}"
                color="{:= ${path: 'data>CAMPAIGN_COLOR', formatter: '.formatter.color'}}"
                openIdea="onOpenIdea"
                openIdeaComment="onIdeaCommentPress"
                openCampaign="onOpenCampaign"
                openSubmitter="onOpenIdentityQuickView"
                readIdea="onIdeaReadPress">
				<ino:image>
					<ino:Image 
                        foregroundColor="{:= ${path: 'data>CAMPAIGN_COLOR', formatter: '.formatter.color'}}"
                        objectId="{:= ${data>ID}}"
                        objectName="{:= ${data>NAME}}"
                        src="{parts : ['data>TITLE_IMAGE_ID', 'data>TITLE_IMAGE_CHANGED_AT'], formatter: '.formatter.titleImageURL'}"
                        press="onOpenIdea"
                        tooltip="{i18n>IDEA_LIST_ALT_CAMPAIGN_LINK_TOOLTIP}"
                        disableImage="{view>/List/DISABLE_IDEA_IMAGE}"
                        imageAlt="{:= ${path: 'data>SHORT_DESCRIPTION', formatter: '.formatter.ideaShortDescription'}}"/>
				</ino:image>
				<ino:processDisplayPlaceholder>
					<ino:ProcessIndicator
                        currentStep="{:= ${data>STEP}}"
                        isDraft="{:= ${path: 'data>STATUS', formatter: '.formatter.isDraft'}}"
                        phase="{:= ${path: 'data>PHASE', formatter: '.formatter.ideaPhase'}}"
                        processSteps="{:= ${data>STEPS}}"
                        processStopped="{parts: ['data>STATUS', 'data>STATUS_TYPE'], formatter: '.formatter.isIdeaProcessStoped'}"
                        status="{:= ${path: 'data>STATUS', formatter: '.formatter.ideaStatus'}}"
                        statusColor="{:= ${data>STATUS_COLOR}}"
                        width="200px"/>
				</ino:processDisplayPlaceholder>
				<ino:voteDisplayPlaceholder>
					<ino:VoteDisplay
				        likeVotes="{:= ${path: 'data>SCORE', formatter: '.formatter.toInt'}}"
				        negativeVotes="{:= ${path: 'data>NEG_VOTES', formatter: '.formatter.toInt'}}"
				        positiveVotes="{:= ${path: 'data>POS_VOTES', formatter: '.formatter.toInt'}}"
				        starVoteCount="{:= ${path: 'data>VOTE_COUNT', formatter: '.formatter.toInt'}}"
				        starVotes="{:= ${path: 'data>SCORE', formatter: '.formatter.toFloat'}}"
				        tooltip="{i18n>COMMON_KYF_EXP_VOTES}"
				        type="{:= ${data>VOTE_TYPE_TYPE_CODE}}"/>
				</ino:voteDisplayPlaceholder>
				<ino:commentDisplayPlaceholder>
					<ino:LabelledIcon
				        iconUrl="sap-icon://comment"
				        label="{:= ${path: 'data>COMMENT_COUNT', formatter: '.formatter.count'}}"
				        tooltip="{i18n>COMMON_KYF_EXP_COMMENTS}"/>
				</ino:commentDisplayPlaceholder>
				<ino:viewDisplayPlaceholder>
					<ino:LabelledIcon
    				    visible="{:= ${path: 'data>NO', formatter: '.formatter.isUsageReportingActive'}}"
				        iconUrl="sap-icon://show"
				        label="{:= ${path: 'data>VIEW_COUNT', formatter: '.formatter.viewCount'}}"
				        tooltip="{i18n>COMMON_KYF_EXP_VIEWS}"/>
				</ino:viewDisplayPlaceholder>
				<ino:anonymousDisplayPlaceholder>
					<ino:LabelledIcon
                		 iconUrl="{:= ${path: 'data>ANONYMOUS_FOR', formatter: '.formatter.anonymousIconFormatter'}}"
                	     visible="{path: 'data>ANONYMOUS_FOR', formatter: '.formatter.anonymousIconVisibleFormatter'}"
                         tooltip="{:= ${path: 'data>ANONYMOUS_FOR', formatter: '.formatter.anonymousIconTooltipFormatter'}}"/>
				</ino:anonymousDisplayPlaceholder>
				<ino:votePlaceholder>
					<ino:Vote
				        enabled="{:= ${parts: [{path: 'data>STATUS'}, {path: 'data>VOTING_ACTIVE'},{path: 'data>PARTICIPANT_CAN_VOTE'},{path: 'data>OPEN_STATUS_SETTING'},{path: 'data>VOTING_HAS_PRIVILEGE'}], formatter: '.formatter.votingActive'} }"
				        voteId="{:= ${data>VOTE_ID} }"
				        objectId="{:= ${data>ID}}"
				        tooltip="{parts: [{path: 'data>STATUS'},
        						  {path: 'data>VOTING_HAS_PRIVILEGE'},
        						  {path: 'data>VOTING_ACTIVE'},
        						  {path: 'data>PHASE'},
        						  {path: 'data>VOTE_TYPE_TYPE_CODE'},
        						  {path: 'data>VOTE_COUNT'},
        						  {path: 'data>SCORE'},
        						  {path: 'data>USER_SCORE'},
        						  {path: 'data>/DISPLAY_ONLY'},
        						  {path: 'data>PARTICIPANT_CAN_VOTE'},
            					  {path: 'data>OPEN_STATUS_SETTING'}], formatter: '.formatter.voteTooltip'}"
				        type="{:= ${data>VOTE_TYPE_TYPE_CODE}}"
				        userVote="onUserVote"
				        value="{:= ${data>USER_SCORE}}"
				        maxStar="{:= ${data>MAX_STAR_NO}}"/>
				</ino:votePlaceholder>
				<ino:followButton>
					<ino:Follow onlyIcon="true" value="{data>FOLLOW}" objectId="{data>ID}" type="IDEA" enabled="true" follow="onFollow" styleType="ideaListFollow"/>
				</ino:followButton>
				<ino:contributorButton>
					<ino:IdeaVolunteer styleClass="sapInoIdeaVolunteer" key="{data>VOLUNTEER_ID}" ideaId="{data>ID}" enabled="true" visible="true" onlyIcon="true" value="{= !!${data>VOLUNTEER_ID}}" volunteer="toggleVolunteer" />
				</ino:contributorButton>
			</ino:IdeaCard>
			<core:InvisibleText
                class="sapInoItemAriaLabel"
                text="{:= ${parts: [{path: 'data>NAME'}, 
                                               {path: 'data>PHASE'},
                                               {path: 'data>STEP'},
                                               {path: 'data>STEPS'},
                                               {path: 'data>STATUS'},
                                               {path: 'data>VOTE_TYPE_TYPE_CODE'},
                                               {path: 'data>COMMENT_COUNT'},
                                               {path: 'data>VIEW_COUNT'},
                                               {path: 'data>SCORE'},
                                               {path: 'data>MAX_STAR_NO'},
                                               {path: 'data>POS_VOTES'},
                                               {path: 'data>NEG_VOTES'}
                                               ], formatter: '.formatter.ideaAccessibilityLabel'}}"></core:InvisibleText>
		</content>
		<customData>
			<core:CustomData 
                key="style-idealatestupdate-class"  
                value="{parts:[{path:'data>SHOW_CREATED_VIEWER'},{path:'data>SHOW_UPDATED_VIEWER'},{path:'data>SHOW_COMMENT_VIEWER'},{path:'data>SHOW_STATUSCHANGE_VIEWER'}],formatter:'.formatter.setIdeaListLatestUpdateBackGroundColor'}" 
                writeToDom="true"/>
		</customData>
	</CustomListItem>
	
</core:FragmentDefinition>