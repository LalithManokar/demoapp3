<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout">
    <CustomListItem>
        <content>
            <l:Grid
                class="sapUiLargeMarginBottom"
                defaultSpan="XL12 L12 M12 S12"
                vSpacing="0"
                hSpacing="0">
                <l:content>
                    <l:Grid
                        vSpacing="0"
                        hSpacing="0">
                        <l:layoutData>
                            <l:GridData span="XL11 L11 M10 S10"/>
                        </l:layoutData>
                        <l:content>
                            <Link
                                class="sapUiFormTitleH5 sapInoAggregatingCriterionName"
                                press="onCriterionPressed"
                                text="{:= ${path: 'object>criterion/CRITERION_CODE', formatter: '.formatter.criterionCode'}} {:= ${path: 'object>criterion/WEIGHT', formatter: '.formatter.getWeight'}}"
                                textAlign="{= ${device>/system/phone} ? 'Begin' : 'End'}"
                                width="100%">
                                <layoutData>
                                    <l:GridData span="XL5 L5 M12 S12"/>
                                </layoutData>
                            </Link>
                            
                            <l:Grid
                                vSpacing="0"
                                hSpacing="0">
                                <l:layoutData>
                                    <l:GridData span="XL7 L7 M12 S12"/>
                                </l:layoutData>
                                <l:content>
                                    
                                    <Text
                                        class="sapUiFormTitleH5 sapInoAggregatingCriterionValue"
                                        text="{parts: ['object>criterion/DATATYPE_CODE',
                                                       'object>criterion/NUM_VALUE',
                                                       'object>criterion/BOOL_VALUE',
                                                       'object>criterion/TEXT_VALUE',
                                                       'object>criterion/VALUE_OPTION_LIST_CODE',
                                                       'object>criterion/UOM_CODE',
                                                       'object>criterion/valueOptionList'],
                                               formatter: '.formatter.getFormattedValue'}"
                                        textAlign="Begin"
                                        width="100%">
                                        <layoutData>
                                            <l:GridData
                                                indent="XL2 L2 M0 S0"
                                                span="XL8 L8 M10 S10"/>
                                        </layoutData>
                                    </Text>
                                    <Text
                                        class="sapInoLightText sapUiTinyMarginTopBottom"
                                        text="{path: 'object>criterion/COMMENT'}"
                                        textAlign="Begin"
                                        width="100%">
                                        <layoutData>
                                            <l:GridData
                                                indent="XL2 L2 M2 S0"
                                                linebreak="true"
                                                span="XL8 L8 M8 S8"/>
                                        </layoutData>
                                    </Text>
                                </l:content>
                            </l:Grid>
                            
                        </l:content>
                    </l:Grid>
                    
                    <List
                        items="{path: 'object>children', templateShareable: true}"
                        showSeparators="All"
                        visible="{path: 'object>children', formatter: '.formatter.hasSubcriteria'}">
                        <layoutData>
                            <l:GridData span="XL12 L12 M12 S12" linebreak="true"/>
                        </layoutData>
                        <CustomListItem>
                            <content>
                                <core:Fragment
                                    fragmentName="sap.ino.vc.evaluation.fragments.CriterionDisplay"
                                    type="XML">
                                </core:Fragment>
                            </content>
                        </CustomListItem>
                    </List>
                </l:content>
            </l:Grid>
        </content>
    </CustomListItem>
</core:FragmentDefinition>