<core:FragmentDefinition
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:u="sap.ui.unified"
    xmlns="sap.m"
    xmlns:core="sap.ui.core" 
    xmlns:ino="sap.ino.controls">
    <l:Grid id="userSettings" hSpacing="1" vSpacing="1">
	    <l:content>
	       <l:VerticalLayout>
                <l:layoutData>
                    <l:GridData span="XL4 L5 M5 S12" />
	            </l:layoutData>
                <core:Icon id="imageSettingPlaceHolderIcon" 
                    src="sap-icon://person-placeholder"
                    visible="{= !${object>/Settings/TITLE_IMAGE_ID} }"
                    class="sapInoColorLightGray" 
                    size="10rem"/>
	            <ino:ImageCropping
                    id="imageSettingCropping"
                    url="{parts : ['object>/Settings/TITLE_IMAGE_ID', 'object>/Settings/TITLE_IMAGE_CHANGED_AT'], formatter : '.formatter.userIconEdit'}"
                    visible="{= ${object>/Settings/TITLE_IMAGE_ID} > 0 }"
                    height="10rem" 
                    width="10rem" 
                    showZoom="true"
                    showMove="false"
                    showClear="true"
                    showCrop="true"
                    zoomStep="5"
                    moveStep="5"
                    clear="onImageSettingClear"
                    cropImg="onImageSettingCrop"
                    enabled="true"/>
                <u:FileUploader 
                    id="imageSettingUploader"
                    uploadUrl="{view>/ATTACHMENT_UPLOAD_URL}" 
                    multiple="false"
                    buttonOnly="true" 
                    buttonText="{i18n>SETTINGS_BTN_CHANGE_PHOTO}" 
                    icon="sap-icon://upload"
                    change=".onFileUploaderChange" 
                    uploadComplete=".onFileUploaderComplete" 
                    uploadOnChange="true"
                    useMultipart="false" 
                    sendXHR="true"
                    mimeType="image/*"
                    enabled="true"/>
                <Text text="{i18n>CTRL_USER_IMAGE_TEXT}"/>
            </l:VerticalLayout>

	        <l:VerticalLayout width="100%">
                <l:layoutData>
                    <l:GridData span="XL8 L7 M7 S12" />
	            </l:layoutData>
	            <l:Grid hSpacing="0" vSpacing="0">
	                <l:content>
    		            <Label text="{i18n>SETTINGS_LBL_LANGUAGE}" class="sapUiTinyMarginTop sapUiTinyMarginBegin">
        		            <layoutData>
            		            <l:GridData span="XL4 L4 M5 S12" />
        		            </layoutData>
    		            </Label>
                        <Select id="settingLOCALE" selectedKey="{object>Settings/LOCALE}"
                            items="{data>/Locale}" width="100%">
        		            <layoutData>
            		            <l:GridData span="XL8 L8 M7 S12" />
        		            </layoutData>
                            <items>
                                <core:Item key="{data>LOCALE}" 
                                    text="{parts : [{path : 'data>DEFAULT_TEXT'}, {path : 'data>LOCALE'}], formatter : '.formattermailLanguageText'}" />
                            </items>
                        </Select>
                    </l:content>
                </l:Grid>
                <CheckBox id="settingMAIL" text="{i18n>SETTINGS_LBL_UNSUBSCRIBE_EMAIL}" tooltip="{i18n>SETTINGS_LBL_UNSUBSCRIBE_EMAIL_TOOLTIP}" selected="{= ${object>Settings/MAIL} === 'inactive'}" />
                <CheckBox id="settingHCB" text="{i18n>SETTINGS_LBL_HCB}" selected="{= ${object>Settings/THEME}  === 'sap_hcb'}" />
                <CheckBox id="settingTermsConditions" visible="{parts:['object>Settings/CONSENT_TERMS_CONDITIONS'],formatter:'.formatConsentTermsCondiftions'}" text="{i18n>SETTINGS_LBL_CONSENT_TERMS_CONDITIONS}" tooltip="{i18n>SETTINGS_LBL_CONSENT_TERMS_CONDITIONS_TOOLTIP}" selected="{= ${object>Settings/CONSENT_TERMS_CONDITIONS}  === 0}" />
            </l:VerticalLayout>
	    </l:content>
    </l:Grid>
</core:FragmentDefinition>