/*!
 * SAP Innovation Management (c) Copyright 2014 SAP AG. All rights reserved.
 */
sap.ui.define(["sap/tnt/NavigationListItem","sap/m/Button","sap/m/ButtonType","sap/ui/core/RenderManager"],function(N,B,a,R){"use strict";var A=N.extend("sap.ino.controls.ActiveNavigationListItem",{metadata:{properties:{selected:{type:"boolean",defaultValue:false},visible:{type:"boolean",defaultValue:true},buttonIcon:{type:"sap.ui.core.URI"},buttonTooltip:{type:"string",defaultValue:""}},aggregations:{_button:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{press:{}}}});A.prototype.render=function(r,c){var t=this;var i=this.getAggregation("items");if(c.getExpanded()&&(!i||i.length===0)&&this.getButtonIcon()){var n=new R();if(N.prototype.render){N.prototype.render.apply(this,[n,c]);}var h=n.aBuffer.join("");var b=this.getAggregation("_button");if(!b){b=new B({icon:this.getButtonIcon(),type:a.Transparent,tooltip:this.getTooltip()});jQuery(b)[0].attachPress(t,function(e){e.cancelBubble();var p={item:t};t.firePress(p);});b.addStyleClass("sapInoActiveNavigationListItemButton");}var o=n.getHTML(b);var H=jQuery(h);H.append(o);H.addClass("sapInoActiveNavigationListItem");if(this.getText()!==''){r.unsafeHtml(H.outerHTML());}}else{if(N.prototype.render){N.prototype.render.apply(this,[r,c]);}}setTimeout(function(){if(t.getSelected()){t._inoSelect();}else{t._inoUnselect();}},0);};A.prototype._inoSelect=function(){var $=this.$(),n=this.getNavigationList();if(!n){return;}if(!$.hasClass('sapInoNavLIItemSelected')){$.addClass('sapInoNavLIItemSelected');}};A.prototype._inoUnselect=function(){var $=this.$(),n=this.getNavigationList();if(!n){return;}if($.hasClass('sapInoNavLIItemSelected')){$.removeClass('sapInoNavLIItemSelected');}};return A;});
