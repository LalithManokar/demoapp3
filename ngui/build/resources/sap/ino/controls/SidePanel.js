/*!
 * SAP Innovation Management (c) Copyright 2014 SAP AG. All rights reserved.
 */
sap.ui.define(["sap/ui/core/Control","sap/ui/layout/HorizontalLayout","sap/ui/core/Icon","sap/base/security/sanitizeHTML"],function(C,H,I,s){"use strict";var O={LEFT:0,RIGHT:1};var S=C.extend("sap.ino.controls.SidePanel",{metadata:{properties:{openerSide:{type:"int",defaultValue:O.RIGHT},openerPosition:{type:"sap.ui.core.CSSSize",defaultValue:"10%"},openerIcon:{type:"sap.ui.core.URI",defaultValue:"sap-icon://settings"},expanded:{type:"boolean",defaultValue:false},openerTooltipShow:{type:"string",defaultValue:undefined},openerTooltipHide:{type:"string",defaultValue:undefined},showOpener:{type:"boolean",defaultValue:true},showBorder:{type:"boolean",defaultValue:true},width:{type:"string"}},aggregations:{content:{type:"sap.ui.core.Control",multiple:false},_openerIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_panel:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{changed:{}}},getOpenerIconControl:function(){var o=this.getAggregation("_openerIcon");if(!o){o=new I({src:this.getOpenerIcon()});this.setAggregation("_openerIcon",o,true);}return o;},getPanel:function(){var o=this.getAggregation("_panel");if(!o){o=new H();this.setAggregation("_panel",o,true);}return o;},constructor:function(){C.apply(this,arguments);var c=this.getContent();if(c){this.getPanel().addContent(c);}},exit:function(){var o=this.getId()+"-opener";jQuery("#"+o).off();},open:function(){if(this.getExpanded()){return;}this.toggle();},close:function(){if(!this.getExpanded()){return;}this.toggle();},toggle:function(){var t=this;var a=t.getExpanded()?"sapInoSidePanelCollapsed":"sapInoSidePanelExpanded";var r=t.getExpanded()?"sapInoSidePanelExpanded":"sapInoSidePanelCollapsed";jQuery("#"+t.getId()).addClass(a);jQuery("#"+t.getId()).removeClass(r);jQuery("#"+t.getId()+"-content").addClass(a+"Content");jQuery("#"+t.getId()+"-content").removeClass(r+"Content");jQuery("#"+t.getId()+"-content").attr("aria-expanded",!t.getExpanded());if(t.getExpanded()){jQuery("#"+t.getId()+"-opener").attr("title",t.getOpenerTooltipShow()||"");}else{jQuery("#"+t.getId()+"-opener").attr("title",t.getOpenerTooltipHide()||"");}t.setProperty("expanded",!t.getExpanded(),true);t.fireChanged({"expanded":t.getExpanded()});},onAfterRendering:function(){var t=this;var o=this.getId()+"-opener";var c=this.getId()+"-content";jQuery("#"+o).off();var f=function(e){if(e.originalEvent&&e.originalEvent.keyCode===jQuery.sap.KeyCodes.TAB){return;}t.toggle();};jQuery("#"+o).on("click",f);jQuery("#"+o).on("keypress",f);},renderer:function(r,c){var a=((c.getOpenerSide()===0)?"sapInoSidePanelLeft":"sapInoSidePanelRight");var b=((c.getOpenerSide()===0)?"sapInoSidePanelContentLeft":"sapInoSidePanelContentRight");var o=((c.getOpenerSide()===0)?"sapInoSidePanelOpenerLeft":"sapInoSidePanelOpenerRight");var e=((c.getExpanded())?"sapInoSidePanelExpanded":"sapInoSidePanelCollapsed");r.write('<div');r.writeControlData(c);r.addClass(a);r.addClass(e);r.writeClasses();if(c.getWidth()){r.addStyle("width",s(c.getWidth()));r.writeStyles();}r.write(">");if(c.getShowOpener()){r.write('<div id="'+s(c.getId())+'-opener" tabindex="0" aria-controls="'+s(c.getId())+'-content" role="button"');if(c.getExpanded()){r.writeAttributeEscaped("title",c.getOpenerTooltipHide()||"");}else{r.writeAttributeEscaped("title",c.getOpenerTooltipShow()||"");}r.addClass(o);r.writeClasses();r.write(">");var d=c.getOpenerIconControl();r.renderControl(d);r.write("</div>");}r.write('<div id="'+s(c.getId())+'-content" aria-expanded="'+s(c.getExpanded())+'" role="region"');r.addClass(b);r.addClass(e+"Content");r.writeClasses();if(!c.getShowBorder()){r.addStyle("border",0);r.writeStyles();}r.write(">");var p=c.getPanel();r.renderControl(p);r.write("</div>");r.write("</div>");}});S.Orientation=O;return S;});
