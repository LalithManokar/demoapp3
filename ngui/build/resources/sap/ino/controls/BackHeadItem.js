/*!
 * SAP Innovation Management (c) Copyright 2014 SAP AG. All rights reserved.
 */
sap.ui.define(["sap/ui/unified/ShellHeadItem",'sap/ui/core/IconPool'],function(S,I){"use strict";return S.extend("sap.ino.controls.BackHeadItem",{metadata:{properties:{enabled:{type:"boolean",group:"Appearance",defaultValue:true}},events:{backMenuOpen:{}}},onclick:function(e){e.preventDefault();},_toggleIcon:function(l,i){if(I.isIconURI(i)){var o=I.getIconInfo(i);if(o){l.find("span").text(o.content).css("font-family","'"+o.fontFamily+"'");}}},_refreshIcon:function(){var t=this;var l=this.$();var i=sap.ui.getCore().getLibraryResourceBundle("sap.ino.controls");var T;if(i){T=i.getText("CTRL_NAVIGATION_HISTORY");}S.prototype._refreshIcon.apply(this,arguments);if(!this.getVisible()||l.next(".sapInoBackBtnEnd").length>0){return;}l.addClass("sapInoBackBtnBegin");l.attr('title',this.getTooltip());if(!l.next().hasClass("sapInoBackBtnEnd")){l.after($("<a role='button' aria-haspopup='true' tabindex='0' title='"+T+"' href='javascript:void(0);' class='sapUiUfdShellHeadItm sapInoBackBtnEnd'><span></span></a>"));}var s="sap-icon://slim-arrow-down";var L=l.next();this._toggleIcon(L,s);if(!this.getEnabled()){l.addClass("sapMLnkDsbl").attr("aria-disabled",true).attr("disabled",true).unbind("click");L.addClass("sapMLnkDsbl").attr("aria-disabled",true).attr("disabled",true).unbind("click");}else{l.removeClass("sapMLnkDsbl").attr("aria-disabled",false).attr("disabled",false).bind("click",function(e){t.firePress();e.preventDefault();});L.removeClass("sapMLnkDsbl").attr("aria-disabled",false).attr("disabled",false).bind("click",function(e){t._toggleIcon(L,"sap-icon://slim-arrow-up");t.fireBackMenuOpen();e.preventDefault();});}},setEnabled:function(e){e=!!e;this.setProperty("enabled",e,true);if(this.getDomRef()){this._refreshIcon();}return this;}});});
