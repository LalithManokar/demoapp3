/*!
 * SAP Innovation Management (c) Copyright 2014 SAP AG. All rights reserved.
 */
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ino/commons/application/Configuration"],function(J,C){var N=C.getBackendRootURL()+"/sap/ino/xs/rest/common/notification_messages.xsjs";var a=300000;return J.extend("sap.ino.commons.models.misc.Notifications",{constructor:function(p){J.apply(this,[]);this.bPollingActivated=p;this.setTimer();},setTimer:function(){if(!this.bPollingActivated){return;}if(this._oTimer){clearInterval(this._oTimer);}this._oTimer=setInterval(this.updateNotificationCount.bind(this),a);},updateNotificationCount:function(){this.loadData(N,"countOnly=true",true,"GET",true);},updateNotifications:function(){this.loadData(N);this.setTimer();},markNotificationsAsRead:function(l){this.setProperty("/NOTIFICATION_COUNT","0");this.setProperty("/NOTIFICATIONS",null);jQuery.sap.require("sap.ino.commons.models.object.Notification");var b=sap.ino.commons.models.object.Notification;return b.readAllNotifications(l);},markNotificationAsRead:function(n){var c=this.getProperty("/NOTIFICATION_COUNT");c--;this.setProperty("/NOTIFICATION_COUNT",c);jQuery.sap.require("sap.ino.commons.models.object.Notification");var b=sap.ino.commons.models.object.Notification;return b.readNotification(n);}});});
