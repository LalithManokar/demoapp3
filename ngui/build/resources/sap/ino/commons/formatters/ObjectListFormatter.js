/*!
 * SAP Innovation Management (c) Copyright 2014 SAP AG. All rights reserved.
 */
sap.ui.define(["sap/ino/commons/formatters/BaseFormatter","sap/ino/commons/formatters/ListFormatter","sap/ino/commons/formatters/ObjectFormatter","sap/ino/commons/models/core/CodeModel","sap/ui/base/Object"],function(B,L,O,C,a){"use strict";var o=a.extend("sap.ino.commons.formatters.ObjectListFormatter",{});jQuery.extend(o,L,O);o.ideaListCampaignBackground=function(c){if(c&&c.length===6){c="#"+c;}else{c="#FFFFFF";}return"<div class='sapInoIdeaListColor' style='background-color : "+c+";' />";};o.widthCampaignCard=function(s){if(s.phone){return"300px";}else{return"400px";}};o.feedObjectTypeFormatter=function(s){if(!s){return;}return this.getText("FEEDS_FLD_OBJECT_TYPE_"+s);};o.feedFieldNameFormatter=function(f){if(!f){return;}return this.getText("FEEDS_FLD_NAME_"+f);};o.feedFieldValueFormatter=function(v,V){if(!v||!V){return;}if(v==="BOOLEAN"){return Number(V)?this.getText("FEEDS_FLD_VALUE_TRUE"):this.getText("FEEDS_FLD_VALUE_FALSE");}if(v==="DATE"){V=V.split(".");V=V[0].replace(/-/g,"/");return B.toDate(V);}return;};o.feedObjectLinkFormatter=function(s,b,c){if(!s||!b||!c){return;}var r;switch(c){case"IDEA":r="<a href='"+this.ideaNavigationLink(s)+"' class='sapMLnk sapMLnkMaxWidth' tabindex='0' role='link'>"+b+"</a>";break;case"WALL":r="<a href='"+this.wallNavigationLink(s)+"' class='sapMLnk sapMLnkMaxWidth' tabindex='0' role='link'>"+b+"</a>";break;case"CAMPAIGN":r="<a href='"+this.campaignNavigationLink(s)+"' class='sapMLnk sapMLnkMaxWidth' tabindex='0' role='link'>"+b+"</a>";break;case"EVALUATION":r="<a href='"+this.evaluationNavigationLink(s)+"' class='sapMLnk sapMLnkMaxWidth' tabindex='0' role='link' rel='"+b+"'>"+b+"</a>";break;case"BLOG":r="<a href='"+this.blogNavigationLink(s)+"' class='sapMLnk sapMLnkMaxWidth' tabindex='0' role='link' rel='"+b+"'>"+b+"</a>";break;case"LINK":r="<a href='"+s+"' class='sapMLnk sapMLnkMaxWidth' tabindex='0' role='link' rel='"+b+"'>"+b+"</a>";break;default:r=b;break;}return r;};o.feedMsgFormatter=function(v){var r,m;if(!v||!v.FEED_CODE){return;}var A=v.FEED_CODE,s=jQuery.sap.encodeHTML(v.OBJECT_TEXT||""),b=v.OBJECT_ID,c=v.OBJECT_TYPE_CODE,i=jQuery.sap.encodeHTML(v.INVOLVED_OBJ_TEXT||""),I=v.INVOLVED_ID,d=v.INVOLVED_OBJ_TYPE_CODE,f=v.FIELD1_VALUE_OPTION==='DATE'?v.FIELD1_VALUE:jQuery.sap.encodeHTML(v.FIELD1_VALUE||""),F=jQuery.sap.encodeHTML(v.FIELD1_NAME||""),e=jQuery.sap.encodeHTML(v.FIELD1_TEXT||""),g=jQuery.sap.encodeHTML(v.FIELD1_VALUE_OPTION||""),h=v.FIELD2_VALUE_OPTION==='DATE'?v.FIELD2_VALUE:jQuery.sap.encodeHTML(v.FIELD2_VALUE||""),j=jQuery.sap.encodeHTML(v.FIELD2_NAME||""),k=jQuery.sap.encodeHTML(v.FIELD2_TEXT||""),l=jQuery.sap.encodeHTML(v.FIELD2_VALUE_OPTION||""),n=jQuery.sap.encodeHTML(v.CONTENT||""),p,q;p=this.feedObjectLinkFormatter(b,s,c);i=d==="EVALUATION"?this.feedObjectTypeFormatter(d):i;I=d==="LINK"?n:I;q=this.feedObjectLinkFormatter(I,i,d);if(A.indexOf("STATUS_ACTION")===0){if(A.indexOf("SUBMIT")>0){A="STATUS_ACTION_SUBMIT";}else if(A.indexOf("EVAL")>0){A="STATUS_ACTION"+"_EVAL";}else{A="STATUS_ACTION";}}if(A.indexOf("CAMP_MAJOR_PUBLISH")===0){A="ACTION_FLD_COMPAIGN_MAJOR_CHANGE";}if(A.indexOf("IDEA_RELATION")===0){A=A.substr(A.lastIndexOf(".")+1);}if(e==="IDEA_FORM"){A="ACTION_IDEA_FORM";if(["BOOLEAN","DATE"].indexOf(g)>=0){f=this.feedFieldValueFormatter(g,f);}else if(g){f=g?C.getText(g,Number(f)):f;}if(["BOOLEAN","DATE"].indexOf(l)>=0){h=this.feedFieldValueFormatter(l,h);}else if(l){h=l?C.getText(l,Number(h)):h;}}else{if(["BOOLEAN","DATE"].indexOf(g)>=0){f=this.feedFieldValueFormatter(g,f);}else if(g){f=C.getText(g,f);}if(["BOOLEAN","DATE"].indexOf(l)>=0){h=this.feedFieldValueFormatter(l,h);}else if(l){h=C.getText(l,h);}F=e?this.feedFieldNameFormatter(e):F;j=k?this.feedFieldNameFormatter(k):j;}c=this.feedObjectTypeFormatter(c);d=this.feedObjectTypeFormatter(d);m="FEEDS_MSG_"+A;r=this.getText(m,[this.spanWrapperFormatter(c),p,this.spanWrapperFormatter(d),q,this.spanWrapperFormatter(F),this.spanWrapperFormatter(f),this.spanWrapperFormatter(j),this.spanWrapperFormatter(h),""]);return this.spanWrapperFormatter(r);};o.spanWrapperFormatter=function(t){return t?"<span>"+t+"</span>":"";};o.heightCampaignCard=function(s){if(s.phone){return"160px";}else{return"213px";}};o.respListFilterEnable=function(i){if((i===null)||(i&&i.length>1)){return true;}else{return false;}};o.setIdeaHeaderTitleLength=function(f){if(!f){return"IDEA_HEADER_TITLE_LENGTH_SMALL";}else{return"IDEA_HEADER_TITLE_LENGTH_BIG";}};o.quickLinkFilterInfo=function(f,A,s,b){var t=this;var c=0,p=[],S=A?this.getText('QUICK_LINK_FLD_ACTIVE'):this.getText('QUICK_LINK_FLD_INACTIVE'),v='',V='',d='',r=[],i;if(f&&s&&b){for(var k in f){switch(k){case'CAMPAIGN':p.push(t.getText('LIST_TIT_FILTER_CAMPAIGN_HEADER')+': '+f[k]);break;case'IDEAFORMID':p.push(t.getText('LIST_TIT_FILTER_CAMPAIGN_FORM_HEADER')+': '+C.getText('sap.ino.xs.object.ideaform.IdeaForm.Root',f[k]));break;case'PHASE':d=f[k].split(',');r=[];for(i=0;i<d.length;i++){r.push(C.getText('sap.ino.xs.object.campaign.Phase.Root',d[i]));}p.push(t.getText('LIST_TIT_FILTER_PHASE_HEADER')+': '+r.join(','));break;case'STATUS':d=f[k].split(',');r=[];for(i=0;i<s.length;i++){if(d.indexOf(s[i].KEY)>=0){r.push(t.getText(s[i].TEXT));}}if(r.length){p.push(t.getText('LIST_TIT_FILTER_STATUS_HEADER')+': '+r.join(','));}break;case'SUBSTATUS':d=f[k].split(',');r=[];for(i=0;i<d.length;i++){r.push(C.getText('sap.ino.xs.object.idea.Status.Root',d[i]));}p.push(t.getText('LIST_TIT_FILTER_SUB_STATUS')+': '+r.join(','));break;case'RESPCODE':d=f[k]?JSON.parse(f[k]):[];r=[];for(i=0;i<d.length;i++){r.push(C.getText('sap.ino.xs.object.subresponsibility.ResponsibilityStage.RespValues',d[i].code));}p.push(t.getText('LIST_TIT_FILTER_RESPONSIBILITY_LIST_HEADER')+': '+r.join(','));break;case'AUTHORS':p.push(t.getText('LIST_TIT_FILTER_AUTHOR_HEADER')+': '+f[k]);break;case'COACHES':p.push(t.getText('LIST_TIT_FILTER_COACH_HEADER')+': '+f[k]);break;case'DUEFROM':p.push(t.getText('QUICK_LINK_FLD_DUE_FROM')+': '+f[k]);break;case'DUETO':p.push(t.getText('QUICK_LINK_FLD_DUE_TO')+': '+f[k]);break;case'VOTENUM':v=f[k];break;case'VOTEOPERATOR':V=f[k];break;default:break;}}if(v&&V){for(i=0;i<b.length;i++){if(b[i].ACTION===V){V=t.getText(b[i].TEXT);}}p.push(t.getText('LIST_TIT_FILTER_VOTE_NUMBER')+': '+V+' '+v);}c=p.length;return this.getText('QUICK_LINK_FILTER_INFO_TEXT',[c,S])+'\n'+p.join('\n');}return'';};return o;});
