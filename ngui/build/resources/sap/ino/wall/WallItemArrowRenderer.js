/*!
 * SAP Innovation Management (c) Copyright 2014 SAP AG. All rights reserved.
 */
jQuery.sap.declare("sap.ino.wall.WallItemArrowRenderer");(function(){"use strict";jQuery.sap.require("sap.ino.wall.WallItemBaseRenderer");jQuery.sap.require("sap.ino.wall.util.Helper");jQuery.sap.require("sap.ino.wall.config.Config");jQuery.sap.require("sap.ui.core.IconPool");sap.ino.wall.WallItemArrowRenderer=sap.ui.core.Renderer.extend(sap.ino.wall.WallItemBaseRenderer);sap.ino.wall.WallItemArrowRenderer.addOuterStyleClasses=function(r){r.addClass("sapInoWallWIArrow");};sap.ino.wall.WallItemArrowRenderer.renderItem=function(r,c){var i=c.getId(),k=null;r.write("<div class=\"flippable\">");r.write("<label id=\""+c.getId()+"-wallitem-description\" class=\"sapInoWallItemDescription\" style=\"height:0px;width:0px;overflow:hidden;position:absolute;\">");var t=sap.ino.wall.util.Helper.stripTags(c.getTitle());if(t&&t.trim()!==""){r.write(c._oRB.getText("CRTL_WALL_ITEMARROW_EXP_READERTEXT",[t]));}else{r.writeEscaped(c._oRB.getText("CRTL_WALL_ITEMARROW_EXP_READERTEXT_EMPTY"));}r.write("</label>");var f=c.calcFigures();r.write("<div id="+c.getId()+"-front");r.addClass("sapInoWallWIArrow");r.addClass("front");r.writeClasses();r.write("style=\""+(f.w?"width: "+f.w:"")+(f.h?"px; height: "+f.h:"")+"px\"");r.write(">");if(!sap.ino.wall.config.Config.getDebugPositioning()){sap.ino.wall.WallItemArrowRenderer.renderArrow(r,c,"front",f);}else{r.write("front");}r.write("<div class=\"sapInoWallWIArrowMoveHandle\"");r.write("style=\""+"transform: rotateZ("+f.r+"rad); width: "+f.d+"px; height: "+f.t+"px; left: "+(f.hx-f.x)+"px; top: "+(f.hy-f.y)+"px; color: "+c.getColor()+"\"");r.write(">");if(c.getTitle()){r.writeEscaped(c.getTitle());}r.write("</div>");r.write("<div class=\"sapInoWallWIArrowStartHandle\"");r.write("style=\""+"left: "+(f.x1-f.x-f.hs/2)+"px; top: "+(f.y1-f.y-f.hs/2)+"px\"");r.write(">");r.write("</div>");r.write("<div class=\"sapInoWallWIArrowEndHandle\"");r.write("style=\""+"left: "+(f.x2-f.x-f.hs/2)+"px; top: "+(f.y2-f.y-f.hs/2)+"px\"");r.write(">");r.write("</div>");r.write("</div>");r.write("<div id="+c.getId()+"-back");r.addClass("sapInoWallWIArrow");r.addClass("back");r.writeClasses();r.write("style=\""+(f.w?"width: "+f.w:"")+(f.h?"px; height: "+f.h:"")+"px\"");r.write(">");if(!sap.ino.wall.config.Config.getDebugPositioning()){sap.ino.wall.WallItemArrowRenderer.renderArrow(r,c,"back",f);r.write("<div class=\"sapInoWallWIFlipEdit\">");r.renderControl(c._getButtonFlip().setIcon("sap-icon://undo").removeStyleClass("sapInoWallWIFlipBackButton").addStyleClass("sapInoWallWIArrowButton").addStyleClass("sapInoWallWIArrowButtonFlip"));r.write("</div>");r.write("<div class=\"sapInoWallWITitleEdit sapInoWallWITitleEditArrow\">");r.renderControl(c._getInputTitle().setProperty("placeholder",c._oRB.getText("WALL_ITEMTEXT_PLACEHOLDER_TITLE"),true));r.write("</div>");r.write("<div class=\"sapInoWallWIStyleEdit\">");r.renderControl(c._getButtonStyleSolid());r.renderControl(c._getButtonStyleDashed());r.renderControl(c._getButtonStyleDotted());r.write("</div>");r.write("<div class=\"sapInoWallWIThicknessEdit\">");r.renderControl(c._getButtonThickness3());r.renderControl(c._getButtonThickness4());r.renderControl(c._getButtonThickness5());r.write("</div>");r.write("<div class=\"sapInoWallWIHeadStyleEdit\">");r.renderControl(c._getButtonHeadStyleNone());r.renderControl(c._getButtonHeadStyleStart());r.renderControl(c._getButtonHeadStyleEnd());r.renderControl(c._getButtonHeadStyleBoth());r.write("</div>");r.write("<div class=\"sapInoWallWIColorEdit\">");r.renderControl(c._getButtonColorSelector());r.write("</div>");}else{r.write("back");}r.write("</div>");r.write("</div>");};sap.ino.wall.WallItemArrowRenderer.renderArrow=function(r,c,s,f){var m=c.getId()+"-"+s+"-start-triangle";var M=c.getId()+"-"+s+"-end-triangle";var a=c.getHeadStyle()=="START"||c.getHeadStyle()=="BOTH"?"url(#"+m+")":"none";var b=c.getHeadStyle()=="END"||c.getHeadStyle()=="BOTH"?"url(#"+M+")":"none";var d="none";switch(c.getStyle()){case"DOTTED":d="4, 4";break;case"DASHED":d="10, 5";break;case"SOLID":default:break;}r.write("<svg id=\""+c.getId()+"-"+s+"-arrow"+"\" class=\"sapInoWallWIArrowMarker\" xmlns=\"http://www.w3.org/2000/svg\" width=\""+f.w+"px\" height=\""+f.h+"px\" viewBox=\"0 0 "+f.w+" "+f.h+"\">");r.write("<marker id=\""+m+"\" viewBox=\"0 0 10 10\" refX=\""+(c.getThickness()/2)+"\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\""+c.getThickness()+"\" markerHeight=\""+c.getThickness()+"\" stroke-dasharray=\"none\" orient=\"auto\" overflow=\"visible\">");r.write("<path d=\"M -2 5 L 8 0 L 8 10 z\" fill=\""+c.getColor()+"\"/>");r.write("</marker>");r.write("<marker id=\""+M+"\" viewBox=\"0 0 10 10\" refX=\""+(6+c.getThickness()/2)+"\" refY=\"5\" markerUnits=\"strokeWidth\" markerWidth=\""+c.getThickness()+"\" markerHeight=\""+c.getThickness()+"\" orient=\"auto\"> overflow=\"visible\"");r.write("<path d=\"M 0 0 L 10 5 L 0 10 z\" fill=\""+c.getColor()+"\"/>");r.write("</marker>");r.write("<line x1=\""+(f.x1-f.x)+"\" y1=\""+(f.y1-f.y)+"\" x2=\""+(f.x2-f.x)+"\" y2=\""+(f.y2-f.y)+"\" marker-start=\""+a+"\" marker-end=\""+b+"\" stroke-dasharray=\""+d+"\" stroke=\""+c.getColor()+"\" stroke-width=\""+c.getThickness()+"\"/>");r.write("</svg>");}})();
