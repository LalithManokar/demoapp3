/*!
 * SAP Innovation Management (c) Copyright 2014 SAP AG. All rights reserved.
 */
jQuery.sap.declare("sap.ino.wall.ResponsiveOptionSelector");(function(){"use strict";sap.ui.core.Control.extend("sap.ino.wall.ResponsiveOptionSelector",{metadata:{properties:{"selectedOptionKey":{type:"string",defaultValue:undefined},"mode":{type:"string",group:"Misc",defaultValue:'Large'},"editable":{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{"_segmentedButton":{type:"sap.m.SegmentedButton",multiple:false},"_label":{type:"sap.m.Label",multiple:false},"_select":{type:"sap.m.Select",multiple:false},"options":{type:"sap.ui.core.Item",multiple:true,singularName:"option"}},associations:{"selectedOption":{type:"sap.ui.core.Item",multiple:false}},events:{"select":{}}}});sap.ino.wall.ResponsiveOptionSelector.M_EVENTS={'select':'select'};sap.ino.wall.ResponsiveOptionSelector.prototype._getLabel=function(){var l=this.getAggregation("_label");if(!l){l=new sap.m.Label({text:sap.ui.getCore().byId(this.getSelectedOption()).getText()});this.setAggregation("_label",l);this._updateLabel();}return l;};sap.ino.wall.ResponsiveOptionSelector.prototype._getSegmentedButton=function(){var t=this,s=this.getAggregation("_segmentedButton"),o,i=0;if(!s){s=new sap.m.SegmentedButton({width:"210px",select:function(e){t._handleSegmentedButtonSelect(e);}}).addStyleClass("sapInoWallROSSegmentedButton");o=this.getOptions();for(;i<o.length;i++){s.addButton(new sap.m.Button({text:o[i].getText(),customData:new sap.ui.core.CustomData({key:"item",value:o[i]})}));}this.setAggregation("_segmentedButton",s);this._updateSegmentedButton();}return s;};sap.ino.wall.ResponsiveOptionSelector.prototype._getSelect=function(){var t=this,s=this.getAggregation("_select"),o,i=0;if(!s){s=new sap.m.Select({change:function(e){t._handleSelectChange(e);}});o=this.getOptions();for(;i<o.length;i++){s.addItem(o[i]);}this.setAggregation("_select",s);this._updateSelect();}return s;};sap.ino.wall.ResponsiveOptionSelector.prototype.setSelectedOptionKey=function(k){var o=this.getOptions();for(var i=0;i<o.length;i++){if(o[i].getKey()===k){this.setSelectedOption(o[i]);break;}}};sap.ino.wall.ResponsiveOptionSelector.prototype.setSelectedOption=function(I){var o,i=0;if(typeof I==="string"){o=this.getOptions();for(;i<o.length;i++){if(o[i].getKey()===I){I=o[i];break;}}}this.setAssociation("selectedOption",I,true);this.setProperty("selectedOptionKey",I.getKey(),true);this._updateInnerControls();};sap.ino.wall.ResponsiveOptionSelector.prototype.getSelectedOption=function(){var s=this.getAssociation("selectedOption");if(!s){this.setAssociation("selectedOption",this.getOptions()[0],true);s=this.getAssociation("selectedOption");}return s;};sap.ino.wall.ResponsiveOptionSelector.prototype.setEditable=function(e){this.setProperty("editable",e,false);this._updateInnerControls();};sap.ino.wall.ResponsiveOptionSelector.prototype.setMode=function(m){this.setProperty("mode",m,false);this._updateInnerControls();};sap.ino.wall.ResponsiveOptionSelector.prototype._updateInnerControls=function(){var m=this.getMode(),e=this.getEditable();if(e){switch(m){case"Large":this._updateSegmentedButton();break;case"Small":this._updateSelect();break;default:break;}}else{this._updateLabel();}};sap.ino.wall.ResponsiveOptionSelector.prototype._isRendered=function(){if(this._bIsInDOM===undefined||this._bIsInDOM===0){this._bIsInDOM=jQuery.sap.byId(this.getId()).length;}return this._bIsInDOM;};sap.ino.wall.ResponsiveOptionSelector.prototype._updateSegmentedButton=function(){var s=this._getSegmentedButton(),b=s.getButtons(),S=sap.ui.getCore().byId(this.getSelectedOption()),i=0;for(;i<b.length;i++){if(b[i].getCustomData()[0].getValue()===S){s.setAssociation("selectedButton",b[i]);if(this._isRendered()){s.rerender();}break;}}};sap.ino.wall.ResponsiveOptionSelector.prototype._updateSelect=function(){var s=this._getSelect();s.setSelectedItem(sap.ui.getCore().byId(this.getSelectedOption()));};sap.ino.wall.ResponsiveOptionSelector.prototype._updateLabel=function(){var l=this._getLabel(),s=sap.ui.getCore().byId(this.getSelectedOption());l.setText(s.getText());};sap.ino.wall.ResponsiveOptionSelector.prototype._handleSegmentedButtonSelect=function(e){var s=e.getParameter("button").getCustomData()[0].getValue();this.setAssociation("selectedOption",s,true);this.setProperty("selectedOptionKey",s.getKey(),true);this.fireSelect({option:s});};sap.ino.wall.ResponsiveOptionSelector.prototype._handleSelectChange=function(e){var s=e.getParameter("selectedItem");this.setAssociation("selectedOption",s,true);this.setProperty("selectedOptionKey",s.getKey(),true);this.fireSelect({option:s});};})();
