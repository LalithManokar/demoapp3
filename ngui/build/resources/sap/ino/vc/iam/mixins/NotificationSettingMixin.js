sap.ui.define(["sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/ino/commons/models/object/PersonalizeSetting",'sap/m/GroupHeaderListItem'],function(J,M,P,G,U){"use strict";var N=function(){throw"Mixin may not be instantiated directly";};N.notificationSave=function(){var s=this;var m=s.getView().getModel('NOTIFICATION');var d=m.getData();P.updateNotificationSettings({notification:_(jQuery.extend(true,{},d.setting))}).done(function(){M.show(s.getText("NOTIFICATION_SETTING_SAVE_SUCCESS"));if(m.getProperty("/setting/KEY/0/SETTING_VALUE")!==3){s.updateUserSettingEmail(true);}s.getView().setModel(new J(d),'NOTIFICATION');});};N.NewNotificationSave=function(){var s=this;var m=s.getView().getModel('NEWNOTIFICATION');var d=m.getData();P.updateNewNotificationSettings({notification:a(jQuery.extend(true,{},d.setting))}).done(function(){M.show(s.getText("NOTIFICATION_SETTING_SAVE_SUCCESS"));if(m.getProperty("/setting/NEWKEY/0/SETTING_VALUE")!==3){s.updateUserSettingEmail(true);}s.getView().setModel(new J(d),'NEWNOTIFICATION');});};N.formatEnableMappingSettingValue=function(v){return v!==3;};N.formatEnableSettingValue=function(v){return v===1;};N.formatMappingSettingCode=function(m){return this.getText("NOTIFICATION_SETTING_"+m);};N.formatNewMappingSettingCode=function(m){return this.getText("NEWNOTIFICATION_SETTING_"+m);};N.getGroupHeader=function(g){var t=this;return new G({title:t.getText("NOTIFICATION_SETTING_SUBCATEGORYCODE_"+g.key),upperCase:false});};N.getNewGroupHeader=function(g){var t=this;return new G({title:t.getText("NEWNOTIFICATION_SETTING_ACTIONTYPECODE_"+g.key),upperCase:false});};N.convertNotification2ClientObject=function(o){if(!o){return o;}if(o.KEY&&o.KEY[0]){if(o.KEY[0].SETTING_VALUE===-1){o.KEY[0].SETTING_VALUE=3;}else if(o.KEY[0].SETTING_VALUE===7){o.KEY[0].SETTING_VALUE=2;}}else{o.KEY=[{}];o.KEY[0].SETTING_VALUE=0;}if(o.IDEA){for(var i=0;i<o.IDEA.length;i++){o.IDEA[i].order=parseInt(o.IDEA[i].CODE.substr(15),10);}o.IDEA=o.IDEA.sort(function(p,n){return p.order-n.order;});}if(o.CAMPAIGN){for(var c=0;c<o.CAMPAIGN.length;c++){o.CAMPAIGN[c].order=parseInt(o.CAMPAIGN[c].CODE.substr(15),10);}o.CAMPAIGN=o.CAMPAIGN.sort(function(p,n){return p.order-n.order;});}return o;};N.convertNewNotification2ClientObject=function(o){if(!o){return o;}if(o.NEWKEY&&o.NEWKEY[0]){if(o.NEWKEY[0].SETTING_VALUE===-1){o.NEWKEY[0].SETTING_VALUE=3;}else if(o.NEWKEY[0].SETTING_VALUE===7){o.NEWKEY[0].SETTING_VALUE=2;}}else{o.NEWKEY=[{}];o.NEWKEY[0].SETTING_VALUE=0;}return o;};function _(o){if(!o){return o;}if(o.KEY&&o.KEY[0]){if(o.KEY[0].SETTING_VALUE===3){o.KEY[0].SETTING_VALUE=-1;}else if(o.KEY[0].SETTING_VALUE===2){o.KEY[0].SETTING_VALUE=7;}}if(o.CAMPAIGN){for(var i=0;i<=o.CAMPAIGN.length-1;i++){if(o.CAMPAIGN[i].SETTING_VALUE){o.CAMPAIGN[i].SETTING_VALUE=1;}}}if(o.IDEA){for(var j=0;j<=o.IDEA.length-1;j++){if(o.IDEA[j].SETTING_VALUE){o.IDEA[j].SETTING_VALUE=1;}}}return o;}function a(o){if(!o){return o;}if(o.NEWKEY&&o.NEWKEY[0]){if(o.NEWKEY[0].SETTING_VALUE===3){o.NEWKEY[0].SETTING_VALUE=-1;}else if(o.NEWKEY[0].SETTING_VALUE===2){o.NEWKEY[0].SETTING_VALUE=7;}}if(o.CAMPAIGN){for(var i=0;i<=o.CAMPAIGN.length-1;i++){if(o.CAMPAIGN[i].SETTING_VALUE){o.CAMPAIGN[i].SETTING_VALUE=1;}}}if(o.IDEA){for(var j=0;j<=o.IDEA.length-1;j++){if(o.IDEA[j].SETTING_VALUE){o.IDEA[j].SETTING_VALUE=1;}}}if(o.FOLLOW){for(var n=0;n<=o.FOLLOW.length-1;n++){if(o.FOLLOW[n].SETTING_VALUE){o.FOLLOW[n].SETTING_VALUE=1;}}}if(o.STATUS){for(var m=0;m<=o.STATUS.length-1;m++){if(o.STATUS[m].SETTING_VALUE){o.STATUS[m].SETTING_VALUE=1;}}}return o;}return N;});
