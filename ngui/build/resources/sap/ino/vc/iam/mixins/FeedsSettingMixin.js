sap.ui.define(["sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/ino/commons/models/object/PersonalizeSetting"],function(J,M,P){"use strict";var F=function(){throw"Mixin may not be instantiated directly";};F.feedsSave=function(){var s=this;var m=s.getView().getModel('FEED');var d=m.getData();P.updateFeedsSettings({feeds:jQuery.extend(true,{},d.setting)}).done(function(){M.show(s.getText("FEEDS_SETTING_SAVE_SUCCESS"));if(m.getProperty("/setting/CAMPAIGN_SETTING_VALUE")||m.getProperty("/setting/IDEA_SETTING_VALUE")||m.getProperty("/setting/TAG_SETTING_VALUE")){s.updateUserSettingEmail(true);}s.getView().setModel(new J(d),'FEED');});};F.convertFeeds2ClientObject=function(o){if(!o.hasOwnProperty("CAMPAIGN_SETTING_VALUE")){o.CAMPAIGN_SETTING_VALUE=1;}if(!o.hasOwnProperty("IDEA_SETTING_VALUE")){o.IDEA_SETTING_VALUE=1;}if(!o.hasOwnProperty("TAG_SETTING_VALUE")){o.TAG_SETTING_VALUE=1;}return o;};F.newFeedsSave=function(){var s=this;var m=s.getView().getModel('NEWFEED');var d=m.getData();P.updateNewFeedsSettings({newfeeds:_(jQuery.extend(true,{},d.setting))}).done(function(){M.show(s.getText("FEEDS_SETTING_SAVE_SUCCESS"));if((m.getProperty("/setting/CAMPAIGN_SETTING_VALUE")||m.getProperty("/setting/IDEA_SETTING_VALUE")||m.getProperty("/setting/TAG_SETTING_VALUE"))&&m.getProperty("/setting/FEEDS_KEY")!==1){s.updateUserSettingEmail(true);}s.getView().setModel(new J(d),'NEWFEED');});};F.convertNewFeeds2ClientObject=function(o){if(!o){return o;}if(o.FEEDS_KEY){if(o.FEEDS_KEY===1){o.FEEDS_KEY=0;}else if(o.FEEDS_KEY===-1){o.FEEDS_KEY=1;}}else{o.FEEDS_KEY=0;}if(!o.hasOwnProperty("CAMPAIGN_SETTING_VALUE")){o.CAMPAIGN_SETTING_VALUE=1;}if(!o.hasOwnProperty("IDEA_SETTING_VALUE")){o.IDEA_SETTING_VALUE=1;}if(!o.hasOwnProperty("TAG_SETTING_VALUE")){o.TAG_SETTING_VALUE=1;}return o;};F.formatEnableMappingSettingFeedsKeyValue=function(v){return v!==1;};F.formatFeedEnableSettingValue=function(v){return v===1;};function _(o){if(!o){return o;}if(o.FEEDS_KEY||o.FEEDS_KEY===0){if(o.FEEDS_KEY===0){o.FEEDS_KEY=1;}else if(o.FEEDS_KEY===1){o.FEEDS_KEY=-1;}}if(o.CAMPAIGN_SETTING_VALUE){o.CAMPAIGN_SETTING_VALUE=1;}else{o.CAMPAIGN_SETTING_VALUE=0;}if(o.IDEA_SETTING_VALUE){o.IDEA_SETTING_VALUE=1;}else{o.IDEA_SETTING_VALUE=0;}if(o.TAG_SETTING_VALUE){o.TAG_SETTING_VALUE=1;}else{o.TAG_SETTING_VALUE=0;}return o;}return F;});
