<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:ino="sap.ino.controls"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
    <CustomListItem 
        width="100%"
        type="Active"
        press="onItemPress"
        class="sapInoNoticeFlatListItem"
        app:aofSmartControl="true"
        app:aofModel="data"
        app:aofObject="sap.ino.xs.object.idea.Idea">
        <l:VerticalLayout
            width="100%">
            <FlexBox
                width="100%"
                alignItems="Stretch"
                class="sapInoIdeaFlatListItemInfoLine">
                <items>
                    <HBox class="sapInoIdeaFlatListInfoContainer">
                        <layoutData>
                            <FlexItemData growFactor="2" />
                        </layoutData>
                        <VBox class="sapUiTinyMarginBeginEnd" justifyContent="Center">
                            <layoutData>
                                <FlexItemData growFactor="1" />
                            </layoutData>
                            <Link wrapping="true" class="sapUiTinyMarginTopBottom" text="{data>NAME}" emphasized="true" href="{path: 'data>ID', formatter: '.formatter.ideaNavigationLink'}"  tooltip="{:= ${path: 'data>SHORT_DESCRIPTION', formatter: '.formatter.ideaShortDescription'}}"/>
            		        <HBox class="sapInoIdeaListSmallFont">
            		            <Label text="{i18n>IDEA_LIST_FLD_CAMPAIGN}" class="sapInoIdeaListMarginEnd4"/>
            		            <Link text="{data>CAMPAIGN_SHORT_NAME}" tooltip="{data>CAMPAIGN_SHORT_NAME}" href="{path: 'data>CAMPAIGN_ID', formatter: '.formatter.campaignNavigationLink'}" />
            		        </HBox>
            		        <HBox alignItems="Center" justifyContent="Start" class="sapInoIdeaFlatListDates sapInoIdeaListSmallFont sapUiTinyMarginTop">
            		            <HBox>
                				    <ino:IdentityCard
                                            identityPress="onOpenIdentityQuickView"
                                            identityId="{data>CHANGED_BY_ID}"
                                            userImageUrl="{path: 'data>CHANGED_BY_IMAGE_ID', formatter:'.formatter.userImage' }" 
                                            imageSize="XS"
                                    >
                                    </ino:IdentityCard>
                                    <Link class="sapInoNewIdeaUserText" text="{data>SUBMITTER_NAME}"/>
                                </HBox>
            				    <ino:LabelledIcon
            				        iconUrl="sap-icon://customer-history"
            				        class="sapUiTinyMarginBegin"
            				        label="{path: 'data>CHANGED_AT', formatter: '.formatter.toRelativeDate'}"
            				        tooltip="{i18n>COMMON_EXP_CHANGE_DATE}"/>
            				</HBox>
                        	<core:ExtensionPoint name="extension_line_grid1"/>
                        </VBox>
                    	<VBox justifyContent="Center">
        		            <layoutData>
                                <FlexItemData growFactor="0" />
                            </layoutData>
                            <Button icon="sap-icon://InoIcons/comment-update" type="Transparent" tooltip="{i18n>OPEN_COMMENT_DIALOG}" visible="{view>/showCommentDialogBtn}" press="openCommentDialog"/>
		                </VBox>
                        <Button icon="sap-icon://decline" type="Transparent" class="sapUiTinyMarginBeginEnd sapUiTinyMarginTopBottom" tooltip="{i18n>NOTICE_REMOVE}" press="onRemoveNotice"/>
                    </HBox>
                </items>
            </FlexBox>
        </l:VerticalLayout>
        <core:InvisibleText
            class="sapInoItemAriaLabel"
            text="{parts: [{path: 'data>NAME'}, 
                           {path: 'data>PHASE'},
                           {path: 'data>STEP'},
                           {path: 'data>STEPS'},
                           {path: 'data>STATUS'},
                           {path: 'data>VOTE_TYPE_TYPE_CODE'},
                           {path: 'data>COMMENT_COUNT'},
                           {path: 'data>VIEW_COUNT'},
                           {path: 'data>SCORE'},
                           {path: 'data>MAX_STAR_NO'},
                           {path: 'data>POS_VOTES'},
                           {path: 'data>NEG_VOTES'}
                       ], formatter: '.formatter.ideaAccessibilityLabelListItem'}"> 
        </core:InvisibleText>
    </CustomListItem >
</core:FragmentDefinition>