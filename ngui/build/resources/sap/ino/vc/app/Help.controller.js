sap.ui.define(["sap/ino/vc/commons/BaseController","sap/m/Text","sap/m/ResponsivePopover","sap/ui/core/HTML"],function(C,T,R,H){"use strict";return C.extend("sap.ino.vc.app.Help",{onInit:function(){C.prototype.onInit.apply(this,arguments);this._oDialog=this.byId("helpDialog");this._oDraggableDialog=this.byId("helpDraggableDialog");this._oDialog.setInitialFocus(this.getView().sId+"--helpClose");this._oDraggableDialog.setInitialFocus(this.getView().sId+"--helpDraggableClose");this._oDraggableDialog.oPopup.setModal(false);this._oDraggableDialog.oPopup.setShadow(false);this._oDraggableDialog.onfocusin=function(){};},show:function(h){var t=this;jQuery("#content").addClass("sapInoBlur");this._$BeforeFocus=jQuery(":focus");this._oDialog.open();this._sContent=h||t.getModel("help").getProperty("/CONTENT");setTimeout(function(){var c=t._oDialog.$().find(".sapInoHelpContentContainer");jQuery.each(c,function(i,$){var o=sap.ui.getCore().getElementById($.id);o.removeAllContent();o.addContent(new H({content:"<p>"+t._sContent+"</p>"}));o.rerender();});},0);},onClose:function(){jQuery("#content").removeClass("sapInoBlur");this._oDialog.close();},onAfterClose:function(){jQuery("#content").removeClass("sapInoBlur");if(!this._bNoFocusAfterClose&&this._$BeforeFocus){this._$BeforeFocus.focus();}this._bNoFocusAfterClose=false;},onDraggableAfterClose:function(){if(this._$BeforeFocus){this._$BeforeFocus.focus();}},onDraggableDialogOpen:function(){var t=this;jQuery("#content").removeClass("sapInoBlur");this._bNoFocusAfterClose=true;this._oDialog.close();this._oDraggableDialog.open();setTimeout(function(){var c=t._oDraggableDialog.$().find(".sapInoHelpContentContainer");jQuery.each(c,function(i,$){var o=sap.ui.getCore().getElementById($.id);o.removeAllContent();o.addContent(new H({content:"<p>"+t._sContent+"</p>"}));o.rerender();});},0);},onDraggableClose:function(){this._oDraggableDialog.close();}});});
