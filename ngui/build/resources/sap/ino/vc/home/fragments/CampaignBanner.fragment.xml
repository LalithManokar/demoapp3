<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:ino="sap.ino.controls"
	xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1">
	<VBox
        class="sapInoHomepageCampaignBanner sapInoFloatingBackground">
		<VBox class="sapInoCampaignContainer">
			<CustomListItem
                    type="Active"
                    press="onCampaignsListItemPress">
				<ino:Campaign
                color="{path: 'data>COLOR_CODE', formatter: '.formatter.color'}"
                objectId="{path: 'data>ID'}"
                href="{path: 'data>ID', formatter: '.formatter.campaignNavigationLink'}"
                image="{path : 'data>CAMPAIGN_IMAGE_ID', formatter: '.formatter.titleImageURL'}"
                title="{path: 'data>SHORT_NAME'}" 
                width="{= ${device>/system/desktop} ? '360px' : '280px'}"
                height="210px"
                date="{= ${path: 'data>VALID_FROM', formatter: '.formatter.isFutureDate'} ? ${path: 'data>VALID_FROM', formatter: '.formatter.campaignStartsInDays'} : ${path: 'data>VALID_TO', formatter: '.formatter.daysLeft'} }"
                submissionDate="{= ${path: 'data>SUBMIT_FROM', formatter: '.formatter.isFutureDate'} ? ${path: 'data>SUBMIT_FROM', formatter: '.formatter.submissionStartsInDays'} : ${path: 'data>SUBMIT_TO', formatter: '.formatter.submissionDaysLeft'} }"
                registrationDate="{= ${path: 'data>REGISTER_FROM', formatter: '.formatter.isFutureDate'} ? ${path: 'data>REGISTER_FROM', formatter: '.formatter.registrationStartsInDays'} : ${path: 'data>REGISTER_TO', formatter: '.formatter.registrationDaysLeft'} }"
                ideaCount="{= (${data>ALL_IDEAS_COUNT} &amp;&amp; ${data>ALL_IDEAS_COUNT} > 0) ? ${data>ALL_IDEAS_COUNT} : 0}"
                participantCount="{= (${data>PARTICIPANTS_COUNT} &amp;&amp; ${data>PARTICIPANTS_COUNT} > 0) ? ${data>PARTICIPANTS_COUNT} : 0}"
                activeParticipantCount="{= (${data>ACTIVE_PARTICIPANT_COUNT} &amp;&amp; ${data>ACTIVE_PARTICIPANT_COUNT} > 0) ? ${data>ACTIVE_PARTICIPANT_COUNT} : 0}"
                viewCount="{= ${path : 'data>NO', formatter : '.formatter.isUsageReportingActive' } ? ((${data>VIEW_COUNT} &amp;&amp; ${data>VIEW_COUNT} > 0) ? ${data>VIEW_COUNT} : 0) : undefined }"
                status="{path: 'data>STATUS_CODE'}"
                openForSubmission="{= (${data>IS_OPEN_FOR_SUBMISSION} + ${data>SUBMITTABLE} === 2) ? true : false}"
                openForRegistration="{=${data>IS_OPEN_FOR_REGISTRATION} === 1 || !${data>SUBMIT_FROM}? true : false}" 
                press="onCampaignsListItemPress" 
                type="Banner"
                createIdea="onCreateIdea" 
                isInnovationView="{= ${component>/SHOW_BACKOFFICE}}">
                
                <ino:followButton>
			        <ino:Follow onlyIcon="true" value="{data>FOLLOW}" objectId="{data>ID}" type="CAMPAIGN" enabled="true" follow="onFollow" styleType="CampaignCardFollow" visible="true" />
			    </ino:followButton>
			    
			    <ino:registerButton>
			        <Button icon="{ path:'data>REGISTER_STATUS', formatter:'.transIcon' }" tooltip="{ path:'data>REGISTER_STATUS', formatter:'.transTooltip' }" class="registerButton" press="Register" visible="{ parts: [{path:'data>ID'},{path:'data>IS_OPEN_FOR_REGISTRATION'},{path:'data>REGISTER_STATUS'}], formatter: '.isVisabled'}" enabled="{path:'data>REGISTER_STATUS', formatter:'.isEnabled'}"/>
			    </ino:registerButton>
			    
			    </ino:Campaign>
			</CustomListItem>
		</VBox>
	</VBox>
</core:FragmentDefinition>