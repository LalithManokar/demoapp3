sap.ui.define(["sap/ino/vc/commons/BaseVariantListController","sap/ino/vc/commons/TopLevelPageFacet","sap/ino/commons/formatters/ObjectListFormatter","sap/ino/commons/formatters/BaseFormatter","sap/ino/commons/application/Configuration","sap/ui/model/json/JSONModel","sap/m/Label","sap/ino/controls/IdentityActionCard","sap/ino/commons/models/object/User","sap/m/VBox","sap/m/Link","sap/ino/vc/campaign/mixins/RegistrationMixin","sap/ui/model/Filter"],function(C,T,O,B,a,J,L,I,U,V,b,R,F){"use strict";return C.extend("sap.ino.vc.home.RegisterApprovalList",jQuery.extend({},O,B,T,R,{routes:["registerapprovallist","registerapprovallistvariant","campaign-registerapprovallistvariant"],formatter:jQuery.extend({},O,B),onInit:function(){C.prototype.onInit.apply(this,arguments);},getList:function(){return this.byId("registerList");},bindList:function(){var l="registerList";var o=this.getView().byId(l).getBindingInfo("items");this.getView().byId(l).bindItems(o);},onCampaignsListItemPress:function(e){var i=e.getSource();var c=i.getBindingContext("data");if(c){this.navigateTo("campaign",{id:c.getProperty("CAMPAIGN_ID")});}},onAfterRendering:function(){this._initTabs();},_getTabs:function(){return this._tabs;},_initTabs:function(){this._tabs=[];},_defaultOnKeyDown:function(e){if(Control.prototype.onkeydown){Control.prototype.onkeydown.apply(this,arguments);}},onRouteMatched:function(e){var A=e.getParameter("arguments");var c=A["id"];var l="registerList";var o=this.getView().byId(l).getBindingInfo("items");if(o.filters.length>1){o.filters.pop();}if(c){var d=new F("CAMPAIGN_ID","EQ",c);o.filters.push(d);}this.getView().byId(l).bindItems(o);this.setHelp("APPROVAL_LIST");},onkeydown:function(e){var t=this._getTabs();var u=this._incr;if(e.shiftKey||e.keyCode===jQuery.sap.KeyCodes.ARROW_UP||e.keyCode===jQuery.sap.KeyCodes.ARROW_LEFT){u=this._decr;}if(e.keyCode===jQuery.sap.KeyCodes.ESCAPE){this.getParent().focus();}else if(e.keyCode===jQuery.sap.KeyCodes.TAB||e.keyCode===jQuery.sap.KeyCodes.ARROW_DOWN||e.keyCode===jQuery.sap.KeyCodes.ARROW_RIGHT||e.keyCode===jQuery.sap.KeyCodes.ARROW_UP||e.keyCode===jQuery.sap.KeyCodes.ARROW_LEFT){var c=jQuery(":focus");var i=-1;if(c&&c.length>0){i=t.indexOf(c[0].id);i=u(i,t.length-1);this._focus(jQuery("#"+t[i]));e.preventDefault();e.stopPropagation();}else{this.getParent().focus();}}else{this._defaultOnKeyDown(e);}},_incr:function(v,m){v++;if(v>m){return 0;}return v;},_decr:function(v,m){v--;if(v<0){return m;}return v;},_focus:function(e){if(jQuery.type(e.focus)==="function"){setTimeout(function(){e.focus();},0);}}}));});
