sap.ui.getCore().loadLibrary("sap.ino.wall");sap.ui.define(["sap/ino/vc/commons/BaseObjectModifyController","sap/ino/commons/formatters/ObjectListFormatter","sap/ino/vc/commons/TopLevelPageFacet","sap/m/Label","sap/ino/controls/IdentityActionCard","sap/ino/commons/models/core/ClipboardModel","sap/ino/commons/models/object/User","sap/m/VBox","sap/ino/vc/campaign/mixins/RegistrationMixin","sap/ui/model/json/JSONModel","sap/ino/commons/application/Configuration","sap/ino/vc/commons/mixins/TagCardMixin","sap/ino/vc/idea/mixins/VoteMixin","sap/ino/vc/commons/mixins/FollowMixin","sap/ino/vc/idea/mixins/VolunteerMixin","sap/ino/vc/follow/mixins/FeedsMixin"],function(C,F,T,L,I,a,U,V,R,J,b,c,d,e,f,g){"use strict";return C.extend("sap.ino.vc.follow.CampaignFeedList",jQuery.extend({},F,R,c,T,g,{formatter:jQuery.extend({},this.formatter,F),onInit:function(){C.prototype.onInit.apply(this,arguments);},onRouteMatched:function(E){var A=E.getParameter("arguments");this.iCampaignId=parseInt(A.id,0);this.bindList();},getList:function(){return this.byId("campaignFeedList");},bindList:function(){var s=this;var p=b.getBackendRootURL()+"/sap/ino/xs/rest/common/feed.xsjs";var P=[];var o=this.byId("campaignFeedList");o.setBusy(true);if(this.iCampaignId){P.push("campaign="+this.iCampaignId);}if(P.length>0){p=p+"?"+P.join("&");}var h=new J(p);h.attachRequestCompleted(null,function(){o.setBusy(false);if(h.oData.results){jQuery.each(h.oData.results,function(i,j){j.EVENT_AT=new Date(j.EVENT_AT);});}s.getView().setModel(h,"feed");},h);},onRefresh:function(){this.bindList();}}));});
