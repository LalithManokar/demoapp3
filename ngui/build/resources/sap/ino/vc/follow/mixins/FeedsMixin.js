sap.ui.define(["sap/ino/commons/application/Configuration","sap/ui/model/json/JSONModel","sap/m/Label","sap/ino/controls/IdentityActionCard","sap/ino/vc/commons/mixins/IdentityQuickviewMixin"],function(C,J,L,I,a){"use strict";var F=function(){throw"Mixin may not be instantiated directly";};F.onOpenActor=function(e){var s=e.getSource();var m=s.getBindingInfo("text")&&s.getBindingInfo("text").parts[0].model||"data";var i=s.getBindingContext(m).getProperty("ACTOR_ID");if(!this.oIdentityCardView){this.oIdentityCardView=sap.ui.xmlview({viewName:"sap.ino.vc.iam.IdentityCard"});this.getView().addDependent(this.oIdentityCardView);}this.oIdentityCardView.getController().open(s,i);};F._createPanelIdentity=function(s,i){var S=s;var c;};F._createPanelTag=function(s,t){var S=s;var c;if(t){var p="/SearchTagsAllFull(searchToken='',ID="+t+")/";var b=this;var d=this.getModel("data");d.read(p,{async:true,success:function(){S.removeAllContent();c=b.getFragment("sap.ino.vc.tag.fragments.TagCard").clone();c.addStyleClass("sapInoFeedDetailBox");c.bindElement({path:"data>/SearchTagsAllFull(searchToken='',ID="+t+")"});S.addContent(c);},error:function(){S.removeAllContent();c=new L({text:{path:"i18n>ACTIVITIES_MSG_TAG_NON_EXISTENT"}});c.addStyleClass("sapInoFeedDetailBox");S.addContent(c);}});}else{S.removeAllContent();c=new L({text:this.getText("ACTIVITIES_MSG_TAG_NON_EXISTENT")});c.addStyleClass("sapInoFeedDetailBox");S.addContent(c);}};F._createPanelAttachment=function(s,A,b,i){var S=s;var c;var t=this;if(A){var p="/"+(b==="CAMPAIGN"?"Campaign":"Idea")+(i?"Internal":"")+"Attachment("+A+")/";var d=this.getModel("data");d.read(p,{async:true,success:function(){S.removeAllContent();c=t.getFragment("sap.ino.vc.attachment.fragments.AttachmentListItem").clone((new Date()).getTime()+"-0");c.bindElement({path:"data>"+p});S.addContent(c);},error:function(){S.removeAllContent();c=new L({text:{path:"i18n>ACTIVITIES_MSG_ATTACHMENT_NON_EXISTENT"}});c.addStyleClass("sapInoFeedDetailBox");S.addContent(c);}});}else{S.removeAllContent();c=new L({text:this.getText("ACTIVITIES_MSG_ATTACHMENT_NON_EXISTENT")});c.addStyleClass("sapInoFeedDetailBox");S.addContent(c);}};F.onOpenWall=function(e){var w=e.getSource().getBindingContext("data").getProperty("INVOLVED_ID");if(w){this.navigateToWall("wall",{id:w});}};F._onAfterRendering=function(e){var s=e.getSource();var m=s.getBindingInfo("content")&&s.getBindingInfo("content").parts[0].model||"data";var b=s.getBindingContext(m);var i=b.getProperty("INVOLVED_OBJ_TYPE_CODE");var c=b.getProperty("INVOLVED_ID");var o=b.getProperty("OBJECT_TYPE_CODE");var O=b.getProperty("OBJECT_ID");var S=s.getParent().getParent().getItems();var d=b.getProperty("FILTER_TYPE_CODE")==="BACKOFFICE";S=S[S.length-1];if(o==="TAG"){this._createPanelTag(S,O);}else if(i==="TAG"){this._createPanelTag(S,c);}if(i==="ATTACHMENT"||i==="TITLE_IMAGE"||i==="BACKGROUND_IMAGE"||i==="CAMPAIGN_LIST_IMAGE"){this._createPanelAttachment(S,c,o,d);}if(i==="EXPERT"||i==="CONTRIBUTOR"||i==="COACH"){this._createPanelIdentity(S,c);}};return F;});
