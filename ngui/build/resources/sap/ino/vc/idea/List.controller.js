sap.ui.define(["sap/ino/vc/library","sap/ino/vc/commons/BaseVariantListController","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/model/Sorter","sap/ui/core/Item","sap/ino/commons/application/Configuration","sap/ino/commons/models/core/CodeModel","sap/ui/core/mvc/ViewType","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ino/commons/formatters/ObjectListFormatter","sap/ino/controls/OrientationType","sap/ino/vc/idea/mixins/AssignmentActionMixin","sap/ino/vc/idea/mixins/ChangeStatusActionMixin","sap/ino/vc/idea/mixins/FollowUpMixin","sap/ino/vc/idea/mixins/DeleteActionMixin","sap/m/MessageToast","sap/ui/core/ValueState","sap/ui/core/format/DateFormat","sap/ino/vc/evaluation/EvaluationFormatter","sap/m/Token","sap/ino/vc/commons/mixins/ExportMixin","sap/ino/vc/idea/mixins/VoteMixin","sap/ino/vc/idea/mixins/MergeActionMixin","sap/ino/vc/commons/mixins/ExtensibilityMixin","sap/m/MessageBox","sap/ino/commons/models/object/PersonalizeSetting","sap/ino/commons/models/aof/ApplicationObjectChange","sap/ino/vc/commons/mixins/TagGroupMixin","sap/ino/vc/commons/mixins/FollowMixin","sap/ino/vc/idea/mixins/ChangeStatusActionFormatter","sap/ino/vc/idea/mixins/VolunteerMixin","sap/ino/vc/idea/mixins/AddExpertFromClipboardMixin","sap/ino/vc/idea/mixins/CommonFilterMixin","sap/ino/vc/idea/mixins/DueFilterMixin","sap/ino/vc/idea/mixins/CampaignFormFilterMixin","sap/ino/vc/idea/mixins/IdeaFormCriteriaFilterMixin","sap/ino/vc/idea/mixins/ChangeAuthorActionMixin","sap/ino/vc/idea/mixins/ChangeAuthorActionFormatter","sap/ino/vc/idea/mixins/MarkAsReadActionMixin","sap/ino/vc/idea/mixins/CompanyViewFilterMixin"],function(l,B,D,J,S,I,C,a,V,F,b,O,c,A,d,f,g,M,h,k,E,T,m,n,p,q,r,P,s,t,u,v,w,y,z,G,H,K,L,N,Q,R){"use strict";var U={EMPTY:"",COMPLETED:"COMPLETED",NODISCONTINUED:"NODISCONTINUED",DISCONTINUED:"DISCONTINUED",ACTIVE:"ACTIVE",NEW:"NEW"};var W={EMPTY:"",NEW_UPDATES:"SHOW_UPDATED_VIEWER",NEW_STATUSES:"SHOW_STATUSCHANGE_VIEWER",NEW_COMMENTS:"SHOW_COMMENT_VIEWER"};var X={ASC:"ASC",DESC:"DESC"};var Y={IDEA:"idealist",IDEA_VARIANT:"idealistvariant"};var Z={EQ:"EQ",GE:"GE",LE:"LE"};var $={CHANGED_AT:"CHANGED_AT_DT",COMMENT_COUNT:"COMMENT_COUNT",EVALUATION_COUNT:"EVALUATION_COUNT",EXP_SCORE:"EXP_SCORE",FOLLOW_UP_DATE:"FOLLOW_UP_AT_DT",LAST_PUBL_EVAL_AT:"LAST_PUBL_EVAL_AT",NAME:"tolower(NAME)",RESP_VALUE_LIST:"tolower(RESP_VALUE_NAME)",SCORE:"SCORE",SEARCH_SCORE:"SEARCH_SCORE",SUBMITTED_AT:"SUBMITTED_AT_DT",VOTE_COUNT:"VOTE_COUNT",CREATED_AT:"CREATED_AT"};var _={ALL:"all",MY:"my",VOTED:"voted",COMMENTED:"commented",VOTE:"vote",COMPLETED:"completed",MANAGED_COMPLETED:"managedcompleted",EVAL:"eval",EVAL_PENDING:"evalpending",MANAGE:"manage",FOLLOW_UP:"follow",UNASSIGNED:"unassigned",COACH_ME:"coachme",EVAL_DONE:"evaldone",EVAL_OPEN:"evalopen",MY_GROUP_VIEW_AUTH:"mygroup",MY_GROUP_VIEW_VOTED:"mygroupvoted",MY_GROUP_VIEW_COMMENTED:"mygroupcommented",FOLLOWING:"following"};var a1={NONE:undefined,MY_AUTH:"myAuthoredIdeas",MY_VOTED:"myVotedIdeas",MY_COMMENTED:"myCommentedIdeas",MY_GROUP_VIEW_AUTH:"myGroupAuthoredIdeas",MY_GROUP_VIEW_VOTED:"myGroupVotedIdeas",MY_GROUP_VIEW_COMMENTED:"myGroupCommentedIdeas",OPEN_VOTE:"ideasIcanVoteFor",COMPLETED:"completedIdeas",MANAGED_COMPLETED:"managedCompletedIdeas",MY_EVAL:"myEvaluatedIdeas",EVAL_REQUIRED:"myEvaluatableIdeas",UNASSIGNED_COACH:"unassignedCoach",EVALUATED:"evaluatedIdeas",FOLLOW_UP:"followedupIdeas",COACH_ME:"coachedIdeasByMe",MANAGE:"",EVAL_OPEN:"openForEvaluation",FOLLOWING:"myFollowingIdeas"};var b1={NAME:"IDEA_LIST_TIT_NAME",MANAGEDNAME:"IDEA_LIST_TIT_MANAGEDNAME",IS_FILTER_SUBPAGE:true,ADJUSTMENT_TITLE:"IDEA_LIST_TIT_ADJUSTMENT",Filter:{Values:[{TEXT:"IDEA_LIST_MIT_FILTER_PHASE",KEY:"PHASE"},{TEXT:"IDEA_LIST_MIT_FILTER_STATUS",KEY:"STATUS"}],Status:[{TEXT:"IDEA_LIST_MIT_FILTER_STATUS_COMPLETED",KEY:U.COMPLETED},{TEXT:"IDEA_LIST_MIT_FILTER_STATUS_NODISCONTINUED",KEY:U.NODISCONTINUED},{TEXT:"IDEA_LIST_MIT_FILTER_STATUS_DISCONTINUED",KEY:U.DISCONTINUED},{TEXT:"IDEA_LIST_MIT_FILTER_STATUS_ACTIVE",KEY:U.ACTIVE},{TEXT:"IDEA_LIST_MIT_FILTER_STATUS_NEW_IDEAS",KEY:U.NEW}],PhaseBinding:{MODEL:"code",CODE_PATH:"CODE",TABLE_PATH:"sap.ino.xs.object.campaign.Phase.Root",EMPTY_CODE_TEXT:"IDEA_LIST_MIT_FILTER_PHASE_EMPTY"},LatestUpdate:[{TEXT:"IDEA_LIST_MIT_FILTER_LATEST_UPDATE_NEW_UPDATES",KEY:W.NEW_UPDATES},{TEXT:"IDEA_LIST_MIT_FILTER_LATEST_UPDATE_NEW_STATUSES",KEY:W.NEW_STATUSES},{TEXT:"IDEA_LIST_MIT_FILTER_LATEST_UPDATE_NEW_COMMENTS",KEY:W.NEW_COMMENTS}]},QuickSorter:[{TEXT:"SORT_MIT_MOST_RECENT",ACTION:$.CREATED_AT,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_LATEST_CHANGE",ACTION:$.CHANGED_AT,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_MOST_VOTE",ACTION:$.VOTE_COUNT,DEFAULT_ORDER:X.DESC}],Sorter:{Values:[{TEXT:"SORT_MIT_CHANGED",ACTION:$.CHANGED_AT,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_SUBMITTED",ACTION:$.SUBMITTED_AT,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_TITLE",ACTION:$.NAME,DEFAULT_ORDER:X.ASC},{TEXT:"SORT_MIT_VOTE",ACTION:$.SCORE,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_VOTE_NUM",ACTION:$.VOTE_COUNT,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_RESP_VALUE_LIST",ACTION:$.RESP_VALUE_LIST,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_SEARCH_SCORE",ACTION:$.SEARCH_SCORE,DEFAULT_ORDER:X.DESC}],Limit:2},Order:{Values:[{TEXT:"ORDER_MIT_ASC",ACTION:X.ASC},{TEXT:"ORDER_MIT_DESC",ACTION:X.DESC}]},Operator:{Values:[{TEXT:"OPERATOR_MIT_EQ",ACTION:Z.EQ},{TEXT:"OPERATOR_MIT_GE",ACTION:Z.GE},{TEXT:"OPERATOR_MIT_LE",ACTION:Z.LE}]},Variants:{DEFAULT_VARIANT:_.ALL,TITLE:"IDEA_LIST_TIT_VARIANTS",Values:[{TEXT:"IDEA_LIST_MIT_EVAL_PENDING",ACTION:_.EVAL_PENDING,FILTER:a1.EVAL_REQUIRED,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.SUBMITTED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:0,OBJECT_TYPE_CODE:a1.EVAL_REQUIRED,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ENABLED:1,ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role"]},{TEXT:"IDEA_LIST_MIT_OPEN_FOR_EVAL",ACTION:_.EVAL_OPEN,FILTER:a1.EVAL_OPEN,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.SUBMITTED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:1,ENABLED:1,OBJECT_TYPE_CODE:a1.EVAL_OPEN,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role"]},{TEXT:"IDEA_LIST_MIT_MY_EVAL",ACTION:_.EVAL,FILTER:a1.MY_EVAL,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.SUBMITTED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:2,ENABLED:1,OBJECT_TYPE_CODE:a1.MY_EVAL,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role"]},{TEXT:"IDEA_LIST_MIT_VOTE",ACTION:_.VOTE,FILTER:a1.OPEN_VOTE,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.SUBMITTED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:3,ENABLED:1,OBJECT_TYPE_CODE:a1.OPEN_VOTE,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role","sap.ino.ui::camps_part_role"]},{TEXT:"IDEA_LIST_MIT_MY",ACTION:_.MY,FILTER:a1.MY_AUTH,INCLUDE_DRAFT:true,COUNT:"0",DEFAULT_SORT:$.CHANGED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:4,ENABLED:1,OBJECT_TYPE_CODE:a1.MY_AUTH,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_part_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role"]},{TEXT:"IDEA_LIST_MIT_VOTED",ACTION:_.VOTED,FILTER:a1.MY_VOTED,INCLUDE_DRAFT:true,COUNT:"0",DEFAULT_SORT:$.CHANGED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:5,ENABLED:1,OBJECT_TYPE_CODE:a1.MY_VOTED,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_part_role","sap.ino.ui::camps_resp_expert_role","sap.ino.ui::camps_expert_role"]},{TEXT:"IDEA_LIST_MIT_COMMENTED",ACTION:_.COMMENTED,FILTER:a1.MY_COMMENTED,INCLUDE_DRAFT:true,COUNT:"0",DEFAULT_SORT:$.CHANGED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:6,ENABLED:1,OBJECT_TYPE_CODE:a1.MY_COMMENTED,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_part_role","sap.ino.ui::camps_resp_expert_role","sap.ino.ui::camps_expert_role"]},{TEXT:"IDEA_LIST_MIT_COMPLETED",ACTION:_.COMPLETED,FILTER:a1.COMPLETED,INCLUDE_DRAFT:false,COUNT:0,DEFAULT_SORT:$.SUBMITTED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:7,ENABLED:1,OBJECT_TYPE_CODE:a1.COMPLETED,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_part_role"]},{TEXT:"IDEA_LIST_MIT_ALL",ACTION:_.ALL,FILTER:a1.NONE,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.SUBMITTED_AT,ACTIVE:true,SEQUENCE:8,OBJECT_TYPE_CODE:"all",ENABLED:1,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role","sap.ino.ui::camps_part_role"]},{TEXT:"IDEA_LIST_MIT_MANAGE",ACTION:_.MANAGE,FILTER:a1.MANAGE,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.SUBMITTED_AT,MANAGE:true,ACTIVE:true,SEQUENCE:9,ENABLED:1,OBJECT_TYPE_CODE:"IdeaTobeManaged",TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role"]},{TEXT:"IDEA_LIST_MIT_FOLLOW_UP",ACTION:_.FOLLOW_UP,FILTER:a1.FOLLOW_UP,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.FOLLOW_UP_DATE,HIERARCHY_LEVEL:"1",MANAGE:true,ACTIVE:true,SEQUENCE:10,ENABLED:1,OBJECT_TYPE_CODE:a1.FOLLOW_UP,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role"]},{TEXT:"IDEA_LIST_MIT_UNASSIGNED",ACTION:_.UNASSIGNED,FILTER:a1.UNASSIGNED_COACH,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.SUBMITTED_AT,HIERARCHY_LEVEL:"1",MANAGE:true,ACTIVE:true,SEQUENCE:11,ENABLED:1,OBJECT_TYPE_CODE:a1.UNASSIGNED_COACH,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role"]},{TEXT:"IDEA_LIST_MIT_COACH_ME",ACTION:_.COACH_ME,FILTER:a1.COACH_ME,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.SUBMITTED_AT,HIERARCHY_LEVEL:"1",MANAGE:true,ACTIVE:true,SEQUENCE:12,ENABLED:1,OBJECT_TYPE_CODE:a1.COACH_ME,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role"]},{TEXT:"IDEA_LIST_MIT_EVAL_DONE",ACTION:_.EVAL_DONE,FILTER:a1.EVALUATED,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.LAST_PUBL_EVAL_AT,HIERARCHY_LEVEL:"1",MANAGE:true,ACTIVE:true,SEQUENCE:13,ENABLED:1,OBJECT_TYPE_CODE:a1.EVALUATED,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role"]},{TEXT:"IDEA_LIST_MIT_COMPLETED",ACTION:_.MANAGED_COMPLETED,FILTER:a1.MANAGED_COMPLETED,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.SUBMITTED_AT,HIERARCHY_LEVEL:"1",MANAGE:true,ACTIVE:true,SEQUENCE:14,ENABLED:1,OBJECT_TYPE_CODE:a1.MANAGED_COMPLETED,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role"]},{TEXT:"IDEA_LIST_MIT_FOLLOWING",ACTION:_.FOLLOWING,FILTER:a1.FOLLOWING,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.CHANGED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:15,ENABLED:1,OBJECT_TYPE_CODE:a1.FOLLOWING,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_part_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role"]},{TEXT:"IDEA_LIST_MIT_GROUP_"+C.getGroupConfiguration().GROUP+"_AUTH",ACTION:_.MY_GROUP_VIEW_AUTH,FILTER:a1.MY_GROUP_VIEW_AUTH,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.CHANGED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:16,ENABLED:1,OBJECT_TYPE_CODE:a1.MY_GROUP_VIEW_AUTH,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",DISPLAY_LABEL:C.getGroupConfiguration().DISPLAY_LABEL,ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_part_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role"]},{TEXT:"IDEA_LIST_MIT_GROUP_"+C.getGroupConfiguration().GROUP+"_VOTED",ACTION:_.MY_GROUP_VIEW_VOTED,FILTER:a1.MY_GROUP_VIEW_VOTED,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.CHANGED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:17,ENABLED:1,OBJECT_TYPE_CODE:a1.MY_GROUP_VIEW_VOTED,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",DISPLAY_LABEL:C.getGroupConfiguration().DISPLAY_LABEL,ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_part_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role"]},{TEXT:"IDEA_LIST_MIT_GROUP_"+C.getGroupConfiguration().GROUP+"_COMMENTED",ACTION:_.MY_GROUP_VIEW_COMMENTED,FILTER:a1.MY_GROUP_VIEW_COMMENTED,INCLUDE_DRAFT:false,COUNT:"0",DEFAULT_SORT:$.CHANGED_AT,HIERARCHY_LEVEL:"1",ACTIVE:true,SEQUENCE:18,ENABLED:1,OBJECT_TYPE_CODE:a1.MY_GROUP_VIEW_COMMENTED,TYPE_CODE:"QUICK_LINK_STANDARD_IDEA",DISPLAY_LABEL:C.getGroupConfiguration().DISPLAY_LABEL,ROLES:["sap.ino.ui::camps_mgr_role","sap.ino.ui::camps_coach_role","sap.ino.ui::camps_resp_coach_role","sap.ino.ui::camps_part_role","sap.ino.ui::camps_expert_role","sap.ino.ui::camps_resp_expert_role"]}]}};var c1=k.getInstance({pattern:"YYYY-MM-dd"});var d1=["QUICK_LINK_CUSTOM_IDEA","QUICK_LINK_STANDARD_IDEA"];var e1=B.extend("sap.ino.vc.idea.List",jQuery.extend({},A,d,f,g,m,n,p,q,t,u,w,y,z,G,H,K,L,Q,R,{list:b1,initialFocus:"filterButton",view:{"NAME":"IDEA_LIST","List":{"SORT":$.SUBMITTED_AT,"ORDER":undefined,"PHASE":[],"LATEST_UPDATE":[],"STATUS":[],"SUB_STATUS":[],"VARIANT":_.ALL,"MANAGE":false,"TAGS":[],"IS_TAGS_SELECTION":false,"CAMPAIGN":undefined,"DUE":undefined,"AUTHORS":[],"COACHES":[],"TAGCLOUD":true,"EXTENSION":{},"RESP_VALUE_CODE":[],"RESP_VALUE_NAME":"","VOTE_OPERATOR":Z.EQ,"VOTE_NUMBER":"","TAGCLOUD_EXPABLE":true,"TAGCLOUD_EXP":false,"TAGCLOUD_BAR_VISIBLE":false,"HIDE_PPT_EXPORT":false,"IS_FILTER_SUBPAGE":true,"IS_SHOW_MORE_FILTER":true,"SELECT_ALL":false,"SELECT_ALL_ENABLE":false,"SHOW_MASS_ACTION_BAR":true,"EXPORT_ALL":false,"EXPORT_IDEA_VIA_EMAIL":C.getSystemSettingsModel().getProperty("/sap.ino.config.EXPORT_IDEALIST_VIA_EMAIL_ACTIVE")==="1","IDEA_FILTER_SWITCH_VISIBLE":C.getPersonalize().FILTER_ACTIVE_IDEA,"IDEA_FILTER_NEW_AND_INPROCESS":C.getPersonalize().FILTER_ACTIVE_IDEA?C.getPersonalize().FILTER_ACTIVE_IDEA:false,"IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW":false,"IDEA_FILTER_COMMUNITY_GROUP_VIEW_VISIBLE":C.getGroupConfiguration().ENABLE_GROUP_VIEW,"IDEA_LIST_FILTER_PERSONALIZATION":null,"QUICKLINKNAME":undefined,"ADDSHORTBYVALUE":true,"SELECTQUICKLINKID":undefined},"ORIENTATION":C.getPersonalize().IDEA_VIEW?c.PORTRAIT:c.LANDSCAPE,"CLIPBOARD_ITEM_SELECT_COUNTER":0,"QUICK_LINK_COUNT":0,"NEWQUICKLINKFUNCTION":false,"ORIGINALVARIANT":undefined,"CURRENTURL":undefined},formatter:jQuery.extend({},O,f.followUpMixinFormatter,E,v,N),onInit:function(){this.formatter.filterStyleClass=function(e){return e===undefined?"":"sapUiTinyMarginBegin";};B.prototype.onInit.apply(this,arguments);this.oViewModel=this.getModel("view");this.oViewModel.setData(this.view,true);this.getList().addStyleClass(this.getPortraitStyle());this.getList().setWrapping(true);this.getList().attachUpdateFinished(this.onUpdateFinished,this);this.initApplicationObjectChangeListeners();this.initFilterItemModel();this.initCompanyView();},onAfterRendering:function(){},getScrollContainer:function(){return this.byId("scrollContainer");},addSubFilterPageContent:function(e){var o=this.getFilterNavContainer();var i=o.getPages();i[0].getContent()[0].addItem(e);this.onSetFilterBarVisible("authorFilter","coachFilter");},removeSubFilterPageContent:function(){var o=this.getFilterNavContainer();var e=o.getPages();var i=e[0].getContent()[0];if(i.getItems().length>2){i.getItems()[2].destroy(true);}},show:function(e,o){var i;var j;if(e&&e.getParameter){var x=e.getParameter("arguments");i=x["?query"];j=x.variant;}else{j=o.variant;i=o;}var f1=this;var g1=location.href.split("#/")[1];if(g1){this.setViewProperty("/CURRENTURL",decodeURIComponent(g1));}this.setViewProperty("/ORIGINALVARIANT",j);if(this.getVariant(j)&&C.hasCurrentUserPrivilege("sap.ino.ui::backoffice.access")){var h1=this.getVariant(j).MANAGE?true:false;this.getModel("component").setProperty("/SHOW_BACKOFFICE",h1);}var i1=this.getModel("component").getProperty("/SHOW_BACKOFFICE");var j1=C.hasCurrentUserPrivilege("sap.ino.ui::backoffice.access")&&!this._iCampaignId&&i1?_.MANAGE:this.getListProperty("/Variants/DEFAULT_VARIANT");if(this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW")){j1=_.MY;}if(i&&i.managed&&!j){if(!this.getModel("component").getProperty("/SHOW_BACKOFFICE")){j1=this.getListProperty("/Variants/DEFAULT_VARIANT");}else{j1=_.MANAGE;}this.setViewProperty("/ORIGINALVARIANT",j||j1);i.sort=$.SEARCH_SCORE;}this.setViewProperty("/isre",j||j1);this.setViewProperty("/Variants/DEFAULT_VARIANT",j1);j=this.getViewProperty("/isre");var k1=jQuery.extend(true,{},this.getVariant(j));this.changeDefaultSortOfVariant(k1,i);this.setViewProperty("/List/VARIANT",k1.ACTION);this.campaignId=o&&o.campaign||'';var l1,m1;var n1=this.getList().isBound("items");if((!i||!i.sort)&&k1.DEFAULT_SORT){var o1=k1.DEFAULT_SORT;var p1;var q1=this.getSort(o1);if(q1.length>0){p1=q1[0].DEFAULT_ORDER;}i=i||{};i.sort=i.sort||o1;i.sort=i.sort+" "+(i.order||p1);}var r1=this.hasStateChanged(this.getCurrentRoute(),j,i,D.orientation.portrait);r1=r1||this._bListChanged;this._bListChanged=false;var s1=C.getSystemSetting("sap.ino.config.DISABLE_IDEA_IMAGE");this.setViewProperty('/List/DISABLE_IDEA_IMAGE',!!(s1*1));var t1=this.getViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS");if(!n1||r1){this.setParameters(i,k1);this.setVariantVisibility(k1);this.removeInvalidFilters(i.variant?i:{variant:j});l1=this.getSort(this.getViewProperty("/List/SORT"));m1=this.getQuickSort(this.getViewProperty("/List/QUICKSORT"));this.setSorter(m1.concat(l1));this.updateFilter();var u1=this.getViewProperty("/ORIENTATION");this.onOrientationChange(D.system.desktop?u1:D.orientation);this.getIdeaFilterCount(i);this.getQuickLinkSetting(k1,e,i);this.getIdeaFilterSetting();this.bindList();this.initialSorterItems();this.bindTagCloud();if(this.getViewProperty("/List/IS_SHOW_MORE_FILTER")){this.bindFilters();}}["statusSelect","subStatusSelect","phaseSelect"].forEach(function(v1){var w1=f1.byId(v1);if(!w1){return;}w1.onAfterRendering=function(){if(w1._oTokenizer){w1._oTokenizer.setEditable(false);}};});this._deriveMassActionButtonEnabledStatus();this.setShortByIcon("shortByIcon1","shortByIcon2");},getIdeaFilterSetting:function(){var e=this;P.getFilterSettings().done(function(i){var o=e.getModel("view");o.setProperty("/List/IDEA_LIST_FILTER_PERSONALIZATION",i.RESULT);});},getIdeaFilterCount:function(o){var e=this.getModel("list").getProperty("/Variants/Values")||'';var i=this.getViewProperty("/List/STATUS")||[];var j=this.getViewProperty("/List/SUB_STATUS")&&this.getViewProperty("/List/SUB_STATUS").toString();var x=this.getViewProperty("/List/RESP_VALUE_CODE").map(function(w1){return w1.code;});var f1=this.getModel("component").getProperty("/SHOW_BACKOFFICE");var g1=this.getViewProperty("/List/PHASE")&&this.getViewProperty("/List/PHASE").toString();var h1=this.getViewProperty("/List/CAMPAIGN")||'';var i1=this.campaignId;var j1=o.search||"";var k1=this.getViewProperty("/List/VOTE_NUMBER");var l1=this.getViewProperty("/List/VOTE_OPERATOR");var m1=this.getViewProperty("/List/AUTHORS")&&this.getViewProperty("/List/AUTHORS").toString();var n1=this.getViewProperty("/List/COACHES")&&this.getViewProperty("/List/COACHES").toString();var o1=this.getViewProperty("/List/LATEST_UPDATE")&&this.getViewProperty("/List/LATEST_UPDATE").toString();var p1=this.getViewProperty("/List/TAGS");var q1={};var r1=[];p1.forEach(function(w1){if(!q1[w1.ROOTGROUPID]){q1[w1.ROOTGROUPID]=[];q1[w1.ROOTGROUPID].push(w1.ID);r1.push(w1.ROOTGROUPID);}else{q1[w1.ROOTGROUPID].push(w1.ID);}});if(i1===''){i1=h1;}var s1=this.getViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS");var t1={searchToken:window.decodeURIComponent(j1),searchType:this.getSearchType(),CAMPAIGN_ID:i1,oIdeaFilterChange:s1,phase:g1,status_code:j,status_type:i.join(","),resp_code:x.length>0?x.join(","):"",dueFrom:this.getFilterItem("/DueFrom"),dueTo:this.getFilterItem("/DueTo"),vote_num:k1,vote_operator:l1,authorKeys:m1,coachKeys:n1,latestUpdate:o1,tagTokens:q1[r1[0]]?q1[r1[0]].join(","):"",tagTokens1:q1[r1[1]]?q1[r1[1]].join(","):"",tagTokens2:q1[r1[2]]?q1[r1[2]].join(","):"",tagTokens3:q1[r1[3]]?q1[r1[3]].join(","):"",tagTokens4:q1[r1[4]]?q1[r1[4]].join(","):"",ideaFormId:this.getCampaignFormQuery(),bShowBackoffice:f1};this.getIdeaformQuery(t1);this.getCompanyViewQuery(t1);var u1=this.getModel("list");var v1=this.getModel("list").getProperty("/CURRENTQUICKLINK");C.getIdeaFilterCount(t1,u1,e,v1);},getQuickLinkSetting:function(o,e,i){var j=this;var x=this.getModel("list").getProperty("/Variants/Values")||'';this.getModel("list").setProperty("/CURRENTQUICKLINK",undefined);P.getQuickLinkSettings({'TYPE_CODE':d1}).done(function(f1){if(f1.RESULT.length>0&&x){f1.RESULT.forEach(function(h1){x.forEach(function(i1){if(h1.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"&&i1.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"&&h1.OBJECT_TYPE_CODE===i1.OBJECT_TYPE_CODE){i1.ACTIVE=h1.ACTIVE===1?true:false;i1.SEQUENCE=h1.SEQUENCE;i1.ID=h1.ID;i1.ENABLED=h1.ENABLED;}else if(h1.TYPE_CODE==="QUICK_LINK_CUSTOM_IDEA"){var j1=x.every(function(k1){if(k1.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"){return true;}if(k1.TYPE_CODE==="QUICK_LINK_CUSTOM_IDEA"){return h1.ID!==k1.ID;}});if(j1&&i1.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"&&h1.OBJECT_TYPE_CODE===i1.OBJECT_TYPE_CODE){h1.ACTIVE=h1.ACTIVE===1?true:false;h1.FILTER=i1.FILTER;h1.ACTION=i1.ACTION;h1.ROLES=i1.ROLES;if(i1.MANAGE){h1.MANAGE=i1.MANAGE;}x.push(h1);}}});});j.setViewProperty("/NEWQUICKLINKFUNCTION",true);}j.getModel("list").setProperty("/Variants/Values",x);j.setVariantVisibility(o);var g1=j.getVariantVisibility(o.ACTION);if(g1===false||typeof(g1)==="undefined"){j.navigateToTopLink(i);return;}j.getCurrentUrlId();});},navigateToTopLink:function(o){var e=this.getCurrentQuickIdeaList();this.navigateToFirstQuickLink(e.getVisibleItems(),o);},getFilterInfoByLink:function(e){e=e||'';e=e.split('?');if(e.length>=2){e=e[1];}var j=e!==''?e.split('&'):[];var o={},x,f1,g1;var h1=/(.*)=([^&]+)/;for(var i=0;i<j.length;i++){x=j[i].match(h1);if(x&&x.length===3){f1=x[1].toUpperCase();g1=x[2];o[f1]=g1;}}return o;},setShortByIcon:function(e,i){var o=this.byId(e)||this.getFilterElementById(e);var j=["sap-icon://sort-ascending","sap-icon://sort-descending"];var x=this.getViewProperty("/List/SORT");var f1=x.split(",");var g1=f1[0].split(" ");if(g1[1]==="ASC"&&o){o.setSrc(j[0]);o.setTooltip(this.getText('EXP_ASCENDING_SORT_BUTTON'));}else if(g1[1]==="DESC"&&o){o.setSrc(j[1]);o.setTooltip(this.getText('EXP_DESCENGDING_SORT_BUTTON'));}if(f1[1]){var h1=this.byId(i)||this.getFilterElementById(i);var i1=f1[1].split(" ");if(i1[1]==="ASC"&&h1){h1.setSrc(j[0]);h1.setTooltip(this.getText('EXP_ASCENDING_SORT_BUTTON'));}else if(i1[1]==="DESC"&&h1){h1.setSrc(j[1]);h1.setTooltip(this.getText('EXP_DESCENGDING_SORT_BUTTON'));}}},setVariantVisibility:function(o){var e=this.getModel("list").getProperty("/Variants/Values");var j=this.getModel("user").getProperty("/privileges");for(var i=0;i<e.length;i+=1){var x=e[i];var f1=false;if(j){for(var g1=0;g1<=x.ROLES.length-1;g1++){if(j[x.ROLES[g1]]){f1=true;break;}}}if(!this.getModel('component').getProperty('/SHOW_BACKOFFICE')&&this.getViewProperty("/List/IDEA_FILTER_COMMUNITY_GROUP_VIEW_VISIBLE")){if(x.ACTION===_.MY_GROUP_VIEW_AUTH||x.ACTION===_.MY_GROUP_VIEW_VOTED||x.ACTION===_.MY_GROUP_VIEW_COMMENTED||x.ACTION===_.FOLLOWING){f1=this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW");}else{f1=!this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW");}if(this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW")&&(x.ACTION===_.MY||x.ACTION===_.COMMENTED||x.ACTION===_.VOTED)){f1=this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW");}}if(!this.getViewProperty("/List/IDEA_FILTER_COMMUNITY_GROUP_VIEW_VISIBLE")&&x.TEXT&&x.TEXT.indexOf("_GROUP_")>-1){f1=false;}if(this.getModel('component').getProperty('/SHOW_BACKOFFICE')&&C.hasCurrentUserPrivilege("sap.ino.ui::backoffice.access")){f1=(x.MANAGE||false)&&f1;if(x.ACTION===_.MANAGED_COMPLETED&&this.getViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS")){f1=false;}}this.getModel("list").setProperty("/Variants/Values/"+i+"/VISIBLE",f1);}},getVariantVisibility:function(e){var j,o;j=this.getModel("list").getProperty("/Variants/Values");for(var i=0;i<j.length;i+=1){var x=j[i];if(x.ACTION===e){o=x.VISIBLE;}}return o;},getPortraitStyle:function(){return"sapInoIdeaListCardItems";},getList:function(){return this.byId("objectlist");},getExportControl:function(){return this.getList();},removeInvalidFilters:function(o){var i=false;var e=o.variant?o.variant:this.getViewProperty("/List/VARIANT");if(e){var j=this.getVariant(e);i=j?j.MANAGE:false;}if(!i){delete o.due;delete o.authors;delete o.coaches;jQuery.each(this.getViewProperty("/List/EXTENSION")||{},function(x,f1){delete o[f1.toLowerCase()];});this.restDue();this.setViewProperty("/List/AUTHORS",[]);this.setViewProperty("/List/COACHES",[]);this.setViewProperty("/List/EXTENSION",{});}if(this.getViewProperty("/List/HIDE_STATUS")){delete o.status;this.setViewProperty("/List/STATUS",undefined);}},getBindingParameter:function(){var e,i;e=this.getViewProperty("/List/VARIANT");i=this.getCurrentVariant().FILTER;var j=this.getViewProperty("/List/SEARCH");var o=this.getViewProperty("/List/TAGS");var x=this.getViewProperty("/List/CAMPAIGN");var f1=jQuery.map(o,function(i1){return i1.ID;});var g1=this.getViewProperty("/List/RESP_VALUE_CODE").map(function(i1){return i1.code;});var h1=[{key:"ideaFilterContinuingChange",value:(this._check4ManagingList()&&this.getViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS"))?'true':'false'},{key:"status",value:this.getViewProperty("/List/STATUS")},{key:"sub_status",value:this.getViewProperty("/List/SUB_STATUS")},{key:"resp_value_code",value:g1.join(",")},{key:"vote_number",value:this.getViewProperty("/List/VOTE_NUMBER")},{key:"vote_operator",value:this.getViewProperty("/List/VOTE_OPERATOR")},{key:"phase",value:this.getViewProperty("/List/PHASE")},{key:"authors",value:this.getViewProperty("/List/AUTHORS")},{key:"coaches",value:this.getViewProperty("/List/COACHES")},{key:"latest_update",value:this.getViewProperty("/List/LATEST_UPDATE")}];jQuery.each(this.getViewProperty("/List/EXTENSION"),function(i1,j1){if(j1||j1===0||j1===0.0){h1.push(new F(i1,b.EQ,j1));}});if(this.hasDueFilter()){h1.push(this.getDueFilter());}if(this.hasCampaignFormFilter()){h1.push(this.getCampaignFormFilter());}return{Variant:e,VariantFilter:i,SearchTerm:j,TagIds:f1,CampaignId:x,Filters:h1};},onOpenSubmitter:function(e){var o=e.getSource();var i=o.getBindingContext("data").getProperty("SUBMITTER_ID")||o.getBindingContext("data").getProperty("EMPLOYEE_ID");if(!this.oIdentityCardView){this.oIdentityCardView=sap.ui.xmlview({viewName:"sap.ino.vc.iam.IdentityCard"});this.getView().addDependent(this.oIdentityCardView);}this.oIdentityCardView.getController().open(o.getAggregation("_ideaSubmitter")||o,i);},onOpenCoach:function(e){var o=e.getSource();var i=o.getBindingContext("data").getProperty("COACH_ID");if(!this.oIdentityCardView){this.oIdentityCardView=sap.ui.xmlview({viewName:"sap.ino.vc.iam.IdentityCard"});this.getView().addDependent(this.oIdentityCardView);}this.oIdentityCardView.getController().open(o,i);},bindList:function(){this.saveState();this.resetActionState();var o=this.getBindingParameter();var e="";var i=false;var j=o.SearchTerm||"";var x=this._check4ManagingList();var f1=this.byId('orientationButton');var g1={};var h1=[];var i1=this.getModel("view").getProperty("/List/TAGS");i1.forEach(function(l1,m1){if(!g1[l1.ROOTGROUPID]){g1[l1.ROOTGROUPID]=[];g1[l1.ROOTGROUPID].push(l1.ID);h1.push(l1.ROOTGROUPID);}else{g1[l1.ROOTGROUPID].push(l1.ID);}});if(x){var j1=this.getSearchType();e+="IdeaMediumBackofficeSearchParams";e+="(searchToken='"+j+"',"+"searchType="+j1+","+"tagsToken='"+(g1[h1[0]]?g1[h1[0]].join(","):"")+"',"+"tagsToken1='"+(g1[h1[1]]?g1[h1[1]].join(","):"")+"',"+"tagsToken2='"+(g1[h1[2]]?g1[h1[2]].join(","):"")+"',"+"tagsToken3='"+(g1[h1[3]]?g1[h1[3]].join(","):"")+"',"+"tagsToken4='"+(g1[h1[4]]?g1[h1[4]].join(","):"")+"',"+"filterName='"+(o.VariantFilter||"")+"',"+"filterBackoffice="+(x?"1":"0")+this.getIdeaformFilters()+this.getCompanyViewFilters()+")/Results";}else{var k1=this.getGroupViewParameters(o);e+="IdeaMediumSearchParams";e+="(searchToken='"+j+"',"+"tagsToken='"+(g1[h1[0]]?g1[h1[0]].join(","):"")+"',"+"tagsToken1='"+(g1[h1[1]]?g1[h1[1]].join(","):"")+"',"+"tagsToken2='"+(g1[h1[2]]?g1[h1[2]].join(","):"")+"',"+"tagsToken3='"+(g1[h1[3]]?g1[h1[3]].join(","):"")+"',"+"tagsToken4='"+(g1[h1[4]]?g1[h1[4]].join(","):"")+"',"+"filterName='"+(o.VariantFilter||"")+"',"+"filterBackoffice="+(x?"1":"0")+this.getIdeaformFilters()+","+"cvt='"+k1.groupToken+"',"+"cvr="+k1.groupRole+","+"cvy="+k1.groupType+")/Results";}if(x){f1.setVisible(false);}else{f1.setVisible(true);}if(!o.SearchTerm&&o.TagIds.length===0&&!o.VariantFilter&&!x&&!this.hasCampaignFormFilter()&&!this.hasIdeaformFilters()){e="IdeaMediumCommunity";}this.setPath("data>/"+e);if((!D.system.desktop&&D.orientation.landscape)||(D.system.desktop&&this.getViewProperty("/ORIENTATION")===c.LANDSCAPE)){i=true;}this.getList().setWrapping(!(x||i));B.prototype.bindList.apply(this);},onOrientationChange:function(e){var i=this._check4ManagingList();if(i||e===c.LANDSCAPE||e.landscape){if(this.getPortraitStyle){this.getList().removeStyleClass(this.getPortraitStyle());}if(this.getLandscapeStyle){this.getList().addStyleClass(this.getLandscapeStyle());}}else{if(this.getPortraitStyle){this.getList().addStyleClass(this.getPortraitStyle());}if(this.getLandscapeStyle){this.getList().removeStyleClass(this.getLandscapeStyle());}}this.getList().setWrapping(!(i||e===c.LANDSCAPE||e.landscape));this.setViewProperty("/ORIENTATION",e);this.setViewProperty("/List/EXPORT_ALL",e===c.PORTRAIT&&!i);},_check4ManagingList:function(){var e=C.hasCurrentUserPrivilege("sap.ino.ui::backoffice.access");if(e){var i=this.getViewProperty("/List/VARIANT");var j=this.getListProperty("/Variants/Values");var o=jQuery.grep(j,function(x){return x.ACTION===i;});o=(o&&o.length>0)?o[0]:{};return o.MANAGE||o.CAMPAIGN_MANAGE||false;}return false;},bindTagCloud:function(){var i=this._check4ManagingList();var o=this.getBindingParameter();var e=C.getTagcloudServiceURL(o.CampaignId,o.TagIds,o.SearchTerm,o.VariantFilter,!this.includeDrafts(),i,o.Filters);var j=this;if(this._lastTagServicePath!==e){var x=new J(e);var f1=this.getText("IDEA_LIST_MIT_FILTER_TAG_OTHER");x.attachRequestCompleted(null,function(){var g1=x.getData().RANKED_TAG||[];var h1=x.getData().TAG_GROUP;var i1=j.groupByTagGroup(g1,j.getViewProperty("/List/TAGS"),f1);jQuery.each(i1,function(j1,k1){if(k1.GROUP_NAME==="Other"){h1.push(k1);}});j.setTagCloudProperty(i1,x.getData().WITHOUT_GROUP!=="X");x.setData({"RANKED_TAG":i1,"TAG_GROUP":h1},false);this.setFilterModel(x,"tag");},this);}this._lastTagServicePath=e;},onItemPress:function(e){var i=e.getSource();var o=i.getBindingContext("data");if(o){this.navigateTo("idea-display",{id:o.getProperty("ID")});}},onCardItemPress:function(e){var i=e.getSource();var o=i.getAggregation("content")[0];o.getFocusDomRef().focus();},onIdeaCommentPress:function(o){var i;if(o.getParameter("ideaId")){i=o.getParameter("ideaId");}else{try{if(o.getSource().getProperty("objectId")){i=o.getSource().getProperty("objectId");}}catch(e){i=o.getSource().getBindingContext("data").getProperty("ID");}}if(i){this.navigateTo("idea-display",{id:i,query:{section:"sectionComments"}});}},onCardItemAfterRendering:function(){},includeDrafts:function(){return this.getCurrentVariant().INCLUDE_DRAFT;},updateFilter:function(){var e=this.getViewProperty("/List/STATUS")||[];var i=this.getViewProperty("/List/SUB_STATUS");var j=this.getViewProperty("/List/RESP_VALUE_CODE")||[];var o=this.getViewProperty("/List/VOTE_NUMBER");var x=this.getViewProperty("/List/PHASE");var f1=this.getViewProperty("/List/LATEST_UPDATE");var g1=this.getViewProperty("/List/CAMPAIGN");var h1=this.getViewProperty("/List/AUTHORS");var i1=this.getViewProperty("/List/COACHES");var j1=this.getViewProperty("/List/EXTENSION");var k1=this._check4ManagingList();var l1=this.getViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS");var m1=[];var n1=this;this.setFilter([]);if(l1&&k1){var o1=[];o1.push(new F("STATUS_TYPE",b.EQ,""));o1.push(new F("STATUS",b.NE,"sap.ino.config.COMPLETED"));o1.push(new F("STATUS",b.NE,"sap.ino.config.DISCONTINUED"));o1.push(new F("STATUS",b.NE,"sap.ino.config.MERGED"));m1.push(new F({filters:[new F({filters:[new F("STATUS_TYPE",b.NE,"COMPLETED"),new F("STATUS_TYPE",b.NE,"DISCONTINUED"),new F("BASE_PACKAGE",b.NE,"sap.ino.config")],and:true}),new F({filters:o1,and:true})],and:false}));}else if(l1===false){m1=[];}if(i&&i.length>0){var p1=[];jQuery.each(i,function(y1,z1){p1.push(new F("STATUS",b.EQ,z1));});m1.push(new F({filters:p1,and:false}));}else if(e.length>0){var q1=e.reduce(function(y1,z1){switch(z1){case U.COMPLETED:y1.push(new F({filters:[new F("STATUS_TYPE",b.EQ,"COMPLETED"),new F({filters:[new F("STATUS_TYPE",b.EQ,""),new F("STATUS",b.EQ,"sap.ino.config.COMPLETED")],and:true})],and:false}));break;case U.NODISCONTINUED:y1.push(new F({filters:[new F("STATUS",b.NE,"sap.ino.config.DISCONTINUED"),new F("STATUS",b.NE,"sap.ino.config.MERGED")],and:true}));n1.setViewProperty("/List/IS_DISCONTINUED_CHECKBOX_SELECTED",true);break;case U.DISCONTINUED:y1.push(new F({filters:[new F("STATUS_TYPE",b.EQ,"DISCONTINUED"),new F({filters:[new F("STATUS_TYPE",b.EQ,""),new F("STATUS",b.EQ,"sap.ino.config.DISCONTINUED")],and:true}),new F({filters:[new F("STATUS_TYPE",b.EQ,""),new F("STATUS",b.EQ,"sap.ino.config.MERGED")],and:true})],and:false}));break;case U.ACTIVE:var o1=[];o1.push(new F("STATUS_TYPE",b.EQ,""));o1.push(new F("STATUS",b.NE,"sap.ino.config.COMPLETED"));o1.push(new F("STATUS",b.NE,"sap.ino.config.DISCONTINUED"));o1.push(new F("STATUS",b.NE,"sap.ino.config.MERGED"));o1.push(new F("STATUS",b.NE,"sap.ino.config.NEW_IN_PHASE"));if(!k1&&!n1.getCurrentVariant().INCLUDE_DRAFT){o1.push(new F("STATUS",b.NE,"sap.ino.config.DRAFT"));}y1.push(new F({filters:[new F({filters:[new F("STATUS_TYPE",b.NE,"COMPLETED"),new F("STATUS_TYPE",b.NE,"DISCONTINUED"),new F("STATUS_TYPE",b.NE,"NEW"),new F("BASE_PACKAGE",b.NE,"sap.ino.config")],and:true}),new F({filters:o1,and:true})],and:false}));break;case U.NEW:y1.push(new F({filters:[new F("STATUS_TYPE",b.EQ,"NEW"),new F({filters:[new F("STATUS_TYPE",b.EQ,""),new F("STATUS",b.EQ,"sap.ino.config.NEW_IN_PHASE")],and:true})],and:false}));break;default:break;}return y1;},[]);m1.push(new F({filters:q1,and:false}));}if(x&&x.length>0){var r1=[];jQuery.each(x,function(y1,z1){r1.push(new F("PHASE",b.EQ,z1));});m1.push(new F({filters:r1,and:false}));}if(g1&&g1!=="0"){m1.push(new F("CAMPAIGN_ID",b.EQ,g1));}if(j&&j.length>0){var s1=[];j.forEach(function(y1){s1.push(new F("RESP_VALUE_CODE",b.EQ,y1.code));});m1.push(new F({filters:s1,and:false}));}if(o){var t1;var u1=this.getViewProperty("/List/VOTE_OPERATOR");switch(u1){case Z.EQ:t1=b.EQ;break;case Z.GE:t1=b.GE;break;case Z.LE:t1=b.LE;break;default:t1=b.EQ;}m1.push(new F("VOTE_COUNT",t1,o));}if(this.hasDueFilter()){m1.push(this.getDueFilter());}if(this.hasCampaignFormFilter()){m1.push(this.getCampaignFormFilter());}if(h1&&h1.length>0){var v1=[];jQuery.each(h1,function(y1,z1){v1.push(new F("SUBMITTER_ID",b.EQ,z1));});m1.push(new F({filters:v1,and:false}));}if(i1&&i1.length>0){var w1=[];jQuery.each(i1,function(y1,z1){w1.push(new F("COACH_ID",b.EQ,z1));});m1.push(new F({filters:w1,and:false}));}if(f1&&f1.length>0){var x1=[];jQuery.each(f1,function(y1,z1){x1.push(new F(z1,b.EQ,1));});m1.push(new F({filters:x1,and:false}));}if(k1||!this.includeDrafts()){m1.push(new F("STATUS",b.NE,"sap.ino.config.DRAFT"));}jQuery.each(j1,function(y1,z1){if(z1||z1===0||z1===0.0){m1.push(new F(y1,b.EQ,z1));}});if(m1.length>0){this.addFilter(new F({filters:m1,and:true}));}},onFilterStatusChange:function(e){var i=e.getParameter("selectedItems");if(i.length>0){this.oViewModel.setProperty("/List/SUB_STATUS",[]);this.oViewModel.setProperty("/subStatus",[]);}else{this.bindFilters();}},onFilterSubStatusChange:function(e){var o=e.getSource();if(o.getSelectedItem){o=o.getSelectedItem();}this.setViewProperty("/List/SUB_STATUS",o.getProperty("key"));},handlePhaseSelectionFinish:function(e){var o=e.getSource();if(o.getSelectedItem){o=o.getSelectedItem();}this.setViewProperty("/List/PHASE",o.getSelectedKeys());},handleSubstatusSelectionFinish:function(e){var o=e.getSource();o._oTokenizer.onAfterRendering=function(){o._oTokenizer.setEditable(false);};if(o.getSelectedItem){o=o.getSelectedItem();}this.setViewProperty("/List/SUB_STATUS",o.getSelectedKeys());},handleLatestUpdateSelectionFinish:function(e){var o=e.getSource();if(o.getSelectedItem){o=o.getSelectedItem();}this.setViewProperty("/List/LATEST_UPDATE",o.getSelectedKeys());},onFilterVoteOperatorChange:function(e){var o=e.getSource();if(!o.getSelectedItem()){return;}var i=this.getFilterElementById("voteNumber");if(i.getValue()===undefined||i.getValue().trim()===""){return;}this.setViewProperty("/List/VOTE_OPERATOR",o.getSelectedItem().getProperty("key"));},onFilterVoteNumChange:function(e){var o=this.getFilterElementById("voteOperatorSelect");if(!o.getSelectedItem()){return;}var i=e.getSource();if(i.getValue()===undefined||i.getValue().trim()===""){this.setViewProperty("/List/VOTE_NUMBER","");}else{this.setViewProperty("/List/VOTE_NUMBER",i.getValue().trim());}},onHandleRespFilterRequest:function(){this.getRespFilterHelpDialog().open();this.oViewModel.setProperty("/oldResp",jQuery.extend(true,[],this.oViewModel.getData().resp));},getRespFilterHelpDialog:function(){if(!this._respHelpDialog){this._respHelpDialog=this.createFragment("sap.ino.vc.idea.fragments.RespValueHelpDialog",this.getView().getId());this.getView().addDependent(this._respHelpDialog);}return this._respHelpDialog;},onHandleRespTokenUpdate:function(e){var i=e.getParameter("removedTokens");var o=function(j,h1){return j.reduce(function(i1,j1){return i1.filter(function(k1){return k1.code!==j1.getKey();});},h1);};var x=function(j,h1){var i1=function(j1,k1){if(j1.children&&j1.children.length>0){j1.children.forEach(function(l1){i1(l1,k1);});}if(j1.CODE===k1&&j1.checked){j1.checked="Unchecked";return true;}else{return false;}};return j.reduce(function(j1,k1){j1.some(function(l1){return i1(l1,k1.getKey());});return j1;},h1);};var f1=this;var g1=function(h1){for(var j=0;j<h1.length;j++){var i1,j1;if(h1[j].children&&h1[j].children.length>0){j1=true;i1=true;j1=f1.checkChildUntickAll(h1[j].children,j1);i1=f1.checkChildTickAll(h1[j].children,i1);}if(j1===false&&i1===false){h1[j].checked="Mixed";}else if(j1){h1[j].checked="Unchecked";}else if(i1){h1[j].checked="Checked";}}return h1;};if(i&&i.length>0){this.oViewModel.getData().List.RESP_VALUE_CODE=o(i,this.oViewModel.getProperty("/List/RESP_VALUE_CODE"));this.oViewModel.getData().resp=x(i,this.oViewModel.getData().resp);this.oViewModel.getData().resp=g1(this.oViewModel.getData().resp);this.oViewModel.setProperty("/resp",this.oViewModel.getData().resp);}},onHandleRespHelpOK:function(){var e=[];this.oViewModel.getData().resp.forEach(function(o){this.getSelectedResp(e,o);}.bind(this));this.oViewModel.setProperty('/List/RESP_VALUE_CODE',e);this._respHelpDialog.close();},getSelectedResp:function(e,i){if(i.children&&i.children.length>0){i.children.forEach(function(o){this.getSelectedResp(e,o);}.bind(this));}if(i.checked==="Checked"&&i.PARENT_CODE){e.push({code:i.CODE,text:i.DEFAULT_TEXT});}},onHandleRespHelpCancel:function(){this.oViewModel.setProperty("/resp",jQuery.extend(true,[],this.oViewModel.getData().oldResp));this._respHelpDialog.close();},onHandleRespSelectionChange:function(e){var i=e.getSource().getParent().getBindingContext("view");var j=i.getPath();this.validateChild(this.oViewModel,j);var o=j.substring(0,j.indexOf('children'));this.validateRootRespList(this.oViewModel,o);},setChildState:function(o,e){var i=this;this.getChildren(o).forEach(function(x){x.checked=e;i.setChildState(x,e);});},validateChild:function(e,i){var j=e.getProperty(i);if(j.checked==="Checked"&&j.PARENT_CODE){this.setChildState(j,j.checked);}else if(!j.PARENT_CODE){this.setChildState(j,j.checked);}},getChildren:function(o){if(o.children){return o.children;}else{return[];}},checkChildUntickAll:function(e,j){for(var i=0;i<e.length;i++){if(e[i].checked&&e[i].checked!=='Unchecked'){j=false;break;}else{if(e[i].children&&e[i].children.length>0){j=this.checkChildUntickAll(e[i].children,j);}}}return j;},checkChildTickAll:function(e,j){for(var i=0;i<e.length;i++){if(e[i].checked&&e[i].checked==='Unchecked'){j=false;break;}else{if(e[i].children&&e[i].children.length>0){j=this.checkChildTickAll(e[i].children,j);}}}return j;},validateRootRespList:function(e,i){if(i===''){return;}var o=e.getProperty(i);var j,x;if(o.children&&o.children.length>0){j=true;x=true;j=this.checkChildUntickAll(o.children,j);x=this.checkChildTickAll(o.children,x);}if(j===false&&x===false){o.checked="Mixed";}else if(j){o.checked="Unchecked";}else if(x){o.checked="Checked";}e.setProperty(i,o);},validateParent:function(e,i){if(i==='/children'||i===''){return;}var o=e.getProperty(i);var j=this.getChildren(o);var f1=j.filter(function(x){return x.checked==='Checked';}).length;if(f1===j.length){o.checked='Checked';}else{var g1=j.filter(function(x){return x.checked==='Unchecked';}).length;g1+=j.filter(function(x){return x.checked===void 0;}).length;if(!o.PARENT_CODE){if(g1===j.length){o.checked='Unchecked';}else{o.checked='Mixed';}}}e.setProperty(i,o);i=i.substring(0,i.lastIndexOf('/'));if(i!=='/children'){this.validateParent(e,i);}},onFilterPhaseChange:function(e){var o=e.getSource().getSelectedItem();if(o.getSelectedItem){o=o.getSelectedItem();}this.setViewProperty("/List/PHASE",o.getProperty("key"));},onFilterCampaignChange:function(e){this.setCampaignForm(undefined);this.clearIdeaFormFieldsCriterias();var o=e.getParameter("selectedItem");if(o){var i=o.getProperty("key");this.setViewProperty("/List/CAMPAIGN",i);this.getIdeaFormFieldsCriterias();}},onFilterDueFromChange:function(e){this.clearDueValueState();this.setDueFrom(e);},onFilterDueToChange:function(e){this.clearDueValueState();this.setDueTo(e);},onFilterAuthorChange:function(o){this._onFilterIdentityChange(o,"/List/AUTHORS");},onFilterCoachChange:function(o){this._onFilterIdentityChange(o,"/List/COACHES");},_onFilterIdentityChange:function(o,e){if(!o){return;}var i=[];var j=o.getTokens();jQuery.each(j,function(x,f1){i.push(f1.getProperty("key"));});this.setViewProperty(e,i);},resetFilter:function(){var e=this.getRoute();this.setViewProperty("/List/STATUS","");this.setViewProperty("/List/SUB_STATUS","");this.setViewProperty("/List/PHASE","");this.restDue();this.setViewProperty("/List/AUTHORS",[]);this.setViewProperty("/List/COACHES",[]);this.setViewProperty("/List/EXTENSION",{});this.setViewProperty("/List/RESP_VALUE_CODE","");this.setViewProperty("/List/RESP_VALUE_NAME","");this.setViewProperty("/List/VOTE_NUMBER","");this.setViewProperty("/List/VOTE_OPERATOR",Z.EQ);this.setFilterItem("/IdeaFormCriterias","");this.setViewProperty("/List/LATEST_UPDATE","");if(e==='idealist'){this.setViewProperty("/List/CAMPAIGN","");this.restCampaignForm();this.restIdeaFormFieldsCriterias();this.getIdeaFormFieldsCriterias();this.resetCompanyCriterias();var o=this.byId("campaignFilterList")||this.getFilterElementById("campaignFilterList");if(o){o.removeAllSuggestionItems();o.setValue("");}var i=this.byId("campaignFormFilterList")||this.getFilterElementById("campaignFormFilterList");if(i){i.removeAllSuggestionItems();i.setValue("");}var j=this.byId("coachFilter")||this.getFilterElementById("coachFilter");if(j){j.removeAllSuggestionItems();j.removeAllTokens();}var x=this.byId("authorFilter")||this.getFilterElementById("authorFilter");if(x){x.removeAllSuggestionItems();x.removeAllTokens();}}B.prototype.resetFilter.apply(this,arguments);},initialCampaignItems:function(){var e=this.getViewProperty("/List/CAMPAIGN");if(!e){return;}var o=this.getDefaultODataModel?this.getDefaultODataModel():this.getModel("data");var i=this.getModel("view");var j=this;var x=this._check4ManagingList()?"managedCampaigns":"";o.read("/CampaignSuggestionParams(searchToken='',filterName='"+x+"')/Results",{urlParameters:{"$orderby":"SHORT_NAME","$filter":"ID eq "+e},success:function(f1){i.setProperty("/campaignSuggestion",f1.results);var g1=j.byId("campaignFilterList")||j.getFilterElementById("campaignFilterList");g1.setFilterSuggests(false);if(g1.getSuggestionItems().length>0){g1.setSelectionItem(g1.getSuggestionItems()[0]);}}});},addPhaseItems:function(){var e=this.getListProperty("/Filter/PhaseBinding/EMPTY_CODE_TEXT");var i=this.getListProperty("/Filter/PhaseBinding/TABLE_PATH");var j="view>/Phases";var o="view"+">"+this.getListProperty("/Filter/PhaseBinding/CODE_PATH");var x=C.getBackendRootURL()+"/sap/ino/xs/rest/common/idea_filter_phase.xsjs";var f1={CAMPAIGN_ID:this.getBindingParameter().CampaignId===undefined?undefined:parseInt(this.getBindingParameter().CampaignId,10)};var g1=this.getModel("view");jQuery.ajax({url:x,headers:{"X-CSRF-Token":"Fetch"},data:f1,type:"GET",contentType:"application/json; charset=UTF-8",async:false,success:function(l1){var m1=l1.Phases;g1.setProperty("/Phases",m1);}});var h1=this;var i1=a.getFormatter(i);var j1=new I({text:{path:o,formatter:function(l1){return(!l1)?h1.getText(e):i1(l1);}},key:{path:o}});var k1=this.getFilterElementById("phaseSelect");if(k1){k1.bindItems({path:j,template:j1,parameters:{includeEmptyCode:true}});}},addRespListItems:function(){var o=this.getModel("view");var e=C.getBackendRootURL()+"/sap/ino/xs/rest/common/idea_filter_resp_values.xsjs";var i={CAMPAIGN_ID:this.getBindingParameter().CampaignId===undefined?undefined:parseInt(this.getBindingParameter().CampaignId,10)};jQuery.ajax({url:e,headers:{"X-CSRF-Token":"Fetch"},data:i,type:"GET",contentType:"application/json; charset=UTF-8",async:false,success:function(j){var x=j.RespValues;if(x&&x.length>0){x.sort(function(g1,h1){return g1.DEFAULT_TEXT.localeCompare(h1.DEFAULT_TEXT);});}var f1=[{CODE:"",DEFAULT_LONG_TEXT:"",DEFAULT_TEXT:""}].concat(x);o.setProperty("/resp",f1);}});},addSubStatusFilterItems:function(){var o=this.getModel("view");if(o.getProperty("/subStatus")){o.setProperty("/subStatus",[]);}var e=[];var i=this._check4ManagingList();var j=this.getViewProperty("/List/STATUS");switch(j){case U.COMPLETED:e.push(new F({filters:[new F("STATUS_TYPE",b.EQ,"COMPLETED"),new F({filters:[new F("STATUS",b.EQ,'sap.ino.config.COMPLETED')],and:true})],and:false}));break;case U.DISCONTINUED:e.push(new F({filters:[new F("STATUS_TYPE",b.EQ,"DISCONTINUED"),new F({filters:[new F("STATUS",b.EQ,"sap.ino.config.DISCONTINUED")],and:true}),new F({filters:[new F("STATUS",b.EQ,"sap.ino.config.MERGED")],and:true})],and:false}));break;case U.ACTIVE:var x=[];x.push(new F("STATUS",b.NE,"sap.ino.config.COMPLETED"));x.push(new F("STATUS",b.NE,"sap.ino.config.DISCONTINUED"));x.push(new F("STATUS",b.NE,"sap.ino.config.MERGED"));if(!i&&!this.getCurrentVariant().INCLUDE_DRAFT){x.push(new F("STATUS",b.NE,"sap.ino.config.DRAFT"));}e.push(new F({filters:[new F({filters:[new F("STATUS_TYPE",b.NE,"COMPLETED"),new F("STATUS_TYPE",b.NE,"DISCONTINUED"),new F("BASE_PACKAGE",b.NE,"sap.ino.config")],and:true}),new F({filters:x,and:true})],and:false}));break;case U.NEW:e.push(new F({filters:[new F("STATUS_TYPE",b.EQ,"NEW"),new F({filters:[new F("STATUS",b.EQ,"sap.ino.config.NEW_IN_PHASE")],and:true})],and:false}));break;default:e=[];}var f1=this.getDefaultODataModel?this.getDefaultODataModel():this.getModel("data");var g1={success:function(h1){h1=[{STATUS:"",TEXT:"",STATUS_TYPE:"",BASE_PACKAGE:""}].concat(h1.results);o.setProperty("/subStatus",h1);}};if(e.length>0){g1.filters=e;}if(this.getViewProperty('/List/CAMPAIGN')){f1.read("/AuthIdeasStatusParams(campaignId="+this.getViewProperty('/List/CAMPAIGN')+")/Results",g1);}else{f1.read("/AuthIdeasStatusParams(campaignId=0)/Results",g1);}},getQuery:function(o){var e={};var i=o&&o.bSorterChange;var j=o&&o.bFilterChange;if(i){var x=this.getViewProperty("/List/SORT");var f1=this.getViewProperty('/List/QUICKSORT');}if(j){var g1=this.getViewProperty("/List/STATUS");var h1=this.getViewProperty("/List/SUB_STATUS");var i1=this.getViewProperty("/List/VOTE_NUMBER");var j1=this.getViewProperty("/List/VOTE_OPERATOR");var k1=this.getViewProperty("/List/RESP_VALUE_CODE");var l1=this.getViewProperty("/List/PHASE");var m1=this.getViewProperty("/List/CAMPAIGN");var n1=this.getViewProperty("/List/AUTHORS");var o1=this.getViewProperty("/List/COACHES");var p1=this.getViewProperty("/List/EXTENSION");var q1=this.getViewProperty("/List/LATEST_UPDATE");var r1=this.hasDueFromFilter();var s1=this.hasDueToFilter();var t1=this.hasCampaignFormFilter();}if(x){e.sort=x;}if(f1){e.quickSort=f1;}if(g1&&g1.length>0){e.status=g1;}if(h1&&h1.length>0){e.subStatus=h1;}if(k1&&k1.length>0){e.respCode=k1.map(function(z1){return{code:encodeURIComponent(z1.code),text:encodeURIComponent(z1.text)};});e.respCode=JSON.stringify(e.respCode);}if(l1&&l1.length>0){e.phase=l1;}if(i1){e.voteNum=i1;if(j1){e.voteOperator=j1;}}if(m1){e.campaign=m1;}if(r1){e.dueFrom=this.getFilterItem("/DueFrom");}if(s1){e.dueTo=this.getFilterItem("/DueTo");}if(n1&&n1.length>0){e.authors=n1;}if(o1&&o1.length>0){e.coaches=o1;}if(t1){e.ideaformid=this.getCampaignFormQuery();}if(q1&&q1.length>0){e.latestUpdate=q1;}this.setIdeaformCriteriaToQuery(e);this.setCompanyCriteriaToQuery(e);jQuery.each(p1,function(z1,A1){if(A1||A1===0||A1===0.0){e[z1.toLowerCase()]=A1;}});if(this._oQuery){jQuery.each(this._oQuery,function(z1,A1){if((j&&!i&&(z1==='sort'||z1==='quickSort'))||(i&&!j&&(z1!=='sort'&&z1!=='quickSort'))||(!i&&!j)){e[z1]=A1;}});}var u1=this.getViewProperty("/List/SEARCH");if(u1){e.search=u1;}var v1=this.getViewProperty("/List/TAGS");if(v1&&v1.length>0){e.tags=JSON.stringify(v1);}var w1=this._check4ManagingList();var x1=this.getViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS");if(w1){e.sIdeaFilterChange=x1;}if(!w1){var y1=this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW");e.bIdeaGroupView=y1;}this._oQuery=jQuery.extend(true,{},e);return e;},getSort:function(e){var i=this.getViewProperty("/List/VARIANT");var o=this.getVariant(i);var j=[{TEXT:"SORT_MIT_FOLLOW_UP_DATE",ACTION:$.FOLLOW_UP_DATE,DEFAULT_ORDER:X.ASC},{TEXT:"SORT_MIT_LAST_PUBL_EVAL_AT",ACTION:$.LAST_PUBL_EVAL_AT,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_EVAL_COUNT",ACTION:$.EVALUATION_COUNT,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_EXPERT_SCORE",ACTION:$.EXP_SCORE,DEFAULT_ORDER:X.DESC},{TEXT:"SORT_MIT_SEARCH_SCORE",ACTION:$.SEARCH_SCORE,DEFAULT_ORDER:X.DESC}];var x=this._extensibilityExtensionFieldSorter()||[];if(o&&o.MANAGE&&C.hasCurrentUserPrivilege("sap.ino.ui::backoffice.access")){this.addSorterConfig(j,true);if(x.length>0){this.addSorterConfig(x,true);}}else{this.removeSorterConfig(j);if(x.length>0){this.removeSorterConfig(x);}}var f1=this;var g1=this.getListProperty("/Sorter/Values");g1.sort(function(h1,i1){var j1=f1.getText(h1.TEXT);var k1=f1.getText(i1.TEXT);if(j1>k1){return 1;}else if(j1<k1){return-1;}else{return 0;}});return B.prototype.getSort.call(this,e);},setParameters:function(o,e){o=o||{};var i=e.ACTION;var j=this.checkSort(o,e.DEFAULT_SORT);var x=this.checkStatus(o.status,[]);var f1=this.checkPhase(o.phase,[]);var g1=this.checkPhase(o.latestUpdate,[]);var h1=this.checkTags(o.tags);var i1=o.campaign;var j1=this.checkRespList(o.respCode);var k1=o.respName;var l1=this.checkIdentities(o.subStatus,[]);var m1=o.voteOperator;var n1=o.voteNum;var o1=o.dueFrom;var p1=o.dueTo;var q1=this.checkIdentities(o.authors,[]);var r1=this.checkIdentities(o.coaches,[]);var s1=o.quickSort;if(o.sIdeaFilterChange==="false"){this.setViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS",false);}else if(o.sIdeaFilterChange==="true"){this.setViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS",true);}if(o.bIdeaGroupView==="false"){this.setViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW",false);}else if(o.bIdeaGroupView==="true"){this.setViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW",true);}this.setViewProperty("/List/VARIANT",e.ACTION);this.setViewProperty("/List/SORT",j);this.setViewProperty("/List/STATUS",x);this.setViewProperty("/List/SUB_STATUS",l1);this.setViewProperty("/List/RESP_VALUE_CODE",(function(){return j1.map(function(u1){return{code:decodeURIComponent(u1.code),text:decodeURIComponent(u1.text)};});}()));this.setViewProperty("/List/RESP_VALUE_NAME",k1);this.setViewProperty("/List/VOTE_NUMBER",n1);this.setViewProperty("/List/VOTE_OPERATOR",m1);this.setViewProperty("/List/PHASE",f1);this.setViewProperty("/List/LATEST_UPDATE",g1);this.setViewProperty("/List/TAGS",h1);this.setViewProperty("/List/IS_TAGS_SELECTION",h1.length>0);this.setViewProperty("/List/SEARCH",o.search);this.setViewProperty("/List/MANAGE",e.MANAGE||e.CAMPAIGN_MANAGE);this.setViewProperty("/List/CAMPAIGN",i1);this.setCampaignForm(o.ideaformid);this.getIdeaFormFieldsCriterias();this.setDueFromValue(o1);this.setDueToValue(p1);this.setViewProperty("/List/AUTHORS",q1);this.setViewProperty("/List/COACHES",r1);this.setViewProperty("/List/QUICKSORT",s1);var t1=this;this.setViewProperty("/List/EXTENSION",{});jQuery.each(o,function(u1,v1){if(u1.indexOf("_")===0){t1.setViewProperty("/List/EXTENSION/"+u1.toUpperCase(),v1);}});this.initIdeaFormItems(o);this.initCompanyViewItems(o);this.setViewProperty("/List/TAGCLOUD",true);this.setViewProperty("/List/HIDE_STATUS",false);this.setViewProperty("/List/SELECT_ALL",false);this.removeSubFilterPageContent();if([_.MANAGE,_.FOLLOW_UP,_.UNASSIGNED,_.COACH_ME,_.EVAL_DONE].indexOf(i)>=0){this.setViewProperty("/List/MANAGE",true);this.addSubFilterPageContent(this.getAdditionalFilter());this.setMultiInputContent(this.getFilterElementById("authorFilter"),q1,true);this.setMultiInputContent(this.getFilterElementById("coachFilter"),r1,true);}else if(_.COMPLETED===i){this.setViewProperty("/List/MANAGE",false);this.setViewProperty("/List/HIDE_STATUS",true);this.setViewProperty("/List/STATUS",undefined);this.addSubFilterPageContent(this.getAdditionalFilter());}else{this.addSubFilterPageContent(this.getAdditionalFilter());this.setViewProperty("/List/MANAGE",false);}this.setViewProperty("/List/EXPORT_ALL",this.getViewProperty("/ORIENTAION")===c.PORTRAIT&&!this.getViewProperty("/List/MANAGE"));},getItemTemplate:function(){var e;if(this._check4ManagingList()){e="Managed";}else if((!D.system.desktop&&D.orientation.landscape)||(D.system.desktop&&this.getViewProperty("/ORIENTATION")===c.LANDSCAPE)){e="Landscape";}else{e="Portrait";}var o;var i=C.getSystemSetting("sap.ino.config.DISABLE_IDEA_IMAGE")*1||C.getSystemSetting("sap.ino.config.DISABLE_IDEA_IMAGE_HIDE_PHASE_BAR")*1;switch(e){case"Managed":o=i?this.getFragment("sap.ino.vc.idea.fragments.ManageListItemNoImage"):this.getFragment("sap.ino.vc.idea.fragments.ManageListItem");break;case"Landscape":o=i?this.getFragment("sap.ino.vc.idea.fragments.FlatListItemNoImage"):this.getFragment("sap.ino.vc.idea.fragments.FlatListItem");break;case"Portrait":o=i?this.getFragment("sap.ino.vc.idea.fragments.CardListItemNoImage"):this.getFragment("sap.ino.vc.idea.fragments.CardListItem");break;default:break;}return o;},createFilterController:function(){return sap.ui.controller("sap.ino.vc.idea.Filter");},createFilterView:function(){return this.createView({type:V.XML,viewName:"sap.ino.vc.idea.Filter",controller:this._oFilterController});},createFilterDialog:function(){return sap.ui.xmlfragment("sap.ino.vc.idea.fragments.FilterDialog",this);},createState:function(e,i,o,j){var x=B.prototype.createState.apply(this,arguments);x.query.status=o.status;x.query.subStatus=o.subStatus;x.query.respCode=o.respCode;x.query.respName=o.respName;x.query.phase=o.phase;x.query.campaign=o.campaign;x.query.due=o.due;x.query.authors=o.authors;x.query.coaches=o.coaches;x.query.voteNum=o.voteNum;x.query.voteOperator=o.voteOperator;x.query.sIdeaFilterChange=this.getViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS");return x;},onOpenIdea:function(o){var i;if(o.getParameter("ideaId")){i=o.getParameter("ideaId");}else{try{if(o.getSource().getProperty("objectId")){i=o.getSource().getProperty("objectId");}}catch(e){i=o.getSource().getBindingContext("data").getProperty("ID");}}if(i){this.navigateTo("idea-display",{id:i});}},onOpenCampaign:function(e){this.navigateTo("campaign",{id:e.getParameter("campaignId")});},setMultiInputContent:function(e,i,j){if(!e){return;}if(j){this._aIgnoreTokenChanges=this._aIgnoreTokenChanges?this._aIgnoreTokenChanges:[];this._aIgnoreTokenChanges.push(e);}if(!i||i.length===0){e.removeAllTokens();}else{var x=new T({text:"{data>NAME}",key:"{data>ID}"});var f1=[];jQuery.each(i,function(o,i1){f1.push(new F({path:'ID',operator:'EQ',value1:i1}));});var g1=[];g1.push(new F({filters:f1,and:false}));var h1=e;e.bindAggregation("tokens",{path:"data>/Identity",filters:g1,template:x,events:{dataRequested:function(){h1.setBusy(true);},dataReceived:function(){h1.setBusy(false);}}});}if(j){this._aIgnoreTokenChanges=this._aIgnoreTokenChanges.filter(function(o){return o.id!==e.id;});}},addMultiInputHandling:function(e,i){if(!e){return;}var j=this;var x=this._createSuggestHandler(i.suggestion);e.attachSuggest(x,this);e.attachTokenUpdate(function(f1){if(!j._aIgnoreTokenChanges||j._aIgnoreTokenChanges.filter(function(o){return o.id===f1.oSource.id;}).length===0){if(f1.getParameter("type")==="removed"){if(f1.getParameter('removedTokens').length>0){f1.getSource().removeToken(f1.getParameter('removedTokens')[0]);}i.tokenChangeCallback.apply(j,[f1.getSource()]);}else if(f1.getParameter("type")==="added"){i.tokenChangeCallback.apply(j,[f1.getSource()]);}}});if(i.identity){this.setMultiInputContent(e,i.identity);}},onSetFilterBarVisible:function(e,i){this.bindTagCloud();var o=this.getFilterElementById(e);if(o&&!o.mEventRegistry.hasOwnProperty("tokenUpdate")){this.addMultiInputHandling(o,{suggestion:{key:"ID",text:"NAME",additionalText:"USER_NAME",path:"data>/SearchIdentity(searchToken='$suggestValue')/Results",filters:[new F({path:"TYPE_CODE",operator:b.EQ,value1:"USER"})],sorter:new S("NAME")},identity:this.getViewProperty("/List/AUTHORS"),tokenChangeCallback:this.onFilterAuthorChange,token:{key:"IDENTITY_ID",text:"NAME"}});}var j=this.getFilterElementById(i);if(j&&!j.mEventRegistry.hasOwnProperty("tokenUpdate")){this.addMultiInputHandling(j,{suggestion:{key:"ID",text:"NAME",additionalText:"USER_NAME",path:"data>/SearchIdentity(searchToken='$suggestValue')/Results",filters:[new F({path:"TYPE_CODE",operator:b.EQ,value1:"USER"})],sorter:new S("NAME")},identity:this.getViewProperty("/List/COACHES"),tokenChangeCallback:this.onFilterCoachChange,token:{key:"IDENTITY_ID",text:"NAME"}});}},bindFilters:function(e){this.initialCampaignItems();this.initCampaignFormItems();var i=C.getBackendRootURL()+"/sap/ino/xs/rest/common/idea_filter.xsjs";var o={CAMPAIGN_ID:this.getBindingParameter().CampaignId?parseInt(this.getBindingParameter().CampaignId,10):undefined,STATUS:this.getViewProperty("/List/STATUS"),IS_MANAGED:this._check4ManagingList(),INCLUDE_DRAFT:this.getCurrentVariant().INCLUDE_DRAFT};var j=this.getModel("view");var x=this;jQuery.ajax({url:i,headers:{"X-CSRF-Token":"Fetch"},data:o,type:"GET",contentType:"application/json; charset=UTF-8",async:true,success:function(f1){j.setProperty("/Phases",f1.Phases);var g1=f1.RespValues;if(g1&&g1.length>0){g1.sort(function(h1,i1){return h1.DEFAULT_TEXT.localeCompare(i1.DEFAULT_TEXT);});}j.setProperty("/resp",x._filterRespValues(g1));j.setSizeLimit(1000);j.setProperty("/subStatus",f1.Substatus);x._bindPhase("phaseSelect");if(e&&typeof e==="function"){e();}}});},_bindPhase:function(e){var i=this;var j=i.getListProperty("/Filter/PhaseBinding/EMPTY_CODE_TEXT");var o=i.getListProperty("/Filter/PhaseBinding/TABLE_PATH");var x="view>/Phases";var f1="view"+">"+i.getListProperty("/Filter/PhaseBinding/CODE_PATH");var g1=a.getFormatter(o);var h1=new I({text:{path:f1,formatter:function(j1){return(!j1)?i.getText(j):g1(j1);}},key:{path:f1}});var i1=i.getFilterElementById(e);if(i1){i1.bindItems({path:x,template:h1,parameters:{includeEmptyCode:true}});}},_filterRespValues:function(e){var i=this,j=i.getQuery(),o;if(!j||!e||e.length===0){return e;}try{o=JSON.parse(i.getQuery().respCode);}catch(x){return e;}if(!o||o.length===0){return e;}o.forEach(function(f1){i._filterRespChildrenValues(f1,e);});return e;},_filterRespChildrenValues:function(o,e){var i=this;e.forEach(function(j){if(o.code===j.CODE){j.checked="Checked";}if(j.children&&j.children.length>0){i._filterRespChildrenValues(o,j.children);}});},getAdditionalFilter:function(){var o;o=this.createFragment("sap.ino.vc.idea.fragments.FilterItems",this.createIdForFilterElement());var e=this.getFilterElementById("filterItems");this._extensibilityExtensionFilterItems(e);return o;},onApplyFilterToQuery:function(){if(this.isCanApply()){this.navigateIntern(this.getQuery({bFilterChange:true}),true,true);}},reloadData:function(){this.bindList();this.bindTagCloud();},checkDate:function(e,i){var j=new Date(e);return isNaN(j.getTime())?i:j;},checkStatus:function(e,i){if(e&&e.length>0){return e.split(",");}else{return i;}},checkPhase:function(e,i){var j=this.getListProperty("/Filter/PhaseBinding/TABLE_PATH");var o=e;var x=a.getCodes(j);if(e){var f1=jQuery.grep(x,function(g1){var h1=o.split(",");var i1=g1;return jQuery.grep(h1,function(j1){return j1===i1.CODE;});});if(f1&&f1.length>0){return e.split(",");}}return i;},checkIdentities:function(i,o){if(!i){return o;}else{return i.split(",");}},onApplyFilter:function(){var o=this.getFilterDialog();if(JSON.stringify(this.getViewModelBackup())===JSON.stringify(this.getViewProperty("/"))&&JSON.stringify(this.getFilterItemModelBackup())===JSON.stringify(this.getModel("filterItemModel"))){o.close();return;}var e=this.getQuery({bFilterChange:true});var i=this.getViewProperty("/List/VARIANT");var j=this.getRoute();var x={query:e};if(j==="campaign-idealist"||j==="campaign-idealistvariant"){x.id=e.campaign||this.campaignId;}x.variant=i;this.navigateTo(this.getRoute(true),x,true,true);o.close();},getExportPrefix:function(){return this.getText("EXPORT_PREFIX_IDEA");},onMoreFilterChange:function(e){var o=this.getFilterNavContainer();var i=o.getPages();var j=i[0].getContent()[0];if(j.getItems().length>2){var x=function(f1){f1.$().find('*[tabindex="0"]')[f1.getItems().length-1].focus();this.getFilterElementById("filterItems").setBusy(false);}.bind(this,j);this.setViewProperty("/List/IS_SHOW_MORE_FILTER",true);e.getSource().setVisible(false);this.getFilterElementById("filterItems").setBusyIndicatorDelay(0).setBusy(true);setTimeout(function(f1){this.bindFilters(f1);}.bind(this,x),0);}},onFilterReset:function(){this.setViewProperty("/List/TAGS",[]);this.setViewProperty("/List/IS_TAGS_SELECTION",false);this.setViewProperty("/List/SORT","");this.setViewProperty("/List/SELECTQUICKLINKID",undefined);this.getModel("list").setProperty("/CURRENTSELECTLINK",undefined);this.getModel("list").setProperty("/TITLESELECTQUICKLINK",undefined);this.resetFilter();if(!D.system.desktop){return;}this.navigateIntern(this.getQuery({bFilterChange:true,bSorterChange:true}),true);},onCampaignSuggestion:function(e){var o=this.getModel("view");var i=this;var j=this.getDefaultODataModel?this.getDefaultODataModel():this.getModel("data");var x=jQuery.extend({},e,true);var f1=jQuery.sap.encodeURL(x.getParameter("suggestValue"));var g1=this._check4ManagingList()?"managedCampaigns":"";this.resetClientMessages();j.read("/CampaignSuggestionParams(searchToken='"+f1+"',filterName='"+g1+"')/Results",{urlParameters:{"$orderby":"SHORT_NAME"},success:function(h1){o.setProperty("/campaignSuggestion",h1.results);var i1=i.byId("campaignFilterList")||i.getFilterElementById("campaignFilterList");i1.setFilterSuggests(false);}});},onClearCampaignFilter:function(e){var i=e.getParameter("value");if(i.trim()===""){this.setViewProperty("/List/CAMPAIGN","");}this.setCampaignForm(undefined);this.clearIdeaFormFieldsCriterias();},onCampaignDialogSearch:function(e){var i=jQuery.sap.encodeURL(e.getParameter("value"));var o=this.getDefaultODataModel?this.getDefaultODataModel():this.getModel("data");var j=this.getModel("view");var x=this._check4ManagingList()?"managedCampaigns":"";o.read("/CampaignSuggestionParams(searchToken='"+i+"',filterName='"+x+"')/Results",{urlParameters:{"$orderby":"SHORT_NAME"},success:function(f1){j.setProperty("/campaignSuggestion",f1.results);}});},onCampaignDialogItemsSelect:function(e){var i=e.getParameter("selectedItem").data("ID")+"";var o=this.byId("campaignFilterList")||this.getFilterElementById("campaignFilterList");var j=o.getSuggestionItems();j.forEach(function(x){if(x.getProperty("key")===i){o.setSelectionItem(x);}});this.setViewProperty("/List/CAMPAIGN",i);this.clearIdeaFormFieldsCriterias();this.getIdeaFormFieldsCriterias();},onPressOpenIdeaListFilterPersonalization:function(){var e=this;var o=this.getModel("view");if(this._check4ManagingList()){P.getFilterSettingsForDialogForBackoffice().done(function(i){o.setProperty("/List/IDEA_LIST_FILTER_PERSONALIZATION_SETTING",i.RESULT);var j=e.createIdeaListFilterPersonalizeDialog();j.open();});}else{P.getFilterSettingsForDialogForCommunity().done(function(i){o.setProperty("/List/IDEA_LIST_FILTER_PERSONALIZATION_SETTING",i.RESULT);var j=e.createIdeaListFilterPersonalizeDialog();j.open();});}},onUpdateIdeaFilterPersonzalization:function(e){var i=e.getSource();var o=this.getModel("view");var j=o.getProperty("/List/IDEA_LIST_FILTER_PERSONALIZATION_SETTING");var x={};var f1=this;j.forEach(function(g1,h1){x[g1.CODE]={VALUE:Number(g1.VALUE),SEQUENCE:g1.SEQUENCE!==undefined?g1.SEQUENCE+1:9999};});P.updateFilterSettings({'IDEA_LIST_FILTER_PERSONALIZATION':x}).done(function(){o.setProperty("/List/IDEA_LIST_FILTER_PERSONALIZATION",x);i.close();f1.resetFilter();});},onIdeaFilterPersonzalizationCancel:function(e){e.getSource().close();},handleIdeaFilterPersonzalizationSearch:function(e){var i=e.getParameter("value");var o=new F("CODE",sap.ui.model.FilterOperator.Contains,i);var j=e.getSource().getBinding("items");j.filter([o]);},onHandleCampaignFilterHelp:function(){var e=this;var o=this.getModel("view");var i=this.getDefaultODataModel?this.getDefaultODataModel():this.getModel("data");var j=this._check4ManagingList()?"managedCampaigns":"";i.read("/CampaignSuggestionParams(searchToken='',filterName='"+j+"')/Results",{urlParameters:{"$orderby":"SHORT_NAME"},success:function(x){o.setProperty("/campaignSuggestion",x.results);var f1=e.byId("campaignFilterList")||e.getFilterElementById("campaignFilterList");f1.setFilterSuggests(false);var g1=e.createCampaignListDialog();g1.open();}});e.setCampaignForm(undefined);},createIdeaListFilterPersonalizeDialog:function(){if(!this._IdeaListFilterPersonalizeDialog){this._IdeaListFilterPersonalizeDialog=this.createFragment("sap.ino.vc.idea.fragments.IdeaListPersonalizeFilterPop",this.getView().getId());this.getView().addDependent(this._IdeaListFilterPersonalizeDialog);}return this._IdeaListFilterPersonalizeDialog;},createCampaignListDialog:function(){if(!this._campaignDialog){this._campaignDialog=this.createFragment("sap.ino.vc.idea.fragments.CampaignSuggestionSelectList",this.getView().getId());this.getView().addDependent(this._campaignDialog);}return this._campaignDialog;},initApplicationObjectChangeListeners:function(){var e=this;e._bListChanged=false;var i=["create","del","modifyAndSubmit","executeStatusTransition"];var j=function(o){var x=o.getParameter("actionName");if(x&&i.indexOf(x)>-1&&o.getParameter("object").getMetadata().getName()==="sap.ino.commons.models.object.Idea"){e._bListChanged=true;}};s.attachChange(s.Action.Create,j);s.attachChange(s.Action.Del,j);s.attachChange(s.Action.Action,j);},onObjectListUpdateFinished:function(e){var i=e&&e.getParameters();if(i&&i.total>0){this.setViewProperty("/List/SELECT_ALL_ENABLE",true);}else{this.setViewProperty("/List/SELECT_ALL_ENABLE",false);}B.prototype.onObjectListUpdateFinished.apply(this,arguments);this.initIdeaSearchParam();},changeDefaultSortOfVariant:function(o,e){if(e&&e.search&&(o.ACTION==="manage"||o.ACTION==="all")){o.DEFAULT_SORT="SEARCH_SCORE";}else if(o.ACTION==="manage"||o.ACTION==="all"){jQuery.each(this.list.Variants.Values,function(i,j){if(j.ACTION===o.ACTION){o.DEFAULT_SORT=j.DEFAULT_SORT;return false;}});}},activeIdeaFilterSwitchChange:function(){this.setViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS",!this.getViewProperty("/List/IDEA_FILTER_NEW_AND_INPROCESS"));this.navigateIntern(this.getQuery(),true,true);},activeIdeaFilterCommunityGroupView:function(){this.setViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW",!this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW"));var e=this.getModel("list").getProperty("/Variants/Values");var j;for(var i=0;i<e.length;i++){var o=e[i];j=o.TEXT;if(o.ACTION===_.VOTED){j=this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW")?"IDEA_LIST_MIT_MY_VOTED":"IDEA_LIST_MIT_VOTED";}else if(o.ACTION===_.COMMENTED){j=this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW")?"IDEA_LIST_MIT_MY_COMMENTED":"IDEA_LIST_MIT_COMMENTED";}this.getModel("list").setProperty("/Variants/Values/"+i+"/TEXT",j);}var x={query:this.getQuery(),variant:""};if(this.getViewProperty("/List/SEARCH")){x.query.search=this.getViewProperty("/List/SEARCH");}var f1="idealistvariant";if(this.getViewProperty("/List/IS_IDEA_FILTER_COMMUNITY_GROUP_VIEW")){x.variant=_.MY;}else{x.variant=_.ALL;}if(this.getRoute().indexOf("campaign")>-1){x.id=this._iCampaignId;f1="campaign-idealistvariant";}this.navigateTo(f1,x,true,true);},onOfficeToggle:function(){this.bOfficeToggle=true;var e=this.getViewProperty("/NEWQUICKLINKFUNCTION");var i=this.getModel("component").getProperty("/SHOW_BACKOFFICE");i=!i;this.getModel("component").setProperty("/SHOW_BACKOFFICE",i);var o={query:{},variant:""};if(this.getViewProperty("/List/SEARCH")){o.query.search=this.getViewProperty("/List/SEARCH");o.query.sort=this.getViewProperty("/List/SORT");}var j="idealistvariant";if(i){o.variant=_.MANAGE;}else{o.variant=_.ALL;}if(this.getRoute().indexOf("campaign")>-1){o.variant=i?_.MANAGE:_.ALL;o.id=this._iCampaignId;j="campaign-idealistvariant";}this.navigateTo(j,o,true,true);},getCurrentUrlId:function(){this.setViewProperty("/List/SELECTQUICKLINKID",undefined);var e=this.getModel("list").getProperty("/Variants/Values");var i=this.getViewProperty("/CURRENTURL");var j=this.getViewProperty("/List/SELECTQUICKLINKID");var o=this.getViewProperty("/isre");var x=this;var f1=i.split("/");if(f1[0].indexOf("campaign")>-1){f1.splice(0,2);i=f1.join("/");}e.forEach(function(g1){if(g1.LINK_URL&&decodeURIComponent(g1.LINK_URL)===i){x.setViewProperty("/List/SELECTQUICKLINKID",g1.ID);x.getModel("list").setProperty("/TITLESELECTQUICKLINK",g1);j=g1.ID;return;}});if(j){return;}e.forEach(function(g1){if(g1.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"&&g1.ACTION===o){x.setViewProperty("/List/SELECTQUICKLINKID",g1.ID);x.getModel("list").setProperty("/TITLESELECTQUICKLINK",g1);j=g1.ID;return;}});if(j){return;}else{this.setViewProperty("/List/SELECTQUICKLINKID",undefined);}},getCurrentQuickIdeaList:function(){var e=this.getModel("component").getProperty("/SHOW_BACKOFFICE");var o;if(e){o=this.byId("panelFilterFragment--backOfficeQuickLinkIdeaList");}else{o=this.byId("panelFilterFragment--communityQuickLinkIdeaList");}return o;},navigateToFirstQuickLink:function(e,o){var i=this.campaignId;if(!Array.isArray(e)||!e.length){return;}var j;var x=e[0].getBindingContext("list").getObject();this.setViewProperty("/List/SELECTQUICKLINKID",x.ID);this.getModel("list").setProperty("/CURRENTSELECTLINK",x);this.getModel("list").setProperty("/TITLESELECTQUICKLINK",x);if(x.TYPE_CODE==="QUICK_LINK_CUSTOM_IDEA"){j=i?location.href.split("#")[0]+"#/campaign/"+i+"/"+x.LINK_URL:location.href.split("#")[0]+"#/"+x.LINK_URL;j="search"in o?location.href.split("#")[0]+"#/"+x.LINK_URL+"&search="+o.search:location.href.split("#")[0]+"#/"+x.LINK_URL;this.setViewProperty("/firstQuickLink",j);this.navigateToByURL(j);}else{var f1={variant:x.ACTION};if(i){f1.id=i;j=location.href.split("#")[0]+"#/campaign/"+i+"/ideas-"+f1.variant;}else{j=location.href.split("#")[0]+"#/ideas-"+f1.variant;}j="search"in o?j+"/?search="+o.search:j;this.setViewProperty("/firstQuickLink",j);this.navigateToByURL(j);}},refreshQuickLinkSettings:function(e,i){var j=this.getViewProperty("/isre");var o=jQuery.extend(true,{},this.getVariant(j));if(e.RESULT.length>0&&i){e.RESULT.forEach(function(x){i.forEach(function(o){if(x.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"&&o.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"&&x.OBJECT_TYPE_CODE===o.OBJECT_TYPE_CODE){o.ACTIVE=x.ACTIVE===1?true:false;o.SEQUENCE=x.SEQUENCE;o.ID=x.ID;o.ENABLED=x.ENABLED;}else if(x.TYPE_CODE==="QUICK_LINK_CUSTOM_IDEA"){var f1=i.every(function(g1){if(g1.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"){return true;}if(g1.TYPE_CODE==="QUICK_LINK_CUSTOM_IDEA"){return x.ID!==g1.ID;}});if(f1&&o.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"&&x.OBJECT_TYPE_CODE===o.OBJECT_TYPE_CODE){x.ACTIVE=x.ACTIVE===1?true:false;x.FILTER=o.FILTER;x.ACTION=o.ACTION;x.ROLES=o.ROLES;if(o.MANAGE){x.MANAGE=o.MANAGE;}i.push(x);}}});});}this.getModel("list").setProperty("/Variants/Values",i);this.setVariantVisibility(o);},setQuicklinkFilterListValue:function(){var e=this;var o=this.getModel("view");var i=this.byId("campaignFilterList");var j=i.getValue();o.setProperty("/quickLinkcampaignName",j);var x=[];["phaseSelect","statusSelect","subStatusSelect","latestUpdateSelect"].forEach(function(o1){var p1=e.byId(o1).getSelectedItems();p1.forEach(function(q1){x.push(q1.getText());});o.setProperty("/quickLink"+o1,x.toString());x=[];});var f1=[];["authorFilter","coachFilter","respListMultiInput"].forEach(function(o1){var p1=e.byId(o1).getTokens();p1.forEach(function(q1){f1.push(q1.getProperty("text"));});o.setProperty("/quickLink"+o1,f1.toString());f1=[];});var g1=[];["dpDue","dpDueTo"].forEach(function(o1){var p1=e.byId(o1).getValue();g1.push(p1);o.setProperty("/quickLinkdateFilter",g1.toString());});var h1=this.byId("voteOperatorSelect").getSelectedItem().getText();o.setProperty("/quickLinkvoteOperator",h1);var i1=this.getModel("filterItemModel").getProperty("/IdeaFormCriterias");var j1=this.getModel("filterItemModel").getProperty("/CAMPAIGNFORM");var k1=this.getModel("filterItemModel").getProperty("/IdeaFormList");var l1=this.byId("campaignFormFilterList").getValue();var m1=[];if(k1&&i1){k1.forEach(function(o1){i1.forEach(function(p1){if(p1.CriteriaCode===o1.CODE){if(p1.CriteriaValue==="1"&&p1.CriteriaValueDataType===1){m1.push(o1.DEFAULT_TEXT+": true");}else if(p1.CriteriaValue==="0"&&p1.CriteriaValueDataType===1){m1.push(o1.DEFAULT_TEXT+": false");}else{m1.push(o1.DEFAULT_TEXT+": "+p1.CriteriaValue);}}});});}var n1=i1.every(function(o1){return o1.CriteriaValue===""||o1.CriteriaValue===undefined;});if(j1!==""&&j1!==undefined){if(n1){o.setProperty("/quickLinkCampaignForm",l1.toString());}else{o.setProperty("/quickLinkCampaignForm",l1+"("+m1.toString()+")");}}else if(n1){o.setProperty("/quickLinkCampaignForm","");}else{o.setProperty("/quickLinkCampaignForm",m1.toString());}},onQuickLinkOpen:function(){this.setQuicklinkFilterListValue();this.getQuickLinkDialog().open();this.setShortByIcon("shortByIcon3","shortByIcon4");},getQuickLinkDialog:function(){if(!this._quickLinkDialog){this._quickLinkDialog=this.createFragment("sap.ino.vc.idea.fragments.QuickLinkDialog",this.getView().getId());this.getView().addDependent(this._quickLinkDialog);}return this._quickLinkDialog;},onHandleQuickLinkOK:function(){var o=this.byId("quickLinkName");if(o.getValue()===""||o.getValue()===undefined){o.setValueState("Error");return;}else{this.createQuickLinkCustomSettings();}},createQuickLinkCustomSettings:function(){var e=this;var i=1;var j=this.getCurrentQuickIdeaList().getVisibleItems();if(j.length>9){i=0;}var o=[];var x=this.getModel("list").getProperty("/Variants/Values");x.forEach(function(l1){o.push(l1.SEQUENCE);});var f1=Math.min.apply(null,o);var g1=this.getCustomLinkUrl();var h1=this.getViewProperty("/List/QUICKLINKNAME");var i1=this.getCurrentVariant().OBJECT_TYPE_CODE;var j1=[];j1.push({"ID":-1,"ACTIVE":i,"SEQUENCE":f1-1,"TYPE_CODE":"QUICK_LINK_CUSTOM_IDEA","OBJECT_TYPE_CODE":i1,"LINK_TEXT":h1,"LINK_URL":g1});var k1={duration:7000,width:'20em'};if(sap.ui.getCore().getMessageManager().getMessageModel().getData().length===0){this._quickLinkDialog.setBusy(true);P.updateQuickLinkSettings(j1).done(function(){P.getQuickLinkSettings({'TYPE_CODE':d1}).done(function(l1){e.refreshQuickLinkSettings(l1,x);var m1=e.getCurrentQuickIdeaList();m1.bindItems(m1.getBindingInfo('items'));e._quickLinkDialog.setBusy(false);e.onHandleQuickLinkCancel();M.show(e.getText("QUICK_LINK_CREATE_CUSTOMER_IDEA_SUCCESS"),k1);});}).fail(function(){e._quickLinkDialog.setBusy(false);e.onHandleQuickLinkCancel();M.show(e.getText("QUICK_LINK_CREATE_CUSTOMER_IDEA_FAILURE"),k1);});}},getCustomLinkUrl:function(){var o=this.getQuery();if("search"in o){delete o.search;}var e=this.getViewProperty("/List/VARIANT");var i=this.getCurrentRoute();var j={query:o};if(i==="idealist"){i="idealistvariant";}if(i==="campaign-idealist"||i==="campaign-idealistvariant"){j.id=o.campaign||this.campaignId;}j.variant=e;var x=this.getRouter().getURL(i,j);return decodeURIComponent(x);},onHandleQuickLinkCancel:function(){this._quickLinkDialog.close();this._quickLinkDialog.destroy();this._quickLinkDialog=undefined;this.setViewProperty("/List/QUICKLINKNAME","");},onQuickLinkInfoPopoverOpen:function(e){if(this._oQuickLinkInfoPopover){this._oQuickLinkInfoPopover.close();this._oQuickLinkInfoPopover=null;}this._oQuickLinkInfoPopover=this.createFragment("sap.ino.vc.idea.fragments.QuickLinkInfoPopover");this.getView().addDependent(this._oQuickLinkInfoPopover);this._oQuickLinkInfoPopover.openBy(e.getSource());},onQuickLinkStandListDialogOpen:function(){this._currentItemIndex=-1;this._currentData=jQuery.extend(true,[],this.getModel('list').getProperty('/Variants/Values'));this.deleteId=[];this.getQuickLinkStandardListDialog().open();this.onQuickLinkSelectionChange();},getQuickLinkStandardListDialog:function(){var o,e;if(!this._quickLinkStandardListDialog){this._quickLinkStandardListDialog=this.createFragment("sap.ino.vc.idea.fragments.QuickLinkStandardListDialog",this.getView().getId());this.getView().addDependent(this._quickLinkStandardListDialog);o=this.byId('quickLinkStandardListTable');e=o.getVisibleItems();for(var i=0;i<e.length;i++){e[i].addEventDelegate({onAfterRendering:function(){var j=o.getVisibleItems();if(this._currentItemIndex>=0&&j[this._currentItemIndex]){var x=j[this._currentItemIndex];if(x&&x.getCells&&x.getCells()[2]&&x.getCells()[2].firePress){x.getCells()[2].firePress();}}}},this);}this.updateQuickLinkCount(e.length);}else{o=this.byId('quickLinkStandardListTable');e=o.getVisibleItems();this.updateQuickLinkCount(e.length);}return this._quickLinkStandardListDialog;},updateQuickLinkCount:function(i){this.getModel('view').setProperty('/QUICK_LINK_COUNT',i);},onQuickLinkStandListMenuButtonPress:function(e){var o=e.getSource();if(!this._quickLinkMenuPopover){this._quickLinkMenuPopover=this._quickLinkStandardListDialog.getContent()[0].getContent()[1];this._quickLinkMenuPopover.setVisible(true);this.getView().addDependent(this._quickLinkMenuPopover);}this.setQuickLinkMenuButtonStatus(o.getParent().getParent(),o.getParent());this._quickLinkMenuPopover.getContent()[0].bindElement('list>'+o.getParent().getBindingContextPath());this._quickLinkMenuPopover.openBy(o);},setQuickLinkMenuButtonStatus:function(o,e){var i=this._quickLinkMenuPopover.getContent()[0].getItems();var j=i[0];var x=i[1];var f1=i[2];var g1=o.getVisibleItems();var h1=e.getBindingContext('list');var i1=h1.getProperty(h1.getPath()+'/TYPE_CODE')==='QUICK_LINK_CUSTOM_IDEA';j.setEnabled(e!==g1[0]);x.setEnabled(e!==g1[g1.length-1]);f1.setEnabled(i1);},onQuickLinkMoveUpButtonPress:function(e){var o=e.getSource().getBindingContext('list');this.setQuickLinkItemSequence(o,'UP');this._quickLinkMenuPopover.close();},onQuickLinkMoveDownButtonPress:function(e){var o=e.getSource().getBindingContext('list');this.setQuickLinkItemSequence(o,'DOWN');this._quickLinkMenuPopover.close();},setQuickLinkItemSequence:function(o,e){var j=this;var x=this.byId('quickLinkStandardListTable');var f1=o.getModel();var g1=o.getPath();var h1=x.getVisibleItems();var i1,j1,k1,l1,m1,n1,o1,p1,q1;for(var i=0;i<h1.length;i++){i1=h1[i];l1=i1.getBindingContext('list').getPath();if(l1===g1){o1=i1.getBindingContext('list').getProperty(l1+'/SEQUENCE');if(e==='UP'){j1=h1[i-1];m1=j1.getBindingContext('list').getPath();p1=j1.getBindingContext('list').getProperty(m1+'/SEQUENCE');f1.setProperty(l1+'/SEQUENCE',p1);f1.setProperty(m1+'/SEQUENCE',o1);j._currentItemIndex=i-1;}if(e==='DOWN'){k1=h1[i+1];n1=k1.getBindingContext('list').getPath();q1=k1.getBindingContext('list').getProperty(n1+'/SEQUENCE');f1.setProperty(l1+'/SEQUENCE',q1);f1.setProperty(n1+'/SEQUENCE',o1);j._currentItemIndex=i+1;}f1.refresh(true);return false;}}},onQuickLinkDeleteButtonPress:function(e){var o=e.getSource().getBindingContext('list');var j=o.getObject();var x=this.byId('quickLinkStandardListTable');var f1=x.getVisibleItems();var g1,h1;for(var i=0;i<f1.length;i++){g1=f1[i];h1=g1.getBindingContext('list').getPath();if(o.getPath()===h1){g1.getBindingContext('list').getObject().DELETE=1;}}this.getModel('list').refresh(true);this._currentItemIndex=-1;this.deleteId.push(j.ID);this.updateQuickLinkCount(x.getVisibleItems().length);this.onQuickLinkSelectionChange();},onQuickLinkInformationPopoverOpen:function(e){var o=e.getSource();if(!this._quickLinkInfoPopover){this._quickLinkInfoPopover=this.createFragment("sap.ino.vc.idea.fragments.QuickLinkInfoPopover");this.getView().addDependent(this._quickLinkInfoPopover);}this._quickLinkInfoPopover.openBy(o);},onQuickLinkSelectionChange:function(){var o=this.byId("quickLinkStandardListTable");var e=o.getVisibleItems();var i=0;var j=[];var x={duration:7000,width:'20em'};e.forEach(function(f1){var g1=f1.getAggregation("cells")[0].getSelected();if(g1===true){i+=1;}else{j.push(f1);}});if(i>9){M.show(this.getText("QUICK_LINK_LIST_SELECT_OVER_LIMIT"),x);j.forEach(function(f1){f1.getAggregation("cells")[0].setEnabled(false);});}else if(i===0){M.show(this.getText("QUICK_LINK_LIST_SELECT_BELOW_LIMIT"),x);this.byId('quickLinkStandardListDialogOKButton').setEnabled(false);}else{j.forEach(function(f1){f1.getAggregation("cells")[0].setEnabled(true);});this.byId('quickLinkStandardListDialogOKButton').setEnabled(true);}},onHandleQuickLinkStandardListDialogOK:function(){var o=this.byId("quickLinkStandardListTable");var e=o.getVisibleItems();var i=0;var j={duration:7000,width:'20em'};e.forEach(function(x){var f1=x.getAggregation("cells")[0].getSelected();if(f1===true){i+=1;}});if(i===0){M.show(this.getText("QUICK_LINK_LIST_SELECT_BELOW_LIMIT"),j);return;}this.updateQuickLinkStandardSettings();},updateQuickLinkStandardSettings:function(){var e=this;var i=this.getModel("list").getProperty("/Variants/Values");var j=[];var o={duration:7000,width:'20em'};i.forEach(function(x){if(x.TYPE_CODE==="QUICK_LINK_STANDARD_IDEA"){j.push({"ID":x.ID?x.ID:-1,"ACTIVE":x.ACTIVE===true?1:0,"SEQUENCE":x.SEQUENCE,"TYPE_CODE":"QUICK_LINK_STANDARD_IDEA","OBJECT_TYPE_CODE":x.OBJECT_TYPE_CODE});}else{j.push({"ID":x.ID?x.ID:-1,"ACTIVE":x.ACTIVE===true?1:0,"SEQUENCE":x.SEQUENCE,"TYPE_CODE":"QUICK_LINK_CUSTOM_IDEA","OBJECT_TYPE_CODE":x.OBJECT_TYPE_CODE,"LINK_TEXT":x.LINK_TEXT,"LINK_URL":x.LINK_URL});}});if(this.deleteId.length>0){j.forEach(function(x){e.deleteId.forEach(function(f1){if(x.ID===f1){x.DELETE=1;}});});this.deleteId.forEach(function(x){i=i.filter(function(f1){return f1.ID!==x;});});}P.updateQuickLinkSettings(j).done(function(){P.getQuickLinkSettings({'TYPE_CODE':d1}).done(function(x){e.refreshQuickLinkSettings(x,i);var f1=e.getCurrentQuickIdeaList();f1.bindItems(f1.getBindingInfo('items'));e._quickLinkStandardListDialog.close();M.show(e.getText("QUICK_LINK_UPDATE_SUCCESS"),o);});}).fail(function(){e._quickLinkStandardListDialog.close();M.show(e.getText("QUICK_LINK_UPDATE_FAILURE"),o);});},onHandleQuickLinkStandardListDialogCancel:function(){this.getModel('list').setProperty('/Variants/Values',this._currentData);this._quickLinkStandardListDialog.close();this._quickLinkStandardListDialog.destroy();this._quickLinkStandardListDialog=undefined;},onQuickLinkNameChange:function(e){var i=this;var o=e.getSource();var j=o.getValue();var x=this.getModel('list').getProperty('/Variants/Values');var f1=[this.getText('IDEA_LIST_MIT_EVAL_PENDING'),this.getText('IDEA_LIST_MIT_OPEN_FOR_EVAL'),this.getText('IDEA_LIST_MIT_MY_EVAL'),this.getText('IDEA_LIST_MIT_VOTE'),this.getText('IDEA_LIST_MIT_MY'),this.getText('IDEA_LIST_MIT_VOTED'),this.getText('IDEA_LIST_MIT_COMMENTED'),this.getText('IDEA_LIST_MIT_COMPLETED'),this.getText('IDEA_LIST_MIT_ALL'),this.getText('IDEA_LIST_MIT_FOLLOW_UP'),this.getText('IDEA_LIST_MIT_MANAGE'),this.getText('IDEA_LIST_MIT_UNASSIGNED'),this.getText('IDEA_LIST_MIT_COACH_ME'),this.getText('IDEA_LIST_MIT_EVAL_DONE')];if(!P.checkQuickLinkNameValid(x,j,f1)){o.fireValidationError({element:o,property:'value',type:'Error',message:i.getText('MSG_QUICK_LINK_NAME_DUPLICATED')});}else{o.fireValidationSuccess({element:o,property:'value'});}},initIdeaSearchParam:function(){var e=C.hasCurrentUserPrivilege("sap.ino.ui::backoffice.access");var o="";if(e){o="/sap/ino/xs/rest/backoffice/odata.xsodata";}else{o="/sap/ino/xs/rest/community/odata.xsodata";}var i=C.getBackendRootURL()+o+this.getList().mBindingInfos.items.binding.sPath+"?$format=json";var j=this.getList().mBindingInfos.items.binding.sFilterParams;var x=this.getList().mBindingInfos.items.binding.sSortParams;var f1="&$select(ID)";i=i+"&"+x+"&"+j+f1;var g1=new J();g1.setData({path:i});sap.ui.getCore().setModel(g1,"ideaSearchParams");},getGroupViewParameters:function(o){var e=C.getGroupConfiguration().GROUP;var i;if(e==="COMPANY"){i=1;}else if(e==="ORGANIZATION"){i=2;}var j;if(o.Variant===_.MY_GROUP_VIEW_AUTH){j=1;}else if(o.Variant===_.MY_GROUP_VIEW_VOTED){j=2;}else if(o.Variant===_.MY_GROUP_VIEW_COMMENTED){j=3;}j=j?j:0;i=i?i:0;return{groupToken:'',groupType:i,groupRole:j};},getSearchType:function(){var e=this.getModel('search').getProperty('/selectedCategory');var i=0;if(e==='campaign-idealistbycompany'||e==='idealistbycompany'){i=1;}return i;}}));e1.list=b1;e1.routes=Y;return e1;});
