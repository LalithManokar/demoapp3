sap.ui.define(["sap/ino/vc/commons/BaseObjectController","sap/ui/model/json/JSONModel","sap/ino/commons/models/object/User"],function(B,J,I,C,U){"use strict";var f={voteComment:function(v,V){if(v){return B.prototype.formatter.valueOption(v);}else{return V;}},voterName:function(p,n,a){if(p){return n;}else{return a;}},groupVoteTitle:function(v,g){var V;switch(v){case"ORG":V="Organization";break;case"COM":V="Company";break;case"COST":V="Cost Center";break;case"OFF":V="Office";break;default:V="";}return g.replace(/{\d+}/g,V);}};jQuery.extend(f,B.prototype.formatter);return B.extend("sap.ino.vc.idea.Votes",{formatter:f,onAfterRendering:function(){var s=this;var g=s.byId('groupVoteList');if(g){var a=g.getItems();if(a.length>0){for(var i=0;i<a.length;i++){var c=a[i].getContent()[0];if(c.getExpanded()){c.setExpanded(false);}}}}},OnUserPressed:function(e){var s=e.getSource();var c=s.getBindingContext("data");var i=c.getProperty("USER_ID");if(s&&i){if(!this._oIdentityCardView||!this._oIdentityCardView.getController()){this._oIdentityCardView=sap.ui.xmlview({viewName:"sap.ino.vc.iam.IdentityCard"});s.addDependent(this._oIdentityCardView);}this._oIdentityCardView.getController().open(s,i);}},onExpand:function(e){var s=e.getSource();var c=s.getBindingContext("data");var o;if(e.getParameter("expand")&&c){s.toggleStyleClass("sapInoActivityExpanded");var d=c.getObject();o=this.getFragment("sap.ino.vc.idea.fragments.VoteGeneralList").clone();o.addStyleClass("sapMListBGSolid");o.bindItems({path:"data>/IdeaFull("+d.IDEA_ID+")/Votes",template:this.getFragment("sap.ino.vc.idea.fragments.VoteGeneralListItem"),filters:new sap.ui.model.Filter("GROUP_VOTE_NAME",sap.ui.model.FilterOperator.EQ,d.GROUP_VOTE_NAME)});}else{s.toggleStyleClass("sapInoActivityExpanded");s.removeAllContent();}s.addContent(o);}});});
