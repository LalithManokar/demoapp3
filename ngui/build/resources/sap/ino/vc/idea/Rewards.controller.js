sap.ui.define(["sap/ino/commons/models/aof/ApplicationObjectChange","sap/ino/vc/commons/BaseController","sap/ino/vc/idea/mixins/CreateRewardActionMixin","sap/ino/vc/idea/RewardFormatter","sap/m/GroupHeaderListItem"],function(A,B,C,R,G){"use strict";var f={};f=jQuery.extend(f,R);f.formatGroupHeader=function(g){return new G({title:this.getText("REWARDS_LBL_IDEA_PHASE")+f.ideaPhase(g.ideaPhaseCode),upperCase:false});};return B.extend("sap.ino.vc.idea.Rewards",jQuery.extend({},C,{formatter:f,grouper:function(c){return{key:c.getProperty("GROUP_ORDER"),ideaPhaseCode:c.getProperty("IDEA_PHASE_CODE")};},onInit:function(){B.prototype.onInit.apply(this,arguments);this._initHandleRewardsAOChange();},onItemPress:function(e){this.getView().getController().onCreateReward(e);},_initHandleRewardsAOChange:function(){var t=this;var a=function(e){if(t&&t.getView().byId("rewardsList")){var r=function(l){if(l){var b=l.getBindingInfo("items");l.bindItems(b);}};var s=e&&e.getParameter("actionName");if(s&&["create","del","submit","modifyAndSubmit","executeStatusTransition","bulkDeleteRewards","changeAuthorStatic"].indexOf(s)>-1){var c=e.getParameter("changeRequest");if((s&&["del","submit","modifyAndSubmit","create"].indexOf(s)>-1)||c){r(t.getView().byId("rewardsList"));}}}};A.attachChange(A.Action.Create,a);A.attachChange(A.Action.Del,a);A.attachChange(A.Action.Action,a);},onEmployeePressed:function(e){e.preventDefault();var s=e.getSource();if(s){var i=s.getBindingContext("data")&&s.getBindingContext("data").getProperty("EMPLOYEE_ID");if(i!==undefined&&!this.oIdentityCardView){this.oIdentityCardView=sap.ui.xmlview({viewName:"sap.ino.vc.iam.IdentityCard"});this.getView().addDependent(this.oIdentityCardView);}if(this.oIdentityCardView&&this.oIdentityCardView.getController()){this.oIdentityCardView.getController().open(s,i);}}}}));});
