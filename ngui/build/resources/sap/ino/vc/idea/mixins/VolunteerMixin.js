sap.ui.define(["sap/ino/commons/models/object/IdeaVolunteer","sap/m/MessageToast","sap/ui/model/json/JSONModel"],function(I,M,J){"use strict";var V=function(){throw"Mixin may not be instantiated directly";};V.toggleVolunteer=function(e){var k=e.getParameter("Key");var v=e.getParameter("Value");var i=e.getParameter("IdeaId");var s=this;var o=e.getSource();if(!k){this.oIdeaVolunteerModel=new J();}var a=v?"VOLUNTEERS_LEAVE_SUCCESS":"VOLUNTEERS_ADD_SUCCESS";var r=I.toggleVolunteer(k,i);if(o.setEnabled){o.setEnabled(false);}r.done(function(e){var b=sap.ui.getCore().byId("volunteerView--volunteerlist");if(b){var B=b.getBindingInfo("items");b.bindItems(B);}M.show(s.getText(a));if(s.oIdeaVolunteerModel){var R={ID:e.GENERATED_IDS?e.GENERATED_IDS[-1]:null};s.oIdeaVolunteerModel.setProperty("/"+i,R);}if(o.setEnabled){o.setEnabled(true);}if(s.isGlobalSearch){s.getSearchResult(s.getViewProperty("/SEARCH_QUERY"));}});r.fail(function(){if(o.setEnabled){o.setEnabled(true);}});};return V;});
