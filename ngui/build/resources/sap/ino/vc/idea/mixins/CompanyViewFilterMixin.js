sap.ui.define(["sap/ino/commons/application/Configuration"],function(C){var a=function(){throw"Mixin may not be instantiated directly";};function i(){this.setFilterItem("/CompanyViewCriterias",{CriteriaType:C.getSysCompanyView(),CriteriaToken:'',CriteriaRole:'1',CriteriaEnable:C.getSysCompanyEnable(),CriteriaLabel:C.getSysCompanyLabel()});}function b(q){var t=this;var c={CriteriaType:C.getSysCompanyView(),CriteriaToken:'',CriteriaRole:'1',CriteriaEnable:C.getSysCompanyEnable(),CriteriaLabel:C.getSysCompanyLabel()};if(q.hasOwnProperty("cvt")){c.CriteriaToken=decodeURIComponent(q.cvt);}if(q.hasOwnProperty("cvr")){c.CriteriaRole=decodeURIComponent(q.cvr);}t.setFilterItem("/CompanyViewCriterias",c);}a.initCompanyView=function(){i.call(this);this.setFilterItem("/CompanyViewRoleList",[{KEY:"1",TEXT:this.getText("LIST_TIT_FILTER_ORGANIZATION_VIEW_ROLE_SUBMITTER")},{KEY:"2",TEXT:this.getText("LIST_TIT_FILTER_ORGANIZATION_VIEW_ROLE_VOTER")},{KEY:"3",TEXT:this.getText("LIST_TIT_FILTER_ORGANIZATION_VIEW_ROLE_COMMENTER")}]);};a.hasCompanyViewFilters=function(){var c=this.getFilterItem("/CompanyViewCriterias");if(!c){return false;}return c.CriteriaToken;};a.initCompanyViewItems=function(q){if(!q||!q.hasOwnProperty("cvt")){i.call(this);return;}b.call(this,q);};a.getCompanyViewQuery=function(q){var c=this.getFilterItem("/CompanyViewCriterias");if(!c){return;}q.cvt=decodeURIComponent(this.getFilterItem("/CompanyViewCriterias/CriteriaToken"));q.cvr=this.getFilterItem("/CompanyViewCriterias/CriteriaRole");q.cvy=this.getFilterItem("/CompanyViewCriterias/CriteriaType");};a.getEmptyCompanyViewFilters=function(){return",cvt='',cvr=1,cvy=1";};a.setQueryObjectCompanyViewFilters=function(p){var c=this.getFilterItem("/CompanyViewCriterias");p.cvt='';p.cvr='1';p.cvy=C.getSysCompanyView();if(!c){return;}p.cvy=this.getFilterItem("/CompanyViewCriterias/CriteriaType");p.cvr=this.getFilterItem("/CompanyViewCriterias/CriteriaRole");p.cvt=encodeURIComponent(this.getFilterItem("/CompanyViewCriterias/CriteriaToken"));};a.getCompanyViewFilters=function(){var c=this.getFilterItem("/CompanyViewCriterias");if(!c||!C.getSysCompanyEnable()){return this.getEmptyCompanyViewFilters();}return",cvt='"+encodeURIComponent(this.getFilterItem("/CompanyViewCriterias/CriteriaToken"))+"',cvr="+this.getFilterItem("/CompanyViewCriterias/CriteriaRole")+",cvy="+this.getFilterItem("/CompanyViewCriterias/CriteriaType");};a.setCompanyCriteriaToQuery=function(q){var c=this.getFilterItem("/CompanyViewCriterias");if(!c||!c.CriteriaToken){return;}q.cvy=C.getSysCompanyView();q.cvr=this.getFilterItem("/CompanyViewCriterias/CriteriaRole");q.cvt=encodeURIComponent(this.getFilterItem("/CompanyViewCriterias/CriteriaToken"));};a.resetCompanyCriterias=function(){i.call(this);};a.onCompanyViewRoleChange=function(e){this.setFilterItem("/CompanyViewCriterias/CriteriaRole",e.getParameter("selectedItem").getKey());};a.onFilterCompanyViewChange=function(e){var s=e.getParameter("selectedItem");if(s){var S=s.getProperty("key");this.setFilterItem("/CompanyViewCriterias/CriteriaToken",S);}};a.onCompanyViewSuggestion=function(e){var t=this;var m=t.getDefaultODataModel?t.getDefaultODataModel():t.getModel("data");var E=jQuery.extend({},e,true);var T=jQuery.sap.encodeURL(E.getParameter("suggestValue"));var c=C.getSysCompanyView(),s=c==="1"?"COMPANY":"ORGANIZATION";t.resetClientMessages();m.read("/SearchIdentityOrgCompanyParams(searchToken='"+T+"')/Results",{urlParameters:{"$orderby":"SEARCH_SCORE","$filter":"TYPENAME eq '"+c+"'"},success:function(d){var S=[];if(d.results){d.results.forEach(function(I){S.push({"DEFAULT_TEXT":I[s],"DISPLAY_LABEL":I.DISPLAYLABEL});});}t.setFilterItem("/companyViewSuggestion",S);var o=t.byId("companyViewFilterList")||t.getFilterElementById("companyViewFilterList");o.setFilterSuggests(false);}});};a.companyViewTitle=function(v){if(!v){return"";}return v==="1"?this.getText("LIST_TIT_FILTER_COMPANY_VIEW_HEADER"):this.getText("LIST_TIT_FILTER_ORGANIZATION_VIEW_HEADER");};return a;});
