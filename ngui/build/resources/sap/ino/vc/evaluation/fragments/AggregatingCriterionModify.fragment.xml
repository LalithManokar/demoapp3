<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:l="sap.ui.layout">
	<CustomListItem>
		<content>
			<l:Grid
                class="sapUiLargeMarginBottom"
                defaultSpan="XL12 L12 M12 S12"
                vSpacing="0"
                hSpacing="0">
				<l:content>
					<l:Grid
                        vSpacing="0"
                        hSpacing="0">
						<l:layoutData>
							<l:GridData span="XL11 L11 M10 S10"/>
						</l:layoutData>
						<l:content>
							<l:Grid
                                defaultSpan="XL12 L12 M12 S12"
                                vSpacing="0"
                                hSpacing="0">
								<l:layoutData>
									<l:GridData span="XL5 L5 M12 S12"/>
								</l:layoutData>
								<l:content>
								    <HBox justifyContent="End" alignItems="Center">
    									<Text
                                            class="sapUiFormTitleH5 sapInoAggregatingCriterionName"
                                            text="{:= ${path: 'object>criterion/CRITERION_CODE',
                                                   formatter: '.formatter.criterionCode'}} {:= ${path: 'object>criterion/WEIGHT', formatter: '.formatter.getWeight'}}"
                                            textAlign="{= ${device>/system/phone} ? 'Begin' : 'End'}"
                                            width="100%"/>
                                        <core:Icon src="sap-icon://message-information" visible="{:= ${path: 'object>criterion/DEFAULT_LONG_TEXT',formatter: '.formatter.criterionCodeLongTextVisible'}}"  class="sapUiTinyMarginBegin" tooltip="{path: 'object>criterion/DEFAULT_LONG_TEXT'}"/>
                                    </HBox>
									<!--<Text
                                        class="sapInoLightText sapUiSmallMarginBegin"
                                        text="{:= ${path: 'object>criterion/CRITERION_CODE',
                                               formatter: '.formatter.criterionCodeLongText'}}"
                                        textAlign="Begin"
                                        width="100%"/>-->
								</l:content>
							</l:Grid>
							<l:Grid
                                vSpacing="0"
                                hSpacing="0">
								<l:layoutData>
									<l:GridData span="XL5 L5 M4 S12"/>
								</l:layoutData>
								<l:content>
									<l:VerticalLayout width="100%">
										<l:layoutData>
											<l:GridData span="XL2 L2 M2 S2"/>
										</l:layoutData>
										<Text
                                            class="sapInoSliderAligned"
                                            text="{:= ${object>criterion/NUM_VALUE_MIN}}"
                                            textAlign="End"
                                            visible="{:= ${parts: [{path: 'object>criterion/NUM_VALUE_MIN'},
                                                                   {path: 'object>criterion/NUM_VALUE_MAX'},
                                                                   {path: 'object>children'},
                                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'},
                                                                   {path: 'object>criterion/DATATYPE_CODE'}],
                                                      formatter: '.formatter.showAggregatingProgressIndicatorControl'}}"
                                            width="100%"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<l:layoutData>
											<l:GridData
                                                span="XL10 L10 M10 S10"/>
										</l:layoutData>
										<Select
                                            selectedKey="{path: 'object>criterion/TEXT_VALUE'}"
                                            items="{path: 'object>criterion/valueOptionList', templateShareable: true}"
                                            visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'},
                                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'}],
                                                           formatter: '.formatter.isTextVoL'}}"
                                            width="100%">
											<core:Item
                                                key="{:= ${path: 'object>CODE'}}"
                                                text="{:= ${path: 'object>DEFAULT_TEXT'}}"/>
										</Select>
										<Select
                                            selectedKey="{path: 'object>criterion/NUM_VALUE'}"
                                            items="{path: 'object>criterion/valueOptionList', templateShareable: true}"
                                            visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'},
                                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'}],
                                                           formatter: '.formatter.isIntegerVoL'}}"
                                            width="100%">
											<core:Item
                                                key="{:= ${path: 'object>NUM_VALUE'}}"
                                                text="{:= ${path: 'object>DEFAULT_TEXT'}}"/>
										</Select>
										<Select
                                            selectedKey="{path: 'object>criterion/NUM_VALUE'}"
                                            items="{path: 'object>criterion/valueOptionList', templateShareable: true}"
                                            visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'},
                                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'}],
                                                           formatter: '.formatter.isNumericVoL'}}"
                                            width="100%">
											<core:Item
                                                key="{:= ${path: 'object>NUM_VALUE'}}"
                                                text="{:= ${path: 'object>DEFAULT_TEXT'}}"/>
										</Select>
										<Select
                                            selectedKey="{path: 'object>criterion/BOOL_VALUE', type: '.integerType'}"
                                            items="{path: 'object>criterion/valueOptionList', templateShareable: true}"
                                            visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'},
                                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'}],
                                                           formatter: '.formatter.isBooleanVoL'}}"
                                            width="100%">
											<core:Item
                                                key="{:= ${path: 'object>BOOL_VALUE'}}"
                                                text="{:= ${path: 'object>DEFAULT_TEXT'}}"/>
										</Select>
										<CheckBox
                                            selected="{path: 'object>criterion/BOOL_VALUE', type: '.intBoolean'}"
                                            visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'}, 
                                                                   {path: 'object>children'},
                                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'}],
                                                           formatter: '.formatter.showAggregatingCheckBoxControl'}}"/>
										<Input
                                            description="{:= ${path: 'object>criterion/UOM_CODE', formatter: '.formatter.uomCode'}}"
            				                value="{path: 'object>criterion/NUM_VALUE'}"
                                            visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'},
                                                              {path: 'object>criterion/NUM_VALUE_MIN'},
                                                              {path: 'object>criterion/NUM_VALUE_MAX'},
                                                              {path: 'object>criterion/VALUE_OPTION_LIST_CODE'},
                                                              {path: 'object>children'}],
                                                      formatter: '.formatter.showInputControl'}}"
                                            width="100%"/>
										<Slider
                                            value="{path: 'object>criterion/NUM_VALUE'}"
                                            min="{:= ${path: 'object>criterion/NUM_VALUE_MIN', formatter: '.formatter.toFloat'}}"
                                            max="{:= ${path: 'object>criterion/NUM_VALUE_MAX', formatter: '.formatter.toFloat'}}"
                                            step="{:= ${parts: [{path: 'object>criterion/NUM_VALUE_MIN'},
                                                                {path: 'object>criterion/NUM_VALUE_MAX'},
                                                                {path: 'object>criterion/NUM_VALUE_STEP_SIZE'},
                                                                {path: 'object>criterion/DATATYPE_CODE'}],
                                                        formatter: '.formatter.formatSliderStep'}}"
                                            visible="{:= ${parts: [{path: 'object>criterion/NUM_VALUE_MIN'},
                                                                   {path: 'object>criterion/NUM_VALUE_MAX'},
                                                                   {path: 'object>children'},
                                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'},
                                                                   {path: 'object>criterion/DATATYPE_CODE'}],
                                                      formatter: '.formatter.showAggregatingProgressIndicatorControl'}}"
                                            width="100%"/>
										<Text
                                            class="sapUiFormTitleH5 sapInoCriterionValue"
			                                text="{parts: [{path: 'object>criterion/DATATYPE_CODE'},
			                                               {path: 'object>criterion/NUM_VALUE'},
			                                               {path: 'object>criterion/BOOL_VALUE'},
            				                               {path: 'object>criterion/TEXT_VALUE'},
            				                               {path: 'object>criterion/VALUE_OPTION_LIST_CODE'},
            				                               {path: 'object>criterion/UOM_CODE'}],
                                                   formatter: '.formatter.getFormattedValue'}"
                                            textAlign="Begin"
                                            visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'},
                                                                   {path: 'object>children'}], 
                                                      formatter: '.formatter.showAggregatingBooleanValue'}}"
                                            width="100%"/>
										<TextArea
                                            placeholder="{:= ${i18n>EVALUATION_FLD_COMMENT}}"
                                            rows="3"
                                            value ="{object>criterion/TEXT_VALUE}"
                                            visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'},
                                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'}],
                                                      formatter: '.formatter.isTextControl'}}"
                                            width="100%"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<l:layoutData>
											<l:GridData span="XL2 L2 M2 S2"/>
										</l:layoutData>
										<Text
                                            class="sapInoSliderAligned"
                                            text="{:= ${object>criterion/NUM_VALUE_MAX}}"
                                            textAlign="Begin"
                                            visible="{:= ${parts: [{path: 'object>criterion/NUM_VALUE_MIN'},
                                                                   {path: 'object>criterion/NUM_VALUE_MAX'},
                                                                   {path: 'object>children'},
                                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'},
                                                                   {path: 'object>criterion/DATATYPE_CODE'}],
                                                      formatter: '.formatter.showAggregatingProgressIndicatorControl'}}"
                                            width="100%"/>
									</l:VerticalLayout>
									<TextArea
                                        placeholder="{:= ${i18n>EVALUATION_FLD_COMMENT}}"
                                        class="sapInoEvaluationComment sapUiTinyMarginTopBottom"
                                        rows="3"
                                        textAlign="Begin"
                                        value="{path: 'object>criterion/COMMENT'}"
                                        visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'},
                                                               {path: 'object>criterion/COMMENT'}],
                                                  formatter: '.formatter.showComment'}}"
                                        width="100%">
										<layoutData>
											<l:GridData
                                                indent="XL2 L2 M2 S0"
                                                linebreak="true"
                                                span="XL10 L10 M10 S12"/>
										</layoutData>
									</TextArea>
								</l:content>
							</l:Grid>
							<l:Grid
                                defaultSpan="XL12 L12 M12 S12"
                                vSpacing="0"
                                hSpacing="0">
								<l:layoutData>
									<l:GridData span="XL2 L2 M2 S12"/>
								</l:layoutData>
								<l:content>
									<Text
                                        class="sapUiTinyMarginBegin sapInoEvalWarningColor"
                                        text="{path: 'object>criterion/MSG'}"
                                        tooltip="{path: 'object>criterion/MSG_TOOLTIP'}"
                                        visible="{parts: [{path: 'object>criterion/MSG'}], formatter: '.formatter.showWarningMsg'}"
                                        width="100%"></Text>
								</l:content>
							</l:Grid>
						</l:content>
					</l:Grid>
					<l:VerticalLayout width="100%">
						<l:layoutData>
							<l:GridData span="XL1 L1 M2 S2"/>
						</l:layoutData>
						<Text
                            class="sapUiFormTitleH5 sapInoCriterionValue"
			                text="{parts: [{path: 'object>criterion/DATATYPE_CODE'},
			                               {path: 'object>criterion/NUM_VALUE'},
			                               {path: 'object>criterion/BOOL_VALUE'},
			                               {path: 'object>criterion/TEXT_VALUE'},
			                               {path: 'object>criterion/VALUE_OPTION_LIST_CODE'},
			                               {path: 'object>criterion/UOM_CODE'}],
                                   formatter: '.formatter.getFormattedValue'}"
                            textAlign="End"
                            visible="{:= ${parts: [{path: 'object>criterion/DATATYPE_CODE'},
                                                   {path: 'object>criterion/NUM_VALUE_MIN'},
                                                   {path: 'object>criterion/NUM_VALUE_MAX'},
                                                   {path: 'object>criterion/VALUE_OPTION_LIST_CODE'},
                                                   {path: 'object>children'}], 
                                      formatter: '.formatter.showAggregatingValue'}}"
                            width="100%"/>
					</l:VerticalLayout>
					<List
                        items="{path: 'object>children', templateShareable: true}"
                        showSeparators="All"
                        visible="{:= ${path: 'object>children', formatter: '.formatter.hasSubcriteria'}}">
						<layoutData>
							<l:GridData span="XL12 L12 M12 S12" linebreak="true"/>
						</layoutData>
						<CustomListItem>
							<content>
								<core:Fragment
                                    fragmentName="sap.ino.vc.evaluation.fragments.CriterionModify"
                                    type="XML"></core:Fragment>
							</content>
						</CustomListItem>
					</List>
				</l:content>
			</l:Grid>
		</content>
	</CustomListItem>
</core:FragmentDefinition>