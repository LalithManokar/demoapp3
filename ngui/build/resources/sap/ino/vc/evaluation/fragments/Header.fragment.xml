<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:uxap="sap.uxap">
    <l:ResponsiveFlowLayout responsive="true">
        <l:layoutData>
            <uxap:ObjectPageHeaderLayoutData width="100%"/>
        </l:layoutData>
        <l:content>
            <l:Grid
                class="sapUiSmallMarginTop"
                defaultSpan="XL4 L4 M4 S12"
                hSpacing="0">
                <l:content>

                    <!-- Dedicated line for title -->
                    <Title
                        class="sapUiTinyMarginTopBottom"
                        text="{object>IDEA_NAME}"
                        titleStyle="H2">
                        <layoutData>
                            <l:GridData span="XL12 L12 M12 S12"/>
                        </layoutData>
                    </Title>

                    <!-- New line for icon and evaluation attributes -->
                    <core:Icon
                        class="sapInoEvaluationIcon"
                        src="sap-icon://survey">
                        <core:layoutData>
                            <l:GridData
                                span="XL1 L1"
                                visibleS="false"
                                visibleM="false"/>
                        </core:layoutData>
                    </core:Icon>

                    <l:Grid
                        defaultSpan="XL12 L12 M12 S12"
                        hSpacing="0"
                        vSpacing="0">
                        <l:layoutData>
                            <l:GridData
                                span="XL3 L3 M6"
                                visibleS="{= ${view>/EDIT_MODE} ? false : true}"/>
                        </l:layoutData>
                        <l:content>
                            <HBox>
                                <items>
                                    <Label class="sapUiTinyMarginEnd" labelFor="evaluationCreateDate" text="{:= ${i18n>EVALUATION_TIT_CREATE_DATE}}"/>
                                    <Text id="evaluationCreateDate" text="{path: 'object>CREATED_AT', formatter: '.formatter.toDate'}"/>
                                </items>
                            </HBox>
                            <HBox>
                                <items>
                                    <Label class="sapUiTinyMarginEnd" labelFor="evaluationChangeDate" text="{:= ${i18n>EVALUATION_TIT_CHANGE_DATE}}"/>
                                    <Text id="evaluationChangeDate" text="{path: 'object>CHANGED_AT', formatter: '.formatter.toDate'}"/>
                                </items>
                            </HBox>
                            <HBox visible="{= ${object>EVALUATOR_ID} > 0}">
                                <items>
                                    <Label class="sapUiTinyMarginEnd" labelFor="evaluationEvaluatorName" text="{:= ${i18n>EVALUATION_TIT_EVALUATOR}}"/>
                                    <Link
                                        id="evaluationEvaluatorName"
                                        press="onEvaluatorPressed"
                                        text="{object>EVALUATOR_NAME}"/>
                                </items>
                            </HBox>
                            <HBox visible="{= ${object>EVALUATOR_ID} === 0}">
					            <Label class="sapUiTinyMarginEnd" labelFor="evaluationEvaluatorName" text="{:= ${i18n>EVALUATION_TIT_EVALUATOR}}"/>
					            <Text text="{i18n>IDEA_OBJECT_TIT_IDEA_Anonymity}"/>
				            </HBox>
                        </l:content>
                    </l:Grid>

                    <l:Grid
                        defaultSpan="XL12 L12 M12 S12"
                        hSpacing="0"
                        vSpacing="0">
                        <l:layoutData>
                            <l:GridData
                                span="XL4 L4 M6"
                                visibleS="{= ${view>/EDIT_MODE} ? false : true}"/>
                        </l:layoutData>
                        <l:content>
                            <HBox>
                                <items>
                                    <Label class="sapUiTinyMarginEnd" labelFor="evaluationModel" text="{:= ${i18n>EVALUATION_TIT_EVAL_METHOD}}"/>
                                    <Text id="evaluationModel" text="{path: 'object>MODEL_CODE', formatter: '.formatter.modelCode'}"/>
                                </items>
                            </HBox>
                            <HBox>
                                <items>
                                    <Label class="sapUiTinyMarginEnd" labelFor="evaluationPhase" text="{:= ${i18n>EVALUATION_TIT_PHASE}}"/>
                                    <Text id="evaluationPhase" text="{path: 'object>IDEA_PHASE_CODE', formatter: '.formatter.ideaPhase'}"/>
                                </items>
                            </HBox>
                            <HBox>
                                <items>
                                    <Label class="sapUiTinyMarginEnd" labelFor="evaluationStatus" text="{:= ${i18n>EVALUATION_TIT_STATUS}}"/>
    				                <Text id="evaluationStatus" text="{path: 'object>STATUS_CODE', formatter: '.formatter.ideaStatus'}"/>
    				            </items>
				            </HBox>
				            <HBox>
				                <items>
                                    <Label class="sapUiTinyMarginEnd" labelFor="evaluationIdeaName" text="{:= ${i18n>EVALUATION_TIT_IDEA}}"/>
                                    <Link
                                        id="evaluationIdeaName"
                                        href="{parts:[{path: 'object>IDEA_ID'}, {path: 'view>/IDEA_NAVIGATION_SECTION'}], formatter: '.formatter.ideaNavigationLink'}"
                                        text="{path: 'object>IDEA_NAME'}"
                                        wrapping="true"/>
                                </items>
                            </HBox>
                        </l:content>
                    </l:Grid>
                    
                    <l:Grid
                        defaultSpan="XL12 L12 M12 S12"
                        hSpacing="0"
                        vSpacing="0">
                        <l:layoutData>
                            <l:GridData
                                indent="M6 S0"
                                span="XL3 L3 M6 S12"/>
                        </l:layoutData>
                        <l:content>
                            <HBox>
                                <items>
                                    <Label
                                        class="sapUiTinyMarginEnd" 
                                        labelFor="evaluationOVResult"
                                        text="{:= ${i18n>EVALUATION_TIT_OV_RESULT}}"/>
                                    <Text
                                        id="evaluationOVResult"
                                        text="{parts: ['object>OV_RES_DATATYPE_CODE',
                                                       'object>OV_RES_NUM_VALUE',
                                                       'object>OV_RES_BOOL_VALUE',
                                                       'object>OV_RES_TEXT_VALUE',
                                                       'object>OV_RES_VALUE_OPTION_LIST_CODE',
                                                       'object>OV_RES_UOM_CODE'],
                                               formatter: '.formatter.getFormattedValue'}"
                                        width="100%"/>
                                </items>
                            </HBox>
                            <HBox>
                                <items>
                                    <Text text="{path: 'object>criteriaHierarchy/overallResultCriterion/CRITERION_CODE',
                                                 formatter: '.formatter.criterionCodeLongText'}"/>
                                </items>
                                <layoutData>
                                    <l:GridData visibleS="false" visibleM="false"/>
                                </layoutData>
                            </HBox>
                        </l:content>
                    </l:Grid>
                    
                </l:content>
            </l:Grid>
        </l:content>
    </l:ResponsiveFlowLayout>
</core:FragmentDefinition>