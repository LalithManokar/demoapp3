<mvc:View
    controllerName="sap.ino.vc.evaluation.RequestsItem"
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:ino="sap.ino.controls"
	xmlns:l="sap.ui.layout"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:uxap="sap.uxap"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
	<Page id="evaluationItem" class="sapInoEvaluationRequestsDisplay">
		<customHeader>
			<core:Fragment fragmentName="sap.ino.vc.evaluation.fragments.PageCustomHeader"  type="XML"/>
		</customHeader>
		<content>
			<uxap:ObjectPageLayout id="evaluationLayout"  useIconTabBar="true"   enableLazyLoading="true" visible="{view>/objectExists}">
				<uxap:headerTitle class="sapUiNoMargin">
					<uxap:ObjectPageHeader
                        id="ideaLayoutPageHeader"
                        visible="{= !${device>/system/phone} }"
                        objectTitle="{object>IDEA_NAME}"
                        objectSubtitle="{parts: ['i18n>FLD_BY', 'object>EVALUATOR_NAME', 'object>EVALUATOR_NAME', 'object>CHANGED_AT', 'object>CHANGED_AT'], formatter:'.formatter.alternativeBy'}"                    
                        isObjectIconAlwaysVisible="false"
                        isObjectTitleAlwaysVisible="false"
                        isObjectSubtitleAlwaysVisible="false"
                        isActionAreaAlwaysVisible="true"/>
				</uxap:headerTitle>
				<uxap:headerContent class="sapUiNoMargin">
					<core:Fragment  fragmentName="sap.ino.vc.evaluation.fragments.RequestsHeader" type="XML"/>
				</uxap:headerContent>
				<uxap:sections>
					<uxap:ObjectPageSection id="sectionClarifications" title="{i18n>EVALUATIONREQUESTS_MENU_MIT_CLARIFICATION}">
						<uxap:subSections>
							<uxap:ObjectPageSubSection title="{i18n>EVALUATIONREQUESTS_MENU_MIT_CLARIFICATION}">
								<uxap:blocks>
									<core:Fragment fragmentName="sap.ino.vc.evaluation.fragments.RequestsClarification" type="XML" />
								</uxap:blocks>
							</uxap:ObjectPageSubSection>
						</uxap:subSections>
					</uxap:ObjectPageSection>
				</uxap:sections>
			</uxap:ObjectPageLayout>
			<core:Fragment fragmentName="sap.ino.vc.commons.fragments.ObjectNotExists" type="XML"/>
		</content>
		<footer>
			<OverflowToolbar id="footerbar"   visible="{view>/objectExists}">
				<core:Fragment  fragmentName="sap.ino.vc.commons.fragments.MessageLog"  type="XML"/>
				<ToolbarSpacer/>
				<Button
                    visible="{=${object>/property/actions/executeStatusTransition/enabled} &amp;&amp; (${object>STATUS_CODE} === 'sap.ino.config.EVAL_REQ_REQUESTED' || ${object>STATUS_CODE} === 'sap.ino.config.EVAL_REQ_IN_CLARIFICATION') }"
                    type="Accept"
                    text="{i18n>EVALUATIONREQUESTS_BTN_ACCEPT}"
                    press="onAccept"/>
				<Button
                    visible="{=${object>/property/actions/executeStatusTransition/enabled} &amp;&amp; (${object>STATUS_CODE} === 'sap.ino.config.EVAL_REQ_REQUESTED' || ${object>STATUS_CODE} === 'sap.ino.config.EVAL_REQ_IN_CLARIFICATION')}"
                    type="Reject"
                    text="{i18n>EVALUATIONREQUESTS_BTN_REJECT}"
                    press="onReject"/>
				<Button
                    visible="{=${object>/property/actions/executeStatusTransition/enabled} &amp;&amp; ${object>STATUS_CODE} !== 'sap.ino.config.EVAL_REQ_EXPIRED' &amp;&amp; ${object>STATUS_CODE} !== 'sap.ino.config.EVAL_REQ_REJECTED' &amp;&amp;${object>STATUS_CODE} !== 'sap.ino.config.EVAL_REQ_COMPLETED'}"
                    type="Default"
                    text="{i18n>EVALUATIONREQUESTS_BTN_FORWARD}"
                    press="onForward"/>
				<Button
                    visible="{=(${object>/property/actions/sendClarification/enabled} &amp;&amp; ${object>STATUS_CODE} !== 'sap.ino.config.EVAL_REQ_EXPIRED' &amp;&amp; ${object>STATUS_CODE} !== 'sap.ino.config.EVAL_REQ_REJECTED' &amp;&amp; ${object>STATUS_CODE} !== 'sap.ino.config.EVAL_REQ_ACCEPTED' &amp;&amp; ${object>STATUS_CODE} !== 'sap.ino.config.EVAL_REQ_COMPLETED'  &amp;&amp; ${view>/CLARIFICATION_DISPLAY})}"
                    type="Default"
                    text="{i18n>EVALUATIONREQUESTS_BTN_CLARIFICATION}"
                    press="onCreateClarification"/>
				<Button
                    type="Default"
            		visible="{parts:[{path: 'object>IDEA_ID'},{path: 'object>STATUS_CODE'}], formatter: '.createEvaluationFormatter'}"
                    text="{i18n>EVALUATIONREQUESTS_BTN_CREATE_EVALUATION}"
                    press="onCreateEvaluation"/>
				<Button
                    type="Default"
                    text="{i18n>BTN_CLOSE}"
                    press="onCancel"/>
			</OverflowToolbar>
		</footer>
	</Page>
</mvc:View>