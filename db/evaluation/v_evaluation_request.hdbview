schema = "SAP_INO";
query = "
select
    evaluation_req.id,
    evaluation_req.idea_id,
    evaluation_req.idea_phase_code,
    evaluation_req.description,
    evaluation_req.accept_date,
    evaluation_req.complete_date,
    evaluation_req.created_at,
    evaluation_req.created_by_id,
    evaluation_req.changed_at,
    evaluation_req.comment_count,
    idea.name as idea_name, 
    idea.campaign_id,
    idea.resp_value_code,
    campaign.submit_to as campaign_submit_to,
    evaluation_req.changed_by_id,
    ident_owner.id as owner_id,
    ident_owner.name as owner_name,
    created_by_identity.name as created_by, 
    changed_by_identity.name as changed_by
from \"sap.ino.db.evaluation::t_evaluation_request\" as evaluation_req
left outer join \"sap.ino.db.idea::t_idea\" as idea
    on evaluation_req.idea_id = idea.id
left outer join \"sap.ino.db.campaign::t_campaign\" as campaign
    on campaign.id = idea.campaign_id
left outer join \"sap.ino.db.iam::t_identity\" as created_by_identity
    on evaluation_req.created_by_id = created_by_identity.id
left outer join \"sap.ino.db.iam::t_identity\" as changed_by_identity
    on evaluation_req.changed_by_id = changed_by_identity.id
left outer join \"sap.ino.db.iam::t_object_identity_role\" as identity_role_owner
    	on  identity_role_owner.object_id = evaluation_req.id and 
        	identity_role_owner.object_type_code = 'EVAL_REQUEST' and 
            identity_role_owner.role_code = 'EVAL_REQUEST_OWNER'     
left outer join \"sap.ino.db.iam::t_identity\" as ident_owner 
    	on ident_owner.id = identity_role_owner.identity_id        
    with read only";  

depends_on_table = ["sap.ino.db.evaluation::t_evaluation_request", 
                    "sap.ino.db.campaign::t_campaign",
                    "sap.ino.db.iam::t_object_identity_role",
                    "sap.ino.db.iam::t_identity",
                    "sap.ino.db.idea::t_idea"];
