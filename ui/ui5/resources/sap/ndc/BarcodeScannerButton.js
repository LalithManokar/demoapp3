/*!
 * SAPUI5
 * (c) Copyright 2009-2022 SAP SE. All rights reserved.
 */
sap.ui.define(['./BarcodeScanner','./BarcodeScannerButtonRenderer','./library','sap/m/Button','sap/ui/core/Control','sap/ui/model/resource/ResourceModel'],function(B,a,l,b,C,R){"use strict";var c=C.extend("sap.ndc.BarcodeScannerButton",{metadata:{library:"sap.ndc",properties:{provideFallback:{type:"boolean",defaultValue:true},visible:{type:"boolean",defaultValue:true},width:{type:"sap.ui.core.CSSSize",defaultValue:null},dialogTitle:{type:"string",defaultValue:null},preferFrontCamera:{type:"boolean",defaultValue:false},frameRate:{type:"float"},zoom:{type:"float"},keepCameraScan:{type:"boolean",defaultValue:false},disableBarcodeInputDialog:{type:"boolean",defaultValue:false}},aggregations:{_btn:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{scanSuccess:{parameters:{text:{type:"string"},format:{type:"string"},cancelled:{type:"boolean"}}},scanFail:{},inputLiveUpdate:{parameters:{newValue:{type:"string"}}}}},renderer:a});var r;c.prototype.init=function(){r=new R({bundleName:"sap.ndc.messagebundle"});this.setAggregation("_btn",new b({icon:"sap-icon://bar-code",tooltip:r.getProperty("BARCODE_SCANNER_BUTTON_TOOLTIP"),press:this._onBtnPressed.bind(this),width:"100%"}));var o=B.getStatusModel();this.setModel(o,"status");};c.prototype._onBtnPressed=function(e){B.scan(this._onScanSuccess.bind(this),this._onScanFail.bind(this),this._onInputLiveUpdate.bind(this),this.getProperty("dialogTitle"),this.getProperty("preferFrontCamera"),this.getProperty("frameRate"),this.getProperty("zoom"),this.getProperty("keepCameraScan"),this.getProperty("disableBarcodeInputDialog"));};c.prototype._onScanSuccess=function(A){this.fireScanSuccess(A);};c.prototype._onScanFail=function(A){this.fireScanFail(A);};c.prototype._onInputLiveUpdate=function(A){this.fireInputLiveUpdate(A);};c.prototype.setProvideFallback=function(f){var v=this.getProvideFallback();var o;f=!!f;if(v!==f){this.setProperty("provideFallback",f);o=this.getAggregation("_btn");if(f){o.unbindProperty("visible");o.setVisible(true);}else{o.bindProperty("visible","status>/available");}}return this;};return c;});
