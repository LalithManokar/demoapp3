//@ui5-bundle sap/gantt/library-preload.js
sap.ui.predefine('sap/gantt/drawer/Legend',["sap/gantt/drawer/Drawer","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(D,F){"use strict";
var L=D.extend("sap.gantt.drawer.Legend");
L.prototype._recursiveDraw=function(g,s){var S=g.selectAll("."+s.getId()).data(function(d){var r=[];return r.concat(d);});this._drawPerTag(S,s);};
L.prototype._drawPerTag=function(s,S){var l=S.mChartInstance;if(S.getIsDuration()){S.getTime=function(){return l.TIME_RANGE[0];};S.getEndTime=function(){return l.TIME_RANGE[1];};}else{S.getTime=function(){return l.TIME;};}S.setRowYCenter(l.getScaledLegendHeight()/2);switch(S.getTag()){case"g":this._drawGroup(s,S);break;case"line":this._drawLine(s,S);break;case"rect":this._drawRect(s,S);break;case"text":this._drawText(s,S);break;case"path":this._drawPath(s,S);break;case"image":this._drawImage(s,S);break;case"polygon":this._drawPolygon(s,S);break;case"polyline":this._drawPolyline(s,S);break;case"circle":this._drawCircle(s,S);break;default:break;}this._insertTitle(s,S);};
L.prototype._insertTitle=function(s,S){s.select("title").remove();s.insert("title",":first-child").text(function(d){if(!S.getParent()){return S.getTitle(d);}});};
L.prototype._drawGroup=function(s,S){s.enter().append("g").classed(S.getId(),true).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();var a=S.getShapes();if(a&&a.length>0){for(var i=0;i<a.length;i++){this._recursiveDraw(s,a[i]);}}};
L.prototype._drawLine=function(s,S){var t=this;s.enter().append("line").attr("x1",function(d){return S.getX1(d);}).attr("y1",function(d){return S.getY1(d);}).attr("x2",function(d){return S.getX2(d);}).attr("y2",function(d){return S.getY2(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("fill-Opacity",function(d){return S.getFillOpacity(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawRect=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("rect").classed(S.getId(),true);s.attr("x",function(d){if(l.getLegendSpace!==undefined){if(sap.ui.getCore().getConfiguration().getRTL()){var x=l.getXDomain(),X=x.length;return l.getScaledLegendWidth()*(X-d.xIndex-1)+l.getLegendSpace()*(X-d.xIndex);}return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getY(d);}).attr("width",function(d){return S.getWidth(d);}).attr("height",function(d){return S.getHeight(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("rx",function(d){return S.getRx(d);}).attr("ry",function(d){return S.getRy(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("opacity",function(d){return S.getFillOpacity(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawText=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("text").attr("x",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getRowYCenter(d);}).attr("text-anchor","middle").attr("font-size",function(d){return S.getFontSize(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("alignment-baseline","central").attr("font-family",function(d){return S.getFontFamily(d);}).text(S.getText()).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPath=function(s,S){var t=this;s.enter().append("path").attr("d",function(d){return S.getD(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("opacity",function(d){if(S.getIsClosed()){return S.getFillOpacity(d);}}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawImage=function(s,S){var l=S.mChartInstance;s.enter().append("image").attr("xlink:href",function(d){return S.getImage(d);}).attr("x",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getY(d);}).attr("width",function(d){return S.getWidth(d);}).attr("height",function(d){return S.getHeight(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPolygon=function(s,S){var t=this;s.enter().append("polygon").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("points",function(d){return S.getPoints(d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPolyline=function(s,S){var t=this;s.enter().append("polyline").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("points",function(d){return S.getPoints(d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawCircle=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("circle").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("cx",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*(d.xIndex+0.5)+l.getLegendSpace()*(d.xIndex+1);}return S.getCx(d);}).attr("cy",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*(d.yIndex+0.5)+l.getLegendSpace()*(d.yIndex+1);}return S.getCy(d);}).attr("r",function(d){return S.getR(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype.determineValue=function(a,s,d){var A=null;if(a==="fill"){A=s.getFill(d);}else if(a==="stroke"){A=s.getStroke(d);}return sap.gantt.ValueSVGPaintServer.normalize(A);};
return L;},true);
sap.ui.predefine('sap/gantt/eventHandler/BirdEyeHandler',["sap/ui/base/Object","sap/gantt/misc/Format","sap/gantt/config/TimeHorizon"],function(B,F,T){"use strict";
var a=B.extend("sap.gantt.eventHandler.BirdEyeHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._sStartTimeStamp=0;this._sEndTimeStamp=0;}});
a.prototype.calculateLargestVisibleHorizon=function(A,I){if(!A||A.length===0){return null;}var t=this;for(var i=0;i<A.length;i++){var s=A[i];var d=s.dataSet;if(d&&d.length>0){for(var j=0;j<d.length;j++){t._collectShapeTimeRange(s,d[j]);}}}if(!this._sStartTimeStamp&&!this._sEndTimeStamp){return null;}var S=F.abapTimestampToDate(this._sStartTimeStamp).getTime();var e=F.abapTimestampToDate(this._sEndTimeStamp).getTime();var o=F.abapTimestampToDate(this._sStartTimeStamp);var E=F.abapTimestampToDate(this._sEndTimeStamp);if(!I){var n=this._oSourceChart.getVisibleWidth();var b=(e-S)/n;o=new Date(S-b*5);E=new Date(e+b*5);}var v=new T({startTime:o,endTime:E});this._sStartTimeStamp=0;this._sEndTimeStamp=0;return v;};
a.prototype._collectShapeTimeRange=function(s,d,A,r){var t=this;if(d){var S=[];if(d.shapeData){r=d.objectInfoRef;S=S.concat(d.shapeData);}else if(A&&d[A]){S=S.concat(d[A]);}else if(d){S=S.concat(d);}if(s.filterValidData&&S.length>0){S=s.filterValidData(S,r);}if(s.getTag()=="g"&&S.length>0){var b=s.getShapes();if(b&&b.length>0){for(var i=0;i<b.length;i++){for(var j=0;j<S.length;j++){t._collectShapeTimeRange(b[i],S[j],b[i].mShapeConfig.getShapeDataName(),r);}}}}else if(s.mShapeConfig.getCountInBirdEye()){var c=(s.getTime||s.getEndTime)?true:false;if(S.length>0&&c){S.forEach(function(d){var e=s.getTime(d,r);var f=s.getEndTime(d,r);t._sStartTimeStamp=(e&&(!t._sStartTimeStamp||e<t._sStartTimeStamp))?e:t._sStartTimeStamp;if(f){t._sEndTimeStamp=(f&&(!t._sEndTimeStamp||f>t._sEndTimeStamp))?f:t._sEndTimeStamp;}else{t._sEndTimeStamp=(e&&(!t._sEndTimeStamp||e>t._sEndTimeStamp))?e:t._sEndTimeStamp;}});}}}};
a.prototype.doBirdEye=function(b,r){if(this._oSourceChart){var g=this._oSourceChart;var t=g.getLargestHorizonByDataRange(b,r);if(t){var A=g.getAxisTimeStrategy();if(typeof A.setVisibleHorizon==="function"){A.setVisibleHorizon(t);}else{A._setVisibleHorizon(t);}}}};
return a;},true);
sap.ui.predefine('sap/gantt/simple/ContainerToolbar',["sap/ui/core/Core","sap/gantt/library","sap/ui/base/ManagedObjectObserver","sap/ui/core/Item","sap/ui/base/Object","sap/base/Log","sap/m/library","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/ToolbarSpacer","sap/m/FlexBox","sap/m/OverflowToolbarButton","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/Select","sap/m/ViewSettingsDialog","sap/m/ViewSettingsCustomTab","sap/m/CheckBox","sap/m/Slider","sap/m/Popover","../control/AssociateContainer","./ContainerToolbarRenderer"],function(C,l,M,a,B,L,m,O,b,T,F,c,S,d,e,V,f,g,h,P,A){"use strict";var G=l.simple.GanttChartWithTableDisplayType,j=l.simple.ContainerToolbarPlaceholderType,k=m.OverflowToolbarPriority,n=m.FlexDirection,p=m.ButtonType,q=m.PlacementType;
var r=O.extend("sap.gantt.simple.ContainerToolbar",{metadata:{properties:{showBirdEyeButton:{type:"boolean",defaultValue:false},showDisplayTypeButton:{type:"boolean",defaultValue:false},showLegendButton:{type:"boolean",defaultValue:false},showSettingButton:{type:"boolean",defaultValue:true},showTimeZoomControl:{type:"boolean",defaultValue:true},zoomControlType:{type:"sap.gantt.config.ZoomControlType",defaultValue:l.config.ZoomControlType.SliderWithButtons},stepCountOfSlider:{type:"int",defaultValue:10},infoOfSelectItems:{type:"object[]",defaultValue:[]},zoomLevel:{type:"int",defaultValue:0},alignCustomContentToRight:{type:"boolean",defaultValue:false}},aggregations:{settingItems:{type:"sap.gantt.config.SettingItem",multiple:true},legendContainer:{type:"sap.ui.core.Control",multiple:false,visibility:"public"}},events:{zoomStopChange:{parameters:{index:{type:"int"},selectedItem:{type:"sap.ui.core.Item"}}},birdEyeButtonPress:{},displayTypeChange:{parameters:{displayType:{type:"sap.gantt.simple.GanttChartWithTableDisplayType"}}}}}});
r.prototype.init=function(){O.prototype.init.apply(this,arguments);this.mSettingsConfig={};this._oRb=C.getLibraryResourceBundle("sap.gantt");this.oObserver=new M(this.observeChanges.bind(this));this.oObserver.observe(this,{properties:["showBirdEyeButton","showLegendButton","showTimeZoomControl","showSettingButton","zoomControlType","infoOfSelectItems","showDisplayTypeButton","alignCustomContentToRight"],aggregations:["content"]});this.bShallUpdateContent=true;this.bZoomControlTypeChanged=false;this.bContentAlignChanged=false;this._bSuppressZoomStopChange=false;this.oToolbarSpacer=new T(this.getId()+"-toolbarSpacer");};
r.prototype.observeChanges=function(o){if(!this.bShallUpdateContent){this.bShallUpdateContent=true;this.bZoomControlTypeChanged=o.name==="zoomControlType";this.bContentAlignChanged=o.name==="alignCustomContentToRight";}};
r.prototype.exit=function(){this.oObserver.disconnect();this._destroyIfExists([this._oDisplayTypeSegmentedButton,this._oBirdEyeButton,this._oSelect,this._oTimeZoomFlexBox,this._oSettingsDialog,this._oSettingsButton,this._oLegendPop,this._oLegendButton]);O.prototype.exit.apply(this,arguments);};
r.prototype.applySettings=function(s,i){s=s||{};if(!s.settingItems){s.settingItems=l.config.DEFAULT_TOOLBAR_SETTING_ITEMS.map(function(o){return o.clone();});}O.prototype.applySettings.apply(this,arguments);this._createControlsOnly();return this;};
r.prototype.onBeforeRendering=function(){if(this.bShallUpdateContent===true){this.updateToolbarContents();this.bShallUpdateContent=false;this.bZoomControlTypeChanged=false;this.bContentAlignChanged=false;}};
r.prototype.updateToolbarContents=function(){var i=this.getContent(),o={},s=0;var N=function(u){return this.getContent().indexOf(u)===-1;}.bind(this);var t=function(u,v,w){if(!u._getControl()){u._setControl(w);}u.setProperty("_show",v);};var I=function(u,v,w){var x=o[u],y=N(w);if(x){t(x,v,w);}else if(v){s++;}if(!y&&(x||!v)){this.removeContent(w);}else if(!x&&v&&y){if(u===j.Spacer){this.insertContent(w,this.getAlignCustomContentToRight()?0:this.getContent().length-s+1);}else{this.addContent(w);}}}.bind(this);i.forEach(function(u){var v;if(B.isA(u,"sap.gantt.simple.ContainerToolbarPlaceholder")){v=u.getType();if(o[v]){L.warning("There are more than one sap.gantt.simple.ContainerToolbarPlaceholder of the "+v+" type.");}o[v]=u;}});if(this.bContentAlignChanged){this.removeContent(this.oToolbarSpacer);}I(j.BirdEyeButton,this.getShowBirdEyeButton(),this._genBirdEyeButton());I(j.TimeZoomControl,this.getShowTimeZoomControl(),this._genTimeZoomFlexBox());I(j.LegendButton,this.getShowLegendButton(),this._genLegend());I(j.SettingButton,this.getShowSettingButton(),this._genSettings());I(j.DisplayTypeButton,this.getShowDisplayTypeButton(),this._genDisplayTypeButton());I(j.Spacer,true,this.oToolbarSpacer);};
r.prototype._createControlsOnly=function(){this._genBirdEyeButton();this._genTimeZoomGroupControls();this._genLegend();this._genSettings();this._genDisplayTypeButton();};
r.prototype._destroyIfExists=function(i){i.forEach(function(o){if(o){o.destroy();}});};
r.prototype._genDisplayTypeButton=function(){if(this._oDisplayTypeSegmentedButton){return this._oDisplayTypeSegmentedButton;}this._oDisplayTypeSegmentedButton=new S(this.getId()+"-displayTypeSegmentedButton",{selectedKey:G.Both,selectionChange:function(E){this.fireDisplayTypeChange({displayType:E.getParameter("item").getKey()});}.bind(this),items:[new d(this.getId()+"-"+G.Both+"SegmentedButtonItem",{tooltip:this._oRb.getText("TLTP_DISPLAY_TYPE_BUTTON_BOTH"),icon:"sap-icon://Chart-Tree-Map",key:G.Both}),new d(this.getId()+"-"+G.Chart+"SegmentedButtonItem",{tooltip:this._oRb.getText("TLTP_DISPLAY_TYPE_BUTTON_CHART"),icon:"sap-icon://along-stacked-chart",key:G.Chart}),new d(this.getId()+"-"+G.Table+"SegmentedButtonItem",{tooltip:this._oRb.getText("TLTP_DISPLAY_TYPE_BUTTON_TABLE"),icon:"sap-icon://table-view",key:G.Table})]});};
r.prototype._genBirdEyeButton=function(){if(this._oBirdEyeButton==null){var i=function(R){var s=R.getText("TXT_BRIDEYE"),t=R.getText("TXT_BRIDEYE_RANGE_VISIBLE_ROWS"),o=R.getText("TLTP_BRIDEYE_ON_VISIBLE_ROWS");return s+"("+t+"): "+o;};this._oBirdEyeButton=new c(this.getId()+"-birdEyeButton",{icon:"sap-icon://show",type:p.Transparent,text:this._oRb.getText("TXT_BIRDEYE_BUTTON"),tooltip:i(this._oRb),press:this.fireBirdEyeButtonPress.bind(this)});}return this._oBirdEyeButton;};
r.prototype._getSelectItems=function(){var s=[],I=this.getInfoOfSelectItems();if(I.length>0){if(I[0]instanceof a){s=I;}else{for(var i=0;i<I.length;i++){s.push(new a({key:I[i].key,text:I[i].text}));}}}return s;};
r.prototype._genTimeZoomGroupControls=function(){var Z=l.config.ZoomControlType;var z=this.getZoomControlType();var u=function(o){clearTimeout(this._iLiveChangeTimer);this._iLiveChangeTimer=-1;this.setZoomLevel(o,true);};this.fireEvent("_zoomControlTypeChange",{zoomControlType:z});if(z===Z.None){return[];}if(z===Z.Select){if(this._oSelect){return[this._oSelect];}var s=this._getSelectItems();this._oSelect=new e(this.getId()+"-zoomSelect",{items:s,selectedItem:s[this.getZoomLevel()],change:function(E){var o=E.getSource();var t=o.getSelectedItem();var v=o.indexOfItem(t);this._iLiveChangeTimer=setTimeout(u.bind(this),200,[v,t]);}.bind(this)});return[this._oSelect];}else{if(this._oZoomSlider){this._oZoomSlider.setMax(this.getStepCountOfSlider()-1);if(z===Z.SliderOnly){return[this._oZoomSlider];}else if(z===Z.ButtonsOnly){return[this._oZoomOutButton,this._oZoomInButton];}else{return[this._oZoomOutButton,this._oZoomSlider,this._oZoomInButton];}}this._oZoomSlider=new h(this.getId()+"-zoomSlider",{width:"200px",max:this.getStepCountOfSlider()-1,value:this.getZoomLevel(),min:0,step:1,liveChange:function(E){var o=parseInt(E.getParameter("value"),10);clearTimeout(this._iLiveChangeTimer);this._iLiveChangeTimer=setTimeout(u.bind(this),200,o);}.bind(this)});var i=function(o){return function(E){this._iLiveChangeTimer=setTimeout(function(){var t=parseInt(o?this._oZoomSlider.stepUp(1).getValue():this._oZoomSlider.stepDown(1).getValue(),10);u.call(this,t);}.bind(this),200);};};this._oZoomInButton=new c(this.getId()+"-zoomInButton",{icon:"sap-icon://zoom-in",type:p.Transparent,tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_IN"),ariaDescribedBy:[this._oZoomSlider],press:i(true).bind(this)});this._oZoomOutButton=new c(this.getId()+"-zoomOutButton",{icon:"sap-icon://zoom-out",type:p.Transparent,tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_OUT"),ariaDescribedBy:[this._oZoomSlider],press:i(false).bind(this)});return[this._oZoomOutButton,this._oZoomSlider,this._oZoomInButton];}};
r.prototype._genTimeZoomFlexBox=function(){if(this._oTimeZoomFlexBox){if(this.bZoomControlTypeChanged){this._oTimeZoomFlexBox.removeAllItems();this._genTimeZoomGroupControls().forEach(function(i){this._oTimeZoomFlexBox.addItem(i);}.bind(this));}return this._oTimeZoomFlexBox;}this._oTimeZoomFlexBox=new F(this.getId()+"-timeZoomFlexBox",{items:this._genTimeZoomGroupControls(),layoutData:new b({priority:k.NeverOverflow})});return this._oTimeZoomFlexBox;};
r.prototype._genSettingItems=function(){return this.getSettingItems().map(function(s){return new g(this.getId()+"-"+s.getKey()+"CheckBox",{name:s.getKey(),text:s.getDisplayText(),tooltip:s.getTooltip(),selected:s.getChecked()}).addStyleClass("sapUiSettingBoxItem");}.bind(this));};
r.prototype._genSettings=function(){if(this._oSettingsButton){if(this._oSettingsBox&&(this._oSettingsBox.getItems().length===this.getSettingItems().length)){var o=this._oSettingsBox.getItems(),s=this.getSettingItems();for(var i=0;i<o.length;i++){var t=o[i],u=s[i];t.setName(u.getKey());t.setText(u.getDisplayText());t.setTooltip(u.getTooltip());t.setSelected(u.getChecked());}}else{this._oSettingsBox.destroyItems();this._genSettingItems().forEach(function(u){this._oSettingsBox.addItem(u);}.bind(this));}return this._oSettingsButton;}this._oSettingsBox=new F(this.getId()+"-settingsFlexBox",{direction:n.Column,items:this._genSettingItems()}).addStyleClass("sapUiSettingBox");this._oSettingsDialog=new V(this.getId()+"-settingsDialog",{title:this._oRb.getText("SETTINGS_DIALOG_TITLE"),customTabs:[new f({content:this._oSettingsBox})],confirm:function(){this._fireSettingItemChangedEvent();}.bind(this),cancel:function(){this.updateSettingItems(this.mSettingsConfig);}.bind(this)});this._oSettingsButton=new c(this.getId()+"-settingsButton",{icon:"sap-icon://action-settings",type:p.Transparent,text:this._oRb.getText("TXT_SETTING_BUTTON"),tooltip:this._oRb.getText("TXT_SETTING_BUTTON"),layoutData:new b({priority:k.High}),press:function(E){this._oSettingsDialog.open();}.bind(this)});return this._oSettingsButton;};
r.prototype._genLegend=function(){if(this._oLegendButton){return this._oLegendButton;}if(!this._oLegendPop){this._oLegendPop=new P(this.getId()+"-legendPopover",{placement:q.Bottom,showArrow:false,showHeader:false});}this._oLegendButton=new c(this.getId()+"-legendButton",{icon:"sap-icon://legend",type:p.Transparent,text:this._oRb.getText("TXT_LEGEND_BUTTON"),tooltip:this._oRb.getText("TLTP_SHOW_LEGEND"),layoutData:new b({priority:k.High,closeOverflowOnInteraction:false}),press:function(E){var o=this._oLegendPop;if(o.isOpen()){o.close();}else{o.openBy(this._oLegendButton);}}.bind(this)});return this._oLegendButton;};
r.prototype.updateZoomLevel=function(z){this._bSuppressZoomStopChange=true;this.setZoomLevel(z);};
r.prototype.setZoomLevel=function(z,i){if(!isNaN(z)){var o=this.getZoomLevel();if(this._oZoomSlider&&this._oZoomOutButton&&this._oZoomInButton){var s=this._oZoomSlider.getMax(),t=this._oZoomSlider.getMin();if(z===s){this._oZoomInButton.setEnabled(false);this._oZoomOutButton.setEnabled(true);}else if(z===t){this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(false);}else{this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(true);}}if(o!==z){this.setProperty("zoomLevel",z,i);if(this._oZoomSlider){this._oZoomSlider.setValue(z);if(!this._bSuppressZoomStopChange){this.fireZoomStopChange({index:z});}}if(this._oSelect){this._oSelect.setSelectedItem(this._oSelect.getItems()[z]);if(!this._bSuppressZoomStopChange){this.fireZoomStopChange({index:z,selectedItem:this._oSelect.getSelectedItem()});}}}}this._bSuppressZoomStopChange=false;return this;};
r.prototype.setLegendContainer=function(o){this.setAggregation("legendContainer",o);if(!this._oLegendPop){this._oLegendPop=new P(this.getId()+"-legendPopover",{placement:q.Bottom,showArrow:false,showHeader:false});}if(o){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(new A({content:o}));}};
r.prototype._fireSettingItemChangedEvent=function(){var s=this._oSettingsBox.getItems();var o=[];for(var i=0;i<s.length;i++){var t=s[i].getName(),u=t.substr(4),v=this.mSettingsConfig[u],N=s[i].getSelected();if(v!==N){o.push({name:t,value:N});}}if(o.length>0){this.fireEvent("_settingsChange",o);}};
r.prototype.updateSettingsConfig=function(i){Object.keys(i).forEach(function(o){this.mSettingsConfig[o]=i[o];}.bind(this));this.updateSettingItems(i);};
r.prototype.updateSettingItems=function(i){var s=this._oSettingsBox.getItems();Object.keys(i).forEach(function(o){var t=s.filter(function(I){return I.getName().endsWith(o);})[0];if(t){t.setSelected(i[o]);}});};
r.prototype.getAllToolbarItems=function(){return this.getContent();};
r.prototype.setInfoOfSelectItems=function(i,s){this.setProperty("infoOfSelectItems",i,s);var t=this;if(this._oSelect){var o=this._getSelectItems();this._oSelect.removeAllItems();o.forEach(function(u){t._oSelect.addItem(u);});}};
return r;},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine('sap/gantt/AdhocLine',["sap/ui/core/Element"],function(E){"use strict";
var A=E.extend("sap.gantt.AdhocLine",{metadata:{library:"sap.gantt",properties:{stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"float",defaultValue:1},strokeDasharray:{type:"string"},strokeOpacity:{type:"float",defaultValue:1},timeStamp:{type:"string"},description:{type:"string"}}}});
return A;},true);
sap.ui.predefine('sap/gantt/GanttChart',["sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/performance/Measurement","sap/ui/events/KeyCodes","sap/ui/Device","sap/ui/core/Core","sap/ui/table/TreeTable","./GanttChartBase","./misc/Utility","./drawer/ShapeInRow","./drawer/ShapeCrossRow","./drawer/CursorLine","./drawer/NowLine","./drawer/VerticalLine","./drawer/AdhocLine","./drawer/CalendarPattern","./drawer/ExpandedBackground","./misc/AxisOrdinal","./misc/Format","./eventHandler/AutoScrollHandler","./eventHandler/MouseWheelHandler","./eventHandler/TimePeriodZoomHandler","./axistime/ProportionZoomStrategy","./config/TimeHorizon","./misc/ShapeSelectionModel","./misc/ShapeManager","./eventHandler/ShapeResizeHandler","./eventHandler/ShapeHoverHandler","./eventHandler/TimePopoverHandler","./eventHandler/BirdEyeHandler","sap/ui/thirdparty/d3"],function(q,L,M,K,D,C,T,G,U,S,a,b,N,V,A,c,E,e,F,f,g,h,P,m,n,o,p,r,s,B){"use strict";
var t=G.extend("sap.gantt.GanttChart",{metadata:{designtime:"sap/gantt/designtime/GanttChart.designtime",aggregations:{_treeTable:{type:"sap.ui.table.TreeTable",multiple:false,visibility:"hidden"}}}});
t.prototype.init=function(){G.prototype.init.apply(this,arguments);M.start("GanttChart init","GanttPerf:GanttChart init function");this._oTT=new T(this.getId()+"-table",{visibleRowCountMode:"Auto",minAutoRowCount:1,columnHeaderVisible:false});q.extend(this.mDefaultTableProperties,{selectionBehavior:sap.ui.table.SelectionBehavior.RowOnly});this.setTableProperties(q.extend({},this.mDefaultTableProperties));this._oTT.setUseFlatMode(true);this._bJSONTreeBinding=true;this._oRowStatusMap={};this._oTT._bVariableRowHeightEnabled=true;var d=this;this._oTT._collectRowHeights=function(H){var j=T.prototype._collectRowHeights.apply(this,arguments);if(H){return j;}d._aHeights=j;if(d._aHeights[0]!==undefined&&d._aHeights[0]!==0){d._iInferedBaseRowHeightOnTT=d._aHeights[0];}var k=d.getBaseRowHeight();var l=d._getTTFirstRenderingRowIndex();var u=d._aHeights.length;var v=k;var w=d._getDrawingData([l,l+u-1]);if(w&&w.length>0){v=w[0].rowSpan*k;}for(var i=0;i<u;i++){var x=this.getContextByIndex(l+i);if(x){var y;if(d._bJSONTreeBinding){y=x.getObject();}else if(d._aFilteredRowData){y=d._aFilteredRowData[i];}var z=y?y.uid:undefined;if(z&&d._oRowStatusMap[z]){d._aHeights[i]=d._oRowStatusMap[z].visibleRowSpan*k;}else{d._aHeights[i]=v;}}else{d._aHeights[i]=k;}}return d._aHeights;};var R=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this._oColumn=new sap.ui.table.Column({template:new sap.ui.core.HTML({content:"<div tabIndex = \" 0 \" style=\" opacity : 0 \">"+R.getText("XCEL_GANTT_CELL")+"</div>"})});this._oTT.addColumn(this._oColumn);this.setAggregation("_treeTable",this._oTT);this._oTT.attachEvent("_rowsUpdated",this._onTTRowUpdate.bind(this));this._oTT.attachRowSelectionChange(this._onRowSelectionChange,this);this._oTT.addEventDelegate({onAfterRendering:this._bindScrollLogicForTT},this);this._oTT.addEventDelegate({onAfterRendering:this._initialSvgDrawing},this);this._oShapeInRowDrawer=new S();this._oShapeCrossRowDrawer=new a();this._oCursorLineDrawer=new b();this._oCalendarPatternDrawer=new c();this._oExpandedBackgroundDrawer=new E();this._oAxisOrdinal=undefined;this._aFilteredRowData=undefined;this._oStatusSet=null;this._nLowerRange=0;this._nUpperRange=0;this._oShapeSelection=new n({selectionMode:this.getShapeSelectionMode(),ganttChart:this});this._oShapeManager=new o(this);this._bMouseDown=false;this._bDragging=false;this._bDragStart=false;this._oDraggingData=undefined;this._lastHoverRowIndex=undefined;this._oChartSchemesConfigMap={};this._oChartSchemesConfigMap[sap.gantt.config.DEFAULT_CHART_SCHEME_KEY]=sap.gantt.config.DEFAULT_CHART_SCHEME;this._oObjectTypesConfigMap={};this._oObjectTypesConfigMap[sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY]=sap.gantt.config.DEFAULT_OBJECT_TYPE;this._fExtendFactor=0.382;this._setAxisTimeStrategy(new P());this._mTimeouts={};this._bSuppressSetVisibleHorizon=false;this._oAutoScrollHandler=new f();this._oMouseWheelHandler=new g(this);this._oTimePeriodZoomHandler=new h(this);this._oShapeResizeHandler=new p(this);this._oShapeHoverHandler=new r(this);this._oTimePopoverHandler=new s(this);this._oBirdEyeHandler=new B(this);M.end("GanttChart init");};
t.prototype.setAxisTimeStrategy=function(d){this._setAxisTimeStrategy(d);this._oStatusSet=null;this._draw(true);return this;};
t.prototype._setAxisTimeStrategy=function(d){this.setAggregation("axisTimeStrategy",d,true);this._createAxisTime(d);d.attachEvent("_redrawRequest",this._onRedrawRequest,this);};
t.prototype._onRedrawRequest=function(d){var i=d.getParameter("forceUpdate");var v=d.getParameter("valueBeforeChange");var R=d.getParameter("reasonCode");var O=d.getParameter("originEvent");if(R!=="totalHorizonUpdated"&&v){this._oLastVisibleHorizon=v;if(R!=="syncVisibleHorizon"){var j=this.getAxisTimeStrategy();var k=j.getVisibleHorizon();var l=this.getVisibleWidth();this.fireEvent("_visibleHorizonUpdate",{reasonCode:R,visibleHorizon:k,visibleWidth:l,originEvent:O});}}this.redraw(i);};
t.prototype.setTimeAxis=function(d){this.setProperty("timeAxis",d,true);if(d){var i=d.getZoomStrategy();this.setAxisTimeStrategy(new P({totalHorizon:d.getPlanHorizon().clone(),visibleHorizon:d.getInitHorizon().clone(),timeLineOption:i[d.getGranularity()],coarsestTimeLineOption:i[d.getCoarsestGranularity()],finestTimeLineOption:i[d.getFinestGranularity()],timeLineOptions:i}));}else{this.setAxisTimeStrategy(null);}};
t.prototype.setLocale=function(l){this.setProperty("locale",l,true);var d=this.getAxisTime();if(d){d.setLocale(l);this._draw(true);}return this;};
t.prototype.setChartSchemes=function(d){this.setProperty("chartSchemes",d,true);this._oChartSchemesConfigMap={};if(d){for(var i=0;i<d.length;i++){this._oChartSchemesConfigMap[d[i].getKey()]=d[i];}}this._draw(true);return this;};
t.prototype.setObjectTypes=function(O){this.setProperty("objectTypes",O,true);this._oObjectTypesConfigMap={};if(O){for(var i=0;i<O.length;i++){this._oObjectTypesConfigMap[O[i].getKey()]=O[i];}}this._draw(true);return this;};
t.prototype.setSelectionMode=function(d){this.setProperty("selectionMode",d,true);this.setShapeSelectionMode(d);switch(d){case sap.gantt.SelectionMode.Multiple:case sap.gantt.SelectionMode.MultiWithKeyboard:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.MultiToggle});break;case sap.gantt.SelectionMode.None:case sap.gantt.SelectionMode.Single:this.setTableProperties({selectionMode:d});break;}return this;};
t.prototype.setShapeSelectionMode=function(d){this.setProperty("shapeSelectionMode",d,true);this._oShapeSelection.setSelectionMode(d);return this;};
t.prototype.setTableProperties=function(d){if(d.hasOwnProperty("selectionBehavior")){if(d.selectionBehavior!==sap.ui.table.SelectionBehavior.RowOnly){delete d.selectionBehavior;L.warning("Change GanttChart's TreeTable selectionBehavior is not allowed!");}}G.prototype.setTableProperties.apply(this,arguments);return this;};
t.prototype._createAxisTime=function(d){if(d){d.createAxisTime(this.getLocale());this._nLowerRange=Math.ceil(this.getAxisTime().getViewRange()[0]);this._nUpperRange=Math.ceil(this.getAxisTime().getViewRange()[1]);}};
t.prototype.setShapes=function(d){this.setProperty("shapes",d,true);if(this.getAxisTimeStrategy().getAxisTime()&&d&&d.length>0){this._shapesInited=false;this._ensureShapesCreated(function(){this._draw(true);}.bind(this));}return this;};
t.prototype.setTimeZoomRate=function(d){this.setProperty("timeZoomRate",d,true);var i=this.getAxisTimeStrategy();if(i.onSetTimeZoomRate){i.onSetTimeZoomRate(d);}return this;};
t.prototype.redraw=function(d){if(!this._initHorizonApplied){return;}if(d){this.resetWidthInfo();}this._draw(d);};
t.prototype.resetWidthInfo=function(){this.getAxisTime().setViewOffset(0);this._oStatusSet=null;this._nLowerRange=Math.ceil(this.getAxisTime().getViewRange()[0]);this._nUpperRange=Math.ceil(this.getAxisTime().getViewRange()[1]);};
t.prototype.updateRelationships=function(R){var d=this.getBinding("relationships");if(d){var i=d.getContexts(0,0);if(i&&i.length>0){this._aRelationshipsContexts=i;}}this._prepareRelationshipDataFromModel();};
t.prototype.addRelationship=function(R){L.error("The control manages the relationships aggregation. The method \"addRelationship\" cannot be used programmatically!");};
t.prototype.insertRelationship=function(i,R){L.error("The control manages the relationships aggregation. The method \"insertRelationship\" cannot be used programmatically!");};
t.prototype.removeRelationship=function(R){L.error("The control manages the relationships aggregation. The method \"removeRelationship\" cannot be used programmatically!");};
t.prototype.getRelationships=function(){L.error("The control manages the relationships aggregation. The method \"getRelationships\" cannot be used programmatically!");};
t.prototype.destroyRelationships=function(){L.error("The control manages the relationships aggregation. The method \"destroyRelationships\" cannot be used programmatically!");};
t.prototype.indexOfRelationship=function(R){L.error("The control manages the relationships aggregation. The method \"indexOfRelationship\" cannot be used programmatically!");};
t.prototype.removeAllRelationships=function(){L.error("The control manages the relationships aggregation. The method \"removeAllRelationships\" cannot be used programmatically!");};
t.prototype._bindAggregation=function(d,i){if(d=="rows"&&i){var j=this.getModel(i.model);var k=this.getBindingContext(i.model);if(k&&j){i.path=j.resolve(i.path,k);}this._getConfiguredRowKeys(i);this._oTT.bindRows(i);this._bJSONTreeBinding=(j instanceof sap.ui.model.json.JSONModel);}else{return G.prototype._bindAggregation.apply(this,arguments);}};
t.prototype.onBeforeRendering=function(){this._bTableReady=false;this._iSvgHeight=0;this._detachEvents();this._shapesInited=false;this._ensureShapesCreated();};
t.prototype._detachEvents=function(){var $=q(this.getDomSelectorById("svg-ctn"));var d=q(this.getDomSelectorById("header"));$.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel);$.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel);d.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel);d.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel);$.unbind("contextmenu",this._onContextMenu);$.unbind("mouseleave",this._onSvgMouseLeave);$.unbind("mouseenter",this._onSvgMouseEnter);$.unbind("mousedown",this._onSvgMouseDown);$.unbind("mousemove",this._onSvgMouseMove);$.unbind("mouseup",this._onSvgMouseUp);$.unbind("dblclick",this._onSvgDoubleClick);var i="keydown."+this.getId();q(document.body).unbind(i);if(D.support.touch){$.unbind("touchstart",this._onSvgTouchstart);$.unbind("touchend",this._onSvgTouchend);$.unbind("touchmove",this._onSvgTouchmove);d.unbind("touchstart",this._onSvgTouchstart);d.unbind("touchend",this._onSvgTouchend);d.unbind("touchmove",this._onSvgTouchmove);}this._oTimePeriodZoomHandler.detachEvents();};
t.prototype.onAfterRendering=function(){this._attachEvents();};
t.prototype._attachEvents=function(){var $=q(this.getDomSelectorById("svg-ctn"));var d=q(this.getDomSelectorById("header"));if(D.browser.firefox){$.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));d.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}else{$.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));d.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}$.bind("contextmenu",this._onContextMenu);$.bind("mouseenter",this._onSvgMouseEnter.bind(this));$.bind("mouseleave",this._onSvgMouseLeave.bind(this));$.bind("mousedown",this._onSvgMouseDown.bind(this));$.bind("mousemove",this._onSvgMouseMove.bind(this));$.bind("mouseup",this._onSvgMouseUp.bind(this));$.bind("dblclick",this._onSvgDoubleClick.bind(this));var i="keydown."+this.getId();q(document.body).bind(i,this._onKeyDown.bind(this));if(D.support.touch){$.bind("touchstart",this._onSvgTouchstart.bind(this));$.bind("touchend",this._onSvgTouchend.bind(this));$.bind("touchmove",this._onSvgTouchmove.bind(this));d.bind("touchstart",this._onSvgTouchstart.bind(this));d.bind("touchend",this._onSvgTouchend.bind(this));d.bind("touchmove",this._onSvgTouchmove.bind(this));}this._oTimePeriodZoomHandler.attachEvents();this.attachEvent("_autoScrolling",this._onAutoScrolling,this);};
t.prototype._onAutoScrolling=function(d){if(this._oTimePeriodZoomHandler.isActive()){this._oTimePeriodZoomHandler.handleAutoScrolling(d);}this._oShapeResizeHandler._handleShapeResizingWhenAutoScroll();};
t.prototype._getMouseOrTouchPoint=function(d){if(d.targetTouches&&d.targetTouches.length>0){return d.targetTouches[d.targetTouches.length-1];}else if(d.changedTouches&&d.changedTouches.length>0){return d.changedTouches[d.changedTouches.length-1];}return{"pageX":d.pageX,"pageY":d.pageY};};
t.prototype._onTouchScrollStart=function(d){if(D.system.combi||D.system.phone||D.system.tablet){this._aTouchStartPosition=null;this._bIsScrollVertical=null;var i=this._getMouseOrTouchPoint(d);this._aTouchStartPosition=[i.pageX,i.pageY];var v=this.getTTVsbDom();if(v){this._iTouchScrollTop=v.scrollTop;}var H=this.getTTHsbDom();if(H){this._iTouchScrollLeft=H.scrollLeft;}}};
t.prototype._onTouchScroll=function(d){if((D.system.combi||D.system.phone||D.system.tablet)&&this._aTouchStartPosition){var i=this._getMouseOrTouchPoint(d);var j=(i.pageX-this._aTouchStartPosition[0]);var k=(i.pageY-this._aTouchStartPosition[1]);if(this._bIsScrollVertical==null){this._bIsScrollVertical=Math.abs(k)>Math.abs(j);}if(this._bIsScrollVertical){var v=sap.ui.table.SharedDomRef.VerticalScrollBar;var l=this._oTT.getDomRef(v);if(l){var u=this._iTouchScrollTop-k;if(u>0&&u<(this._oTT.getDomRef(v+"-content").clientHeight-l.clientHeight)-1){this._preventBubbleAndDefault(d);}l.scrollTop=u;}}else{var H=sap.ui.table.SharedDomRef.HorizontalScrollBar;var w=this._oTT.getDomRef(H);if(w){var x=this._iTouchScrollLeft-j;if(x>0&&x<(this._oTT.getDomRef(H+"-content").clientWidth-w.clientWidth)-1){this._preventBubbleAndDefault(d);}w.scrollLeft=x;}}this._bScrolling=true;}};
t.prototype._onMouseWheel=function(d){this._oMouseWheelHandler.handleEvent(d);};
t.prototype.syncMouseWheelZoom=function(d){this._oMouseWheelHandler.handleEvent(d.originEvent,true);};
t.prototype.handleExpandChartChange=function(d,i,j){return this._ensureShapesCreated(function(){j=j?j:this._getSelectionHandler().getSelectedIndices();if(j.length>0){this._updateRowStatusMap(d,i,j);this._oTT.updateRows();}}.bind(this));};
t.prototype.invertRowExpandStatus=function(d,j){d=d?d:this._getSelectionHandler().getSelectedIndices();if(d.length>0&&j){for(var i=0;i<d.length;i++){var I=d[i];var k=this._ifRowExpanded(I,j);if(k!==null){this._updateRowStatusMap(!k,j,[I]);}}this._oTT.updateRows();}};
t.prototype._ifRowExpanded=function(i,d){var j=this._oTT;var k=j.getBinding();var l=k.getContextByIndex(i);var u=null;if(l){var v=l.getObject();var w=v.uid;var x=this._getRowSpanWithData(v,d),y=x.name;if(w&&this._oRowStatusMap[w]&&this._oRowStatusMap[w][y]){u=true;}else{u=false;}}return u;};
t.prototype._updateRowStatusMap=function(d,j,k){var l=this._oTT;var u=l.getBinding();for(var i=0;i<k.length;i++){var I=k[i];var v=u.getContextByIndex(I);if(v){var w;if(this._bJSONTreeBinding){w=v.getObject();}else{w=this._aFilteredRowData[I].data;}var x=w.uid;if(x){var y=this._getRowSpanWithData(w,j),z=y.name;if(d){if(this._oRowStatusMap[x]){this._oRowStatusMap[x][z]=y;}else{this._oRowStatusMap[x]={};this._oRowStatusMap[x][z]=y;}}else if(!d&&this._oRowStatusMap[x]){delete this._oRowStatusMap[x][z];delete this._oRowStatusMap[x].visibleRowSpan;if(q.isEmptyObject(this._oRowStatusMap[x])){delete this._oRowStatusMap[x];continue;}}this._getDrawingData([I,I]);}}}};
t.prototype.isRowExpanded=function(){var R=!q.isEmptyObject(this._oRowStatusMap);return R;};
t.prototype._getRowSpanWithData=function(d,i){var R=1,j=null,k=null,l=this.getRowTypeName();for(var u=0;u<i.length;u++){var v=i[u];var w;if(this._oChartSchemesConfigMap[v]&&this._oChartSchemesConfigMap[v].getModeKey()){w=this._oChartSchemesConfigMap[v].getModeKey();}else{w=this.getMode();}if(this._oObjectTypesConfigMap[d[l]]&&this._oObjectTypesConfigMap[d[l]].getExpandedChartSchemeKeys().length>0){var x=this._oObjectTypesConfigMap[d[l]].getExpandedChartSchemeKeys();if(q.inArray(v,x)>-1){var y=this._collectDataNameForValidChartScheme(v,w);if(y){k=y.drawData;R+=y.rowSpan;j=v;}}}}return{rowSpan:R,name:j,data:k};};
t.prototype._updateTableRowHeights=function(){if(this._aHeights){this._oTT._updateRowHeights(this._aHeights,false);}};
t.prototype.notifySourceChange=function(){this._oTT.setFirstVisibleRow(0);this.resetRowStatusMap();};
t.prototype.resetRowStatusMap=function(){this._oRowStatusMap={};};
t.prototype._collectDataNameForValidChartScheme=function(d,i){if(this._oChartSchemesConfigMap[d]){var j=[];var k=this._oChartSchemesConfigMap[d].getShapeKeys();var R=this._oChartSchemesConfigMap[d].getRowSpan();var l=this._oChartSchemesConfigMap[d].getRowIndexName();var u=this._oShapeManager.mShapeConfig;q.each(k,function(v,w){if(u[w]){var x=u[w].getModeKeys();if((x&&x.length>0&&q.inArray(i,x)>-1)||x.length==0||i==sap.gantt.config.DEFAULT_MODE_KEY){j.push(u[w].getShapeDataName());}}});if(j.length>0&&R>=1){return{"drawData":j,"rowSpan":R,"rowIndexName":l};}}};
t.prototype._composeParameterForClickPosition=function(d){var i=q(this.getDomSelectorById("svg"));var j=this._getMouseXPos(d);var k=this._getSvgCoodinateByDiv(i[0],j,d.pageY);var x=j-i.offset().left||d.offsetX;var y=d.pageY-i.offset().top||d.offsetY;if(!this._oAxisOrdinalOfVisibleRow){return null;}var l=this.getAxisTime().viewToTime(x);var u=this._oAxisOrdinalOfVisibleRow.viewToRowIndex(y,this._getVisibleRowCount())+this._oTT.getFirstVisibleRow();var R=U.getRowDatumByEventTarget(d.target);var v=R?R.objectInfoRef:null;var w=false;var z=this._oAxisOrdinal.viewToElementIndex(y);var H=this._aFilteredRowData[z];if(H&&H.index&&H.index!==0){w=true;}var I={"startTime":l,"svgPoint":k,"leadingRowNum":u,"leadingRowInfo":v,"rowIndex":z,"rowInfo":H,"isExpandedRow":w};return I;};
t.prototype.getAllRowData=function(){var d=this._oTT.getBinding("rows");return this._getDrawingData([0,d.getLength()-1]);};
t.prototype.getAllSelections=function(){var d=this.getSelectedRows();var i=this.getSelectedShapes();var j=this.getSelectedRelationships();return{"rows":d,"shapes":i,"relationships":j};};
t.prototype.getSelectedRows=function(){var d=this._getSelectionHandler().getSelectedIndices();var j=this._getDrawingData(undefined,d);var k=[];for(var i=0;i<j.length;i++){if(j[i]&&!j[i].parentId){k.push(j[i]);}}return k;};
t.prototype.getSelectedShapes=function(){var d=this._oShapeSelection.getSelectedShapeDatum();var R={};d.forEach(function(i){var j=this._oShapeSelection.getRowDatumByShapeUid(i.uid,this),k=U.getShapeDataNameByUid(i.uid);var l=R[k]||[];l.push({"shapeUid":i.uid,"shapeData":i,"objectInfoRef":j});R[k]=l;}.bind(this));return R;};
t.prototype.getSelectedRelationships=function(){return this._oShapeSelection.getSelectedRelationships();};
t.prototype.getRowByShapeUid=function(d){return this._oShapeSelection.getRowDatumByShapeUid(d,this);};
t.prototype.selectShapes=function(i,d){var j=this._oShapeSelection.selectShapes(i,d);if(j){this._drawSelectedShapes();}return this;};
t.prototype.selectByUid=function(u){var d=this._oShapeSelection.selectShapeByUid(u,this);if(d){this._drawSelectedShapes();}return this;};
t.prototype.deselectShapes=function(i){var d=this._oShapeSelection.deselectShapes(i);if(d){this._drawSelectedShapes();}return this;};
t.prototype.selectRowsAndShapes=function(R,d){if(!R||R.length===0){this.deselectShapes();this.deselectRows();return this;}var j=[];var k=U.getRowDatumById(R,this.getId());q.each(k,function(_,u){var v=u.shapeData;for(var i=0;i<v.length;i++){var w=v[i];if(this.isShapeSelectable(w)){j.push(w.__id__);}}}.bind(this));this._oShapeSelection.selectUnderlyingTableRows(R,this._oTT,d);var l=this._oShapeSelection.selectShapes(j,d);if(l){this._drawSelectedShapes();}return this;};
t.prototype.selectRelationships=function(i,d){var R=U.getShapeDatumById(i,this.getId());var u=this._oShapeSelection.selectRelationships(R,d);if(u){this._drawSelectedShapes();}return this;};
t.prototype.deselectRelationships=function(i){var u=this._oShapeSelection.deselectRelationships(i);if(u){this._drawSelectedShapes();}return this;};
t.prototype.selectRows=function(i,d){this._oShapeSelection.selectUnderlyingTableRows(i,this._oTT,d);return this;};
t.prototype.deselectRows=function(i){this._oShapeSelection.deselectUnderlyingTableRows(i,this._oTT);return this;};
t.prototype.expandToLevel=function(l){this._oTT.expandToLevel(l);return this;};
t.prototype.expand=function(R){this._oTT.expand(R);return this;};
t.prototype.collapse=function(R){this._oTT.collapse(R);return this;};
t.prototype.getVisibleRowCount=function(){return this._oTT.getVisibleRowCount();};
t.prototype._onRowSelectionChange=function(d){this.fireRowSelectionChange({originEvent:d});};
t.prototype._selectionChange=function(d,i,j,k){var R=U.getRowDatumByEventTarget(k.target);var l=R?R.objectInfoRef:null;var u=this._oShapeSelection.changeShapeSelection(d,l,i,this._bDragging,this._oShapeResizeHandler.getIsResizing());return u;};
t.prototype._syncTTSelection=function(d){M.start("GanttChart syncTTSelection","GanttPerf:GanttChart syncTTSelection function");var i=d.shiftKey;var j=d.ctrlKey;var $=q(this.getDomSelectorById("svg"))[0];var k=this._getSvgCoodinateByDiv($,this._getMouseXPos(d),d.pageY-window.pageYOffset);var R=parseInt(this._oAxisOrdinalOfVisibleRow.viewToElementIndex(k.y),10);if(R<0){return false;}var v=this._oTT.getRows();var I=v[R].getIndex();var l=this._getSelectionHandler();var u=typeof l.getSelectionMode==="function"?l.getSelectionMode():l._getSelectionMode();if(I>=0&&u!==sap.ui.table.SelectionMode.None){if(u===sap.ui.table.SelectionMode.Single){if(!l.isIndexSelected(I)){l.setSelectedIndex(I);}else{l.clearSelection();}}else{j=true;if(i){var w=l.getSelectedIndex();if(w>=0){if(w<I){l.addSelectionInterval(w,I);}else{l.addSelectionInterval(I,w);}}else{l.setSelectedIndex(I);}}else if(!l.isIndexSelected(I)){if(j){l.addSelectionInterval(I,I);}else{l.setSelectedIndex(I);}}else if(j){l.removeSelectionInterval(I,I);}else if(l.getSelectedIndices().length>1){l.setSelectedIndex(I);}}}M.end("GanttChart syncTTSelection");};
t.prototype._setEventStatus=function(d){switch(d){case"dragEnter":this._bDragStart=true;break;case"mouseDown":this._bMouseDown=true;this._bDragging=false;this._bDragStart=false;this._bScrolling=false;break;case"mouseUp":this._bMouseDown=false;this._bScrolling=false;break;case"shapeDragStart":this._bDragStart=true;break;case"shapeDragging":if(this._bDragStart){this._bDragging=true;}break;case"shapeDragEnd":this._bDragging=false;this._bDragStart=false;this._oDraggingData=undefined;break;case"dragLeave":this._bDragStart=false;break;default:break;}};
t.prototype._handleShapeDragStart=function(d){var j=q(this.getDomSelectorById("svg"));var k=d3.select(d.target).datum();var l=d.target.getAttribute("class").split(" ")[0];var u=this._oShapeManager.isShapeDraggable(k,l);if(k&&u){var v=this._oShapeSelection.getRowDatumByShapeUid(k.uid,this);if(v){var x=this._getMouseXPos(d)-j.offset().left||d.offsetX;var y=d.pageY-j.offset().top||d.offsetY;var w,z,H,I;if(d.target.getAttribute("x")&&d.target.getAttribute("width")){w=parseInt(d.target.getAttribute("x"),10);z=parseInt(d.target.getAttribute("y"),10);H=parseInt(d.target.getAttribute("width"),10);I=parseInt(d.target.getAttribute("height"),10);}else if(k.startTime){var J=this.getAxisTime().timeToView(F.abapTimestampToDate(k.startTime));var O=this.getAxisTime().timeToView(F.abapTimestampToDate(k.endTime));if(C.getConfiguration().getRTL()){w=O;H=(J-O)>0?(J-O):1;}else{w=J;H=(O-J)>0?(O-J):1;}z=y;I=v.rowHeight/2;}else{w=x;H=1;z=y;I=v.rowHeight/2;}var Q={"x":x,"y":y,"shapeX":w,"shapeWidth":H,"shapeY":z,"shapeHeight":I};var R=[];R.push({"shapeData":k,"objectInfo":v});var W=this._oShapeSelection.getSelectedShapeDatum();for(var i=0;i<W.length;i++){if(W[i].uid!==k.uid&&this._oShapeManager.isShapeDraggable(W[i])){R.push({"shapeData":W[i],"objectInfo":this._oShapeSelection.getRowDatumByShapeUid(W[i].uid,this)});}}var X=this._getDraggingDomObjs(d);this._oDraggingData={"sourceShapeData":R,"dragStartPoint":Q,"sourceSvgId":this.getId(),"targetSvgId":this.getId(),"domObject":X.contentDoms,"groupDom":X.groupDom};this._setEventStatus("shapeDragStart");q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).bind("mousemove.ganttChartDragDrop",this._handleShapeDragging.bind(this));q(document).bind("mouseup.ganttChartDragDrop",this._handleShapeDragEnd.bind(this));if(this.getEnableShapeTimeDisplay()){this._oTimePopoverHandler.handleTimePopover(d);}}}};
t.prototype._getDraggingDomObjs=function(d){var i={};var j=d3.select(d.target)[0][0];var k;if(j.parentElement){k=j.parentElement;}else if(j.parentNode){k=j.parentNode;}if(k&&k.getAttribute("class")){var l=k.getAttribute("class");var u=l.split(" ")[0];if(sap.ui.getCore().byId(u)instanceof sap.gantt.shape.Group){i.groupDom=k;i.contentDoms=k.childNodes;}else if(sap.ui.getCore().byId(u)instanceof sap.gantt.shape.Text){i.groupDom=k.parentElement;i.contentDoms=k.parentElement.childNodes;}}else{i.groupDom=j;i.contentDoms=[j];}return i;};
t.prototype._handleShapeDragging=function(d){if(!D.support.touch&&(d.button!==0||d.buttons===0||d.ctrlKey)){return false;}var R=C.getConfiguration().getRTL();var i=q(this.getDomSelectorById("svg"));var j=Math.abs((this._getMouseXPos(d)-i.offset().left||d.offsetX)-this._oDraggingData.dragStartPoint.x);var k=Math.abs((d.pageY-i.offset().top||d.offsetY)-this._oDraggingData.dragStartPoint.y);if(j>3||k>3){var l=d3.select("#dragDropShadow");var u=l[0];if(this._oDraggingData===undefined){if(!l.empty()){l.remove();}}else{var v=this._oDraggingData.dragStartPoint.shapeX;var w=this._oDraggingData.dragStartPoint.shapeY;var x=this._oDraggingData.dragStartPoint.x;var y=this._oDraggingData.dragStartPoint.y;var z=12;var H=10;if(l.empty()||u===null){this._handleDragWithoutSelection(d);var I=this._oDraggingData.sourceShapeData.length;u=d3.select("body").append("div").attr("id","dragDropShadow");u.classed("sapGanttDraggingShadow",true);var J=12;var O=12;var Q=this._oDraggingData.groupDom.getBoundingClientRect();if(Q){z=Q.width;H=Q.height;J=R?J:Math.ceil(Q.right);}if(D.browser.safari){z=this._oDraggingData.dragStartPoint.shapeWidth;H=this._oDraggingData.dragStartPoint.shapeHeight;}var W=H/2;var X='width="'+(z+5)+'" '+'height="'+(H+10)+'"';var Y=q(this._oDraggingData.groupDom).clone();this._resetShadowRelativePosition(Y,undefined,undefined,d3.select(this._oDraggingData.groupDom).data());var Z='<svg '+X+'>'+this._getOuterHTML(Y)+"</svg>";q("#dragDropShadow").append(Z);var $=u.select("svg");$.select("g").attr("opacity",0.5);$.append("text").attr("x",z/2-O/2).attr("y",W+4).attr("fill","blue").attr("font-size",O).text(function(){return I;});}var _;var a1=this._getMouseXPos(d);if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.Start){_=R?(a1-this._oDraggingData.dragStartPoint.shapeWidth):a1;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.None){_=v+a1-x;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.End){_=R?a1:(a1-this._oDraggingData.dragStartPoint.shapeWidth);}var b1=d.pageY;var c1=d.pageY;c1=w+b1-y;var d1=_+"px";var e1=c1+"px";var f1=z+5+"px";var g1=H+5+"px";d3.select("#dragDropShadow").style({'left':d1,'top':e1,'width':f1,'height':g1});q(document.body).addClass("sapGanttDraggingCursor sapGanttDraggingOverflow");q("svg").addClass("sapGanttDraggingCursor");this._setEventStatus("shapeDragging");this._handleAutoScroll(d);}}};
t.prototype._resetShadowRelativePosition=function(d,i,j,k){var l=this;if(d.attr("x")!==undefined){if(!i){d.attr("x",0);d.attr("y",2);}}var u=d.children();if(u&&u.length>0){if(!i){u=u.filter(function(x,y){var J=q(y);if(J.is('text')||J.is('title')){return false;}var z=null;if(y.getAttribute("class")){z=sap.ui.getCore().byId(y.getAttribute("class").split(" ")[0]);}if(J.attr("x")==undefined||J.attr("y")==undefined||z==null||z.getTime(k[0])==""){return false;}return true;});var v,w;u.each(function(z,H){var J=q(H);var x=J.attr("x");var y=J.attr("y")-2;if(!v){v=x;}else{v=x<v?x:v;}if(!w){w=y;}else{w=y<w?y:w;}});if(!v||!w){return;}u.each(function(x,y){var J=q(y);J.attr("x",J.attr("x")-v);J.attr("y",J.attr("y")-w);l._resetShadowRelativePosition(J,v,w);});}else{u.each(function(x,y){var J=q(y);if(J.attr("x")!==undefined){J.attr("x",J.attr("x")-i);J.attr("y",J.attr("y")-j);}l._resetShadowRelativePosition(J,i,j);});}}};
t.prototype._handleDragWithoutSelection=function(d){var i=this._oDraggingData.sourceShapeData[0];if(!this._oShapeSelection.isShapeSelected(i.shapeData.uid)){var R=false;if(!d.ctrlKey){this._oDraggingData.sourceShapeData.splice(1,this._oDraggingData.sourceShapeData.length-1);R=this._oShapeSelection.clearAllSelections();}this._oShapeSelection.selectByShapeData(i.shapeData);this._drawSelectedShapes();this.fireShapeSelectionChange({originEvent:d});if(R){this.fireRelationshipSelectionChange({originEvent:d});}}};
t.prototype._handleAutoScroll=function(d){return this._oAutoScrollHandler.autoScroll(this,d);};
t.prototype._handleShapeDragEnd=function(d){this._oAutoScrollHandler.stop();var i=d3.select("#dragDropShadow");if(!i.empty()){i.remove();}if(this._bDragging&&this._oDraggingData!==undefined){var j=this.getId();this._collectDraggingShapeData(this._oDraggingData,d);this.fireShapeDragEnd({originEvent:d,sourceSvgId:this._oDraggingData.sourceSvgId,targetSvgId:j,sourceShapeData:this._oDraggingData.sourceShapeData,targetData:this._oDraggingData.targetData});}q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q("svg").removeClass("sapGanttDraggingCursor");q(document.body).removeClass("sapGanttDraggingCursor sapGanttDraggingOverflow");this._setEventStatus("shapeDragEnd");};
t.prototype._collectDraggingShapeData=function(d,i){var j=q(this.getDomSelectorById("svg"));var x=parseInt((this._getMouseXPos(i)-j.offset().left||i.offsetX),10);var k=d.dragStartPoint.x;var l=x-parseInt(k,10);var u;var v=F.abapTimestampToDate(d.sourceShapeData[0].shapeData.endTime)-F.abapTimestampToDate(d.sourceShapeData[0].shapeData.startTime);if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.Start){u=x;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.None){u=parseInt(d.dragStartPoint.shapeX,10)+l;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.End){u=x-parseInt(d.dragStartPoint.shapeWidth,10);}var w,y;if(C.getConfiguration().getRTL()===true){y=this.getAxisTime().viewToTime(u).getTime();w=new Date(y-v).getTime();}else{w=this.getAxisTime().viewToTime(u).getTime();y=new Date(w+v).getTime();}var z=this._composeParameterForClickPosition(i);var H=z?z.rowInfo:undefined;d.targetData={"cursorTimestamp":this.getAxisTime().viewToTime(x).getTime(),"shapeTimestamp":{startTime:w,endTime:y},"mouseTimestamp":{startTime:w,endTime:y},"mode":this.getMode(),"objectInfo":H};};
t.prototype.setDraggingData=function(d){if(d!==undefined){this._oDraggingData=d;}if(this._oDraggingData!==undefined){this._oDraggingData.targetSvgId=this.getId();q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).bind("mousemove.ganttChartDragDrop",this._handleShapeDragging.bind(this));q(document).bind("mouseup.ganttChartDragDrop",this._handleShapeDragEnd.bind(this));q(document.body).unbind("mousemove.shapeDragDrop");q(document).unbind("mouseup.shapeDragDrop");q(document.body).bind("mousemove.shapeDragDrop",this._oTimePopoverHandler._handleTimePopoverDragging.bind(this._oTimePopoverHandler));q(document).bind("mouseup.shapeDragDrop",this._oTimePopoverHandler._handleTimePopoverEnd.bind(this._oTimePopoverHandler));this._setEventStatus("dragEnter");}};
t.prototype.setTimePopoverData=function(d){this._oTimePopoverHandler.setCurrentPopoverData(d);};
t.prototype._onSvgMouseEnter=function(d){if(d.button===0&&d.buttons!==0&&d.target&&(d.target.id===this.getId()+"-svg-ctn"||d.target.id===this.getId()+"-svg"||this._mouseInSvgCtn(d))){this.fireChartDragEnter({originEvent:d});}};
t.prototype._onSvgMouseLeave=function(d){if(d.target&&(d.target.id===this.getId()+"-svg-ctn"||d.target.id===this.getId()+"-svg"||!this._mouseInSvgCtn(d))){if(this._bDragStart&&this._oDraggingData!==undefined){this._handleDragLeave(d);}this._destroyCursorLine();this._handleHoverLeave();this._oShapeHoverHandler.handleShapeHover(null,d);}};
t.prototype._mouseInSvgCtn=function(d){var $=q(this.getDomSelectorById("svg-ctn"));var i=$.width()-((C.getConfiguration().getRTL()||(q(this.getTTVsbDom()).css("display")=="none"))?0:q(this.getTTVsbDom()).width());var j=$.height();var k=$.offset();var l=this._getMouseXPos(d)-k.left;var u=(d.pageY||d.clientY)-k.top;if(u>=0&&u<j&&l>=0&&l<i){return true;}return false;};
t.prototype._onSvgMouseDown=function(d){this._prepareSelection(d);this._prepareDragging(d);this._oShapeResizeHandler.handleShapeResize(d);};
t.prototype._onSvgMouseMove=function(d){this._drawCursorLine(d);this._handleHover(d);};
t.prototype._onContextMenu=function(d){d.preventDefault();};
t.prototype._onSvgMouseUp=function(d){if(d.button==2){this._handleRightClick(d);}else if(d.button==0&&!this._bDragging&&this._bMouseDown&&!this._oShapeResizeHandler.getIsResizing()){this._handleSelectionChange(d);}};
t.prototype._onSvgDoubleClick=function(d){if(!this._bDragging&&!this._oShapeResizeHandler.getIsResizing()&&!d.ctrlKey&&!d.shiftKey&&!(D.os.name===D.os.OS.MACINTOSH&&d.metaKey)){var i=this._composeParameterForClickPosition(d);this.fireChartDoubleClick({objectInfo:i?i.rowInfo:undefined,leadingRowInfo:i?i.leadingRowInfo:undefined,timestamp:i?i.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:i?i.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});}};
t.prototype._onSvgTouchstart=function(d){this._prepareSelection(d);this._onTouchScrollStart(d);};
t.prototype._onSvgTouchmove=function(d){this._onTouchScroll(d);};
t.prototype._onSvgTouchend=function(d){if(this._bScrolling){this._setEventStatus("mouseUp");}};
t.prototype._onKeyDown=function(d){if(d.which===K.Z&&this._oTimePeriodZoomHandler.isTimePeriodZoomEnabled()){this._oTimePeriodZoomHandler.invertActiveStatus();}};
t.prototype._preventBubbleAndDefault=function(d){d.preventDefault();d.stopPropagation();};
t.prototype._prepareSelection=function(d){if(!D.support.touch&&d.button!==0){return false;}if(!this._bDragging&&!this._oShapeResizeHandler.getIsResizing()){this._setEventStatus("mouseDown");}};
t.prototype._prepareDragging=function(d){if(d.button==0){if(this._oTimePeriodZoomHandler&&this._oTimePeriodZoomHandler.isActive()){this._oTimePeriodZoomHandler.handleDragStart(d);this._preventBubbleAndDefault(d);}else{var i=d3.select(d.target).data()[0];var j,k;if(d.target.getAttribute("class")){j=d.target.getAttribute("class").split(" ")[0];k=d3.select(d.target).classed("sapUiShapeResizingCursor");}if(!k&&j&&i&&this.isShapeSelectable(i,j)){if(this._bMouseDown){this._handleShapeDragStart(d);}this._preventBubbleAndDefault(d);}}}};
t.prototype.syncTimePeriodZoomStatus=function(d){if(d){this._oTimePeriodZoomHandler.activate(true);}else{this._oTimePeriodZoomHandler.deactivate(true);}};
t.prototype.syncTimePeriodZoomOperation=function(d,i,O){this._oTimePeriodZoomHandler.syncTimePeriodZoomOperation(d,i,O);};
t.prototype._handleRightClick=function(d){var i=this._composeParameterForClickPosition(d);this.fireChartRightClick({objectInfo:i?i.rowInfo:undefined,leadingRowInfo:i?i.leadingRowInfo:undefined,timestamp:i?i.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:i?i.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});};
t.prototype._handleClick=function(d){var i=this._composeParameterForClickPosition(d);this.fireChartClick({objectInfo:i?i.rowInfo:undefined,leadingRowInfo:i?i.leadingRowInfo:undefined,timestamp:i?i.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:i?i.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});};
t.prototype._drawCursorLine=function(d){if(this.getEnableCursorLine()){var i=q(this.getDomSelectorById("svg"));var j=this._getSvgCoodinateByDiv(i[0],this._getMouseXPos(d)-window.pageXOffset,d.pageY||d.clientY);this._oCursorLineDrawer.drawSvg(d3.selectAll(".sapGanttChartSvg"),d3.selectAll(".sapGanttChartHeaderSvg"),this.getLocale(),j);}};
t.prototype._destroyCursorLine=function(){if(this.getEnableCursorLine()){this._oCursorLineDrawer.destroySvg(d3.selectAll(".sapGanttChartSvg"),d3.selectAll(".sapGanttChartHeaderSvg"));}};
t.prototype._handleHover=function(d){var i=this._composeParameterForClickPosition(d);var R=i?i.leadingRowNum-this._oTT.getFirstVisibleRow():-1;R=R<0?-1:R;var j=i?i.isExpandedRow:false;var k=d3.select(d.target).data()[0];if(k){var l=this._getMouseXPos(d)-q(this.getDomSelectorById("svg")).offset().left||d.offsetX;this._oShapeResizeHandler.checkShapeResizable(k,d.target,i.svgPoint?i.svgPoint.x:l);}this._oShapeHoverHandler.handleShapeHover(k,d);if(R>-1&&((k!==undefined&&k.uid!==this._lastHoverShapeUid)||(k===undefined&&this._lastHoverShapeUid!==undefined)||R!==this._lastHoverRowIndex)){this.fireChartMouseOver({objectInfo:i?i.rowInfo:undefined,leadingRowInfo:i?i.leadingRowInfo:undefined,timestamp:i?i.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:i?i.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});if(k!==undefined){this._lastHoverShapeUid=k.uid;}else{this._lastHoverShapeUid=undefined;}}if(R>-1&&R!==this._lastHoverRowIndex){var u=this._oTT;var H=u.getRows()[R];if(H){u.$().find(".sapUiTableRowHvr").trigger("mouseout");if(!j){H.$().trigger("mouseover");}}}if(R!==this._lastHoverRowIndex){this._lastHoverRowIndex=R;}};
t.prototype._handleDragLeave=function(d){this._oDraggingData.targetSvgId=undefined;this._setEventStatus("dragLeave");this.fireChartDragLeave({originEvent:d,draggingSource:this._oDraggingData,timePopoverData:this._oTimePopoverHandler.getCurrentPopoverData()});};
t.prototype._handleHoverLeave=function(){var d=this._oTT;d.$().find(".sapUiTableRowHvr").trigger("mouseleave");this._lastHoverShapeUid=undefined;this._lastHoverRowIndex=-1;};
t.prototype._handleSelectionChange=function(d){var i=d3.select(d.target).datum();var j;if(d.target.getAttribute("class")){j=d.target.getAttribute("class").split(" ")[0];}var k={};if(i!==undefined&&this.isShapeSelectable(i,j)){var l=d.ctrlKey||(D.os.name===sap.ui.Device.os.OS.MACINTOSH&&d.metaKey);k=this._selectionChange(i,l,d.shiftKey,d);}else{if(!(this.getParent()instanceof sap.gantt.GanttChartWithTable)||(this.getParent().getTableProperties().selectionBehavior!==sap.ui.table.SelectionBehavior.RowSelector)){var u=this._composeParameterForClickPosition(d);if(u&&!u.isExpandedRow){this._syncTTSelection(d);}else{return null;}}if(this.getShapeSelectionMode()!==sap.gantt.SelectionMode.MultiWithKeyboard){k.shapeSelectionChange=this._oShapeSelection.clearShapeSelection();k.relationshipSelectionChange=this._oShapeSelection.clearRelationshipSelection();}}if(k.shapeSelectionChange||k.relationshipSelectionChange){this._drawSelectedShapes();}this._setEventStatus("mouseUp");if(k.shapeSelectionChange){this.fireShapeSelectionChange({originEvent:d});}if(k.relationshipSelectionChange){this.fireRelationshipSelectionChange({originEvent:d});}this._handleClick(d);};
t.prototype._bindScrollLogicForTT=function(){this._bindHorizontalScroll();this._bindVerticalScroll();};
t.prototype._bindHorizontalScroll=function(){this._updateScrollLeft();var $=q(this.getTTHsbDom());$.unbind("scroll.sapUiTableHScroll");$.unbind("scroll.sapUiTableHScrollForGanttChart",this._onHSbScroll);$.bind("scroll.sapUiTableHScrollForGanttChart",q.proxy(this._onHSbScroll,this));};
t.prototype._bindVerticalScroll=function(){var $=q(this.getTTVsbDom());$.unbind("scroll.sapUiTableVScrollForGanttChart",this._onVSbScroll);$.bind("scroll.sapUiTableVScrollForGanttChart",q.proxy(this._onVSbScroll,this));};
t.prototype._getSvgHeight=function(){return this._oTT.$().find(".sapUiTableCCnt").height();};
t.prototype._getRowHeights=function(){return this._aHeights;};
t.prototype.setBaseRowHeight=function(d){this.setProperty("baseRowHeight",d,true);this._oTT.setRowHeight(d);return this;};
t.prototype._setInferedBaseRowHeight=function(d){this._iInferedBaseRowHeight=d;};
t.prototype.getBaseRowHeight=function(){return this._iInferedBaseRowHeight?this._iInferedBaseRowHeight:this._iInferedBaseRowHeightOnTT;};
t.prototype._initialSvgDrawing=function(){if(this.getBaseRowHeight()&&this._iSvgHeight!=this._getSvgHeight()){this._iSvgHeight=this._getSvgHeight();this._bTableReady=true;this._onTTRowUpdate();}};
t.prototype._onHSbScroll=function(d){if(this._initHorizonApplied){var i=this._getHSBScrollLeft();if(!this._bSuppressSetVisibleHorizon){var j=this._getScrollRateByScrollLeft(i);var k=this._getVisibleHorizonByScrollRate(j);this._updateVisibleHorizon(k,"horizontalScroll");}this._bSuppressSetVisibleHorizon=false;var l=this.getAxisTimeStrategy();var v=l.getVisibleHorizon();var u=this.getVisibleWidth();this.fireHorizontalScroll({scrollSteps:i,startTime:v.getStartTime(),endTime:v.getEndTime(),visibleWidth:u});}};
t.prototype._getScrollRateByScrollLeft=function(i){var H=this._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar+"-content");var d=H.width();var j=this.getVisibleWidth();var k=0;if(d!==j){if(C.getConfiguration().getRTL()===true&&(D.browser.msie||D.browser.edge)){k=(d-i-j)/(d-j);}else if(C.getConfiguration().getRTL()===true&&D.browser.safari){k=(d+i-j)/(d-j);}else{k=i/(d-j);}k=k<0?0:k;k=k>1?1:k;}return k;};
t.prototype._getScrollRateByHorizon=function(d){var i=0;var j=this._nUpperRange-this._nLowerRange;var k=this.getVisibleWidth();if(this._initHorizonApplied&&j!==k){var l;if(C.getConfiguration().getRTL()){l=this.getAxisTime().timeToView(F.abapTimestampToDate(d.getEndTime()),true);i=l/(j-k);}else{l=this.getAxisTime().timeToView(F.abapTimestampToDate(d.getStartTime()),true);i=l/(j-k);}i=i<0?0:i;i=i>1?1:i;}return i;};
t.prototype._getHSBScrollLeftByScrollRate=function(d){var H=this._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar+"-content");var i=H.width();var j=this.getVisibleWidth();var k=d*(i-j);if(C.getConfiguration().getRTL()&&(D.browser.msie||D.browser.edge)){k=i-j-k;}else if(C.getConfiguration().getRTL()&&D.browser.safari){k=0-(i-j-k);}return k;};
t.prototype._getContentScrollLeftByScrollRate=function(d){var i=this._nUpperRange-this._nLowerRange;var j=this.getVisibleWidth();var k=d*(i-j);return k;};
t.prototype._getVisibleHorizonByScrollRate=function(d){var i=this._getContentScrollLeftByScrollRate(d);var j=this.getAxisTimeStrategy().getTotalHorizon();var v;var k={};var R=C.getConfiguration().getRTL();if(d===0){k.startTime=R?undefined:j.getStartTime();k.endTime=R?j.getEndTime():undefined;}else if(d===1){k.startTime=R?j.getStartTime():undefined;k.endTime=R?undefined:j.getEndTime();}else{var l=this.getAxisTime().viewToTime(i,true);k.startTime=R?undefined:l;k.endTime=R?l:undefined;}v=new m(k);return v;};
t.prototype.syncVisibleHorizon=function(d,v,k){var i=this.getAxisTimeStrategy();var j=i.getTotalHorizon();var l;if(v!==undefined){var u=this.getVisibleWidth();if(k){var w=i.getVisibleHorizon();var x=F.abapTimestampToDate(w.getStartTime());l=U.calculateHorizonByWidth(d,v,u,x);}else{l=U.calculateHorizonByWidth(d,v,u);}}else{l=d;}if(j.getEndTime()<l.getEndTime()){var y=F.abapTimestampToDate(l.getEndTime()).getTime()-F.abapTimestampToDate(l.getStartTime()).getTime();var z=F.abapTimestampToDate(j.getEndTime());var H=new Date();H.setTime(z.getTime()-y);l=new m({startTime:H,endTime:z});}this._updateVisibleHorizon(l,"syncVisibleHorizon");};
t.prototype._onVSbScroll=function(){if(!this._mTimeouts._drawSvg){this.$().find(".sapGanttChartSvg").css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");}this.fireVerticalScroll({scrollSteps:this._oTT.getFirstVisibleRow(),scrollPosition:q(this.getTTVsbDom()).scrollTop()});};
t.prototype._hSbScrollLeft=function(d){var $=q(this.getDomSelectorById("svg-ctn"));var i=q(this.getDomSelectorById("header"));var j;if(C.getConfiguration().getRTL()===true){if(!D.browser.safari){j=this._oStatusSet.aViewBoundary[1]-i.width()-d;if(j<0){j=0;}}else{j=0-d;}}else{j=d;}if(C.getConfiguration().getRTL()===true&&D.browser.firefox){if(Math.abs($.scrollLeftRTL()-j)>1){$.scrollLeftRTL(j);}if(Math.abs(i.scrollLeftRTL()-j)>1){i.scrollLeftRTL(j);}}else{if(Math.abs($.scrollLeft()-j)>1){$.scrollLeft(j);}if(Math.abs(i.scrollLeft()-j)>1){i.scrollLeft(j);}}};
t.prototype._doBirdEye=function(d){this._oBirdEyeHandler.doBirdEye(d);};
t.prototype.getLargestHorizonByDataRange=function(d,R,i){var j=this._oShapeManager.getAllShapeInstances();var k=[];if(j&&j.length>0){if(d===sap.gantt.config.BirdEyeRange.AllRows){k=k.concat(this.getAllRowData());}else if(d===sap.gantt.config.BirdEyeRange.VisibleRows){k=k.concat(this._aFilteredRowData);}else if(!d&&R>=0&&this._aFilteredRowData.length>R){k=k.concat(this._aFilteredRowData[R]);}this._oShapeManager.collectDataForAllShapeInstances(k,this._oObjectTypesConfigMap,this._oChartSchemesConfigMap);}return this._oBirdEyeHandler.calculateLargestVisibleHorizon(j,i);};
t.prototype.doBirdEyeOnRow=function(R){var i=this._getTTFirstRenderingRowIndex();R=R-i;this._oBirdEyeHandler.doBirdEye(null,R);};
t.prototype.jumpToPosition=function(v){if(v instanceof Date){this._updateVisibleHorizon(new m({startTime:v}),"jumpToPosition");}else if(v instanceof Array){this._updateVisibleHorizon(new m({startTime:v[0],endTime:v[1]}),"jumpToPosition");}else if(v===undefined){this._updateVisibleHorizon(this.getAxisTimeStrategy().getTotalHorizon(),"jumpToPosition");}};
t.prototype._updateVisibleHorizon=function(d,R){var i=this.getAxisTimeStrategy();var j=this.getVisibleWidth();i.updateGanttVisibleWidth(j);i.setVisibleHorizonWithReason(d,R);};
t.prototype._onTTRowUpdate=function(){if(this._bTableReady){this._syncSvgHeightWithTT();this._syncSvgDataWithTT();this._draw(true);}};
t.prototype._syncSvgHeightWithTT=function(){var $=this.$().find(".sapGanttChartSvgCtn");$.height(this._getSvgHeight());var d=this.$().find(".sapGanttChartSvg");d.height(q(this._oTT.$().find(".sapUiTableCtrlRowScroll:not(.sapUiTableCHT)")).height());};
t.prototype._syncSvgDataWithTT=function(){var d=this._oTT.getBinding("rows");if(!d){return false;}var i=this._getTTFirstRenderingRowIndex();var v=this._getVisibleRowCount();this._aFilteredRowData=[];this._aNonVisibleShapeData=[];var _=[];var j=[];var k=[i,i+v-1];var I=this._aRelationshipsContexts&&this._aRelationshipsContexts.length>0;if(I){d.getContexts(0,0);if(i>0){_=this._getDrawingData([0,i-1]);}j=this._getDrawingData([i+v,d.getLength()-1]);d.getContexts(k[0],k[1]);}this._aFilteredRowData=this._getDrawingData(k);this._aNonVisibleShapeData=_.concat(j);var l=this.getBaseRowHeight();if(!l){l=0;}this._oAxisOrdinal=this._createAxisOrdinal(this._aFilteredRowData,l,0);this._cacheObjectPosition(this._aFilteredRowData,this._oAxisOrdinal);this._cacheObjectPosition(_,this._oAxisOrdinal,true);this._cacheObjectPosition(j,this._oAxisOrdinal,false);if(!this._aVisibleRange||this._aVisibleRange[0]!==k[0]||this._aVisibleRange[1]!==k[1]){this._aVisibleRange=k;return true;}return false;};
t.prototype._cacheObjectPosition=function(d,l,u){if(d&&d.length>0){if(u===true){for(var i=0;i<d.length;i++){d[i].y=-100;d[i].rowHeight=l.getViewBandWidth();}}else if(u===false){for(var j=0;j<d.length;j++){d[j].y=l.getViewRange()[1]+100;d[j].rowHeight=l.getViewBandWidth();}}else{var v=[];var w=[];for(var k=0;k<d.length;k++){d[k].y=l.elementToView(d[k].uid);if(k>0){d[k-1].rowHeight=d[k].y-d[k-1].y;}if(d[k].visibleRowSpan){d[k].visibleRowHeight=d[k].visibleRowSpan*l.getViewBandWidth();v.push(d[k].uid);w.push(d[k].visibleRowSpan);}}d[d.length-1].rowHeight=l.getViewRange()[1]-d[d.length-1].y;this._oAxisOrdinalOfVisibleRow=new e(v,w,this.getBaseRowHeight(),0);}}};
t.prototype._prepareRelationshipDataFromModel=function(){this._aRelationships=[];if(this._aRelationshipsContexts){for(var i=0;i<this._aRelationshipsContexts.length;i++){var R=this._aRelationshipsContexts[i].getObject();if(R!==undefined){this._aRelationships.push(R);}}}U.generateUidForRelationship(this._aRelationships,this.getRlsIdName());};
t.prototype._createAxisOrdinal=function(d,i,j){var R=d.map(function(l){return l.uid;});var k=d.map(function(l){if(l.rowSpan){return l.rowSpan;}else{return 1;}});return new e(R,k,i,j);};
t.prototype.getFilteredRowData=function(R){return this._aFilteredRowData;};
t.prototype._getDrawingData=function(R,d){var u=function(h1,j1,l1,m1){if(!h1[j1]){h1.push({});}if(!h1[j1][l1]){h1[j1][l1]=[];}h1[j1][l1].push(m1);};var i,j,k,l,v,w;var x=this.getRowIdName();var y=this.getRowTypeName();var z=this._oTT.getBinding("rows");var H=this._oTT.getBindingInfo("rows");var I=[];var J=[],O;if(d){J=d;}else{for(i=R[0];i<=R[1];i++){J.push(i);}}O=J.length;if(z!==undefined){var Q=z.getModel();var W=this.getShapeDataNames();for(i=0;i<O;i++){var X=this._oTT.getContextByIndex(J[i]);if(!X){continue;}else{v=X.getObject();if(!v){continue;}}var Y=1;w=this._oObjectTypesConfigMap[v[y]]?this._oObjectTypesConfigMap[v[y]].getMainChartSchemeKey():sap.gantt.config.DEFAULT_CHART_SCHEME_KEY;if(v[y]){var Z=this._oChartSchemesConfigMap[w];if(Z){Y=Z.getRowSpan();}}var $={"bindingObj":z,"bindingInfo":H,"contextObj":X,"data":v,"id":v[x],"type":v[y],"rowSpan":Y,"chartScheme":w,"rowIndex":J[i],"index":0,"visibleRowSpan":Y};I.push($);if(!this._bJSONTreeBinding){if(W&&W.length>0){for(j=0;j<W.length;j++){var _;if(typeof W[j]==="string"){_=W[j];}else{_=W[j].name;}var a1=X.getProperty(_);var b1;if(a1){$.data[_]=[];for(k=0;k<a1.length;k++){var c1=a1[k];if(typeof c1==="string"){b1=Q.getData("/"+c1);}else{b1=c1;}$.data[_].push(b1);}}}}}U.generateRowUid([$],this._oObjectTypesConfigMap,W,undefined,x);var d1=v.uid;if(d1&&this._oRowStatusMap[d1]){for(w in this._oRowStatusMap[d1]){var e1;if(this._oChartSchemesConfigMap[w]&&this._oChartSchemesConfigMap[w].getModeKey()&&this._oChartSchemesConfigMap[w].getModeKey()!==sap.gantt.config.DEFAULT_MODE_KEY){e1=this._oChartSchemesConfigMap[w].getModeKey();}else{e1=this.getMode();}var f1=this._collectDataNameForValidChartScheme(w,e1);if(f1&&f1.drawData){var g1=0;var h1=[{}];for(j=0;j<f1.drawData.length;j++){if(!v[f1.drawData[j]]){continue;}for(k=0;k<v[f1.drawData[j]].length;k++){var i1=v[f1.drawData[j]][k][f1.rowIndexName];if(i1&&g1<i1){g1=i1;}}}if(g1>0){for(j=0;j<f1.drawData.length;j++){if(!v[f1.drawData[j]]){continue;}for(k=0;k<v[f1.drawData[j]].length;k++){var j1=v[f1.drawData[j]][k][f1.rowIndexName];if(j1){u(h1,j1,f1.drawData[j],v[f1.drawData[j]][k]);}else{for(l=1;l<=g1;l++){u(h1,l,f1.drawData[j],v[f1.drawData[j]][k]);}}}}for(j=1;j<=g1;j++){var k1={"bindingObj":z,"bindingInfo":H,"data":h1[j],"id":v[x],"type":v[y],"parentId":$.id,"rowSpan":f1.rowSpan,"chartScheme":w,"rowIndex":J[i],"index":j,"icon":this._oChartSchemesConfigMap[w].getIcon(),"closeIcon":"./image/closeChart.png","name":this._oChartSchemesConfigMap[w].getName()};U.generateRowUid([k1],this._oObjectTypesConfigMap,W,undefined,x);I.push(k1);$.visibleRowSpan+=f1.rowSpan;}}}}this._oRowStatusMap[d1].visibleRowSpan=$.visibleRowSpan;}}}return I;};
t.prototype._prepareVerticalDrawingRange=function(){var d=this._oTT.getBinding("rows").getLength()-1;if(d<0){return[0,-1];}var i=this._getTTFirstRenderingRowIndex();var j=i+this._getVisibleRowCount()-1;var k=i;var l=j<d?j:d;return[k,l];};
t.prototype._prepareHorizontalDrawingRange=function(){var d=this._nUpperRange-this._nLowerRange;var i=this.getVisibleWidth();if(!this._oStatusSet){this._updateScrollWidth();}var j=this._getContentScrollLeft();if(this._oStatusSet){if((i>=d||(this._oStatusSet.aViewBoundary[0]<=j-this._oStatusSet.nOffset&&this._oStatusSet.aViewBoundary[1]>=j+i-this._oStatusSet.nOffset))){if(!this._mTimeouts._drawSvg){this._updateScrollLeft();this._scrollSvg();}return false;}}var k=i*(1+this._fExtendFactor*2);var l=j-i*this._fExtendFactor;if(l<this._nLowerRange){k+=l;l=0;}if(l+k>this._nUpperRange){k=this._nUpperRange-l;}this.getAxisTime().setViewOffset(l);if(k<0){return false;}this._oStatusSet={nWidth:k,nOffset:l,nScrollLeft:j,aViewBoundary:[0,k],aTimeBoundary:[this.getAxisTime().viewToTime(0),this.getAxisTime().viewToTime(k)],bRTL:C.getConfiguration().getRTL()};return true;};
t.prototype._draw=function(d){if(!this._bTableReady){return;}this._ensureShapesCreated(function(){var i=this._nUpperRange-this._nLowerRange;if(i<=2){return;}var j=this.getVisibleWidth();if(!j||j<=0||j>document.body.clientWidth){return;}var k=this.getAxisTimeStrategy().syncContext(j);this.fireEvent("_zoomInfoUpdated",k);if(k.axisTimeChanged){this.setProperty("timeZoomRate",this.getAxisTime().getZoomRate(),true);this.resetWidthInfo();}if(!this._prepareHorizontalDrawingRange()&&!d){return;}this._updateTableRowHeights();var l=this;this._mTimeouts._drawSvg=this._mTimeouts._drawSvg||window.setTimeout(function(){l._drawSvg();},0);}.bind(this));};
t.prototype.getVisibleWidth=function(){var $=q(this.getDomSelectorById("svg-ctn"));if(!$){return null;}var d=this.getTTVsbDom()!=null?this.getTTVsbDom().getBoundingClientRect().width:0;var i=$.width()-(C.getConfiguration().getRTL()?0:d);if(!i||i<=0){return null;}return i;};
t.prototype._updateScrollWidth=function(){var d=this._nUpperRange-this._nLowerRange;this._oColumn.setWidth((d-4)+"px");};
t.prototype._updateScrollLeft=function(u){var $=q(this.getTTHsbDom());var d=this._calHSBScrollLeft();var i=this._getHSBScrollLeft($);if(Math.abs(i-d)>1){this._bSuppressSetVisibleHorizon=!u;if((C.getConfiguration().getRTL()===true&&D.browser.firefox)){$.scrollLeftRTL(d);}else{$.scrollLeft(d);}}else if(this._forceHsbScrollSync(i,d)){this._bSuppressSetVisibleHorizon=!u;this._onHSbScroll();}};
t.prototype._forceHsbScrollSync=function(d,i){if(this._oLastVisibleHorizon){var v=this.getAxisTimeStrategy().getVisibleHorizon();if(v&&(this._oLastVisibleHorizon.getStartTime()!=v.getStartTime()||this._oLastVisibleHorizon.getEndTime()!=v.getEndTime())){this._oLastVisibleHorizon=v;return true;}}return false;};
t.prototype._calHSBScrollLeft=function(){var d=this.getAxisTimeStrategy().getVisibleHorizon();var i=this._getScrollRateByHorizon(d);var j=this._getHSBScrollLeftByScrollRate(i);return j;};
t.prototype._getHSBScrollLeft=function($){if(!$){$=q(this.getTTHsbDom());}return(C.getConfiguration().getRTL()===true&&D.browser.firefox)?$.scrollLeftRTL():$.scrollLeft();};
t.prototype._scrollSvg=function(){var $=q(this.getDomSelectorById("svg"));var d=q(this.getDomSelectorById("header-svg"));if(Math.abs(this._oStatusSet.nWidth-$.width())>1){$.width(this._oStatusSet.nWidth+((C.getConfiguration().getRTL())?0:q(this.getTTVsbDom()).width()));}if(Math.abs(this._oStatusSet.nWidth-d.width())>1){d.width(this._oStatusSet.nWidth+((C.getConfiguration().getRTL())?0:q(this.getTTVsbDom()).width()));}var i=this.getVisibleWidth();var j=this._getContentScrollLeft();if(C.getConfiguration().getRTL()===true&&!(D.browser.msie||D.browser.edge)){this._hSbScrollLeft(this._oStatusSet.nOffset-j+this._oStatusSet.nWidth-i);}else{this._hSbScrollLeft(j-this._oStatusSet.nOffset);}};
t.prototype._getContentScrollLeft=function(){var d=this.getAxisTimeStrategy().getVisibleHorizon();var i=this._getScrollRateByHorizon(d);var j=this._getContentScrollLeftByScrollRate(i);return j;};
t.prototype._drawSvg=function(){M.start("GanttChart _drawSvg","GanttPerf:GanttChart _drawSvg function");if(!this._initHorizonApplied){this._prepareHorizontalDrawingRange();this._initHorizonApplied=true;this._updateScrollLeft(true);}else{this._updateScrollLeft();}q(this.getDomSelectorById("svg-ctn")).css("visibility","hidden");this._scrollSvg();q(this.getDomSelectorById("svg-ctn")).css("visibility","visible");this._sUiSizeMode=U.findSapUiSizeClass(this);this._drawCalendarPattern();this._drawHeader();this._drawNowLine();this._drawVerticalLine();this._drawExpandedBackground();this._drawShapes();this._drawSelectedShapes();this._drawAdhocLine();delete this._mTimeouts._drawSvg;this.$().find(".sapGanttChartSvg").css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");this.fireEvent("_shapesUpdated",{aSvg:q(this.getDomSelectorById("svg"))});M.end("GanttChart _drawSvg");};
t.prototype._drawHeader=function(){var $=q(this.getDomRef()).find(".sapGanttChartHeader");var j=$.height();var H=d3.select(q(this.getDomRef()).find(".sapGanttChartHeaderSvg").get(0));H.attr("height",j);var k=j/5*2;var l=j/5*4;var u=j/5*4;var v=this.getAxisTimeStrategy();var w=window.screen.width;var x=this.getAxisTime().getTickTimeIntervalLabel(v.getTimeLineOption(),null,[0,this._oStatusSet.nWidth>=w?this._oStatusSet.nWidth:w]);H.selectAll("g").remove();var y=H.append("g");y.selectAll("label0").data(x[0]).enter().append("text").classed("sapGanttTimeHeaderSvgText0",true).text(function(d){return d.label;}).attr("x",this._getXwithOffset).attr("y",function(d){return k;}).attr("text-anchor","start");y.selectAll("label1").data(x[1]).enter().append("text").classed("sapGanttTimeHeaderSvgText1",true).text(function(d){return d.label;}).attr("x",this._getXwithOffset).attr("y",function(d){return u;});d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText1").each(function(d,i){d3.select(this).append("title").text(function(d){if(d!=null){return d.largeLabel;}});});if((D.browser.msie||D.browser.edge)&&C.getConfiguration().getRTL()){d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText0").each(function(d,i){d3.select(this).attr("transform",function(d){var O="translate("+(-U.calculateStringLength(d.label)*parseInt(q(".sapGanttTimeHeaderSvgText0").css("font-size"),10)/2)+")";return O;});});d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText1").each(function(d,i){d3.select(this).attr("transform",function(d){var O="translate("+(-U.calculateStringLength(d.label)*parseInt(q(".sapGanttTimeHeaderSvgText1").css("font-size"),10)/2)+")";return O;});});}var z="";for(var i=0;i<x[1].length;i++){var I=x[1][i];if(I){z+=" M"+" "+(I.value-1/2)+" "+l+" L"+" "+(I.value-1/2)+" "+j;}}var J="";for(var i=0;i<x[0].length;i++){var I=x[0][i];if(I){J+=" M"+" "+(I.value-1/2)+" 0"+" L"+" "+(I.value-1/2)+" "+j/2;}}y.append("path").classed("sapGanttTimeHeaderSvgPath",true).attr("d",z);y.append("path").classed("sapGanttTimeHeaderLargeIntervalSvgPath",true).attr("d",J);};
t.prototype._getXwithOffset=function(d){var O=5;if(C.getConfiguration().getRTL()){return d.value-O;}else{return d.value+O;}};
t.prototype._drawCalendarPattern=function(){var $=d3.select(this.getDomSelectorById("svg"));this._oCalendarPatternDrawer.drawSvg($,this.getId(),this.getCalendarDef(),this._oStatusSet,this.getBaseRowHeight());};
t.prototype._drawNowLine=function(){this._oNowlineDrawer=new N(this.getAxisTime());var $=d3.select(this.getDomSelectorById("header-svg")),d=d3.select(this.getDomSelectorById("svg"));if(this.getEnableNowLine()){this._oNowlineDrawer.drawSvg(d,$,this.getNowLineInUTC());}else{this._oNowlineDrawer.destroySvg(d,$);}};
t.prototype._drawVerticalLine=function(){this._oVerticalLineDrawer=new V(this.getAxisTime());var $=d3.select(this.getDomSelectorById("svg"));if(this.getEnableVerticalLine()){this._oVerticalLineDrawer.drawSvg($);}else{this._oVerticalLineDrawer.destroySvg($);}};
t.prototype._drawAdhocLine=function(){this._oAdhocLineDrawer=new A(this.getAxisTime());var $=d3.select(this.getDomSelectorById("svg"));if(this.getEnableAdhocLine()){this._oAdhocLineDrawer.drawSvg($,this.getAdhocLines(),this._oStatusSet,this.getAdhocLineLayer());}else{this._oAdhocLineDrawer.destroySvg($);}};
t.prototype._drawExpandedBackground=function(){var d=d3.select(this.getDomSelectorById("svg"));if(!this._oTT||!this._oTT.getRows()||this._oTT.getRows().length<=0){return;}if(this._aFilteredRowData){var i=this._composeChartSchemeBackgroundConfig();this._oExpandedBackgroundDrawer.drawSvg(d,this._aFilteredRowData,i);}};
t.prototype._composeChartSchemeBackgroundConfig=function(){var d=this._oChartSchemesConfigMap;var i={};if(d){for(var j in d){if(d[j].getHaveBackground()){i[j]=d[j].getBackgroundClass();}}}return i;};
t.prototype._drawShapes=function(){var d=d3.select(this.getDomSelectorById("svg"));var j=this._oShapeManager.getAllShapeInstances();var k=this._oShapeManager.mShapeInstance;if(this._aFilteredRowData&&j&&j.length>0){this._oShapeManager.collectDataForAllShapeInstances(this._aFilteredRowData,this._oObjectTypesConfigMap,this._oChartSchemesConfigMap);var l=this.getAxisTime();var u=this._oShapeCrossRowDrawer.generateRelationshipDataSet(d,k,this._aNonVisibleShapeData,this.getShapeDataNames(),this._aRelationships,l,this._oAxisOrdinal);for(var i=0;i<j.length;i++){var v=j[i];switch(v.getCategory(null,l,this._oAxisOrdinal)){case sap.gantt.shape.ShapeCategory.InRowShape:this._oShapeInRowDrawer.drawSvg(d,v,l,this._oAxisOrdinal,this._oStatusSet);break;case sap.gantt.shape.ShapeCategory.Relationship:v.dataSet=this._oShapeManager.isRelationshipDisplayable(v)?u:[];this._oShapeCrossRowDrawer.drawSvg(d,v,l,this._oAxisOrdinal);break;default:break;}}}};
t.prototype.getShapeInstance=function(d){this._ensureShapesCreatedSync();return this._oShapeManager.mShapeInstance[d];};
t.prototype._drawSelectedShapes=function(){var d=d3.select(this.getDomSelectorById("svg"));var i=this._oShapeManager.mShapeInstance;this._oShapeManager.collectDataForSelectedShapes(this._oShapeSelection,this._oObjectTypesConfigMap,this._oChartSchemesConfigMap);var j=this.getAxisTime();var k=this._oShapeCrossRowDrawer.generateRelationshipDataSet(d,i,this._aNonVisibleShapeData,this.getShapeDataNames(),this._oShapeSelection.getSelectedRelationships(),j,this._oAxisOrdinal);for(var l in i){var u=i[l].getAggregation("selectedShape");var v=u.getCategory(null,this._oAxisTime,this._oAxisOrdinal);switch(v){case sap.gantt.shape.ShapeCategory.InRowShape:this._oShapeInRowDrawer.drawSvg(d,u,j,this._oAxisOrdinal,this._oStatusSet);break;case sap.gantt.shape.ShapeCategory.Relationship:u.dataSet=k;this._oShapeCrossRowDrawer.drawSvg(d,u,j,this._oAxisOrdinal);break;default:break;}}};
t.prototype._getSvgCoodinateByDiv=function(d,x,y){var i=d.createSVGPoint();i.x=x;i.y=y;i=i.matrixTransform(d.getScreenCTM().inverse());i.svgHeight=d.height.baseVal.value;i.svgId=this.getId()+"-svg";return i;};
t.prototype.isShapeSelectable=function(d,i){return this._oShapeManager.isShapeSelectable(d,i);};
t.prototype.getAxisOrdinal=function(){return this._oAxisOrdinal;};
t.prototype._ensureAxisTimeCreated=function(){var d=this.getAxisTimeStrategy().getAxisTime();if(!d){this._createAxisTime(this.getAxisTimeStrategy());d=this.getAxisTimeStrategy().getAxisTime();}};
t.prototype._ensureShapesCreatedSync=function(){this._ensureAxisTimeCreated();if(!this._shapesInited){var d=this.getProperty("shapes");if(d&&d.length>0){this._oShapeManager.instantiateShapesSync(d);}this._shapesInited=true;}};
t.prototype._ensureShapesCreated=function(d){d=d||function(){};this._ensureAxisTimeCreated();if(!this._shapesInited){var i=this.getProperty("shapes");if(i&&i.length>0){try{this._oShapeManager.instantiateShapesSync(i);this._shapesInited=true;d();}catch(j){this._oShapeManager.instantiateShapes(i).then(function(){this._shapesInited=true;d();}.bind(this)).catch(function(){});}}else{this._shapesInited=true;d();}}else{d();}};
t.prototype.getAxisTime=function(){this._ensureAxisTimeCreated();var d=this.getAxisTimeStrategy().getAxisTime();return d;};
t.prototype.ondblclick=function(d){return null;};
t.prototype.onclick=function(d){return null;};
t.prototype.getSapUiSizeClass=function(){return this._sUiSizeMode;};
t.prototype.setFirstVisibleRow=function(R){this.setTableProperties({firstVisableRow:R});return this;};
t.prototype._getVisibleRowCount=function(){return this._oTT.getVisibleRowCount()+1;};
t.prototype._setLargeDataScrolling=function(l){if(this._oTT._setLargeDataScrolling){this._oTT._setLargeDataScrolling(!!l);}};
t.prototype.exit=function(){this._oShapeManager.destroy();this._detachEvents();this._cleanUpTimers();};
t.prototype._cleanUpTimers=function(){for(var k in this._mTimeouts){if(this._mTimeouts[k]){clearTimeout(this._mTimeouts[k]);this._mTimeouts[k]=undefined;}}};
t.prototype.getTTHsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar);};
t.prototype.getTTVsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar);};
t.prototype._getTTFirstRenderingRowIndex=function(){if(this._oTT.getRows().length>0){return this._oTT.getRows()[0].getIndex();}return this._oTT.getFirstVisibleRow();};
t.prototype._getMouseXPos=function(d){if(D.browser.edge){return d.clientX;}return d.pageX;};
t.prototype._getOuterHTML=function(d){if(D.browser.msie){return q('<div>').append(d).html();}return d.prop("outerHTML");};
return t;},true);
sap.ui.predefine('sap/gantt/GanttChartBase',['sap/ui/thirdparty/jquery',"sap/base/Log",'sap/gantt/library','sap/ui/core/Control',"./misc/Utility"],function(q,L,l,C,U){"use strict";
var G=C.extend("sap.gantt.GanttChartBase",{metadata:{"abstract":true,library:"sap.gantt",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},enableShapeTimeDisplay:{type:"boolean",defaultValue:false},timeZoomRate:{type:"float",defaultValue:1},mode:{type:"string",defaultValue:l.config.DEFAULT_MODE_KEY},selectionMode:{type:"sap.gantt.SelectionMode",defaultValue:l.SelectionMode.MultiWithKeyboard},shapeSelectionMode:{type:"sap.gantt.SelectionMode",defaultValue:l.SelectionMode.MultiWithKeyboard},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},hierarchyKey:{type:"string",defaultValue:l.config.DEFAULT_HIERARCHY_KEY},baseRowHeight:{type:"int",group:"Appearance",defaultValue:null},svgDefs:{type:"object",defaultValue:null},timeAxis:{type:"object",defaultValue:l.config.DEFAULT_TIME_AXIS},modes:{type:"object[]",defaultValue:l.config.DEFAULT_MODES},toolbarSchemes:{type:"object[]",defaultValue:l.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEMES},hierarchies:{type:"object[]",defaultValue:l.config.DEFAULT_HIERARCHYS},objectTypes:{type:"object[]",defaultValue:l.config.DEFAULT_OBJECT_TYPES},chartSchemes:{type:"object[]",defaultValue:l.config.DEFAULT_CHART_SCHEMES},locale:{type:"object",defaultValue:l.config.DEFAULT_LOCALE_CET},shapeDataNames:{type:"sap.gantt.GenericArray",defaultValue:[]},shapes:{type:"object[]",defaultValue:[]},adhocLineLayer:{type:"string",defaultValue:l.AdhocLineLayer.Top},tableProperties:{type:"object",defaultValue:{}},ghostAlignment:{type:"string",defaultValue:l.dragdrop.GhostAlignment.None},nowLineInUTC:{type:"boolean",defaultValue:true}},aggregations:{rows:{type:"sap.ui.core.Control",multiple:true,singularName:"row",bindable:"bindable",visibility:"public"},relationships:{type:"sap.ui.core.Control",multiple:true,bindable:"bindable",visibility:"public"},calendarDef:{type:"sap.gantt.def.cal.CalendarDefs",multiple:false,bindable:"bindable",visibility:"public"},axisTimeStrategy:{type:"sap.gantt.axistime.AxisTimeStrategyBase",multiple:false,bindable:"bindable",visibility:"public"},adhocLines:{type:"sap.gantt.AdhocLine",multiple:true,singularName:"adhocLine",bindable:"bindable",visibility:"public"}},events:{ganttChartSwitchRequested:{parameters:{hierarchyKey:{type:"string"}}},splitterResize:{parameters:{id:{type:"string"},oldSizes:{type:"int[]"},newSizes:{type:"int[]"},zoomInfo:{type:"object"}}},horizontalScroll:{parameters:{scrollSteps:{type:"int"},startTime:{type:"string"},endTime:{type:"string"}}},verticalScroll:{parameters:{scrollSteps:{type:"int"}}},chartMouseOver:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDoubleClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartRightClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDragEnter:{parameters:{originEvent:{type:"object"}}},chartDragLeave:{parameters:{originEvent:{type:"object"},draggingSource:{type:"object"}}},rowSelectionChange:{parameters:{originEvent:{type:"object"}}},relationshipSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeDragEnd:{parameters:{originEvent:{type:"object"},sourceShapeData:{type:"object[]"},sourceSvgId:{type:"string"},targetData:{type:"object"},targetSvgId:{type:"string"}}},treeTableToggleEvent:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}},shapeResizeEnd:{parameters:{shapeUid:{type:"string"},rowObject:{type:"object"},oldTime:{type:"string[]"},newTime:{type:"string[]"}}},shapeMouseEnter:{parameters:{shapeData:{type:"object"},pageX:{type:"int"},pageY:{type:"int"},originEvent:{type:"object"}}},shapeMouseLeave:{parameters:{shapeData:{type:"object"},originEvent:{type:"object"}}}}}});
G.getMetadata().getAllAggregations()["rows"]._doesNotRequireFactory=true;G.getMetadata().getAllAggregations()["relationships"]._doesNotRequireFactory=true;
G.prototype.init=function(){this._iBaseRowHeight=undefined;this.mDefaultTableProperties={rowHeight:33,threshold:100,firstVisibleRow:0,selectionMode:sap.ui.table.SelectionMode.MultiToggle};};
G.prototype.handleExpandChartChange=function(e,c,s){};
G.prototype.notifySourceChange=function(){};
G.prototype._setLargeDataScrolling=function(b){};
G.prototype._getConfiguredRowKeys=function(b){if(!b){b=this.getBindingInfo("rows");}var r;if(b&&b.parameters){r=b.parameters.gantt;}this._configuredRowKeys={rowIdName:r&&r.rowIdName?r.rowIdName:"id",rowTypeName:r&&r.rowTypeName?r.rowTypeName:"type"};return this._configuredRowKeys;};
G.prototype.getRowIdName=function(){if(!this._configuredRowKeys){this._getConfiguredRowKeys();}return this._configuredRowKeys.rowIdName;};
G.prototype.getRowTypeName=function(){if(!this._configuredRowKeys){this._getConfiguredRowKeys();}return this._configuredRowKeys.rowTypeName;};
G.prototype.getRlsIdName=function(){if(!this._configuredRlsKeys){this._getConfiguredRlsKeys();}return this._configuredRlsKeys.rlsIdName;};
G.prototype._getConfiguredRlsKeys=function(){var b=this.getBindingInfo("relationships");var c;if(b&&b.parameters){c=b.parameters.gantt;}this._configuredRlsKeys={rlsIdName:c&&c.rlsIdName?c.rlsIdName:"id"};return this._configuredRlsKeys;};
G.prototype.getDomSelectorById=function(s){var a=U.attributeEqualSelector("id",s?this.getId()+"-"+s:this.getId());return a;};
G.prototype.setTableProperties=function(p){var t=q.extend({},this.getProperty("tableProperties"));Object.keys(p).forEach(function(k){if(this.mDefaultTableProperties.hasOwnProperty(k)){t[k]=p[k];var f="set"+k[0].toUpperCase()+k.slice(1);if(f==="setSelectionMode"){this._getSelectionHandler().setSelectionMode(p[k]);}else{this._oTT[f](p[k]);}}else{L.warning('The TreeTable property of "'+k+'" is not exposed by Gantt');}},this);this.setProperty("tableProperties",t,true);return this;};
G.prototype.getTableProperties=function(){var t=this.getProperty("tableProperties");Object.keys(t).forEach(function(k){if(k==="selectionMode"){var s=this._getSelectionHandler();t[k]=typeof s.getSelectionMode==="function"?s.getSelectionMode():s._getSelectionMode();}else{t[k]=this._oTT["get"+k[0].toUpperCase()+k.slice(1)]();}},this);return t;};
G.prototype._getSelectionHandler=function(){return this._oTT._oSelectionPlugin||this._oTT;};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartContainer',["sap/ui/performance/Measurement","sap/gantt/library","sap/ui/core/Control","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","sap/ui/core/library","./control/Toolbar","./control/AssociateContainer","./config/TimeHorizon","./misc/Format"],function(M,l,C,S,a,c,T,A,b,F){"use strict";var O=c.Orientation;
var G=C.extend("sap.gantt.GanttChartContainer",{metadata:{library:"sap.gantt",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},svgDefs:{type:"object",defaultValue:null},modes:{type:"object[]",defaultValue:l.config.DEFAULT_MODES},toolbarSchemes:{type:"object[]",defaultValue:l.config.DEFAULT_CONTAINER_TOOLBAR_SCHEMES},hierarchies:{type:"object[]",defaultValue:l.config.DEFAULT_HIERARCHYS},containerLayouts:{type:"object[]",defaultValue:l.config.DEFAULT_CONTAINER_LAYOUTS},containerLayoutKey:{type:"string",defaultValue:l.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY},sliderStep:{type:"int",defautValue:undefined},maxNumOfGanttCharts:{type:"int",defaultValue:3}},aggregations:{legendContainer:{type:"sap.gantt.legend.LegendContainer",multiple:false,visibility:"public"},customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem",bindable:"bindable"},ganttCharts:{type:"sap.gantt.GanttChartBase",multiple:true,visibility:"public",singularName:"ganttChart",bindable:"bindable"},_toolbar:{type:"sap.gantt.control.Toolbar",multiple:false,visibility:"hidden"}},events:{ganttChartChangeRequested:{parameters:{action:{type:"string"},ganttChartIndex:{type:"int"},hierarchyKey:{type:"string"},oldHierarchyKey:{type:"string"},containerLayoutKey:{type:"string"}}},customSettingChange:{parameters:{id:{type:"string"},value:{type:"boolean"}}},treeTableToggleEvent:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}}}}});
G.prototype.init=function(){M.start("GanttChartContainer Init","GanttPerf:GanttChartContainer Init function");this._bInitHorizonApplied=false;this._oToolbar=new T({type:sap.gantt.control.ToolbarType.Global,sourceId:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY});this.setAggregation("_toolbar",this._oToolbar);this._oToolbar.attachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.attachLayoutChange(this._onToolbarLayoutChange,this);this._oToolbar.attachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.attachZoomStopChange(this._onToolbarZoomStopChange,this);this._oToolbar.attachSettingsChange(this._onToolbarSettingsChange,this);this._oToolbar.attachBirdEye(this._onToolbarBirdEye,this);this._oToolbar.attachEvent("_zoomControlTypeChange",this._onToolbarZoomControlTypeChange,this);this._oToolbar.data("holder",this);this._oSplitter=new S({width:"100%",height:"100%",orientation:O.Vertical});this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oContainerLayoutConfigMap={};this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT;this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT;M.end("GanttChartContainer Init");};
G.prototype.applySettings=function(s,o){var r=C.prototype.applySettings.apply(this,arguments);if(this.getContainerLayouts()&&this.getContainerLayoutKey()){this.switchOrientation(null,true);}return r;};
G.prototype.setModes=function(m){this.setProperty("modes",m);this._oToolbar.setModes(m);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
G.prototype.setTimeZoomRate=function(t){var g=this.getGanttCharts();var i,o;for(i=0;i<g.length;i++){o=g[i];o.setTimeZoomRate(t);}return this;};
G.prototype.setTimeZoomStop=function(t){var g=this.getGanttCharts();var i,o;for(i=0;i<g.length;i++){o=g[i];o.setTimeZoomStop(t);}return this;};
G.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t);this._oToolbar.setToolbarSchemes(t);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}return this;};
G.prototype.setHierarchies=function(h){this.setProperty("hierarchies",h);this._oToolbar.setHierarchies(h);this._oHierarchyConfigMap={};if(h){for(var i=0;i<h.length;i++){this._oHierarchyConfigMap[h[i].getKey()]=h[i];}}return this;};
G.prototype.setContainerLayouts=function(d){this.setProperty("containerLayouts",d);this._oToolbar.setContainerLayouts(d);this._oContainerLayoutConfigMap={};if(d){for(var i=0;i<d.length;i++){this._oContainerLayoutConfigMap[d[i].getKey()]=d[i];}}if(this.getContainerLayoutKey()){this.switchOrientation(null,true);}return this;};
G.prototype.setEnableCursorLine=function(e){this.setProperty("enableCursorLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableCursorLine(e);}this.getAggregation("_toolbar").setEnableCursorLine(e);return this;};
G.prototype.setEnableNowLine=function(e){this.setProperty("enableNowLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableNowLine(e);}this.getAggregation("_toolbar").setEnableNowLine(e);return this;};
G.prototype.setEnableVerticalLine=function(e){this.setProperty("enableVerticalLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableVerticalLine(e);}this.getAggregation("_toolbar").setEnableVerticalLine(e);return this;};
G.prototype.setEnableAdhocLine=function(e){this.setProperty("enableAdhocLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableAdhocLine(e);}this.getAggregation("_toolbar").setEnableAdhocLine(e);return this;};
G.prototype.setEnableTimeScrollSync=function(e){this.setProperty("enableTimeScrollSync",e);this.getAggregation("_toolbar").setEnableTimeScrollSync(e);return this;};
G.prototype.setContainerLayoutKey=function(s){if(this.getProperty("containerLayoutKey")===s){return this;}this.setProperty("containerLayoutKey",s);this._oToolbar.setSourceId(s);if(this.getContainerLayouts()){this.switchOrientation(null,true);}return this;};
G.prototype.setLegendContainer=function(L){this.setAggregation("legendContainer",L);if(L){this._oToolbar.setLegend(new A({content:L.getId()}));}return this;};
G.prototype.addGanttChart=function(g,r){if(this.getGanttCharts().length<this.getMaxNumOfGanttCharts()){this.addAggregation("ganttCharts",g);this._insertGanttChart(g,r);}};
G.prototype.insertGanttChart=function(g,i){if(this.getGanttCharts().length<this.getMaxNumOfGanttCharts()){this.insertAggregation("ganttCharts",g,i);this._insertGanttChart(g,false,i);}};
G.prototype.removeGanttChart=function(g){this._removeGanttChart(g);this.removeAggregation("ganttCharts",g);};
G.prototype.removeAllGanttCharts=function(){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){this._removeGanttChart(g[i]);}this.removeAllAggregation("ganttCharts");};
G.prototype._insertGanttChart=function(g,r,i){M.start("GanttChartContainer _insertGanttChart","GanttPerf:GanttChartContainer _insertGanttChart function");if(!g){return;}var R=true;var s="30%";var f=this.getGanttCharts()[0];if(this._oSplitter.getContentAreas().length>0){R=false;var o=f._oSplitter;if(o&&o.getContentAreas().length>0){var L=o.getContentAreas()[0].getLayoutData();s=L?L.getSize():s;}}if(g===f){this._oToolbar.setZoomLevel(g.getAxisTimeStrategy().getZoomLevel());}else{g.setSelectionPanelSize(s);g.getAxisTimeStrategy().setZoomLevel(this._oToolbar.getZoomLevel());g.getAxisTimeStrategy().setZoomLevels(this._oToolbar.getZoomLevels());g.getAxisTimeStrategy().setTimeLineOption(f.getAxisTimeStrategy().getTimeLineOption());g.getAxisTimeStrategy()._setVisibleHorizon(f.getAxisTimeStrategy().getVisibleHorizon());}var d=new A({content:g.getId(),layoutData:new a({size:"auto"})});if(i!==0&&!i){this._oSplitter.addContentArea(d);}else{this._oSplitter.insertContentArea(d,i);}this._adjustSplitterLayoutData(R,r);this._oSplitter.triggerResize(true);g.attachEvent("_visibleHorizonUpdate",this._onGanttChartVisibleHorizonUpdate,this);g.attachEvent("_timePeriodZoomStatusChange",this._onGanttChartTimePeriodZoomStatusChange,this);g.attachEvent("_timePeriodZoomOperation",this._onGanttChartTimePeriodZoomOperation,this);g.attachSplitterResize(this._onViewSplitterResize,this);g.attachGanttChartSwitchRequested(this._onGanttChartSwitchRequested,this);g.attachChartDragEnter(this._onChartDragEnter,this);g.attachChartDragLeave(this._onChartDragLeave,this);g.attachShapeDragEnd(this._onShapeDragEnd,this);g.attachTreeTableToggleEvent(this._onTreeTableToggle,this);g.attachEvent("_zoomInfoUpdated",this._onZoomInfoUpdated,this);g.getAxisTimeStrategy()._updateZoomControlType(this._oToolbar._getZoomControlType());M.end("GanttChartContainer _insertGanttChart");};
G.prototype._onGanttChartVisibleHorizonUpdate=function(e){var p=e.getParameters();var g=this.getGanttCharts();if(!this.getEnableTimeScrollSync()){if(p.reasonCode==="visibleHorizonUpdated"){for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i].syncVisibleHorizon(p.visibleHorizon,p.visibleWidth,true);}}else{var s;if(p.reasonCode==="mouseWheelZoom"){s="syncMouseWheelZoom";}if(s){for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i][s](p);}}}}else{for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i].syncVisibleHorizon(p.visibleHorizon,p.visibleWidth);}}};
G.prototype._onGanttChartTimePeriodZoomStatusChange=function(e){var p=e.getParameters();var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i].syncTimePeriodZoomStatus(p.isActive);}};
G.prototype._onGanttChartTimePeriodZoomOperation=function(e){var t=this.getEnableTimeScrollSync();var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}var o=this._oSplitter.getOrientation();g[i].syncTimePeriodZoomOperation(e,t,o);}};
G.prototype._adjustSplitterLayoutData=function(r,R){if(r){this._setSelectionPanelLayoutByConfiguration();}var d=this._oSplitter.getContentAreas();var t=this;if(d){d.forEach(function(o,i){if(o.getLayoutData()){if(i%2==0){var L=Math.floor(1/d.length*100);var s=o.getLayoutData().getSize();if(R){s=t.getConfiguredGanttChartLayoutSize(t.getGanttCharts()[i]);}else{s=L+"%";}if(s=="auto"||(R&&(s=="100%"||d.length==1))){o.getLayoutData().setSize(L+"%");}else{o.getLayoutData().setSize(s);}}else{if(o.getLayoutData().getSize()!=="auto"){o.getLayoutData().setSize("auto");}}}});}};
G.prototype.getConfiguredGanttChartLayoutSize=function(g){var o=this._oContainerLayoutConfigMap[this.getContainerLayoutKey()];var s="auto";if(o){var d=o.getGanttChartLayouts();if(d){for(var i=0;i<d.length;i++){if(d[i]&&g&&d[i].getHierarchyKey()===g.getHierarchyKey()){s=d[i].getGanttChartSize()?d[i].getGanttChartSize():s;break;}}}}return s;};
G.prototype.getConfiguredSelectionPanelLayoutSize=function(){var s="30%";var o=this._oContainerLayoutConfigMap[this.getContainerLayoutKey()];if(o){var d=o.getSelectionPanelSize();s=(d&&d!=="auto")?d:s;}return s;};
G.prototype._setSelectionPanelLayoutByConfiguration=function(r){var s=this.getConfiguredSelectionPanelLayoutSize();var g=this.getGanttCharts();if(g&&s){g.forEach(function(o,i){o.setSelectionPanelSize(s);});}};
G.prototype._removeGanttChart=function(g){var o=g;if((typeof g)==="number"){o=this.getGanttCharts()[g];}if(o){this._oSplitter.removeContentArea(o._oAC);this._adjustSplitterLayoutData();this._oSplitter.triggerResize(true);o.detachSplitterResize(this._onViewSplitterResize,this);o.detachGanttChartSwitchRequested(this._onGanttChartSwitchRequested,this);o.detachChartDragEnter(this._onChartDragEnter,this);o.detachChartDragLeave(this._onChartDragLeave,this);o.detachShapeDragEnd(this._onShapeDragEnd,this);o.detachTreeTableToggleEvent(this._onTreeTableToggle,this);}};
G.prototype.onBeforeRendering=function(){this._detachEvents();this._oToolbar.setEnableTimeScrollSync(this.getEnableTimeScrollSync());this._oToolbar.setEnableCursorLine(this.getEnableCursorLine());this._oToolbar.setEnableNowLine(this.getEnableNowLine());this._oToolbar.setEnableVerticalLine(this.getEnableVerticalLine());this._oToolbar.setEnableAdhocLine(this.getEnableAdhocLine());var g=this.getGanttCharts();for(var i=0;i<g.length;i++){var o=g[i];o.setEnableCursorLine(this.getEnableCursorLine());o.setEnableNowLine(this.getEnableNowLine());o.setEnableVerticalLine(this.getEnableVerticalLine());o.setEnableAdhocLine(this.getEnableAdhocLine());}};
G.prototype._detachEvents=function(){};
G.prototype.onAfterRendering=function(){this._attachEvents();};
G.prototype._attachEvents=function(){};
G.prototype._detachToolbarEvents=function(){this._oToolbar.detachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.detachLayoutChange(this._onToolbarLayoutChange,this);this._oToolbar.detachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.detachZoomStopChange(this._onToolbarZoomStopChange,this);this._oToolbar.detachSettingsChange(this._onToolbarSettingsChange,this);this._oToolbar.detachBirdEye(this._onToolbarBirdEye,this);this._oToolbar.detachEvent("_zoomControlTypeChange",this._onToolbarZoomControlTypeChange,this);};
G.prototype._onToolbarBirdEye=function(e){var g=this.getGanttCharts();var t;var o;var p=e.getParameters();var B=p.birdEyeRange;for(var i=0;i<g.length;i++){var L=g[i].getLargestHorizonByDataRange(B,undefined,true);if(L){var s=F.abapTimestampToDate(L.getStartTime());var E=F.abapTimestampToDate(L.getEndTime());if(!t&&!o){t=new Date();t.setTime(s.getTime());o=new Date();o.setTime(E.getTime());}else{if(s.getTime()<t.getTime()){t.setTime(s.getTime());}if(o.getTime()<E.getTime()){o.setTime(E.getTime());}}}}if(t&&o){var n=g[0].getVisibleWidth();var d=(o.getTime()-t.getTime())/n;var f=new Date(t.getTime()-d*5);var h=new Date(o.getTime()+d*5);var j=new b({startTime:f,endTime:h});for(i=0;i<g.length;i++){g[i].syncVisibleHorizon(j);}}};
G.prototype._onViewSplitterResize=function(e){if(this._oSplitter.getOrientation()===O.Vertical){this._syncSelectionPanelSizeBetweenViews(e);}};
G.prototype._onZoomInfoUpdated=function(e){var z=e.getParameter("zoomLevel");if(!isNaN(z)){this._oToolbar.updateZoomLevel(z);}};
G.prototype._syncSelectionPanelSizeBetweenViews=function(e){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()&&g.length>1){continue;}var s=e.getParameter("newSizes")[0];var d=e.getParameter("newSizes")[1];if(s>=0&&(s+d)!==0){if(g[i].getAxisTimeStrategy().isA("sap.gantt.axistime.StepwiseZoomStrategy")){g[i].setSelectionPanelSize(s+"px",true);}else{var f=(100*s/(s+d)).toFixed(0);g[i].setSelectionPanelSize(f+"%",true);}}}};
G.prototype._onGanttChartSwitchRequested=function(e){e.getSource().notifySourceChange();this.fireGanttChartChangeRequested({action:"switchGanttChart",hierarchyKey:e.getParameter("hierarchyKey"),oldHierarchyKey:e.getParameter("oldHierarchyKey"),oldMode:e.getParameter("oldMode"),ganttChartIndex:this.getGanttCharts().indexOf(e.getSource())});};
G.prototype._onTreeTableToggle=function(e){this.fireTreeTableToggleEvent({rowIndex:e.getParameter("rowIndex"),rowContext:e.getParameter("rowContext"),expanded:e.getParameter("expanded")});};
G.prototype._onToolbarLayoutChange=function(e){var E=e.getParameter("id");var o=e.getParameter("value");switch(E){case"orientation":this.switchOrientation(o);break;case"add":this.fireGanttChartChangeRequested({action:"addGanttChart",hierarchyKey:o.hierarchyKey,ganttChartIndex:this.getGanttCharts().length});break;case"less":this.fireGanttChartChangeRequested({action:"lessGanttChart",hierarchyKey:o.hierarchyKey,ganttChartIndex:o.ganttChartIndex});break;default:break;}};
G.prototype._onToolbarSourceChange=function(e){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].notifySourceChange();}this.setContainerLayoutKey(e.getParameter("id"));this.fireGanttChartChangeRequested({action:"switchContainerLayout",containerLayoutKey:e.getParameter("id")});};
G.prototype._onToolbarExpandChartChange=function(e){var E=e.getParameter("isExpand"),d=e.getParameter("expandedChartSchemes");var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].handleExpandChartChange(E,d,null);}};
G.prototype._onToolbarZoomStopChange=function(e){var g=this.getGanttCharts();g.forEach(function(o){o.getAxisTimeStrategy().updateStopInfo({index:e.getParameter("index"),selectedItem:e.getParameter("selectedItem")});});};
G.prototype._onToolbarZoomControlTypeChange=function(e){this._handleZoomControlType(e.getParameter("zoomControlType"));};
G.prototype._handleZoomControlType=function(z){var g=this.getGanttCharts();g.forEach(function(o){o.getAxisTimeStrategy()._updateZoomControlType(z);});};
G.prototype._onChartDragEnter=function(e){var s=e.getParameter("originEvent");var g=e.getSource();if(s.button===0&&s.buttons!==0&&this._oDraggingSource!==undefined){g.setDraggingData(this._oDraggingSource);if(this._oTimePopoverData){g.setTimePopoverData(this._oTimePopoverData);}this._oDraggingSource=undefined;this._oTimePopoverData=undefined;}else{this._oDraggingSource=undefined;this._oTimePopoverData=undefined;g.setDraggingData(this._oDraggingSource);g.setTimePopoverData(this._oTimePopoverData);}};
G.prototype._onChartDragLeave=function(e){var p=e.getParameters();if(p.draggingSource!==undefined){this._oDraggingSource=p.draggingSource;if(p.timePopoverData){this._oTimePopoverData=p.timePopoverData;}}else{this._oDraggingSource=undefined;this._oTimePopoverData=undefined;}};
G.prototype._onShapeDragEnd=function(e){this._oDraggingSource=undefined;this.getGanttCharts().forEach(function(i){var o=i.getAggregation("_chart");if(o&&o._setEventStatus){o._setEventStatus("shapeDragEnd");}});};
G.prototype._onToolbarSettingsChange=function(e){var p=e.getParameters();for(var i=0;i<p.length;i++){switch(p[i].id){case sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY:if(this.getEnableTimeScrollSync()!==p[i].value){this.setEnableTimeScrollSync(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY:if(this.getEnableCursorLine()!==p[i].value){this.setEnableCursorLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY:if(this.getEnableNowLine()!==p[i].value){this.setEnableNowLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY:if(this.getEnableVerticalLine()!==p[i].value){this.setEnableVerticalLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY:if(this.getEnableAdhocLine()!==p[i].value){this.setEnableAdhocLine(p[i].value);}break;default:this.fireCustomSettingChange(p[i]);}}};
G.prototype.switchOrientation=function(o,r){var s=this._oSplitter.getOrientation()===O.Horizontal?O.Vertical:O.Horizontal;s=o?o:s;if(r){var d=this.getContainerLayoutKey();if(this._oContainerLayoutConfigMap[d]){s=this._oContainerLayoutConfigMap[d].getOrientation();}}this._oSplitter.setOrientation(s);this._adjustSplitterLayoutData(r,r);this._oSplitter.triggerResize(true);return this;};
G.prototype.getToolbarSchemeKey=function(){return this._oToolbar.getToolbarSchemeKey();};
G.prototype.selectShapes=function(g,I,d){var e=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<e.length){o=e[g];r=o.selectShapes(I,d);}else{for(var i=0;i<e.length;i++){o=e[i];if(o.selectShapes(I,d)){r=true;}}}return r;};
G.prototype.deselectShapes=function(g,i){var d=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<this.getGanttCharts().length){o=this.getGanttCharts()[g];r=o.deselectShapes(i);}else{for(var e in d){o=d[e];if(o.deselectShapes(i)){r=true;}}}return r;};
G.prototype.selectRelationships=function(g,I,d){var e=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<e.length){o=e[g];r=o.selectRelationships(I,d);}else{for(var i=0;i<e.length;i++){o=e[i];if(o.selectRelationships(I,d)){r=true;}}}return r;};
G.prototype.deselectRelationships=function(g,I){var d=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<d.length){o=d[g];r=o.deselectRelationships(I);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.deselectRelationships(I)){r=true;}}}return r;};
G.prototype.selectRows=function(g,I,d){var r=false,e=this.getGanttCharts(),o;if(g!=undefined&&g<e.length){o=e[g];r=o.selectRows(I,d);}else{for(var i=0;i<e.length;i++){o=e[i];if(o.selectRows(I,d)){r=true;}}}return r;};
G.prototype.deselectRows=function(g,I){var r=false,d=this.getGanttCharts(),o;if(g!=undefined&&g<d.length){o=d[g];r=o.deselectRows(I);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.deselectRows(I)){r=true;}}}return r;};
G.prototype.selectRowsAndShapes=function(g,I,d){var r=false,e=this.getGanttCharts(),o;if(g!=undefined&&g<e.length){o=e[g];r=o.selectRowsAndShapes(I,d);}else{for(var i=0;i<e.length;i++){o=e[i];if(o.selectRowsAndShapes(I,d)){r=true;}}}return r;};
G.prototype.getSelectedShapes=function(g){var r=[],d=this.getGanttCharts(),o,s;if(g!=undefined&&g<d.length){o=d[g];s=o.getSelectedShapes();if(s!==undefined){r.push({"ganttChartIndex":g,"selectedShapes":s});}}else{for(var i=0;i<d.length;i++){o=d[i];s=o.getSelectedShapes();if(s!==undefined){r.push({"ganttChartIndex":i,"selectedShapes":s});}}}return r;};
G.prototype.getSelectedRows=function(g){var r=[],d=this.getGanttCharts(),o,R;if(g!=undefined&&g<d.length){o=d[g];R=o.getSelectedRows();if(R!==undefined&&R.length>0){r.push({"ganttChartIndex":g,"selectedRows":R});}}else{for(var i=0;i<d.length;i++){o=d[i];R=o.getSelectedRows();if(R!==undefined){r.push({"ganttChartIndex":i,"selectedRows":R});}}}return r;};
G.prototype.getSelectedRelationships=function(g){var r=[],d=this.getGanttCharts(),o,R;if(g!=undefined&&g<d.length){o=d[g];R=o.getSelectedRelationships();if(R!==undefined){r.push({"ganttChartIndex":g,"selectedRelationships":R});}}else{for(var i=0;i<d.length;i++){o=d[i];R=o.getSelectedRelationships();if(R!==undefined){r.push({"ganttChartIndex":i,"selectedRelationships":R});}}}return r;};
G.prototype.getAllSelections=function(g){var r=[],d=this.getGanttCharts(),o,s;if(g!=undefined&&g<d.length){o=d[g];s=o.getAllSelections();if(s!==undefined){r.push({"ganttChartIndex":g,"allSelection":s});}}else{for(var i=0;i<d.length;i++){o=d[i];s=o.getAllSelections();if(s!==undefined){r.push({"ganttChartIndex":i,"allSelection":s});}}}return r;};
G.prototype.exit=function(){this._detachEvents();this._oToolbar.destroy();this._oSplitter.destroy();};
["addCustomToolbarItem","insertCustomToolbarItem","removeCustomToolbarItem","indexOfCustomToolbarItem","removeAllCustomToolbarItems","destroyCustomToolbarItems","getCustomToolbarItems"].forEach(function(m){G.prototype[m]=function(){return this._oToolbar[m].apply(this._oToolbar,arguments);};});return G;},true);
sap.ui.predefine('sap/gantt/GanttChartContainerRenderer',["sap/gantt/misc/Utility","sap/ui/performance/Measurement"],function(U,M){"use strict";var G={};
G.render=function(r,g){M.start("GanttChartContainerRenderer render","GanttPerf:GanttChartContainerRenderer render function");r.write("<div");r.writeControlData(g);r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.addClass("sapGanttChartContainer");r.writeClasses();r.write(">");M.start("GanttChartContainerRenderer renderPaintServer","GanttPerf:GanttChartContainerRenderer renderPaintServer part");this.renderSvgDefs(r,g);M.end("GanttChartContainerRenderer renderPaintServer");M.start("GanttChartContainerRenderer renderToolbar","GanttPerf:GanttChartContainerRenderer renderToolbar part");this.renderToolbar(r,g);M.end("GanttChartContainerRenderer renderToolbar");M.start("GanttChartContainerRenderer renderGanttCharts","GanttPerf:GanttChartContainerRenderer renderGanttCharts part");this.renderGanttCharts(r,g);M.end("GanttChartContainerRenderer renderGanttCharts");r.write("</div>");M.end("GanttChartContainerRenderer render");};
G.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef' tabindex='-1' focusable='false'");r.addClass("sapGanttInvisiblePaintServer");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderToolbar=function(r,g){r.renderControl(g._oToolbar);};
G.renderGanttCharts=function(r,g){r.write("<div");r.addClass("sapGanttViewContainer");r.writeClasses();r.addStyle("width",g.getWidth());var s=g.getHeight();if(g._oToolbar.getAllToolbarItems().length>0){var c=U.findSapUiSizeClass();var t=(c==="sapUiSizeCompact"||c==="sapUiSizeCondensed")?"32px":"48px";s="calc("+s+" - "+t+")";}r.addStyle("height",s);r.writeStyles();r.write(">");r.renderControl(g._oSplitter);r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartRenderer',["sap/ui/performance/Measurement"],function(M){"use strict";var G={};
G.render=function(r,g){M.start("GanttChartRenderer render","GanttPerf:GanttChartRenderer render function");r.write("<div");r.writeControlData(g);r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.addClass("sapGanttChart");r.writeClasses();r.write(">");M.start("GanttChartRenderer renderPaintServer","GanttPerf:GanttChartRenderer renderPaintServer part");this.renderSvgDefs(r,g);M.end("GanttChartRenderer renderPaintServer");M.start("GanttChartRenderer renderChartHeader","GanttPerf:GanttChartRenderer renderChartHeader part");this.renderChartHeader(r,g);M.end("GanttChartRenderer renderChartHeader");M.start("GanttChartRenderer renderChartBody","GanttPerf:GanttChartRenderer renderChartBody part");this.renderChartBody(r,g);M.end("GanttChartRenderer renderChartBody");r.write("</div>");M.end("GanttChartRenderer render");};
G.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderChartHeader=function(r,g){r.write("<div id='"+g.getId()+"-header'");r.addClass("sapGanttChartHeader");r.writeClasses();r.write(">");r.write("<svg id='"+g.getId()+"-header-svg'");r.addClass("sapGanttChartHeaderSvg");r.writeClasses();r.write("></svg>");r.write("</div>");};
G.renderChartBody=function(r,g){r.write("<div id='"+g.getId()+"-tt'");r.addClass("sapGanttChartTT");r.writeClasses();r.addStyle("width",g.getWidth());r.addStyle("flex","1 1 auto");r.writeStyles();r.write(">");M.start("GanttChartRenderer renderSvgDiv","GanttPerf:GanttChartRenderer renderPaintServer part");this.renderBodySvg(r,g);M.end("GanttChartRenderer renderSvgDiv");r.renderControl(g.getAggregation("_treeTable"));r.write("</div>");};
G.renderBodySvg=function(r,g){r.write("<div id='"+g.getId()+"-svg-ctn'");r.addClass("sapGanttChartSvgCtn");r.writeClasses();r.write(">");r.write("<svg id='"+g.getId()+"-svg'");r.addClass("sapGanttChartSvg");r.writeClasses();r.addStyle("height","100%");r.writeStyles();r.write(">");r.write("</svg>");r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartWithTable',["sap/ui/performance/Measurement","sap/ui/Device","./GanttChartBase","sap/ui/table/Column","sap/ui/table/TreeTable","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","./GanttChart","./control/Cell","./control/Toolbar","./control/AssociateContainer","./drawer/SelectionPanel","./eventHandler/MouseWheelHandler","sap/ui/thirdparty/d3"],function(M,D,G,C,T,S,a,b,c,d,A,e,f){"use strict";
var g=G.extend("sap.gantt.GanttChartWithTable",{metadata:{designtime:"sap/gantt/designtime/GanttChartWithTable.designtime",properties:{cellCallback:{type:"object"},fixedColumnCount:{type:"int"}},aggregations:{customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem",bindable:"bindable"},columns:{type:"sap.ui.table.Column",multiple:true,visibility:"public",singularName:"column"},_selectionPanel:{type:"sap.ui.table.TreeTable",multiple:false,visibility:"hidden"},_chart:{type:"sap.gantt.GanttChart",multiple:false,visibility:"hidden"}}}});
g.prototype.init=function(){G.prototype.init.apply(this,arguments);M.start("GanttChartWithTable Init","GanttPerf:GanttChartWithTable Init function");this._oGanttChart=new b();this.setAggregation("_chart",this._oGanttChart);this._oGanttChartCnt=new A({enableRootDiv:true,content:this._oGanttChart});this._oTC=this._oGanttChart._oTT;var t=this;this._oTT=new T({visibleRowCountMode:"Auto",minAutoRowCount:1});jQuery.extend(this.mDefaultTableProperties,{fixedColumnCount:0,showColumnVisibilityMenu:false,selectionBehavior:sap.ui.table.SelectionBehavior.Row});this.setTableProperties(jQuery.extend({},this.mDefaultTableProperties));this._oTT._bVariableRowHeightEnabled=true;this._oTT._collectRowHeights=function(h){var H=T.prototype._collectRowHeights.apply(this,arguments);if(h){return H;}t._aHeights=H;var B=t._aHeights[0];var F=t._getTTFirstRenderingRowIndex();var r=t._aHeights.length;var m=B;var s=t._oGanttChart._getDrawingData([F,F+r-1]);if(s&&s.length>0){m=s[0].rowSpan*B;}for(var i=0;i<r;i++){var o=this.getContextByIndex(F+i);if(o){var j=o.getObject();var u=j?j.uid:undefined;if(u&&t._oGanttChart._oRowStatusMap[u]){t._aHeights[i]=t._oGanttChart._oRowStatusMap[u].visibleRowSpan*B;}else{t._aHeights[i]=m;}}else{t._aHeights[i]=B;}}return t._aHeights;};this._oTT._updateTableContent=function(){sap.ui.table.TreeTable.prototype._updateTableContent.apply(this,arguments);var r=this.getRows(),R=t._getRowHeights();if(!R){return;}var $=this.$().find(".sapUiTableCtrlFixed > tbody > tr.sapUiTableTr");var h=this.$().find(".sapUiTableRowHdr");for(var i=0;i<r.length;i++){var j=r[i].$(),k=$.filter(":eq("+i+")"),l=h.filter(":eq("+i+")"),H=R[i]||0;var B=t._oGanttChart.getBaseRowHeight();var m=H/B>1;j.toggleClass('sapGanttExpandedRow',m);k.toggleClass('sapGanttExpandedRow',m);l.toggleClass('sapGanttExpandedRow',m);}};this._oTT.addEventDelegate({onAfterRendering:this._bindVerticalScrollForTT},this);this._oTT.attachToggleOpenState(function(E){t.fireTreeTableToggleEvent({rowIndex:E.getParameter("rowIndex"),rowContext:E.getParameter("rowContext"),expanded:E.getParameter("expanded")});});this._oTT.attachEvent("_rowsUpdated",this._onTTRowUpdate.bind(this));this.setAggregation("_selectionPanel",this._oTT);this._oToolbar=new d({type:sap.gantt.control.ToolbarType.Local,sourceId:sap.gantt.config.DEFAULT_HIERARCHY_KEY});this._oToolbar.data("holder",this);this._oToolbar.attachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.attachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.attachExpandTreeChange(this._onToolbarExpandTreeChange,this);this._oToolbar.attachModeChange(this._onToolbarModeChange,this);this._oToolbar.attachBirdEye(this._onToolbarBirdEye,this);this._oTT.addExtension(this._oToolbar);this._oSelectionPanelCnt=new A({enableRootDiv:true,content:this._oTT,layoutData:new a({size:"30%"})});this._oSplitter=new S({width:"100%",height:"100%",orientation:sap.ui.core.Orientation.Horizontal,contentAreas:[this._oSelectionPanelCnt,this._oGanttChartCnt]}).addStyleClass("sapGanttViewSplitterH");this._oSplitter.attachResize(this._onSplitterResize,this);this._oGanttChart.attachHorizontalScroll(this._onChartHSbScroll,this);this._oGanttChart.attachVerticalScroll(this._onChartVSbScroll,this);this._oGanttChart.attachRowSelectionChange(this._onRowSelectionChange,this);this._oGanttChart.attachShapeSelectionChange(this._onShapeSelectionChange,this);this._oGanttChart.attachChartMouseOver(this._onChartMouseOver,this);this._oGanttChart.attachRelationshipSelectionChange(this._onRelationshipSelectionChange,this);this._oGanttChart.attachChartClick(this._onClick,this);this._oGanttChart.attachChartDoubleClick(this._onDoubleClick,this);this._oGanttChart.attachChartRightClick(this._onRightClick,this);this._oGanttChart.attachEvent("_zoomInfoUpdated",this._onZoomInfoUpdated,this);this._oGanttChart.attachEvent("_shapesUpdated",this._onShapesUpdated,this);this._oGanttChart.attachChartDragEnter(this._onChartDragEnter,this);this._oGanttChart.attachChartDragLeave(this._onChartDragLeave,this);this._oGanttChart.attachShapeDragEnd(this._onShapeDragEnd,this);this._oGanttChart.attachEvent("_visibleHorizonUpdate",this._onGanttChartVisibleHorizonUpdate,this);this._oGanttChart.attachEvent("_timePeriodZoomStatusChange",this._onGanttChartTimePeriodZoomStatusChange,this);this._oGanttChart.attachEvent("_timePeriodZoomOperation",this._onGanttChartTimePeriodZoomOperation,this);this._oGanttChart.attachShapeResizeEnd(this._onShapeResizeEnd,this);this._oGanttChart.attachShapeMouseEnter(this._onShapeMouseEnter,this);this._oGanttChart.attachShapeMouseLeave(this._onShapeMouseLeave,this);this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oSelectionPanelDrawer=new e();this._oGanttChartSchemesConfigMap={};this._oGanttChartSchemesConfigMap[sap.gantt.config.DEFAULT_CHART_SCHEME_KEY]=sap.gantt.config.DEFAULT_CHART_SCHEME;this._oObjectTypesConfigMap={};this._oObjectTypesConfigMap[sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY]=sap.gantt.config.DEFAULT_OBJECT_TYPE;this._oShapesConfigMap={};this._oMouseWheelHandler=new f(this);M.end("GanttChartWithTable Init");};
g.prototype.setNowLineInUTC=function(v){G.prototype.setNowLineInUTC.call(this,v);this._oGanttChart.setNowLineInUTC(v);};
g.prototype.setFixedColumnCount=function(F){this.setTableProperties({fixedColumnCount:F});return this;};
g.prototype.getFixedColumnCount=function(){return this.getTableProperties().fixedColumnCount;};
g.prototype.setTimeAxis=function(t){this.setProperty("timeAxis",t,true);this._oGanttChart.setTimeAxis(t);return this;};
g.prototype.setMode=function(m){this.setProperty("mode",m);this._oGanttChart.setMode(m);this._oToolbar.setMode(m);return this;};
g.prototype.setModes=function(m){this.setProperty("modes",m);this._oToolbar.setModes(m);this._oGanttChart.setModes(m);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
g.prototype.useSelectionPlugin=function(s){var o=this.getAggregation("_chart");var l=this.getAggregation("_selectionPanel");var r=o.getAggregation("_treeTable");if(this._oSelectionPlugin){this._oSelectionPlugin.detachSelectionChange(o._onRowSelectionChange,o);r.removePlugin(this._oSelectionPlugin);l.removePlugin(this._oSelectionPlugin);delete r._oSelectionPlugin;delete l._oSelectionPlugin;this._oSelectionPlugin=null;}if(s){s.attachSelectionChange(o._onRowSelectionChange,o);r.addPlugin(s);l.addPlugin(s);r._oSelectionPlugin=s;l._oSelectionPlugin=s;this._oSelectionPlugin=s;}};
g.prototype.setSelectionMode=function(s){this.setProperty("selectionMode",s);switch(s){case sap.gantt.SelectionMode.Multiple:case sap.gantt.SelectionMode.MultiWithKeyboard:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.MultiToggle,selectionBehavior:sap.ui.table.SelectionBehavior.Row});break;case sap.gantt.SelectionMode.Single:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.Single,selectionBehavior:sap.ui.table.SelectionBehavior.Row});break;case sap.gantt.SelectionMode.None:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.None,selectionBehavior:sap.ui.table.SelectionBehavior.RowOnly});break;}this._oGanttChart.setSelectionMode(s);return this;};
g.prototype.setShapeSelectionMode=function(s){this.setProperty("shapeSelectionMode",s);this._oGanttChart.setShapeSelectionMode(s);return this;};
g.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t);this._oToolbar.setToolbarSchemes(t);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}return this;};
g.prototype.setHierarchyKey=function(h){this.setProperty("hierarchyKey",h);this._oGanttChart.setProperty("hierarchyKey",h);this._oToolbar.setSourceId(h);this._hierarchyChange();return this;};
g.prototype.setHierarchies=function(h){this.setProperty("hierarchies",h);this._oToolbar.setHierarchies(h);this._oGanttChart.setHierarchies(h);this._oHierarchyConfigMap={};if(h){for(var i=0;i<h.length;i++){this._oHierarchyConfigMap[h[i].getKey()]=h[i];}}this._hierarchyChange();return this;};
g.prototype.setCalendarDef=function(o){this.setAggregation("calendarDef",o);var p=o.getBindingInfo("defs");if(p){p.templateShareable=true;}this._oGanttChart.setCalendarDef(o.clone());return this;};
g.prototype.setAdhocLineLayer=function(l){this.setProperty("adhocLineLayer",l);this._oGanttChart.setAdhocLineLayer(l);return this;};
g.prototype.addAdhocLine=function(o){this._oGanttChart.addAdhocLine(o);return this;};
g.prototype.insertAdhocLine=function(o,i){this._oGanttChart.insertAdhocLine(o,i);return this;};
g.prototype.removeAdhocLine=function(o){return this._oGanttChart.removeAdhocLine(o);};
g.prototype.getAdhocLines=function(){return this._oGanttChart.getAdhocLines();};
g.prototype.removeAllAdhocLines=function(){return this._oGanttChart.removeAllAdhocLines();};
g.prototype.setUseFlatMode=function(F){this._oTT.setUseFlatMode(F);return this;};
g.prototype._hierarchyChange=function(o){var h=this.getHierarchyKey();if(h&&this._oHierarchyConfigMap[h]){if(this._oHierarchyConfigMap[h].getColumns()&&this._oHierarchyConfigMap[h].getColumns().length>0){this._buildColumnFromCellCallback();}var m=this.getMode();if(m===sap.gantt.config.DEFAULT_MODE_KEY&&this._oHierarchyConfigMap[this.getHierarchyKey()]){m=this._oHierarchyConfigMap[this.getHierarchyKey()].getActiveModeKey();}this.setMode(m);}};
g.prototype._buildColumnFromCellCallback=function(){this._oTT.removeAllColumns();var h,j;h=this._oHierarchyConfigMap[this.getHierarchyKey()];if(h){j=h.getColumns();}if(j){for(var i=0;i<j.length;i++){var o=new C({label:j[i].getTitle(),sortProperty:j[i].getSortAttribute(),filterProperty:j[i].getFilterAttribute(),width:j[i].getWidth(),template:new c({cellCallback:this.getCellCallback(),columnConfig:j[i]}).data("rowTypeName",this.getRowTypeName())});this._oTT.addColumn(o);this._oTT.addAriaLabelledBy(o.getLabel());}}};
g.prototype.setObjectTypes=function(o){this.setProperty("objectTypes",o,true);this._oGanttChart.setObjectTypes(o);this._oObjectTypesConfigMap={};if(o){for(var i=0;i<o.length;i++){this._oObjectTypesConfigMap[o[i].getKey()]=o[i];}}return this;};
g.prototype.setChartSchemes=function(h){this.setProperty("chartSchemes",h,true);this._oGanttChart.setChartSchemes(h);this._oGanttChartSchemesConfigMap={};if(h){for(var i=0;i<h.length;i++){this._oGanttChartSchemesConfigMap[h[i].getKey()]=h[i];}}return this;};
g.prototype.setShapeDataNames=function(s){this.setProperty("shapeDataNames",s);this._oGanttChart.setShapeDataNames(s);return this;};
g.prototype.setLocale=function(l){this.setProperty("locale",l,true);this._oGanttChart.setLocale(l);return this;};
g.prototype.setShapes=function(s){this.setProperty("shapes",s,true);this._oGanttChart.setShapes(s);this._oShapesConfigMap={};if(s){for(var i=0;i<s.length;i++){this._oShapesConfigMap[s[i].getKey()]=s[i];}}return this;};
g.prototype.setSvgDefs=function(s){this.setProperty("svgDefs",s);this._oGanttChart.setSvgDefs(s);return this;};
g.prototype.setEnableCursorLine=function(E){this.setProperty("enableCursorLine",E);this._oGanttChart.setEnableCursorLine(E);this._oToolbar.setEnableCursorLine(E);return this;};
g.prototype.setEnableNowLine=function(E){this.setProperty("enableNowLine",E);this._oGanttChart.setEnableNowLine(E);this._oToolbar.setEnableNowLine(E);return this;};
g.prototype.setEnableVerticalLine=function(E){this.setProperty("enableVerticalLine",E);this._oGanttChart.setEnableVerticalLine(E);this._oToolbar.setEnableVerticalLine(E);return this;};
g.prototype.setEnableAdhocLine=function(E){this.setProperty("enableAdhocLine",E);this._oGanttChart.setEnableAdhocLine(E);this._oToolbar.setEnableAdhocLine(E);return this;};
g.prototype.setEnableShapeTimeDisplay=function(E){this.setProperty("enableShapeTimeDisplay",E);this._oGanttChart.setEnableShapeTimeDisplay(E);return this;};
g.prototype.setTimeZoomRate=function(t){this.setProperty("timeZoomRate",t,true);this._oGanttChart.setTimeZoomRate(t);return this;};
g.prototype.setAxisTimeStrategy=function(o){this._oGanttChart.setAxisTimeStrategy(o);return this;};
g.prototype.getAxisTimeStrategy=function(){return this._oGanttChart.getAxisTimeStrategy();};
g.prototype.addRelationship=function(r){this._oGanttChart.addRelationship(r);};
g.prototype.insertRelationship=function(i,r){this._oGanttChart.insertRelationship(i,r);};
g.prototype.removeRelationship=function(r){this._oGanttChart.removeRelationship(r);};
g.prototype.getRelationships=function(){this._oGanttChart.getRelationships();};
g.prototype.destroyRelationships=function(){this._oGanttChart.destroyRelationships();};
g.prototype.indexOfRelationship=function(r){this._oGanttChart.indexOfRelationship(r);};
g.prototype.removeAllRelationships=function(){this._oGanttChart.removeAllRelationships();};
g.prototype.updateRelationships=function(r){this._oGanttChart.updateRelationships(r);};
g.prototype.setSelectionPanelSize=function(s,h){this.setProperty("selectionPanelSize",s,h);this._oSelectionPanelCnt.setLayoutData(new a({size:s}));return this;};
g.prototype.addColumn=function(o){this._oTT.addColumn(o);};
g.prototype.insertColumn=function(o,i){this._oTT.insertColumn(o,i);};
g.prototype.removeColumn=function(o){this._oTT.removeColumn(o);};
g.prototype.removeAllColumns=function(){this._oTT.removeAllColumns();};
g.prototype.getColumns=function(){return this._oTT.getColumns();};
g.prototype.setGhostAlignment=function(s){this.setProperty("ghostAlignment",s);this._oGanttChart.setGhostAlignment(s);return this;};
g.prototype._bindAggregation=function(n,B){var m,o;if(n==="rows"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oTT.bindRows(B);this._oGanttChart.bindRows(B);this._oTC.updateRows=this._updateRows.bind(this);this._oTT._oSelectionPlugin=this._oTC._oSelectionPlugin;}else if(n==="relationships"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oGanttChart.bindRelationships(B);}else if(n==="columns"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oTT.bindColumns(B);}else{return G.prototype._bindAggregation.apply(this,arguments);}};
g.prototype.setTableProperties=function(p){G.prototype.setTableProperties.apply(this,arguments);this._oGanttChart.setTableProperties(p);return this;};
g.prototype._updateRows=function(r){if(r!==sap.ui.table.TableUtils.RowsUpdateReason.VerticalScroll&&(this._oTC.getFirstVisibleRow()===this._oTT.getFirstVisibleRow()||r===sap.ui.model.ChangeReason.Filter||r===sap.ui.model.ChangeReason.Sort)){sap.ui.table.Table.prototype.updateRows.apply(this._oTT,arguments);}sap.ui.table.Table.prototype.updateRows.apply(this._oTC,arguments);};
g.prototype._detachToolbarEvents=function(){this._oToolbar.detachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.detachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.detachExpandTreeChange(this._onToolbarExpandTreeChange,this);this._oToolbar.detachBirdEye(this._onToolbarBirdEye,this);};
g.prototype._onToolbarBirdEye=function(E){this._oGanttChart._doBirdEye(E.getParameter("birdEyeRange"));};
g.prototype.doBirdEyeOnRow=function(r){this._oGanttChart.doBirdEyeOnRow(r);};
g.prototype.getVisibleWidth=function(){return this._oGanttChart.getVisibleWidth();};
g.prototype.onAfterRendering=function(){this._adjustChartHeaderHeight();this._attachEvents();};
g.prototype.onBeforeRendering=function(){if(this._oToolbar.getAllToolbarItems().length===0){this._oTT.removeExtension(this._oToolbar);}else if(this._oTT.getExtension().length===0){this._oTT.addExtension(this._oToolbar);}};
g.prototype._attachEvents=function(){var o={onAfterRendering:this._syncGanttTablesDomEvents};this._oTT.removeEventDelegate(o);this._oTT.addEventDelegate(o,this);this._oTC.removeEventDelegate(o);this._oTC.addEventDelegate(o,this);this._appendMaskSvg();var $=this.$().find(this.getDomSelectorById("spm-svg-table"));if(D.browser.firefox){$.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));$.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}else{$.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));$.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}};
g.prototype._onMouseWheel=function(E){this._oMouseWheelHandler.handleEvent(E);};
g.prototype._onRowSelectionChange=function(E){var s=this._getSelectionHandler().getSelectedIndices();this._oToolbar.toggleExpandTreeButton(s.length>0);this.fireRowSelectionChange({originEvent:E.getParameter("originEvent")});this._oTT._updateSelection();};
g.prototype._onChartMouseOver=function(E){var p=E.getParameters();this.fireChartMouseOver({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
g.prototype._onShapeSelectionChange=function(E){this.fireShapeSelectionChange({originEvent:E.getParameter("originEvent")});};
g.prototype._onRelationshipSelectionChange=function(E){this.fireRelationshipSelectionChange({originEvent:E.getParameter("originEvent")});};
g.prototype._onClick=function(E){var p=E.getParameters();this.fireChartClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
g.prototype._onDoubleClick=function(E){var p=E.getParameters();this.fireChartDoubleClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
g.prototype._onRightClick=function(E){var p=E.getParameters();this.fireChartRightClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
g.prototype._onChartDragEnter=function(E){this.fireChartDragEnter({originEvent:E.getParameter("originEvent")});};
g.prototype._onChartDragLeave=function(E){this.fireChartDragLeave({originEvent:E.getParameter("originEvent"),draggingSource:E.getParameter("draggingSource"),timePopoverData:E.getParameter("timePopoverData")});};
g.prototype._onShapeDragEnd=function(E){var p=E.getParameters();this.fireShapeDragEnd({originEvent:p.originEvent,sourceShapeData:p.sourceShapeData,targetData:p.targetData,sourceSvgId:p.sourceSvgId,targetSvgId:p.targetSvgId});};
g.prototype._onShapeResizeEnd=function(E){var p=E.getParameters();this.fireShapeResizeEnd({shapeUid:p.shapeUid,rowObject:p.rowObject,oldTime:p.oldTime,newTime:p.newTime});};
g.prototype._onShapeMouseEnter=function(E){var p=E.getParameters();this.fireShapeMouseEnter({shapeData:p.shapeData,pageX:p.pageX,pageY:p.pageY,originEvent:p.originEvent});};
g.prototype._onShapeMouseLeave=function(E){var p=E.getParameters();this.fireShapeMouseLeave({shapeData:p.shapeData,originEvent:p.originEvent});};
g.prototype._onGanttChartVisibleHorizonUpdate=function(E){this.fireEvent("_visibleHorizonUpdate",E.getParameters());};
g.prototype._onGanttChartTimePeriodZoomStatusChange=function(E){this.fireEvent("_timePeriodZoomStatusChange",E.getParameters());};
g.prototype._onGanttChartTimePeriodZoomOperation=function(E){this.fireEvent("_timePeriodZoomOperation",E.getParameters());};
g.prototype.syncTimePeriodZoomStatus=function(h){this._oGanttChart.syncTimePeriodZoomStatus(h);};
g.prototype.syncTimePeriodZoomOperation=function(E,t,o){this._oGanttChart.syncTimePeriodZoomOperation(E,t,o);};
g.prototype.syncMouseWheelZoom=function(E){this._oGanttChart.syncMouseWheelZoom(E);};
g.prototype._onChartHSbScroll=function(E){this.fireHorizontalScroll(E.getParameters());};
g.prototype.syncVisibleHorizon=function(t,v,k){this._oGanttChart.syncVisibleHorizon(t,v,k);};
g.prototype._onChartVSbScroll=function(E){var $=jQuery(this.getTTVsbDom());var h=jQuery(this.getTCVsbDom());if(this.sScrollSource===null||this.sScrollSource!=="GanttChartWithTable"){this.sScrollSource="GanttChart";window.requestAnimationFrame(function(){$.scrollTop(h.scrollTop());});}else{this.sScrollSource=null;}this.fireVerticalScroll({scrollSteps:this._oTC.getFirstVisibleRow(),scrollPosition:jQuery(this.getTCVsbDom()).scrollTop()});};
g.prototype._drawSvg=function(){this._appendMaskSvg();this._updateMaskSvg();this._updateTableRowHeights();this._drawSelectionPanel();};
g.prototype._onZoomInfoUpdated=function(E){var p=E.getParameters();if(p.axisTimeChanged){this.setProperty("timeZoomRate",this._oGanttChart.getAxisTime().getZoomRate(),true);}this.fireEvent("_zoomInfoUpdated",p);};
g.prototype._onShapesUpdated=function(E){this.fireEvent("_shapesUpdated",{aSvg:E.getParameter("aSvg")});};
g.prototype._bindVerticalScrollForTT=function(){var $=jQuery(this.getTTVsbDom());$.unbind("scroll.sapUiTableVScrollForGanttChartWithTable",this._onSelectionPanelVSbScroll);$.bind("scroll.sapUiTableVScrollForGanttChartWithTable",jQuery.proxy(this._onSelectionPanelVSbScroll,this));};
g.prototype._onSelectionPanelVSbScroll=function(){var $=jQuery(this.getTTVsbDom());var h=jQuery(this.getTCVsbDom());if(this.sScrollSource===null||this.sScrollSource!=="GanttChart"){this.sScrollSource="GanttChartWithTable";window.requestAnimationFrame(function(){h.scrollTop($.scrollTop());});}else{this.sScrollSource=null;}this._applyTransform();};
g.prototype._applyTransform=function(){this.$().find(this.getDomSelectorById("spm-svg-table")).css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");};
g.prototype._onSplitterResize=function(E){var p=E.getParameters();this._oGanttChart._draw();this.fireSplitterResize(p);};
g.prototype._onToolbarSourceChange=function(E){var o=this.getHierarchyKey();var h=this.getMode();this.setHierarchyKey(E.getParameter("id"));this.notifySourceChange();this.fireGanttChartSwitchRequested({hierarchyKey:E.getParameter("id"),oldHierarchyKey:o,oldMode:h});};
g.prototype._onToolbarExpandChartChange=function(E){var h=E.getParameter("isExpand"),i=E.getParameter("expandedChartSchemes");this.handleExpandChartChange(h,i,null);};
g.prototype._onToolbarExpandTreeChange=function(E){var s=E.getParameter("action");if(s){var h=this._getSelectionHandler().getSelectedIndices();this._oTT[s](h);}};
g.prototype._onToolbarModeChange=function(E){var B=this.getBinding("mode");if(B){B.setValue(E.getParameter("mode"));}this.setMode(E.getParameter("mode"));};
g.prototype.handleExpandChartChange=function(E,h,s){s=s?s:this._getSelectionHandler().getSelectedIndices();this._oGanttChart.handleExpandChartChange(E,h,s);};
g.prototype.invertRowExpandStatus=function(s,h){if(s&&s.length>0&&h){this._oGanttChart.invertRowExpandStatus(s,h);}};
g.prototype._updateTableRowHeights=function(){var t=this._oTT;var h=this._getRowHeights();if(!h){return;}t._updateRowHeights(h,false);};
g.prototype._getRowHeights=function(){return this._aHeights;};
g.prototype.setBaseRowHeight=function(n){this.setProperty("baseRowHeight",n);this._oTT.setRowHeight(n);return this._oGanttChart.setBaseRowHeight(n);};
g.prototype.getBaseRowHeight=function(){return this._oGanttChart.getBaseRowHeight();};
g.prototype._onTTRowUpdate=function(){var $=this.$().find(this.getDomSelectorById("spm-svg-table-ctn"));if(this._oGanttChart.isRowExpanded()){var h=this._oTT.$();$.height(h.find(".sapUiTableCCnt").height());$.show();var i=$.find(".sapGanttSPMaskSvg");i.height(h.find(".sapUiTableCtrlCnt").height());this._drawSvg();}else{$.hide();}this._adjustGanttInferredRowHeight();this._oTT._updateTableContent();};
g.prototype._adjustChartHeaderHeight=function(){var $=this._oTT.$().find(".sapUiTableExt");var h=this._oTT.$().find(".sapUiTableColHdrCnt");var i=($?$.outerHeight():0)+h.height()+1;if(D.browser.firefox){var j=this._oTT.$().find(".sapUiTableCCnt");i=parseInt(j[0].getBoundingClientRect().top-this._oTT.$()[0].getBoundingClientRect().top,10);}var k=this._oGanttChart.$().find(".sapGanttChartHeader");k.height(i);k.css("min-height",i);var l=this._oGanttChart.$().find(".sapGanttChartHeaderSvg");l.height(i);l.css("min-height",i);};
g.prototype._adjustGanttInferredRowHeight=function(){var h=this._getRowHeights();var F=this._getTTFirstRenderingRowIndex();var s=this._oGanttChart._getDrawingData([F,F]);if(h&&h.length>0&&s&&s.length>0){var B=h[0]/s[0].visibleRowSpan;var p=this._oGanttChart._iInferedBaseRowHeight;if(B!==p){this._oGanttChart._setInferedBaseRowHeight(B);if(p===undefined){this._oTC.updateRows();}}}};
g.prototype._syncGanttTablesDomEvents=function(E){var s=E.srcControl,t=s.getId()===this._oTT.getId()?this._oTC:this._oTT;this._adjustChartHeaderHeight();s.$().find(".sapUiTableRowHdr, .sapUiTableTr").hover(function(E){var i=jQuery(E.currentTarget).data("sapUiRowindex");t.$().find(".sapUiTableCtrlFixed > tbody > tr.sapUiTableTr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");t.$().find(".sapUiTableCtrlScroll > tbody > tr.sapUiTableTr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");t.$().find(".sapUiTableRowHdr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");},function(E){t.$().find(".sapUiTableCtrlFixed > tbody > tr.sapUiTableTr").removeClass("sapUiTableRowHvr");t.$().find(".sapUiTableCtrlScroll > tbody > tr.sapUiTableTr").removeClass("sapUiTableRowHvr");t.$().find(".sapUiTableRowHdr").removeClass("sapUiTableRowHvr");});};
g.prototype._setLargeDataScrolling=function(l){if(this._oTT._setLargeDataScrolling){this._oTT._setLargeDataScrolling(!!l);}if(this._oTC._setLargeDataScrolling){this._oTC._setLargeDataScrolling(!!l);}};
g.prototype.getToolbarSchemeKey=function(){return this._oToolbar.getToolbarSchemeKey();};
g.prototype.jumpToPosition=function(o){this._oGanttChart.jumpToPosition(o);};
g.prototype.selectShapes=function(i,h){return this._oGanttChart.selectShapes(i,h);};
g.prototype.deselectShapes=function(i){return this._oGanttChart.deselectShapes(i);};
g.prototype.selectRelationships=function(i,h){return this._oGanttChart.selectRelationships(i,h);};
g.prototype.deselectRelationships=function(i){return this._oGanttChart.deselectRelationships(i);};
g.prototype.selectRows=function(i,h){return this._oGanttChart.selectRows(i,h);};
g.prototype.deselectRows=function(i){return this._oGanttChart.deselectRows(i);};
g.prototype.selectRowsAndShapes=function(i,I){return this._oGanttChart.selectRowsAndShapes(i,I);};
g.prototype.getAllSelections=function(){return this._oGanttChart.getAllSelections();};
g.prototype.getSelectedShapes=function(){var s=this._oGanttChart.getSelectedShapes();return s;};
g.prototype.getSelectedRows=function(){var s=this._oGanttChart.getSelectedRows();return s;};
g.prototype.getSelectedRelationships=function(){var s=this._oGanttChart.getSelectedRelationships();return s;};
g.prototype.setDraggingData=function(o){this._oGanttChart.setDraggingData(o);};
g.prototype.setTimePopoverData=function(o){this._oGanttChart.setTimePopoverData(o);};
g.prototype.getRowByShapeUid=function(s){return this._oGanttChart.getRowByShapeUid(s);};
g.prototype._drawSelectionPanel=function(){var t=this._oTT.$().find(".sapUiTableRowHdrScr").width();var v=this._getVisibleRowData();if(v!==undefined){this._oSelectionPanelDrawer.drawSvg(d3.select(this.getDomSelectorById("spm-svg-table")),v,t,this);if(this._oTT.$().find(".sapUiTableCCnt").scrollTop()!=this._oTC.$().find(".sapUiTableCCnt").scrollTop()){this.$().find(this.getDomSelectorById("spm-svg-table")).css("transform","translateY("+(-this._oTC.$().find(".sapUiTableCCnt").scrollTop())+"px)");}}};
g.prototype._getVisibleRowData=function(){var F=this._getTTFirstRenderingRowIndex();var v=this.getVisibleRowCount()+1;var V=this._oGanttChart._getDrawingData([F,F+v-1]);var B=this._oGanttChart.getBaseRowHeight();var p=0;for(var i=0;i<V.length;i++){var s=V[i];s.rowHeight=s.rowSpan*B;s.y=p;p+=s.rowHeight;}return V;};
g.prototype._appendMaskSvg=function(){var $=this.$().find(this.getDomSelectorById("spm-svg-table-ctn"));var h=this._oTT.$();if($.length==0&&this._oGanttChart.isRowExpanded()){$=jQuery("<div id='"+this.getId()+"-spm-svg-table-ctn' class='sapGanttChartSPMSvgCtn' >"+"<svg id='"+this.getId()+"-spm-svg-table' class='sapGanttSPMaskSvg'>"+"</svg>"+"</div>");h.parent().append($);}};
g.prototype._updateMaskSvg=function(){var $=this.$().find(this.getDomSelectorById("spm-svg-table-ctn"));var h=this._oTT.$();$.height(h.find(".sapUiTableCCnt").height());$.width(jQuery(document).width());$.css("top",this._oGanttChart.$().find(".sapGanttChartHeader").height()+1);$.css("min-width",h.find("table").css("min-width"));var i=$.find(".sapGanttSPMaskSvg");i.width($.width());i.height(h.find(".sapUiTableCtrlCnt").height());};
g.prototype.getAxisOrdinal=function(){return this._oGanttChart.getAxisOrdinal();};
g.prototype.getAxisTime=function(){return this._oGanttChart.getAxisTime();};
g.prototype.expandToLevel=function(l){this._oTT.expandToLevel(l);return this;};
g.prototype.expand=function(r){this._oTT.expand(r);return this;};
g.prototype.collapse=function(r){this._oTT.collapse(r);return this;};
g.prototype.getVisibleRowCount=function(){return this._oTT.getVisibleRowCount();};
g.prototype.getLargestHorizonByDataRange=function(B,r,i){return this._oGanttChart.getLargestHorizonByDataRange(B,r,i);};
g.prototype.setSelectedIndex=function(r){this._getSelectionHandler().setSelectedIndex(r);return this;};
g.prototype.getSelectedIndex=function(){return this._getSelectionHandler().getSelectedIndex();};
g.prototype.getFirstVisibleRow=function(){return this.getTableProperties().firstVisibleRow;};
g.prototype.setFirstVisibleRow=function(r){this.setTableProperties({firstVisibleRow:r});return this;};
g.prototype.getRows=function(){return this._oTT.getRows();};
g.prototype.exit=function(){this._detachToolbarEvents();this._oSplitter.destroy();};
g.prototype.notifySourceChange=function(){this._oTT.setFirstVisibleRow(0);this._oGanttChart.notifySourceChange();};
g.prototype.autoResizeColumn=function(h){if(h>=0&&jQuery.isNumeric(h)){this._oTT.autoResizeColumn(h);}else{for(var i=this._oTT.getColumns().length;i>=0;i--){this._oTT.autoResizeColumn(i);}}};
g.prototype._autoResizeColumn=function(){if(this._oHierarchyConfigMap[this.getHierarchyKey()].getAutoResizeColumn()){this.autoResizeColumn();}};
g.prototype.redraw=function(h){this._oGanttChart.redraw(h);};
g.prototype.selectByUid=function(u){this._oGanttChart.selectByUid(u);};
g.prototype.getTTHsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar);};
g.prototype.getTTVsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar);};
g.prototype.getTCVsbDom=function(){return this._oGanttChart.getTTVsbDom();};
g.prototype._getTTFirstRenderingRowIndex=function(){if(this._oTT.getRows().length>0){return this._oTT.getRows()[0].getIndex();}return this._oTT.getFirstVisibleRow();};
["addCustomToolbarItem","insertCustomToolbarItem","removeCustomToolbarItem","indexOfCustomToolbarItem","removeAllCustomToolbarItems","destroyCustomToolbarItems","getCustomToolbarItems"].forEach(function(m){g.prototype[m]=function(){return this._oToolbar[m].apply(this._oToolbar,arguments);};});return g;},true);
sap.ui.predefine('sap/gantt/GanttChartWithTableRenderer',['sap/ui/core/theming/Parameters','sap/gantt/misc/Utility'],function(P,U){"use strict";var G={};
G.render=function(r,g){r.write("<div");r.writeControlData(g);r.addClass("sapGanttChartWithTable");r.writeClasses();r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.write(">");this._setTableColumnHeaderHeight(g);r.renderControl(g._oSplitter);r.write("</div>");};
G._setTableColumnHeaderHeight=function(g){var h=g._oToolbar.getAllToolbarItems().length===0;if(h){var m=U.findSapUiSizeClass(g),H=sap.ui.getCore().getConfiguration().getTheme().endsWith("hcb"),i=0,p=H?4:2;if(m==="sapUiSizeCozy"){i=parseInt(P.get("_sap_gantt_Gantt_HeaderHeight"),10)-p;}else{i=parseInt(P.get("_sap_gantt_Gantt_CompactHeaderHeight"),10)-p;}g._oTT.setColumnHeaderHeight(i);}};
return G;},true);
sap.ui.predefine('sap/gantt/axistime/AxisTimeStrategyBase',["sap/base/Log","sap/gantt/library","sap/ui/core/Core","sap/ui/core/Element","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","sap/base/util/ObjectPath","../misc/Utility","../misc/Format","../misc/RelativeTimeFormatter","../config/TimeHorizon","../misc/AxisTime"],function(L,l,C,E,a,b,D,O,U,F,R,T,A){"use strict";
var c=E.extend("sap.gantt.axistime.AxisTimeStrategyBase",{metadata:{"abstract":true,properties:{timeLineOptions:{type:"object"},timeLineOption:{type:"object"},coarsestTimeLineOption:{type:"object"},finestTimeLineOption:{type:"object"},zoomLevels:{type:"int",defaultValue:10},zoomLevel:{type:"int",defaultValue:0},calendarType:{type:"string",defaultValue:sap.ui.core.CalendarType.Gregorian},locale:{type:"object"},firstDayOfWeek:{type:"int"},mouseWheelZoomType:{type:"sap.gantt.MouseWheelZoomType",defaultValue:l.MouseWheelZoomType.FineGranular},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",defaultValue:null}},aggregations:{totalHorizon:{type:"sap.gantt.config.TimeHorizon",multiple:false},visibleHorizon:{type:"sap.gantt.config.TimeHorizon",multiple:false},_axisTime:{type:"sap.gantt.misc.AxisTime",multiple:false,visibility:"hidden"}}}});
c.prototype.applySettings=function(s){s=s||{};if(!s.visibleHorizon){s.visibleHorizon=l.config.DEFAULT_INIT_HORIZON.clone();}if(!s.totalHorizon){s.totalHorizon=l.config.DEFAULT_PLAN_HORIZON.clone();}this.checkFirstDayOfWeek(s);E.prototype.applySettings.call(this,s);this.calZoomBase();return this;};
c.prototype.clone=function(){var o=E.prototype.clone.apply(this,arguments);if(o.hasListeners("_redrawRequest")){o.mEventRegistry._redrawRequest.forEach(function(r){o.detachEvent("_redrawRequest",r.fFunction,r.oListener);});}return o;};
c.prototype.exit=function(){C.detachLocalizationChanged(this._onLocalizationChanged,this);};
c.prototype.isTimePeriodZoomEnabled=function(){return true;};
c.prototype._setVisibleHorizon=function(v){var h=this._completeTimeHorizon(v);var o=this.getAggregation("visibleHorizon");if(o){o.setStartTime(h.getStartTime(),true);o.setEndTime(h.getEndTime(),true);}else{this.setAggregation("visibleHorizon",h,true);}return this;};
c.prototype.setVisibleHorizonWithReason=function(v,r,o){this._setVisibleHorizon(v);return this;};
c.prototype._completeTimeHorizon=function(v){var o=this.getVisibleHorizon(),d=this.getTotalHorizon();if(o===null||d===null){return v;}var r=new T({startTime:o.getStartTime(),endTime:o.getEndTime()});if(v){var s=v.getStartTime(),e=v.getEndTime(),f,t=F.abapTimestampToDate(d.getStartTime()),g=F.abapTimestampToDate(d.getEndTime());if(!s&&!e){return r;}var i;if(this._oZoom&&this._oZoom.base&&this._oZoom.base.scale!==undefined&&this._nGanttVisibleWidth!==undefined&&this.getAxisTime()){var n=this.getAxisTime().getZoomRate();var h=this._oZoom.base.scale/n;i=this._nGanttVisibleWidth*h;}else{i=F.abapTimestampToDate(r.getEndTime()).getTime()-F.abapTimestampToDate(r.getStartTime()).getTime();}if(!s){f=F.abapTimestampToDate(e);f.setTime(f.getTime()-i);if(f<t){f=t;e=F.dateToAbapTimestamp(new Date(t+i));}s=F.dateToAbapTimestamp(f);}else if(!e){f=F.abapTimestampToDate(s);f.setTime(f.getTime()+i);if(f>g){f=g;s=F.dateToAbapTimestamp(new Date(g-i));}e=F.dateToAbapTimestamp(f);}else{f=F.abapTimestampToDate(s);if(f<t){s=this.getTotalHorizon().getStartTime();}f=F.abapTimestampToDate(e);if(f>g){e=this.getTotalHorizon().getEndTime();}}r.setStartTime(s);r.setEndTime(e);}return r;};
c.prototype.createAxisTime=function(o){var t=this.getTimeLineOption(),v=this.getVisibleHorizon(),d=this.getTotalHorizon();if(!U.judgeTimeHorizonValidity(v,d)){if(this.getVisibleHorizon()){this.getVisibleHorizon().setStartTime(d.getStartTime(),true);this.getVisibleHorizon().setEndTime(d.getEndTime(),true);}else{this.setAggregation("visibleHorizon",d.clone(),true);}L.warning("Visible horizon is not in total horizon, so convert visible horizon to total horizon",null,"sap.gantt.axistime.AxisTimeStrategyBase.createAxisTime()");}var h=F.getTimeStampFormatter().parse(d.getStartTime());var H=F.getTimeStampFormatter().parse(d.getEndTime());var n=H.valueOf()-h.valueOf();var e=O.get(t.innerInterval.unit).offset(h,t.innerInterval.span).valueOf()-h.valueOf();var f=new A([h,H],[0,Math.ceil(n*t.innerInterval.range/e)],1,null,null,o,this);this.setAggregation("_axisTime",f,true);};
c.prototype.syncContext=function(n){var r={zoomLevel:undefined,axisTimeChanged:false};return r;};
c.prototype.updateStopInfo=function(s){return null;};
c.prototype._setTotalHorizon=function(t,s){if(typeof s==="undefined"){s=true;}if(t){var o=this.getAggregation("totalHorizon");if(o){o.setStartTime(t.getStartTime(),true);o.setEndTime(t.getEndTime(),true);}else{this.setAggregation("totalHorizon",t,s);}}return this;};
c.prototype.getUpperRowFormatter=function(){var t=this.getTimeLineOption();var o=t.largeInterval;var f;if(o.relativeTime){var d=F.abapTimestampToDate(this.getTotalHorizon().getStartTime());f=new R(d,o.unit,o.relativeTimePrefix);}else{var e=this.getCalendarType(),g=this.getCalendarWeekNumbering(),h=this.getLocale()?this.getLocale():new a(C.getConfiguration().getLanguage().toLowerCase());f=D.getDateTimeInstance({format:o.format,pattern:o.pattern,style:o.style,calendarType:t.calendarType||e,calendarWeekNumbering:g},o.locale?new a(o.locale):h);}return f;};
c.prototype.getLowerRowFormatter=function(){var t=this.getTimeLineOption();var s=t.smallInterval;var f;if(s.relativeTime){var o=F.abapTimestampToDate(this.getTotalHorizon().getStartTime());f=new R(o,s.unit,s.relativeTimePrefix);}else{var d=this.getCalendarType(),e=this.getCalendarWeekNumbering(),g=this.getLocale()?this.getLocale():new a(C.getConfiguration().getLanguage().toLowerCase());f=D.getDateTimeInstance({format:s.format,pattern:s.pattern,style:s.style,calendarType:d,calendarWeekNumbering:e},s.locale?new a(s.locale):g);}return f;};
c.prototype.isLowerRowTickHourSensitive=function(){var t=this.getTimeLineOption();var u=t.innerInterval.unit;var s=t.innerInterval.span;var S=F.getTimeStampFormatter().parse("20000101000000");var e=O.get(u).offset(S,s);return(e.getTime()-S.getTime())<=60*60*1000;};
c.prototype.getAxisTime=function(){return this.getAggregation("_axisTime");};
c.prototype.fireRedrawRequest=function(f,r,v,o){this.fireEvent("_redrawRequest",{forceUpdate:f,reasonCode:r,valueBeforeChange:v,originEvent:o});};
c.prototype.updateGanttVisibleWidth=function(n){this._nGanttVisibleWidth=n;};
c.prototype.getGanttVisibleWidth=function(){return this._nGanttVisibleWidth;};
c.prototype.calZoomScale=function(u,s,r){var S=F.getTimeStampFormatter().parse("20000101000000");var e=O.get(u).offset(S,s);return this.calZoomScaleByDate(S,e,r);};
c.prototype.calZoomScaleByDate=function(s,e,r){return(e.valueOf()-s.valueOf())/r;};
c.prototype.calZoomBase=function(){var B=this.getTimeLineOption()||this.getFinestTimeLineOption();if(B){var s=this.calZoomScale(B.innerInterval.unit,B.innerInterval.span,B.innerInterval.range);this._oZoom={base:{timeLineOption:B,rate:1,scale:s}};return true;}return false;};
c.prototype.checkFirstDayOfWeek=function(s){if(typeof s.firstDayOfWeek==="undefined"){s.firstDayOfWeek=b.getInstance(C.getConfiguration().getLocale()).getFirstDayOfWeek();C.attachLocalizationChanged(this._onLocalizationChanged,this);}};
c.prototype.updateVisibleHorizonOnMouseWheelZoom=function(t,s,o,S){var z=s<0;var Z=Math.round(Math.abs(s)/100);var m=this.getMouseWheelZoomType();if(m===l.MouseWheelZoomType.FineGranular){this.updateVisibleHorizonOnFineGranularMouseWheelZoom(t,z,Z,o,S);}else if(m===l.MouseWheelZoomType.Stepwise){this.updateVisibleHorizonOnStepWiseMouseWheelZoom(t,z,Z,o,S);}};
c.prototype.updateVisibleHorizonOnFineGranularMouseWheelZoom=function(t,z,Z,o,s){var v=this.getVisibleHorizon();var V=F.abapTimestampToDate(v.getStartTime());var d=this.getTimeLineOption();var n=O.get(d.innerInterval.unit).offset(V,Z*d.innerInterval.span).getTime()-V.getTime();var i=z?-1:1;var N=this.calVisibleHorizonByDelta(i*n,t);var r=s?"syncVisibleHorizon":"mouseWheelZoom";this.setVisibleHorizonWithReason(N,r,o);};
c.prototype.updateVisibleHorizonOnStepWiseMouseWheelZoom=function(t,z,Z,o,s){var i=z?-1:1;var d=this.getZoomLevel()-i*Z;if(d>-1&&d<this.getZoomLevels()){if(this._aZoomRate[d]&&!U.floatEqual(this._aZoomRate[d],this._oZoom.rate)){this.setZoomLevel(d);}}};
c.prototype.calVisibleHorizonByRate=function(n,o){var d=0;if(this._oZoom&&this._oZoom.base&&this._oZoom.base.scale!==undefined&&this._nGanttVisibleWidth!==undefined){var v=F.abapTimestampToDate(this.getVisibleHorizon().getStartTime());var V=F.abapTimestampToDate(this.getVisibleHorizon().getEndTime());var e=V.getTime()-v.getTime();var f=this._oZoom.base.scale/n;var g=this._nGanttVisibleWidth*f;d=g-e;}return this.calVisibleHorizonByDelta(d,o);};
c.prototype.calVisibleHorizonByDelta=function(n,o){var v=this.getVisibleHorizon();if(n!==0){var d=F.abapTimestampToDate(v.getStartTime()).getTime();var e=F.abapTimestampToDate(v.getEndTime()).getTime();var f=e-d;var g=0;var h,i;var j=F.abapTimestampToDate(this.getTotalHorizon().getStartTime()).getTime();var k=F.abapTimestampToDate(this.getTotalHorizon().getEndTime()).getTime();if(n>0&&d<=j){h=0;i=1;g=j;}else if(n>0&&e>=k){h=1;i=0;g=k;}else{if(!o){g=d+f/2;}else{g=o.getTime();}h=(g-d)/f;i=1-h;}var m=f+n;var p=g-h*m;var q=g+i*m;var N,r;if(p<=j){N=this.getTotalHorizon().getStartTime();}else{N=new Date();N.setTime(p);}if(q>=k){r=this.getTotalHorizon().getEndTime();}else{r=new Date();r.setTime(q);}return new T({startTime:N,endTime:r});}return v;};
c.prototype.calMiddleDate=function(s,e){return new Date(s.getTime()+(e.getTime()-s.getTime())/2);};
c.prototype._onLocalizationChanged=function(){this.setFirstDayOfWeek(b.getInstance(C.getConfiguration().getLocale()).getFirstDayOfWeek());};
c.prototype._updateZoomControlType=function(z){return null;};
return c;},true);
sap.ui.predefine('sap/gantt/axistime/FullScreenStrategy',["sap/base/Log","sap/gantt/library","sap/ui/core/Element","sap/base/util/ObjectPath","./AxisTimeStrategyBase","../misc/Utility","../misc/Format"],function(L,l,E,O,A,U,F){"use strict";sap.gantt.axistime.FullScreenTimeLineOptions=l.config.DEFAULT_TIME_ZOOM_STRATEGY;
var a=A.extend("sap.gantt.axistime.FullScreenStrategy");
a.prototype.init=function(){this.setProperty("coarsestTimeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["1month"],true);this.setProperty("finestTimeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["5min"],true);this.setProperty("timeLineOptions",sap.gantt.axistime.FullScreenTimeLineOptions,true);this.setProperty("timeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["4day"],true);this.setProperty("zoomLevel",0,true);this.setProperty("zoomLevels",0,true);this.setProperty("mouseWheelZoomType",sap.gantt.MouseWheelZoomType.None,true);};
a.prototype.applySettings=function(s){s=s||{};this.checkFirstDayOfWeek(s);E.prototype.applySettings.call(this,s);this.calZoomBase();return this;};
a.prototype.isTimePeriodZoomEnabled=function(){return false;};
a.prototype.setMouseWheelZoomType=function(m){L.warning("FullScreenStrategy does not support zoom, its zoom type is None and can not be set",null,"FullScreenStrategy.prototype.setMouseWheelZoomType()");return this;};
a.prototype.setVisibleHorizon=function(v){this.setVisibleHorizonWithReason(v,"visibleHorizonUpdated");return this;};
a.prototype.setTotalHorizon=function(t){var c=this.getTotalHorizon();if(c===t||(c&&c.equals(t))){return;}this.setAggregation("totalHorizon",t);};
a.prototype.setVisibleHorizonWithReason=function(v,r,o){if(!this.getTotalHorizon()||!this.getTotalHorizon().equals(v)){this.setTotalHorizon(v.clone());}var b=this.getVisibleHorizon();if(b){b=b.clone();}A.prototype._setVisibleHorizon.call(this,v);if(b){this.fireRedrawRequest(true,r,b,o);}return this;};
a.prototype.syncContext=function(n){var b=false;var r={zoomLevel:undefined,axisTimeChanged:false};var s=this._calSuitableRateByChartWidth(n);if(s!==undefined){var f=this._oZoom.rate||-1;this._oZoom.rate=s;this.getParent().getAxisTime().setZoomRate(this._oZoom.rate);b=!U.floatEqual(f,this._oZoom.rate);if(b){r.axisTimeChanged=true;}}r.zoomLevel=this.getZoomLevel();this._updateTimeLineOption();return r;};
a.prototype._calSuitableRateByChartWidth=function(n){var i=this.getVisibleHorizon(),s;if(i&&i.getStartTime()&&i.getEndTime()){var S=this.calZoomScaleByDate(F.abapTimestampToDate(i.getStartTime()),F.abapTimestampToDate(i.getEndTime()),n);s=this._oZoom.base.scale/S;}return s;};
a.prototype._updateTimeLineOption=function(){var s=F.getTimeStampFormatter().parse("20000101000000"),c,i,t=this.getTimeLineOptions(),T=this.getProperty("timeLineOption");var o=this.getAxisTime();if(o){var b=o.timeToView(s);for(i in t){var d=t[i].innerInterval;var e=o.timeToView(O.get(d.unit).offset(s,d.span));var r=Math.abs(Math.ceil((e-b)));if(r>=d.range){c=i;break;}}T=c?t[c]:t[i];this.setProperty("timeLineOption",T,true);}};
return a;},true);
sap.ui.predefine('sap/gantt/axistime/ProportionZoomStrategy',["sap/base/Log","sap/gantt/library","sap/base/util/ObjectPath","sap/gantt/axistime/AxisTimeStrategyBase","sap/gantt/misc/Utility","sap/gantt/misc/Format"],function(L,l,O,A,U,F){"use strict";sap.gantt.axistime.ProportionTimeLineOptions=l.config.DEFAULT_TIME_ZOOM_STRATEGY;
var P=A.extend("sap.gantt.axistime.ProportionZoomStrategy");
P.prototype.init=function(){this._aZoomRate=new Array(10);this.setProperty("coarsestTimeLineOption",sap.gantt.axistime.ProportionTimeLineOptions["1month"],true);this.setProperty("finestTimeLineOption",sap.gantt.axistime.ProportionTimeLineOptions["5min"],true);this.setProperty("timeLineOptions",sap.gantt.axistime.ProportionTimeLineOptions,true);this.setProperty("timeLineOption",sap.gantt.axistime.ProportionTimeLineOptions["4day"],true);this.setProperty("zoomLevel",0,true);this.setProperty("zoomLevels",10,true);};
P.prototype.applySettings=function(s){A.prototype.applySettings.call(this,s);return this;};
P.prototype.setVisibleHorizon=function(v){this.setVisibleHorizonWithReason(v,"visibleHorizonUpdated");return this;};
P.prototype.setVisibleHorizonWithReason=function(v,r,o){if(v&&!v.getStartTime()&&!v.getEndTime()){this._bHorizontalScroll=false;}else{this._bHorizontalScroll=!!(v&&(!v.getStartTime()||!v.getEndTime()));}var a=this.getVisibleHorizon();if(a){a=a.clone();}A.prototype._setVisibleHorizon.apply(this,arguments);if(a){this.fireRedrawRequest(false,r,a,o);}return this;};
P.prototype.setTotalHorizon=function(t){A.prototype._setTotalHorizon.apply(this,arguments);if(this.getAxisTime()){this.calZoomBase();this.createAxisTime(this.getAxisTime().getLocale());this.fireRedrawRequest(true,"totalHorizonUpdated");}return this;};
P.prototype.updateStopInfo=function(s){this.setZoomLevel(s.index);return this;};
P.prototype.setZoomLevel=function(z){if(z>=0&&z!==this.getZoomLevel()){this.setProperty("zoomLevel",z,true);if(this._aZoomRate[z]){var n=this.calVisibleHorizonByRate(this._aZoomRate[z]);this.setVisibleHorizonWithReason(n,"zoomLevelChange");}}return this;};
P.prototype.setZoomLevels=function(z){this.setProperty("zoomLevels",z,true);if(z>1){this._aZoomRate=new Array(z);}else{this._aZoomRate=[1];}this._updateZoomRateOnStops();return this;};
P.prototype.syncContext=function(n){var a=false,z=false;var r={zoomLevel:undefined,axisTimeChanged:false};var o=this.getGanttVisibleWidth();if(o&&(n!==o)){this._updateVisibleHorizon(n);}var d=this._determineZoomBoundaryByStrategy();var D=this._determineZoomRateByChartWidth(n);if(D){this.updateGanttVisibleWidth(n);var f=this._oZoom.minRate||-1;this._oZoom.minRate=Math.max(d.minRate,D.minRate)||d.minRate;var b=this._oZoom.maxRate||-1;this._oZoom.maxRate=d.maxRate;var c=this._oZoom.rate||-1;z=!U.floatEqual(f,this._oZoom.minRate)||!U.floatEqual(b,this._oZoom.maxRate);if(z){this._updateZoomRateOnStops();this._adjustRateByBoundary();}if(D.suitableRate&&!this._bHorizontalScroll){this._oZoom.rate=D.suitableRate;this._adjustRateByBoundary();}var i=this.getZoomLevel(),Z=this._calcZoomLevelFromZoomRate(this._oZoom.rate);var e=i!==Z;if(e){this.setProperty("zoomLevel",Z,true);}r.zoomLevel=this.getZoomLevel();a=!U.floatEqual(c,this._oZoom.rate);if(a){this.getParent().getAxisTime().setZoomRate(this._oZoom.rate);this._updateTimeLineOption();}r.axisTimeChanged=a;}return r;};
P.prototype._updateVisibleHorizon=function(n){var o=this.getVisibleHorizon();var i=this.getGanttVisibleWidth();var c=U.calculateHorizonByWidth(o,i,n);A.prototype._setVisibleHorizon.call(this,c);};
P.prototype._adjustRateByBoundary=function(){if(this._oZoom.rate){this._oZoom.rate=Math.max(this._oZoom.rate,this._oZoom.minRate);this._oZoom.rate=Math.min(this._oZoom.rate,this._oZoom.maxRate);}};
P.prototype._updateZoomRateOnStops=function(){if(this._oZoom&&this._oZoom.maxRate&&this._oZoom.minRate){var m=this._oZoom.maxRate,M=this._oZoom.minRate,s=this.getZoomLevels();this._oLog={};this._oLog.fMax=Math.log(m);this._oLog.fMin=Math.log(M);this._oLog.fStep=(this._oLog.fMax-this._oLog.fMin)/s;if(s>0){for(var i=0;i<s;i++){this._aZoomRate[i]=Math.pow(Math.E,this._oLog.fMin+this._oLog.fStep*i);}}else{this._aZoomRate[0]=1;}}};
P.prototype._calcZoomLevelFromZoomRate=function(r){if(this._oZoom&&this._oLog&&r){return Math.round((Math.log(r)-this._oLog.fMin)/this._oLog.fStep);}};
P.prototype._determineZoomBoundaryByStrategy=function(){if(this._oZoom&&this._oZoom.base){var c=this.getCoarsestTimeLineOption(),f=this.getFinestTimeLineOption();return{minRate:this._oZoom.base.scale/this.calZoomScale(c.innerInterval.unit,c.innerInterval.span,c.innerInterval.range),maxRate:this._oZoom.base.scale/this.calZoomScale(f.innerInterval.unit,f.innerInterval.span,f.innerInterval.range*4)};}};
P.prototype._determineZoomRateByChartWidth=function(n){var t=this.getTotalHorizon(),v=this.getVisibleHorizon(),r={};if(!this._oZoom){return null;}if(!U.judgeTimeHorizonValidity(v,t)){this.getVisibleHorizon().setStartTime(t.getStartTime(),true);this.getVisibleHorizon().setEndTime(t.getEndTime(),true);L.warning("Visible horizon is not in total horizon, so convert visible horizon to total horizon",null,"sap.gantt.axistime.ProportionZoomStrategy.syncContext()");}if(t){var m=this.calZoomScaleByDate(F.abapTimestampToDate(t.getStartTime()),F.abapTimestampToDate(t.getEndTime()),n);r.minRate=this._oZoom.base.scale/m;}if(v&&v.getStartTime()&&v.getEndTime()){var s=this.calZoomScaleByDate(F.abapTimestampToDate(v.getStartTime()),F.abapTimestampToDate(v.getEndTime()),n);r.suitableRate=this._oZoom.base.scale/s;}return r;};
P.prototype._updateTimeLineOption=function(){var s=F.getTimeStampFormatter().parse("20000101000000"),c,i,t=this.getTimeLineOptions(),T=this.getProperty("timeLineOption");var a=this.getAxisTime();if(a){var b=a.timeToView(s);for(i in t){var d=t[i].innerInterval;var e=a.timeToView(O.get(d.unit).offset(s,d.span));var r=Math.abs(Math.ceil((e-b)));if(r>=d.range){c=i;break;}}T=c?t[c]:t[i];this.setProperty("timeLineOption",T,true);}};
P.prototype.onSetTimeZoomRate=function(t){var n=this.calVisibleHorizonByRate(t);this.setVisibleHorizon(n);};
return P;},true);
sap.ui.predefine('sap/gantt/axistime/StepwiseZoomStrategy',["sap/gantt/library","sap/base/util/ObjectPath","./AxisTimeStrategyBase","../misc/Format"],function(l,O,A,F){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");var T=l.config.TimeUnit;sap.gantt.axistime.StepwiseTimeLineOptions={"FiveMinutes":{text:r.getText("SWZS_FIVE_MINUTES"),innerInterval:{unit:T.minute,span:5,range:32},largeInterval:{unit:T.hour,span:1,pattern:"ha / MMMM dd, yyyy "},smallInterval:{unit:T.minute,span:5,pattern:"mm "}},"FifteenMinutes":{text:r.getText("SWZS_FIFTEEN_MINUTES"),innerInterval:{unit:T.minute,span:15,range:48},largeInterval:{unit:T.hour,span:1,pattern:"ha / MMMM dd, yyyy "},smallInterval:{unit:T.minute,span:15,pattern:"mm "}},"Hour":{text:r.getText("SWZS_HOUR"),innerInterval:{unit:T.hour,span:1,range:48},largeInterval:{unit:T.day,span:1,pattern:"MMMM dd, yyyy "},smallInterval:{unit:T.hour,span:1,pattern:"HH:mm "}},"SixHours":{text:r.getText("SWZS_SIX_HOURS"),innerInterval:{unit:T.hour,span:6,range:64},largeInterval:{unit:T.day,span:1,pattern:"MMMM dd, yyyy "},smallInterval:{unit:T.hour,span:6,pattern:"HH:mm "}},"DayDate":{text:r.getText("SWZS_DATE_1"),innerInterval:{unit:T.day,span:1,range:64},largeInterval:{unit:T.week,span:1,pattern:r.getText("SWZS_DATE_PATTERN",["LLL yyyy, '","' ww  "])},smallInterval:{unit:T.day,span:1,pattern:sap.ui.getCore().getConfiguration().getRTL()?"dd EEE ":"EEE dd "}},"Date":{text:r.getText("SWZS_DATE_2"),innerInterval:{unit:T.day,span:1,range:32},largeInterval:{unit:T.week,span:1,pattern:r.getText("SWZS_DATE_PATTERN",["LLL yyyy, '","' ww  "])},smallInterval:{unit:T.day,span:1,pattern:"dd "}},"CWWeek":{text:r.getText("SWZS_WEEK_1"),innerInterval:{unit:T.week,span:1,range:56},largeInterval:{unit:T.month,span:1,pattern:"LLL yyyy "},smallInterval:{unit:T.week,span:1,pattern:"'"+r.getText("SWZS_CW")+"' ww  "}},"WeekOfYear":{text:r.getText("SWZS_WEEK_2"),innerInterval:{unit:T.week,span:1,range:32},largeInterval:{unit:T.month,span:1,pattern:"LLL yyyy "},smallInterval:{unit:T.week,span:1,pattern:"ww "}},"Month":{text:r.getText("SWZS_MONTH"),innerInterval:{unit:T.day,span:30,range:48},largeInterval:{unit:T.month,span:3,pattern:"yyyy QQQ "},smallInterval:{unit:T.month,span:1,pattern:"LLL "}},"Quarter":{text:r.getText("SWZS_QUARTER"),innerInterval:{unit:T.day,span:90,range:48},largeInterval:{unit:T.year,span:1,pattern:"yyyy "},smallInterval:{unit:T.month,span:3,pattern:"QQQ "}},"Year":{text:r.getText("SWZS_YEAR"),innerInterval:{unit:T.day,span:360,range:48},largeInterval:{unit:T.year,span:5,pattern:"yyyy "},smallInterval:{unit:T.year,span:1,pattern:"yyyy "}}};var S=sap.gantt.axistime.StepwiseTimeLineOptions;
var a=A.extend("sap.gantt.axistime.StepwiseZoomStrategy",{metadata:{library:"sap.gantt"}});
a.prototype.init=function(){this._oTotalHorizonBeforeExtension=null;this._sZoomControlType=sap.gantt.config.ZoomControlType.Select;this._aTimeLineOptions=null;this._calculatedTotalHorizon=null;this.bAxisTimeChanged=false;this.iLastZoomLevel=-1;var t=S.DayDate;this.setProperty("timeLineOption",t,true);this.setProperty("timeLineOptions",S,true);this.setProperty("mouseWheelZoomType",sap.gantt.MouseWheelZoomType.Stepwise,true);this.setProperty("finestTimeLineOption",null,true);this.setProperty("coarsestTimeLineOption",null,true);this._aZoomRate=new Array(11);};
a.prototype.applySettings=function(){A.prototype.applySettings.apply(this,arguments);this._updateZoomRateArray();this._updateTimeLineOptions();this.setInitialProperties();return this;};
a.prototype.setInitialProperties=function(){this.setProperty("zoomLevels",this._getCountOfTimeLineOptions(),true);if(this._getIndexOfTimeLineOption(this.getTimeLineOption())===-1){this.setTimeLineOption(this._aTimeLineOptions[this._getCountOfTimeLineOptions()/2]);}};
a.prototype.createAxisTime=function(L){A.prototype.createAxisTime.apply(this,arguments);this.setZoomLevel(this._getIndexOfTimeLineOption(this.getTimeLineOption(),this.getTimeLineOptions()));this._Locale=L;return this;};
a.prototype.setVisibleHorizon=function(v){this.setVisibleHorizonWithReason(v,"visibleHorizonUpdated");return this;};
a.prototype.setVisibleHorizonWithReason=function(v,R,o){var L=this.getVisibleHorizon();if(L){L=L.clone();}A.prototype._setVisibleHorizon.apply(this,arguments);this.fireRedrawRequest(false,R,L,o);return this;};
a.prototype.setTotalHorizon=function(t){A.prototype._setTotalHorizon.apply(this,arguments);this._setCalculatedTotalHorizon(t);if(this.getAxisTime()){this.fireRedrawRequest(true,"totalHorizonUpdated");}return this;};
a.prototype._setCalculatedTotalHorizon=function(h){if(h){if(this._calculatedTotalHorizon){this._calculatedTotalHorizon.setStartTime(h.getStartTime(),true);this._calculatedTotalHorizon.setEndTime(h.getEndTime(),true);}else{this._calculatedTotalHorizon=new sap.gantt.config.TimeHorizon({startTime:h.getStartTime(),endTime:h.getEndTime()});}this._updateTimeRangeAndViewRange(h);}return this;};
a.prototype._updateTimeRangeAndViewRange=function(h){var o=this.getAxisTime();if(o&&h){o.setTimeRange([F.getTimeStampFormatter().parse(h.getStartTime()),F.getTimeStampFormatter().parse(h.getEndTime())]);var H=F.getTimeStampFormatter().parse(h.getStartTime());var b=F.getTimeStampFormatter().parse(h.getEndTime());var n=b.valueOf()-H.valueOf();var t=this.getTimeLineOption();var c=O.get(t.innerInterval.unit).offset(H,t.innerInterval.span).valueOf()-H.valueOf();o.setViewRange([0,Math.ceil((n*t.innerInterval.range/c)/this._aZoomRate[this.getZoomLevel()])]);}return this;};
a.prototype._getCalculatedTotalHorizon=function(){if(!this._calculatedTotalHorizon||!this._calculatedTotalHorizon.getStartTime()||!this._calculatedTotalHorizon.getEndTime()){this._setCalculatedTotalHorizon(this.getAggregation("totalHorizon"));}return this._calculatedTotalHorizon;};
a.prototype.getTotalHorizon=function(){return this._getCalculatedTotalHorizon();};
a.prototype.setZoomLevels=function(z){return this;};
a.prototype.setZoomLevel=function(z){if(z>=0){this.iLastZoomLevel=this.getZoomLevel();this.setProperty("zoomLevel",z,true);this.setProperty("timeLineOption",this._getTimeLineOptionByIndex(z),true);if(this._aZoomRate[z]&&this.getGanttVisibleWidth()){var n=this._updateVisibleHorizon(this.getGanttVisibleWidth());this.setVisibleHorizon(n);}}return this;};
a.prototype.setTimeLineOption=function(t){this.setProperty("timeLineOption",t,true);this.setZoomLevel(this._getIndexOfTimeLineOption(t));};
a.prototype.setCoarsestTimeLineOption=function(t){return this;};
a.prototype.setFinestTimeLineOption=function(t){return this;};
a.prototype.setTimeLineOptions=function(t){A.prototype.setTimeLineOptions.apply(this,arguments);this._updateZoomRateArray();this._updateTimeLineOptions();return this;};
a.prototype._updateVisibleHorizon=function(n){if(!n){var w=this._getWidthOfTotalHorizon();this._extendTotalHorizon(w);}else{this._extendTotalHorizon(n);}var o=this.getAxisTime();if(o){o.setZoomRate(this._aZoomRate[this.getZoomLevel()]);var v=this.getVisibleHorizon();var m=this.calMiddleDate(F.getTimeStampFormatter().parse(v.getStartTime()),F.getTimeStampFormatter().parse(v.getEndTime()));var N=this.calVisibleHorizonByRate(this._aZoomRate[this.getZoomLevel()],m);A.prototype._setVisibleHorizon.call(this,N);return N;}};
a.prototype.updateGanttVisibleWidth=function(n){return this;};
a.prototype.isTimePeriodZoomEnabled=function(){return false;};
a.prototype.syncContext=function(n){var R={zoomLevel:undefined,axisTimeChanged:false};if(this.bBirdEyeTriggered){this.bBirdEyeTriggered=false;var o=this.getAxisTime();if(o){var v=this.getVisibleHorizon();var s=this.calZoomScaleByDate(F.abapTimestampToDate(v.getStartTime()),F.getTimeStampFormatter().parse(v.getEndTime()),n);var z=this._oZoom.base.scale/s;var Z=0;while(z>=this._aZoomRate[Z]){Z++;}if(Z!==0){Z=Z-1;}A.prototype.updateGanttVisibleWidth.apply(this,arguments);if(this.iLastZoomLevel!==Z){o.setZoomRate(this._aZoomRate[Z]);this.setProperty("zoomLevel",Z,true);this.setProperty("timeLineOption",this._getTimeLineOptionByIndex(Z),true);this._updateVisibleHorizon(this.getGanttVisibleWidth());this.iLastZoomLevel=this.getZoomLevel();R.axisTimeChanged=true;}}}else if(n!==this.getGanttVisibleWidth()){this._updateVisibleHorizon(n);R.axisTimeChanged=true;A.prototype.updateGanttVisibleWidth.apply(this,arguments);}else if(this.iLastZoomLevel===this.getZoomLevel()){R.axisTimeChanged=false;}else{R.axisTimeChanged=true;this.iLastZoomLevel=this.getZoomLevel();}R.zoomLevel=this.getZoomLevel();return R;};
a.prototype._updateZoomRateArray=function(){if(this._oZoom){var t=this.getTimeLineOptions();this._aZoomRate=[];if(t){var i;if(this._sZoomControlType!==sap.gantt.config.ZoomControlType.Select){i=this._getCountOfTimeLineOptions();for(var j in t){i--;this._aZoomRate[i]=this._oZoom.base.scale/this.calZoomScale(t[j].innerInterval.unit,t[j].innerInterval.span,t[j].innerInterval.range);}}else{i=0;for(var n in t){this._aZoomRate[i]=this._oZoom.base.scale/this.calZoomScale(t[n].innerInterval.unit,t[n].innerInterval.span,t[n].innerInterval.range);i++;}}}else{this._aZoomRate[0]=1;}}};
a.prototype._updateTimeLineOptions=function(){var t=this.getTimeLineOptions();this._aTimeLineOptions=[];if(t){for(var i in t){this._aTimeLineOptions.push(t[i]);}if(this._sZoomControlType!==sap.gantt.config.ZoomControlType.Select){this._aTimeLineOptions=this._aTimeLineOptions.reverse();}}};
a.prototype.updateStopInfo=function(s){this.setZoomLevel(s.index);return this;};
a.prototype._getIndexOfTimeLineOption=function(t,o){var b=o;if(!b){b=this.getTimeLineOptions();}if(!this._aTimeLineOptions){this._updateTimeLineOptions();}for(var i=0,c=this._aTimeLineOptions.length;i<c;i++){if(this._aTimeLineOptions[i]==t){return i;}}return-1;};
a.prototype._getTimeLineOptionByIndex=function(i){if(!this._aTimeLineOptions){this._updateTimeLineOptions();}if(i<this._aTimeLineOptions.length){return this._aTimeLineOptions[i];}else{return null;}};
a.prototype._getWidthOfTotalHorizon=function(){var c=this._getCalculatedTotalHorizon();var s=F.getTimeStampFormatter().parse(c.getStartTime());var e=F.getTimeStampFormatter().parse(c.getEndTime());var o=this.getAxisTime();var b=o.timeToView(s);var d=o.timeToView(e);return Math.abs(d-b);};
a.prototype._extendTotalHorizon=function(n){var c=this._getCalculatedTotalHorizon();var b=0;if(this._oZoom&&this._oZoom.base&&this._oZoom.base.scale!==undefined){var C=F.abapTimestampToDate(c.getStartTime());var o=F.abapTimestampToDate(c.getEndTime());var d=o.getTime()-C.getTime();var e=this._aZoomRate[this.getZoomLevel()];var f=this._oZoom.base.scale/e;var g=n*f;b=g-d;c=this._calTotalHorizon(b,g);this._setCalculatedTotalHorizon(c);}};
a.prototype._calTotalHorizon=function(n,b){var c=this._getCalculatedTotalHorizon();if(n!==0){var d=F.abapTimestampToDate(this.getAggregation("totalHorizon").getStartTime()).getTime();var e=F.abapTimestampToDate(this.getAggregation("totalHorizon").getEndTime()).getTime();var f=(d+e)/2;var g,h;if(n>0){g=f-b/2;h=f+b/2;}else{g=F.abapTimestampToDate(c.getStartTime()).getTime()-n/2;h=F.abapTimestampToDate(c.getEndTime()).getTime()+n/2;if(g>d){g=d;}if(h<e){h=e;}}var N=new Date();N.setTime(g);var o=new Date();o.setTime(h);return new sap.gantt.config.TimeHorizon({startTime:N,endTime:o});}return c;};
a.prototype._updateZoomControlType=function(z){if(z){A.prototype._updateZoomControlType.apply(this,arguments);this._sZoomControlType=z;this._updateZoomRateArray();this._updateTimeLineOptions();this.setZoomLevel(this._getIndexOfTimeLineOption(this.getTimeLineOption(),this.getTimeLineOptions()));}};
a.prototype._getCountOfTimeLineOptions=function(){return Object.keys(this.getTimeLineOptions()).length;};
return a;},true);
sap.ui.predefine('sap/gantt/config/BirdEyeGroup',['./ToolbarGroup'],function(T){"use strict";
var B=T.extend("sap.gantt.config.BirdEyeGroup",{metadata:{properties:{birdEyeRange:{type:"string",defaultValue:null}}}});
return B;},true);
sap.ui.predefine('sap/gantt/config/ChartScheme',['sap/ui/core/Element'],function(E){"use strict";
var C=E.extend("sap.gantt.config.ChartScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},name:{type:"string",defaultValue:null},rowSpan:{type:"int",defaultValue:1},icon:{type:"sap.ui.core.URI",defaultValue:null},modeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},haveBackground:{type:"boolean",defaultValue:false},backgroundClass:{type:"string"},shapeKeys:{type:"string[]",defaultValue:[]},rowIndexName:{type:"string",defaultValue:"rowIndex"}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ColumnAttribute',['sap/ui/core/Element'],function(E){"use strict";
var C=E.extend("sap.gantt.config.ColumnAttribute",{metadata:{properties:{objectTypeKey:{type:"string",defaultValue:null},attribute:{type:"string",defaultValue:null}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ContainerLayout',['sap/ui/core/Element','sap/ui/core/library'],function(E,c){"use strict";var O=c.Orientation;
var C=E.extend("sap.gantt.config.ContainerLayout",{metadata:{properties:{key:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY},text:{type:"string",defaultValue:sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("XLST_SINGLE_LAYOUT")},orientation:{type:"sap.ui.core.Orientation",defaultValue:O.Vertical},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},ganttChartLayouts:{type:"object[]",defaultValue:[]}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ExpandChart',['sap/ui/core/Element'],function(E){"use strict";
var a=E.extend("sap.gantt.config.ExpandChart",{metadata:{properties:{icon:{type:"sap.ui.core.URI",defaultValue:null},isExpand:{type:"boolean",defaultValue:null},chartSchemeKeys:{type:"string[]",defaultValue:[]}}}});
return a;},true);
sap.ui.predefine('sap/gantt/config/ExpandChartGroup',['./ToolbarGroup'],function(T){"use strict";
var E=T.extend("sap.gantt.config.ExpandChartGroup",{metadata:{properties:{expandCharts:{type:"object[]",defaultValue:[]},enableRichType:{type:"boolean"},showArrowText:{type:"boolean"}}}});
return E;},true);
sap.ui.predefine('sap/gantt/config/GanttChartLayout',['sap/ui/core/Element'],function(E){"use strict";
var G=E.extend("sap.gantt.config.GanttChartLayout",{metadata:{properties:{ganttChartSize:{type:"sap.ui.core.CSSSize",defaultValue:null},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},hierarchyKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY}}}});
return G;},true);
sap.ui.predefine('sap/gantt/config/Hierarchy',['sap/ui/core/Element'],function(E){"use strict";
var H=E.extend("sap.gantt.config.Hierarchy",{metadata:{properties:{key:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY},text:{type:"string",defaultValue:"Default Hierarchy"},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY},columns:{type:"object[]"},expandedLevels:{type:"string[][]"}}}});
H.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setText(this._oRb.getText("XLST_DEFAULT_HIE"));};
return H;},true);
sap.ui.predefine('sap/gantt/config/HierarchyColumn',['sap/ui/core/Element'],function(E){"use strict";
var H=E.extend("sap.gantt.config.HierarchyColumn",{metadata:{properties:{key:{type:"string",defaultValue:null},title:{type:"string",defaultValue:null},contentType:{type:"string",defaultValue:null},sortAttribute:{type:"string",defaultValue:null},filterAttribute:{type:"string",defaultValue:null},attribute:{type:"string",defaultValue:null},attributes:{type:"object[]",defaultValue:[]},width:{type:"sap.ui.core.CSSSize"}}}});
return H;},true);
sap.ui.predefine('sap/gantt/config/LayoutGroup',['./ToolbarGroup'],function(T){"use strict";
var L=T.extend("sap.gantt.config.LayoutGroup",{metadata:{properties:{enableRichStyle:{type:"boolean",defaultValue:true}}}});
return L;},true);
sap.ui.predefine('sap/gantt/config/Locale',['sap/ui/core/Element'],function(E){"use strict";
var L=E.extend("sap.gantt.config.Locale",{metadata:{properties:{timeZone:{type:"string",defaultValue:"UTC"},utcdiff:{type:"string",defaultValue:"000000"},utcsign:{type:"string",defaultValue:"+"},dstHorizons:{type:"object[]",defaultValue:[]}}}});
return L;},true);
sap.ui.predefine('sap/gantt/config/Mode',['sap/ui/core/Element'],function(E){"use strict";
var M=E.extend("sap.gantt.config.Mode",{metadata:{properties:{key:{type:"string",defaultValue:null},text:{type:"string",defaultValue:null},icon:{type:"sap.ui.core.URI",defaultValue:null},activeIcon:{type:"sap.ui.core.URI"}}}});
return M;},true);
sap.ui.predefine('sap/gantt/config/ModeGroup',['./ToolbarGroup'],function(T){"use strict";
var M=T.extend("sap.gantt.config.ModeGroup",{metadata:{properties:{modeKeys:{type:"string[]",defaultValue:[]}}}});
return M;},true);
sap.ui.predefine('sap/gantt/config/ObjectType',['sap/ui/core/Element'],function(E){"use strict";
var O=E.extend("sap.gantt.config.ObjectType",{metadata:{properties:{key:{type:"string",defaultValue:null},description:{type:"string",defaultValue:null},mainChartSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MAIN_CHART_SCHEME_KEY},expandedChartSchemeKeys:{type:"string[]",defaultValue:[]}}}});
return O;},true);
sap.ui.predefine('sap/gantt/config/SettingGroup',["./ToolbarGroup","./SettingItem"],function(T,S){"use strict";
var a=T.extend("sap.gantt.config.SettingGroup",{
library:"sap.gantt",
metadata:{properties:{items:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS}}}
});
return a;},true);
sap.ui.predefine('sap/gantt/config/SettingItem',["sap/ui/core/Element"],function(E){"use strict";
var S=E.extend("sap.gantt.config.SettingItem",{
library:"sap.gantt",
metadata:{properties:{checked:{type:"boolean",defaultValue:false},key:{type:"string",defaultValue:null},displayText:{type:"string",defaultValue:null}}}
});
return S;},true);
sap.ui.predefine('sap/gantt/config/Shape',['sap/gantt/library','sap/ui/core/Element'],function(l,E){"use strict";
var S=E.extend("sap.gantt.config.Shape",{metadata:{properties:{key:{type:"string",defaultValue:null},shapeClassName:{type:"string",defaultValue:null},shapeDataName:{type:"string",defaultValue:null},modeKeys:{type:"string[]",defaultValue:[]},level:{type:"string",defaultValue:null},shapeProperties:{type:"object",defaultValue:l.config.DEFAULT_EMPTY_OBJECT},groupAggregation:{type:"object[]"},clippathAggregation:{type:"object[]"},selectedClassName:{type:"string",defaultValue:null},switchOfCheckBox:{type:"string",defaultValue:"noShow"},resizeShadowClassName:{type:"string",defaultValue:null},countInBirdEye:{type:"boolean",defaultValue:false}}}});
S.prototype.hasShapeProperty=function(p){return this.getShapeProperties().hasOwnProperty(p);};
S.prototype.getShapeProperty=function(p){return this.getShapeProperties()[p];};
return S;},true);
sap.ui.predefine('sap/gantt/config/TimeAxis',["sap/ui/core/Element"],function(E){"use strict";
var T=E.extend("sap.gantt.config.TimeAxis",{metadata:{library:"sap.gantt",properties:{planHorizon:{type:"object",defaultValue:sap.gantt.config.DEFAULT_PLAN_HORIZON},initHorizon:{type:"object",defaultValue:sap.gantt.config.DEFAULT_INIT_HORIZON},zoomStrategy:{type:"object",defaultValue:sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY},granularity:{type:"string",defaultValue:"4day"},finestGranularity:{type:"string",defaultValue:"5min"},coarsestGranularity:{type:"string",defaultValue:"1month"},rate:{type:"float",defaultValue:1}}}});
return T;},true);
sap.ui.predefine('sap/gantt/config/TimeHorizon',['sap/ui/core/Element',"sap/gantt/misc/Format"],function(E,F){"use strict";
var T=E.extend("sap.gantt.config.TimeHorizon",{metadata:{library:"sap.gantt",properties:{startTime:{type:"string",group:"Misc",defaultValue:undefined},endTime:{type:"string",group:"Misc",defaultValue:undefined}}}});
T.prototype.setStartTime=function(s,S){return this.setProperty("startTime",this._convertTimestamp(s),S);};
T.prototype.setEndTime=function(e,s){return this.setProperty("endTime",this._convertTimestamp(e),s);};
T.prototype.equals=function(t){return this.getStartTime()===t.getStartTime()&&this.getEndTime()===t.getEndTime();};
T.prototype._convertTimestamp=function(t){var r=t;if(r&&typeof r==="object"){r=F.dateToAbapTimestamp(r);}return r;};
return T;},true);
sap.ui.predefine('sap/gantt/config/TimeZoomGroup',['./ToolbarGroup'],function(T){"use strict";var Z=sap.gantt.config.ZoomControlType;
var a=T.extend("sap.gantt.config.TimeZoomGroup",{metadata:{properties:{showZoomSlider:{type:"boolean",defaultValue:true},showZoomButtons:{type:"boolean",defaultValue:true},zoomControlType:{type:"sap.gantt.config.ZoomControlType",defaultValue:sap.gantt.config.ZoomControlType.SliderWithButtons},stepCountOfSlider:{type:"int",defaultValue:10},infoOfSelectItems:{type:"object[]"}}}});
a.prototype.getZoomControlType=function(){var d=Z.SliderWithButtons;var c=this.getProperty("zoomControlType");if(c==d){return this._getZoomControlTypeByDeprecatedProperties();}return c;};
a.prototype._getZoomControlTypeByDeprecatedProperties=function(){var s=this.getShowZoomSlider();var S=this.getShowZoomButtons();if(s&&S){return Z.SliderWithButtons;}if(s&&!S){return Z.SliderOnly;}if(!s&&S){return Z.ButtonsOnly;}if(!s&&!S){return Z.None;}return Z.SliderWithButtons;};
return a;},true);
sap.ui.predefine('sap/gantt/config/ToolbarGroup',['sap/ui/core/Element',"sap/m/library"],function(E,l){"use strict";var O=l.OverflowToolbarPriority,B=l.ButtonType;
var T=E.extend("sap.gantt.config.ToolbarGroup",{metadata:{properties:{position:{type:"string",defaultValue:null},overflowPriority:{type:"sap.m.OverflowToolbarPriority",defaultValue:O.Low},buttonType:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:B.Default}}}});
return T;},true);
sap.ui.predefine('sap/gantt/config/ToolbarScheme',['sap/ui/core/Element'],function(E){"use strict";
var T=E.extend("sap.gantt.config.ToolbarScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},sourceSelect:{type:"object",defaultValue:null},birdEye:{type:"object",defaultValue:null},layout:{type:"object",defaultValue:null},customToolbarItems:{type:"object",defaultValue:null},expandChart:{type:"object",defaultValue:null},expandTree:{type:"object",defaultValue:null},timeZoom:{type:"object",defaultValue:null},legend:{type:"object",defaultValue:null},settings:{type:"object",defaultValue:null},mode:{type:"object",defaultValue:null},toolbarDesign:{type:"string",defaultValue:sap.m.ToolbarDesign.Auto}}}});
T.prototype.setTimeZoom=function(t){var o=t;if(!(o instanceof sap.gantt.config.TimeZoomGroup)){o=new sap.gantt.config.TimeZoomGroup();o.setOverflowPriority(t.getOverflowPriority());o.setPosition(t.getPosition());}this.setProperty("timeZoom",o);return this;};
return T;},true);
sap.ui.predefine('sap/gantt/control/AssociateContainer',["sap/ui/core/Control","sap/ui/core/Core","./AssociateContainerRenderer"],function(C,a){"use strict";
var A=C.extend("sap.gantt.control.AssociateContainer",{metadata:{properties:{enableRootDiv:{type:"boolean",defaultValue:false}},associations:{content:{type:"sap.ui.core.Control",multiple:false}}}});
A.prototype.setContent=function(c){this.setAssociation("content",c);if(c){var o=typeof(c)==="string"?a.byId(c):c;o._oAC=this;}return this;};
return A;},true);
sap.ui.predefine('sap/gantt/control/AssociateContainerRenderer',[],function(){"use strict";var A={};
A.render=function(r,c){if(c.getEnableRootDiv()){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLayoutBG");r.writeClasses();r.addStyle("width","100%");r.addStyle("height","100%");r.addStyle("overflow","hidden");r.writeStyles();r.write(">");}r.renderControl(sap.ui.getCore().byId(c.getContent()));if(c.getEnableRootDiv()){r.write("</div>");}};
return A;},true);
sap.ui.predefine('sap/gantt/control/Cell',["sap/ui/core/Control","sap/m/Label","sap/ui/model/Context"],function(C,L,a){"use strict";
var b=C.extend("sap.gantt.control.Cell",{metadata:{properties:{cellCallback:{type:"object"},columnConfig:{type:"object"}}}});
b.prototype.setColumnConfig=function(c){this.setProperty("columnConfig",c);if(c){var A=c.getAttributes();if(A&&A.length>0){this._oMapAttributes={};A.forEach(function(o){this._oMapAttributes[o.getObjectTypeKey()]=o.getAttribute();}.bind(this));}}return this;};
b.prototype.createCellContent=function(c){var o=this.getCellCallback();if(o&&o.createCellContent){return o.createCellContent(c);}return new L();};
b.prototype.updateCellContent=function(c,o,A,O,d){var e=this.getCellCallback();if(e&&e.updateCellContent){e.updateCellContent(c,o,A,O,d);}else{c.setText(o.getProperty(A));}};
b.prototype._updateTableCell=function(c,o,$,A){if(!o){return;}if(!(o instanceof a)){o=o.context;}if(!this._oAttributeControl){this._oAttributeControl=this.createCellContent(this.getColumnConfig());}this._oContext=o;var r=this.data("rowTypeName");r=r?r:"type";var O=o.getProperty(r);if(this._oMapAttributes){this.updateCellContent(this._oAttributeControl,o,this._oMapAttributes[O],O,this.getColumnConfig());}else{this.updateCellContent(this._oAttributeControl,o,this.getColumnConfig().getAttribute(),O,this.getColumnConfig());}if(this.bOutput){var R=sap.ui.getCore().createRenderManager(),d=this._oAttributeControl.getRenderer();d.render(R,this._oAttributeControl);if($&&$.length>0){R.flush(this.getDomRef(),false,false);}R.destroy();}};
b.prototype.getContentToRender=function(){return this._oAttributeControl;};
b.prototype.getAccessibilityInfo=function(){var i=this.getContentToRender();return i&&i.getAccessibilityInfo?i.getAccessibilityInfo():null;};
return b;},true);
sap.ui.predefine('sap/gantt/control/CellRenderer',[],function(){"use strict";var C={};
C.render=function(r,c){var o=c.getContentToRender();r.write("<div");r.writeControlData(c);r.write(">");if(o){r.renderControl(o);}r.write("</div>");};
return C;},true);
sap.ui.predefine('sap/gantt/control/Toolbar',["sap/gantt/library","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/CustomData","sap/ui/base/ManagedObjectMetadata","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/ToolbarSpacer","sap/m/FlexBox","sap/m/library","sap/m/Button","sap/m/SegmentedButton","sap/m/Select","sap/m/MenuButton","sap/m/Menu","sap/m/MenuItem","sap/ui/core/Item","sap/m/ViewSettingsDialog","sap/m/ViewSettingsCustomTab","sap/m/CheckBox","sap/ui/core/library","sap/m/Slider","sap/m/Popover"],function(l,C,a,b,M,O,c,T,F,d,B,S,e,f,g,h,j,V,k,n,o,p,P){"use strict";var L=l.config,q=l.control;var r=o.Orientation;var s=d.FlexDirection;var t=d.PlacementType;
var u=C.extend("sap.gantt.control.Toolbar",{metadata:{properties:{width:{type:"CSSSize",defaultValue:"100%"},height:{type:"CSSSize",defaultValue:"100%"},type:{type:"string",defaultValue:q.ToolbarType.Global},sourceId:{type:"string"},zoomLevel:{type:"int",defaultValue:0},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},modes:{type:"object[]",defaultValue:[L.DEFAULT_MODE]},mode:{type:"string",defaultValue:L.DEFAULT_MODE_KEY},toolbarSchemes:{type:"object[]",defaultValue:[L.DEFAULT_CONTAINER_TOOLBAR_SCHEME,L.DEFAULT_GANTTCHART_TOOLBAR_SCHEME,L.EMPTY_TOOLBAR_SCHEME]},hierarchies:{type:"object[]",defaultValue:[L.DEFAULT_HIERARCHY]},containerLayouts:{type:"object[]",defaultValue:[L.DEFAULT_CONTAINER_SINGLE_LAYOUT,L.DEFAULT_CONTAINER_DUAL_LAYOUT]}},aggregations:{legend:{type:"sap.ui.core.Control",multiple:false,visibility:"public"},customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem"},_toolbar:{type:"sap.m.OverflowToolbar",multiple:false,visibility:"hidden"}},events:{sourceChange:{parameters:{id:{type:"string"}}},layoutChange:{parameters:{id:{type:"string"},value:{type:"string"}}},expandChartChange:{parameters:{action:{type:"string"},expandedChartSchemes:{type:"[]"}}},expandTreeChange:{parameters:{action:{type:"string"}}},zoomStopChange:{parameters:{index:{type:"int"},selectedItem:{type:"sap.ui.core.Item"}}},settingsChange:{parameters:{id:{type:"string"},value:{type:"boolean"}}},modeChange:{parameters:{mode:{type:"string"}}},birdEye:{parameters:{birdEyeRange:{type:"string"}}}}}});
u.ToolbarItemPosition={Left:"Left",Right:"Right"};
u.prototype.init=function(){this._oToolbar=new O({width:"auto",design:sap.m.ToolbarDesign.Auto});this.setAggregation("_toolbar",this._oToolbar,true);this._bClearCustomItems=true;this._resetToolbarInfo();this._oModesConfigMap={};this._oModesConfigMap[L.DEFAULT_MODE_KEY]=L.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[L.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY]=L.DEFAULT_CONTAINER_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[L.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=L.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[L.EMPTY_TOOLBAR_SCHEME_KEY]=L.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[L.DEFAULT_HIERARCHY_KEY]=L.DEFAULT_HIERARCHY;this._oContainerLayoutConfigMap={};this._oContainerLayoutConfigMap[L.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY]=L.DEFAULT_CONTAINER_SINGLE_LAYOUT;this._oContainerLayoutConfigMap[L.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY]=L.DEFAULT_CONTAINER_DUAL_LAYOUT;this._oZoomSlider=null;this._oSelect=null;this._iLiveChangeTimer=-1;this._aTimers=[];this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this._nCounterOfDefaultSliders=0;this._sZoomControlType=L.ZoomControlType.SliderWithButtons;};
u.prototype._resetToolbarInfo=function(){this._oItemConfiguration={Left:[],Right:[]};this._oAllItems={Left:[],Right:[]};if(this._bClearCustomItems){this._aCustomItems=[];this._iCustomItemInsertIndex=-1;}};
u.prototype.applySettings=function(m,i){if(this.getSourceId()&&this.getType()){this._resetAllCompositeControls();}var R=C.prototype.applySettings.apply(this,arguments);return R;};
u.prototype.onAfterRendering=function(){if(this._oVHButton&&jQuery("#"+this._oVHButton.getId())[0]){jQuery("#"+this._oVHButton.getId()).attr("aria-label",this._oRb.getText("TLTP_SWITCH_GANTTCHART"));}};
u.prototype.setLegend=function(i){this.setAggregation("legend",i);if(!this._oLegendPop){this._oLegendPop=new P({placement:t.Bottom,showArrow:false,showHeader:false});}if(i){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(i);this._oLegendPop.setOffsetX(this._calcOffsetForLegendPopover());}};
u.prototype.updateZoomLevel=function(z){this._bSuppressZoomStopChange=true;this.setZoomLevel(z);};
u.prototype.setZoomLevel=function(z,i){if(z>=0){var m=this.getZoomLevel();if(m!==z){this.setProperty("zoomLevel",z,i);if(this._oZoomSlider){this._oZoomSlider.setValue(z);this._oZoomSlider.setTooltip(this._oRb.getText("TLTP_SLIDER_ZOOM_LEVEL")+':'+z);if(!this._bSuppressZoomStopChange){this.fireZoomStopChange({index:z});}}if(this._oSelect){this._oSelect.setSelectedItem(this._oSelect.getItems()[z]);if(!this._bSuppressZoomStopChange){this.fireZoomStopChange({index:z,selectedItem:this._oSelect.getSelectedItem()});}}if(this._oToolbarScheme&&!isNaN(z)&&this._oZoomInButton&&this._oZoomOutButton&&this._oToolbarScheme.getTimeZoom()){var v=this._oToolbarScheme.getTimeZoom().getStepCountOfSlider()-1,w=0;if(z===v){this._oZoomInButton.setEnabled(false);this._oZoomOutButton.setEnabled(true);}else if(z===w){this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(false);}else{this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(true);}}}}this._bSuppressZoomStopChange=false;return this;};
u.prototype.setMode=function(m){this.setProperty("mode",m);if(this._oModeSegmentButton){this._oModeSegmentButton.setSelectedButton(this._oModeButtonMap[m]);}return this;};
u.prototype.setHierarchies=function(H){this.setProperty("hierarchies",H,true);this._oHierarchyConfigMap={};if(H){for(var i=0;i<H.length;i++){this._oHierarchyConfigMap[H[i].getKey()]=H[i];}}this._resetAllCompositeControls();return this;};
u.prototype.setContainerLayouts=function(m){this.setProperty("containerLayouts",m,true);this._oContainerLayoutConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oContainerLayoutConfigMap[m[i].getKey()]=m[i];}}this._resetAllCompositeControls();return this;};
u.prototype.setModes=function(m){this.setProperty("modes",m,true);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
u.prototype.setToolbarDesign=function(i){this._oToolbar.setDesign(i);return this;};
u.prototype.setToolbarSchemes=function(m){this.setProperty("toolbarSchemes",m,true);this._oToolbarSchemeConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oToolbarSchemeConfigMap[m[i].getKey()]=m[i];}}this._resetAllCompositeControls();return this;};
u.prototype.setSourceId=function(i){this.setProperty("sourceId",i,true);this._resetAllCompositeControls();return this;};
u.prototype.setType=function(i){this.setProperty("type",i,true);this._resetAllCompositeControls();return this;};
u.prototype.addCustomToolbarItem=function(i){if(this._iCustomItemInsertIndex==-1){this._oToolbar.insertContent(i,0);this._iCustomItemInsertIndex++;}else{this._oToolbar.insertContent(i,this._iCustomItemInsertIndex+1);this._iCustomItemInsertIndex++;}this._aCustomItems.push(i);this._resetAllCompositeControls();return this;};
u.prototype.insertCustomToolbarItem=function(i,I){var m=this._aCustomItems.length;if(I>=m){I=m;}if(this._iCustomItemInsertIndex===-1){this._oToolbar.insertContent(i,0);this._aCustomItems.push(i);}else{this._oToolbar.insertContent(i,this._iCustomItemInsertIndex-this._aCustomItems.length+1+I);this._aCustomItems.splice(I,0,i);}this._iCustomItemInsertIndex++;return this;};
u.prototype.removeCustomToolbarItem=function(v){if(this._aCustomItems.length===0){return this._aCustomItems;}if((typeof v)==="number"){var i=this._aCustomItems.length;var R=v>i?i:v;this._oToolbar.removeContent(this._iCustomItemInsertIndex-i+R+1);this._iCustomItemInsertIndex--;return this._aCustomItems.splice(R,1);}else if(v){this._oToolbar.removeContent(v);this._iCustomItemInsertIndex--;return this._aCustomItems.splice(jQuery.inArray(v,this._aCustomItems),1);}};
u.prototype.getCustomToolbarItems=function(){return this._aCustomItems.slice(0);};
u.prototype.destroyCustomToolbarItems=function(){var i=this.removeAllCustomToolbarItems();i.forEach(function(m){m.destroy();});return i;};
u.prototype.removeAllCustomToolbarItems=function(){var R=[];for(var i=0;i<this._aCustomItems.length;i++){R.push(this._oToolbar.removeContent(this._aCustomItems[i]));}this._iCustomItemInsertIndex=this._iCustomItemInsertIndex-this._aCustomItems.length;this._aCustomItems.splice(0,this._aCustomItems.length);return R;};
u.prototype._resetAllCompositeControls=function(){this._determineToolbarSchemeConfig(this.getSourceId());this._destroyCompositeControls();if(!this._sToolbarSchemeKey){return;}this._resolvePositions();var i,v,w=u.ToolbarItemPosition.Left,R=u.ToolbarItemPosition.Right;var x=this._oItemConfiguration[w];for(i=0;i<x.length;i++){if(x[i]){this._createCompositeControl(w,i,x[i]);}}var y=this._oItemConfiguration[R];for(i=y.length-1;i>=0;i--){if(y[i]){this._createCompositeControl(R,i,y[i]);}}var A=function(v){if(jQuery.isArray(v)){for(var m=0;m<v.length;m++){this._oToolbar.addContent(v[m]);}}else if(v){this._oToolbar.addContent(v);}};for(i=0;i<this._oAllItems[w].length;i++){v=this._oAllItems[w][i];A.call(this,v);}if(this._oAllItems[w].length!==0||this._oAllItems[R].length!==0){this._oToolbar.addContent(new T());}for(i=0;i<this._oAllItems[R].length;i++){v=this._oAllItems[R][i];A.call(this,v);}};
u.prototype.getAllToolbarItems=function(){return this._oToolbar.getContent();};
u.prototype._determineToolbarSchemeConfig=function(i){this._sToolbarSchemeKey=null;if(this.getType()===q.ToolbarType.Global&&this._oContainerLayoutConfigMap[i]){this._sToolbarSchemeKey=this._oContainerLayoutConfigMap[i].getToolbarSchemeKey();this._sInitMode=this.getMode()!=L.DEFAULT_MODE_KEY?this.getMode():this._oContainerLayoutConfigMap[i].getActiveModeKey();}else if(this.getType()===q.ToolbarType.Local&&this._oHierarchyConfigMap[i]){this._sToolbarSchemeKey=this._oHierarchyConfigMap[i].getToolbarSchemeKey();this._sInitMode=this.getMode()!=L.DEFAULT_MODE_KEY?this.getMode():this._oHierarchyConfigMap[i].getActiveModeKey();}if(this._oToolbarScheme==this._oToolbarSchemeConfigMap[this._sToolbarSchemeKey]){this._bClearCustomItems=false;}else{this._oToolbarScheme=this._oToolbarSchemeConfigMap[this._sToolbarSchemeKey];this._bClearCustomItems=true;}if(this._oToolbarScheme&&this._oToolbarScheme.getProperty("toolbarDesign")){this.setToolbarDesign(this._oToolbarScheme.getProperty("toolbarDesign"));}};
u.prototype._destroyCompositeControls=function(){this._oToolbar.getContent().forEach(function(i){if(this._aCustomItems.indexOf(i)<0){i.destroy();}},this);this._oToolbar.removeAllContent();this._resetToolbarInfo();};
u.prototype._resolvePositions=function(){if(this._oToolbarScheme){jQuery.each(this._oToolbarScheme.getMetadata().getAllProperties(),function(m){if(m!=="key"&&m!=="toolbarDesign"){var v=this._oToolbarScheme.getProperty(m);if(v){var w=this._parsePosition(v.getPosition());this._oItemConfiguration[w.position][w.idx]=jQuery.extend({},{groupId:m},v);}}}.bind(this));var i=this._oItemConfiguration;var A=Object.keys(i);A.forEach(function(m){var v=i[m],w=[];var x=Object.keys(v).sort();x.forEach(function(y,z){w.push(v[y]);});i[m]=w;});}};
u.prototype._parsePosition=function(i){return{position:i.toUpperCase().substr(0,1)==="L"?u.ToolbarItemPosition.Left:u.ToolbarItemPosition.Right,idx:parseInt(i.substr(1,i.length-1),10)};};
u.prototype._createCompositeControl=function(i,I,G){var v;switch(G.groupId){case"sourceSelect":v=this._genSourceSelectGroup(G);break;case"birdEye":v=this._genBirdEyeGroup(G);break;case"layout":v=this._genLayoutGroup(G);break;case"expandChart":v=this._genExpandChartGroup(G);break;case"expandTree":v=this._genExpandTreeGroup(G);break;case"customToolbarItems":v=this._genCustomToolbarItemGroup(i,G);break;case"mode":v=this._genModeButtonGroup(G);break;case"timeZoom":v=this._genTimeZoomGroupControls(G);break;case"legend":v=this._genLegend(G);break;case"settings":v=this._genSettings(G);break;default:break;}if(v){this._oAllItems[i]=this._oAllItems[i].concat(v);}};
u.prototype._genBirdEyeGroup=function(G){var i=this;var m=new c({priority:G.getOverflowPriority()});var v=this._oRb.getText("TXT_BRIDEYE");var w=this._oRb.getText("TXT_BRIDEYE_RANGE_VISIBLE_ROWS");var x=this._oRb.getText("TXT_BRIDEYE_RANGE_ALL_ROWS");var y=this._oRb.getText("TLTP_BRIDEYE_ON_VISIBLE_ROWS");var z=this._oRb.getText("TLTP_BRIDEYE_ON_ALL_ROWS");this._oBirdEyeButton=null;if(G.getBirdEyeRange()===L.BirdEyeRange.AllRows){this._oBirdEyeButton=new B({id:this._getConfigButtonId(G),icon:"sap-icon://show",tooltip:v+"("+x+"): "+z,layoutData:m,press:function(E){i.fireBirdEye({action:"birdEye",birdEyeRange:G.getBirdEyeRange()});}});}else if(G.getBirdEyeRange()===L.BirdEyeRange.VisibleRows){this._oBirdEyeButton=new B({id:this._getConfigButtonId(G),icon:"sap-icon://show",tooltip:v+"("+w+"): "+y,layoutData:m,press:function(E){i.fireBirdEye({action:"birdEye",birdEyeRange:G.getBirdEyeRange()});}});}else{this._oBirdEyeButton=new f({width:"8rem",text:w,tooltip:v+": "+y,icon:"sap-icon://show",buttonMode:sap.m.MenuButtonMode.Split,useDefaultActionOnly:true,defaultAction:function(E){i.fireBirdEye({action:"birdEye",birdEyeRange:this._currentBirdEyeRange?this._currentBirdEyeRange:L.BirdEyeRange.VisibleRows});}});var A=new g({id:this._getConfigButtonId(G),itemSelected:function(E){var I=E.getParameter("item");var H=I.birdEyeRange;i._oBirdEyeButton.setTooltip(I.getTooltip());i._oBirdEyeButton.setText(I.getText());I.setIcon("sap-icon://show");if(!this.getParent()._currentBirdEyeRange||this.getParent()._currentBirdEyeRange!==H){this.getParent()._currentBirdEyeRange=H;}i.fireBirdEye({action:"birdEye",birdEyeRange:H});}});var D=new h({text:w,tooltip:v+": "+y,press:function(E){this.setIcon();}});D.birdEyeRange=L.BirdEyeRange.VisibleRows;A.addItem(D);D=new h({text:x,tooltip:v+": "+z,press:function(E){this.setIcon();}});D.birdEyeRange=L.BirdEyeRange.AllRows;A.addItem(D);this._oBirdEyeButton.setMenu(A);}return this._oBirdEyeButton;};
u.prototype._genSourceSelectGroup=function(G){var i=this.getSourceId();var m=this;var v;this._oSourceSelectBox=new e({id:this._getConfigButtonId(G),layoutData:new c({priority:G.getOverflowPriority()}),width:"200px",change:function(E){var x=E.getParameter("selectedItem");var y=x.oSourceConfig;m.fireSourceChange({id:x.getKey(),config:y});}});switch(this.getType()){case q.ToolbarType.Global:v=this.getContainerLayouts();this._oSourceSelectBox.setTooltip(this._oRb.getText("TLTP_GLOBAL_HIERARCHY_RESOURCES"));break;case q.ToolbarType.Local:v=this.getHierarchies();this._oSourceSelectBox.setTooltip(this._oRb.getText("TLTP_LOCAL_HIERARCHY_RESOURCES"));break;default:return null;}var w;for(var I=0;I<v.length;I++){w=new j({key:v[I].getKey(),text:v[I].getText()});w.oSourceConfig=v[I];this._oSourceSelectBox.addItem(w);if(w.getKey()===i){this._oSourceSelectBox.setSelectedItem(w);}}return this._oSourceSelectBox;};
u.prototype._genLayoutGroup=function(G){if(this.getType==="LOCAL"){return null;}var m=this,H=this.getHierarchies(),v,i;this._oAddGanttChartSelect=new e({id:this._getConfigButtonId(G,"add"),icon:"sap-icon://add",type:sap.m.SelectType.IconOnly,autoAdjustWidth:true,maxWidth:"50px",tooltip:this._oRb.getText("TLTP_ADD_GANTTCHART"),forceSelection:false,layoutData:new c({priority:G.getOverflowPriority()}),change:function(x){if(x.getParameter("selectedItem")){var y=m.data("holder");if(y.getGanttCharts().length<y.getMaxNumOfGanttCharts()){if(!m._oLessGanttChartSelect.getEnabled()){m._oLessGanttChartSelect.setEnabled(true);if(m._oVHButton){m._oVHButton.setEnabled(true);}}if(y.getGanttCharts().length==y.getMaxNumOfGanttCharts()-1){this.setEnabled(false);}x.getSource().setSelectedItemId("");m.fireLayoutChange({id:"add",value:{hierarchyKey:x.getParameter("selectedItem").getKey(),hierarchyConfig:x.getParameter("selectedItem").data("hierarchyConfig")}});}if(y.getGanttCharts().length>y.getMaxNumOfGanttCharts()){this.setEnabled(false);}}}});if(H&&H.length>0){for(i=0;i<H.length;i++){v=new j({text:H[i].getText(),key:H[i].getKey()});v.data("hierarchyConfig",H[i]);this._oAddGanttChartSelect.addItem(v);}}var E=this._oContainerLayoutConfigMap[this.getSourceId()].getGanttChartLayouts().length>1?true:false;this._oLessGanttChartSelect=new e({id:this._getConfigButtonId(G,"less"),icon:"sap-icon://less",type:sap.m.SelectType.IconOnly,tooltip:this._oRb.getText("TLTP_REMOVE_GANTTCHART"),maxWidth:"50px",autoAdjustWidth:true,forceSelection:false,enabled:E,layoutData:new c({priority:G.getOverflowPriority()}),change:function(x){if(x.getParameter("selectedItem")){var y=m.data("holder");if(y.getGanttCharts().length<=y.getMaxNumOfGanttCharts()){if(!m._oAddGanttChartSelect.getEnabled()){m._oAddGanttChartSelect.setEnabled(true);}}m.fireLayoutChange({id:"less",value:{hierarchyKey:x.getParameter("selectedItem").getKey(),hierarchyConfig:x.getParameter("selectedItem").data("hierarchyConfig"),ganttChartIndex:x.getParameter("selectedItem").data("ganttChartIndex")}});var z=x.getSource().getSelectedItem();if(z){z.setText("");}if(y.getGanttCharts().length==1){this.setEnabled(false);if(m._oVHButton){m._oVHButton.setEnabled(false);}}}}});this._oLessGanttChartSelect.addEventDelegate({onclick:this._fillLessGanttChartSelectItem},this);var I=this._oContainerLayoutConfigMap[this.getSourceId()].getOrientation()===r.Vertical?"sap-icon://resize-vertical":"sap-icon://resize-horizontal";var w=this._oContainerLayoutConfigMap[this.getSourceId()].getOrientation()===r.Vertical?this._oRb.getText("TLTP_ARRANGE_GANTTCHART_VERTICALLY"):this._oRb.getText("TLTP_ARRANGE_GANTTCHART_HORIZONTALLY");this._oVHButton=new B({id:this._getConfigButtonId(G),icon:I,tooltip:w,type:G.getButtonType(),layoutData:new c({priority:G.getOverflowPriority()}),press:function(x){switch(this.getIcon()){case"sap-icon://resize-vertical":this.setIcon("sap-icon://resize-horizontal");this.setTooltip(m._oRb.getText("TLTP_ARRANGE_GANTTCHART_HORIZONTALLY"));m.fireLayoutChange({id:"orientation",value:r.Horizontal});break;case"sap-icon://resize-horizontal":this.setIcon("sap-icon://resize-vertical");this.setTooltip(m._oRb.getText("TLTP_ARRANGE_GANTTCHART_VERTICALLY"));m.fireLayoutChange({id:"orientation",value:r.Vertical});break;default:break;}}});this._oLayoutButton=[this._oAddGanttChartSelect,this._oLessGanttChartSelect,this._oVHButton];return this._oLayoutButton;};
u.prototype._fillLessGanttChartSelectItem=function(){var G=this.data("holder").getGanttCharts(),I;this._oLessGanttChartSelect.removeAllItems();if(G&&G.length>0){for(var i=0;i<G.length;i++){I=new j({text:this._oHierarchyConfigMap[G[i].getHierarchyKey()].getText(),key:G[i].getHierarchyKey()});I.data("hierarchyConfig",this._oHierarchyConfigMap[G[i].getHierarchyKey()]);I.data("ganttChartIndex",i);this._oLessGanttChartSelect.insertItem(I,i);}}};
u.prototype._genExpandChartGroup=function(G){this._aChartExpandButtons=[];var m=function(x){this.fireExpandChartChange({isExpand:x.getSource().data("isExpand"),expandedChartSchemes:x.getSource().data("chartSchemeKeys")});};var E=G.getExpandCharts(),v;for(var i=0;i<E.length;i++){var w=E[i];v=new B({id:this._getConfigButtonId(w),icon:w.getIcon(),tooltip:w.getTooltip(),layoutData:new c({priority:G.getOverflowPriority()}),press:m.bind(this),type:G.getButtonType(),customData:[new b({key:"isExpand",value:w.getIsExpand()}),new b({key:"chartSchemeKeys",value:w.getChartSchemeKeys()})]});if(G.getShowArrowText()){v.setText(w.getIsExpand()?"ꜜ":"ꜛ");}this._aChartExpandButtons.push(v);}return this._aChartExpandButtons;};
u.prototype._genCustomToolbarItemGroup=function(i,G){if(this._iCustomItemInsertIndex===-1){if(i==u.ToolbarItemPosition.Left){var m=this._oAllItems[i].length;this._iCustomItemInsertIndex=m-1;}else{var m=this._oAllItems[u.ToolbarItemPosition.Left].length+1+this._oAllItems[i].length;this._iCustomItemInsertIndex=m-1;}}return this._aCustomItems;};
u.prototype._genExpandTreeGroup=function(G){var i=this;this._oTreeGroup=[new B({id:this._getConfigButtonId(G,"expand"),icon:"sap-icon://expand",tooltip:this._oRb.getText("TLTP_EXPAND"),type:G.getButtonType(),layoutData:new c({priority:G.getOverflowPriority()}),enabled:false,press:function(E){i.fireExpandTreeChange({action:"expand"});}}),new B({id:this._getConfigButtonId(G,"collapse"),icon:"sap-icon://collapse",tooltip:this._oRb.getText("TLTP_COLLAPSE"),layoutData:new c({priority:G.getOverflowPriority()}),enabled:false,press:function(E){i.fireExpandTreeChange({action:"collapse"});}})];return this._oTreeGroup;};
u.prototype._genModeButtonGroup=function(G){var m=function(E){var i=E.getParameter("button");this.fireModeChange({mode:i.data("mode")});};this._oModeSegmentButton=new S({select:m.bind(this)});this._oModeButtonMap={};var J=function(i,v){if(this._oModesConfigMap[v]){var w=new B({id:this._getConfigButtonId(this._oModesConfigMap[v]),icon:this._oModesConfigMap[v].getIcon(),activeIcon:this._oModesConfigMap[v].getActiveIcon(),type:G.getButtonType(),tooltip:this._oModesConfigMap[v].getText(),layoutData:new c({priority:G.getOverflowPriority()}),customData:[new b({key:"mode",value:v})]});this._oModeButtonMap[v]=w;this._oModeSegmentButton.addButton(w);}};jQuery.each(G.getModeKeys(),J.bind(this));if(this._sInitMode){this._oModeSegmentButton.setSelectedButton(this._oModeButtonMap[this._sInitMode]);}return this._oModeSegmentButton;};
u.prototype._getCounterOfZoomLevels=function(){if(!this._nCounterOfDefaultSliders){this._nCounterOfDefaultSliders=this._oToolbarScheme.getTimeZoom().getStepCountOfSlider();}var i=this._oToolbarScheme.getTimeZoom().getInfoOfSelectItems();if(!i||i.length===0){this._oToolbarScheme.getTimeZoom().setStepCountOfSlider(this._nCounterOfDefaultSliders);return this._nCounterOfDefaultSliders;}var m=i.length;this._oToolbarScheme.getTimeZoom().setStepCountOfSlider(m);return m;};
u.prototype._getZoomControlType=function(){return this._sZoomControlType;};
u.prototype._genTimeZoomGroupControls=function(G){var m=this;var z=G.getZoomControlType(),R=[],v,Z,w,x;var y=new c({priority:G.getOverflowPriority()});var U=function(J){window.clearTimeout(this._iLiveChangeTimer);this._iLiveChangeTimer=-1;this.setZoomLevel(J,true);}.bind(this);this._sZoomControlType=z;this.fireEvent("_zoomControlTypeChange",{zoomControlType:z});if(z===L.ZoomControlType.None){return R;}else if(z===L.ZoomControlType.Select){var A=[],I=this._oToolbarScheme.getTimeZoom().getInfoOfSelectItems();if(I.length>0){if(I[0]instanceof j){A=I;}else{for(var i=0;i<I.length;i++){var D=new j({key:I[i].key,text:I[i].text});A.push(D);}}}v=new e({id:this._getConfigButtonId(G,"select"),items:A,selectedItem:A[this.getZoomLevel()],layoutData:y,change:function(J){var v=J.getSource();var K=v.getSelectedItem();var N=v.indexOfItem(K);this._iLiveChangeTimer=window.setTimeout(U.bind(m),200,N,K);}});this._oSelect=v;R.push(v);}else{var E=this._getCounterOfZoomLevels();if(this.data("holder")&&this.data("holder").getSliderStep()){E=this.data("holder").getSliderStep();}if(z!==L.ZoomControlType.ButtonsOnly){Z=new p({tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_LEVEL")+':'+this.getZoomLevel(),showHandleTooltip:true,showAdvancedTooltip:true,id:this._getConfigButtonId(G,"slider"),width:"200px",layoutData:y,max:E-1,value:this.getZoomLevel(),min:0,step:1,liveChange:function(J){var K=parseInt(J.getParameter("value"),10);window.clearTimeout(this._iLiveChangeTimer);this._iLiveChangeTimer=window.setTimeout(U.bind(this),200,K);}.bind(this)});}if(z!==L.ZoomControlType.SliderOnly){var H=function(J){return function(K){var N=parseInt(J?this._oZoomSlider.stepUp(1).getValue():this._oZoomSlider.stepDown(1).getValue(),10);this._iLiveChangeTimer=window.setTimeout(U.bind(this),200,N);};};w=new sap.m.Button({id:this._getConfigButtonId(G,"zoomIn"),icon:"sap-icon://zoom-in",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_IN"),layoutData:y.clone(),press:H(true).bind(this)});x=new B({id:this._getConfigButtonId(G,"zoomOut"),icon:"sap-icon://zoom-out",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_OUT"),layoutData:y.clone(),press:H(false).bind(this)});}if(x){R.push(x);this._oZoomOutButton=x;}if(Z){R.push(Z);this._oZoomSlider=Z;}if(w){R.push(w);this._oZoomInButton=w;}}return R;};
u.prototype._genLegend=function(G){if(!this._oLegendPop){this._oLegendPop=new P({placement:t.Bottom,showArrow:false,showHeader:false});}if(this.getLegend()){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(this.getLegend());}this._oLegendButton=new B({id:this._getConfigButtonId(G),icon:"sap-icon://legend",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_SHOW_LEGEND"),layoutData:new c({priority:G.getOverflowPriority(),closeOverflowOnInteraction:false}),press:function(E){this._oLegendPop.setOffsetX(this._calcOffsetForLegendPopover());var i=this._oLegendPop;if(i.isOpen()){i.close();}else{i.openBy(this._oLegendButton);}}.bind(this)});return this._oLegendButton;};
u.prototype._genSettings=function(G){var m=G.getItems()||[];var v=this;var A=m.map(function(i){return new n({name:i.getKey(),text:i.getDisplayText(),tooltip:i.getTooltip(),selected:i.getChecked()}).addStyleClass("sapUiSettingBoxItem");});this._aOldSettingState=A.map(function(i){return i.getSelected();});var R=function(A){for(var i=0;i<A.length;i++){switch(A[i].getName()){case L.SETTING_ITEM_ENABLE_NOW_LINE_KEY:A[i].setSelected(this.getEnableNowLine());break;case L.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY:A[i].setSelected(this.getEnableCursorLine());break;case L.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY:A[i].setSelected(this.getEnableVerticalLine());break;case L.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY:A[i].setSelected(this.getEnableAdhocLine());break;case L.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY:A[i].setSelected(this.getEnableTimeScrollSync());break;default:break;}}}.bind(this);this._oSettingsBox=new F({direction:s.Column,items:A}).addStyleClass("sapUiSettingBox");this._oSettingsDialog=new V({title:this._oRb.getText("SETTINGS_DIALOG_TITLE"),customTabs:[new k({content:this._oSettingsBox})],confirm:function(){var w=this._oSettingsBox.getItems();var x=[];for(var i=0;i<w.length;i++){x.push({id:w[i].getName(),value:w[i].getSelected()});v._aOldSettingState[i]=w[i].getSelected();}this.fireSettingsChange(x);}.bind(this),cancel:function(){R(A);}});this._oSettingsButton=new B({id:this._getConfigButtonId(G),icon:"sap-icon://action-settings",type:G.getButtonType(),tooltip:this._oRb.getText("TXT_SETTING_BUTTON"),layoutData:new c({priority:G.getOverflowPriority()}),press:function(E){this._oSettingsDialog.open();}.bind(this)});return this._oSettingsButton;};
u.prototype.toggleExpandTreeButton=function(R){if(this._oTreeGroup&&this._oTreeGroup.length>0){this._oTreeGroup.forEach(function(i){i.setEnabled(R);});}};
u.prototype.getToolbarSchemeKey=function(){return this._sToolbarSchemeKey;};
u.prototype.setEnableNowLine=function(E){this.setProperty("enableNowLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_NOW_LINE_KEY,E);}return this;};
u.prototype.setEnableCursorLine=function(E){this.setProperty("enableCursorLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY,E);}return this;};
u.prototype.setEnableVerticalLine=function(E){this.setProperty("enableVerticalLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY,E);}return this;};
u.prototype.setEnableAdhocLine=function(E){this.setProperty("enableAdhocLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY,E);}return this;};
u.prototype.setEnableTimeScrollSync=function(E){this.setProperty("enableTimeScrollSync",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY,E);}return this;};
u.prototype._setSettingItemProperties=function(m,v){var w=this._oSettingsBox.getItems();for(var i=0;i<w.length;i++){if(w[i].getName()===m){w[i].setSelected(v);break;}}};
u.prototype.exit=function(){if(this._oLegendPop){this._oLegendPop.destroy(false);}if(this._oSettingsPop){this._oSettingsPop.destroy(false);}};
u.prototype._calcOffsetForLegendPopover=function(){var i=0,m=65;var v=1;var z=1;var w=window.devicePixelRatio||1;w=Math.round(w*100)/100;if(sap.ui.Device.browser.name==="ie"){z=Math.round((screen.deviceXDPI/screen.logicalXDPI)*100)/100;}else if(sap.ui.Device.browser.name==="cr"){z=Math.round((window.outerWidth/window.innerWidth)*100)/100;}else{z=w;}if(z!==1){if(z<1||(z-1)%1===0){m+=m*(z-1)*0.1;}else{m=85;}w=Math.round(w*10)/10;if(z<1){v=w+Math.floor((1-z)*10)/10;}else if(z<=1.1){v=Math.round(z*10)/10*w;}else{v=w-Math.floor((z-1.1)*10)/10;}}if(a.getConfiguration().getRTL()===true){i=140;}else{var x=this._oLegendPop.getContent();if(x&&x.length>0){var y=sap.ui.getCore().byId(x[0].getContent());i=Math.round((m-parseInt(y.getWidth(),10))*v);}}return i;};
u.prototype.getZoomLevels=function(){if(this._oToolbarScheme){var i=this._oToolbarScheme.getTimeZoom();if(i){switch(i.getZoomControlType()){case L.ZoomControlType.Select:return i.getTextsOfSelect()||0;case L.ZoomControlType.None:return-1;default:return i.getStepCountOfSlider();}}}return-1;};
u.prototype._getConfigButtonId=function(i,m){var I=null;if(M.isGeneratedId(i.getId())){return I;}var v=this.getParent();if(v){v=this.getType()==="LOCAL"?v.getParent():v;if(v){I=v.getId()+"-"+i.getId();I=m?I+"-"+m:I;}}return I;};
return u;},true);
sap.ui.predefine('sap/gantt/control/ToolbarRenderer',[],function(){"use strict";var T={};
T.render=function(r,t){var n=t.getAllToolbarItems().length;r.write("<div");r.writeControlData(t);r.addClass("sapGanttToolbar");if(n==0){r.addClass("sapGanttSkipToolbar");}r.writeClasses();r.write(">");r.renderControl(t.getAggregation("_toolbar"));r.write("</div>");};
return T;},true);
sap.ui.predefine('sap/gantt/def/DefBase',["sap/ui/core/Element"],function(E){"use strict";
var D=E.extend("sap.gantt.def.DefBase",{metadata:{"abstract":true,properties:{defString:{type:"string",defaultValue:null},refString:{type:"string",defaultValue:null}}}});
D.prototype.getRefString=function(){var d=this.getProperty("refString");return d?d:"url(#"+this.generateRefId()+")";};
D.prototype.generateRefId=function(){return this.getId();};
return D;},true);
sap.ui.predefine('sap/gantt/def/SvgDefs',["sap/ui/base/ManagedObject",'sap/ui/core/Element'],function(M,E){"use strict";
var S=E.extend("sap.gantt.def.SvgDefs",{metadata:{defaultAggregation:"defs",aggregations:{defs:{type:"sap.gantt.def.DefBase",multiple:true,visibility:"public",singularName:"def",bindable:"bindable"}}}});
S.prototype.getDefString=function(){var r="<defs id='"+this.getId()+"'>",d=this.getDefs();if(d&&d.length>0){d.forEach(function(D){r+=D.getDefString();});}return r+"</defs>";};
S.prototype.getDefNode=function(){var r={"id":this.getId(),"defNodes":[]};var d=this.getDefs();for(var i=0;i<d.length;i++){r.defNodes.push(d[i].getDefNode());}return r;};
S.prototype._getDefString=function(r){var R="<defs id='"+this.getId()+"'>",d=this.getDefs();if(d&&d.length>0){d.forEach(function(D){R+=D.getDefString(r);});}return R+"</defs>";};
return S;},true);
sap.ui.predefine('sap/gantt/def/cal/Calendar',["../DefBase","sap/gantt/misc/Format"],function(D,F){"use strict";
var C=D.extend("sap.gantt.def.cal.Calendar",{metadata:{properties:{key:{type:"string",defaultValue:"calendar"},backgroundColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#e5e5e5"}},defaultAggregation:"timeIntervals",aggregations:{timeIntervals:{type:"sap.gantt.def.cal.TimeInterval",multiple:true,singularName:"timeInterval",bindable:"bindable"}}}});
C.prototype.getDefNode=function(){var t=this.getTimeIntervals();var s=(this.getParent()&&this.getParent().getParent())?this.getParent().getParent()._oStatusSet:null;var v=s?s.aViewBoundary:null;var T=s?s.aTimeBoundary:null;var f=t;if(T&&s){f=t.filter(function(o){var a=F.abapTimestampToDate(o.getStartTime());var e=F.abapTimestampToDate(o.getEndTime());var b=s.bRTL?T[1]:T[0],c=s.bRTL?T[0]:T[1];return e>b&&a<c;});}var w=(v&&v.length>1)?(v[1]-v[0]):1;var p={id:this.generateRefId(),x:0,y:0,width:w,timeIntervals:[]};for(var i=0;i<f.length;i++){var I=f[i].getDefNode();I.fill=this.getBackgroundColor();p.timeIntervals.push(I);}return p;};
C.prototype.generateRefId=function(){var i=(this.getParent()&&this.getParent().getParent())?this.getParent().getParent().getId():"";return i+"_"+this.getKey();};
return C;},true);
sap.ui.predefine('sap/gantt/def/cal/CalendarDefs',["sap/gantt/def/SvgDefs"],function(S){"use strict";
var C=S.extend("sap.gantt.def.cal.CalendarDefs",{});
C.prototype.getRefString=function(c){var i="";if(this.getParent()&&this.getParent().getId()){i=this.getParent().getId();}return"url(#"+i+"_"+c+")";};
return C;},true);
sap.ui.predefine('sap/gantt/def/cal/TimeInterval',["../DefBase","sap/gantt/misc/Format","sap/ui/core/Core"],function(D,F,C){"use strict";
var T=D.extend("sap.gantt.def.cal.TimeInterval",{metadata:{properties:{startTime:{type:"string",group:"Misc",defaultValue:null},endTime:{type:"string",group:"Misc",defaultValue:null}}}});
T.prototype.setStartTime=function(s){this.setProperty("startTime",this._convertTimestamp(s));return this;};
T.prototype.setEndTime=function(e){this.setProperty("endTime",this._convertTimestamp(e));return this;};
T.prototype._convertTimestamp=function(t){var r=t;if(r&&typeof r==="object"){r=F.dateToAbapTimestamp(r);}return r;};
T.prototype.getDefNode=function(){var a=(this.getParent()&&this.getParent().getParent()&&this.getParent().getParent().getParent())?this.getParent().getParent().getParent().getAxisTime():null;var s;var w;if(a){if(C.getConfiguration().getRTL()===true){s=a.timeToView(F.abapTimestampToDate(this.getEndTime()));w=a.timeToView(F.abapTimestampToDate(this.getStartTime()))-s;}else{s=a.timeToView(F.abapTimestampToDate(this.getStartTime()));w=a.timeToView(F.abapTimestampToDate(this.getEndTime()))-s;}}return{x:s,y:0,width:w};};
return T;},true);
sap.ui.predefine('sap/gantt/def/filter/MorphologyFilter',["sap/gantt/library","../DefBase"],function(l,D){"use strict";
var M=D.extend("sap.gantt.def.filter.MorphologyFilter",{metadata:{properties:{operator:{type:"string",defaultValue:l.def.filter.MorphologyOperator.Dilate},radius:{type:"string",defaultValue:"2,1"},colorMatrix:{type:"string",defaultValue:l.def.filter.ColorMatrixValue.AllToWhite}}}});
M.prototype.getDefString=function(){return"<filter id='"+this.getId()+"'>"+"<feMorphology in='SourceAlpha' result='morphed' operator='"+this.getOperator()+"' radius='"+this.getRadius()+"'/>"+"<feColorMatrix in='morphed' result='recolored' type='matrix' values='"+this.getColorMatrix()+"'/>"+"<feMerge>"+"<feMergeNode in='recolored'/>"+"<feMergeNode in='SourceGraphic'/>"+"</feMerge>"+"</filter>";};
return M;},true);
sap.ui.predefine('sap/gantt/def/gradient/LinearGradient',["../DefBase"],function(D){"use strict";
var L=D.extend("sap.gantt.def.gradient.LinearGradient",{metadata:{properties:{x1:{type:"string",defaultValue:"0"},y1:{type:"string",defaultValue:"0"},x2:{type:"string",defaultValue:"100"},y2:{type:"string",defaultValue:"15"}},aggregations:{stops:{type:"sap.gantt.def.gradient.Stop",multiple:true,singularName:"stop"}}}});
L.prototype.getDefString=function(){var r="<linearGradient id='"+this.getId()+"' x1='"+this.getX1()+"' y1='"+this.getY1()+"' x2='"+this.getX2()+"' y2='"+this.getY2()+"'>";var s=this.getStops();for(var i=0;i<s.length;i++){r=r.concat(s[i].getDefString());}r=r.concat("</linearGradient>");return r;};
return L;},true);
sap.ui.predefine('sap/gantt/def/gradient/RadialGradient',["../DefBase"],function(D){"use strict";
var R=D.extend("sap.gantt.def.gradient.RadialGradient",{metadata:{properties:{cx:{type:"float",defaultValue:400},cy:{type:"float",defaultValue:200},r:{type:"float",defaultValue:300},fx:{type:"float",defaultValue:400},fy:{type:"float",defaultValue:200}},aggregations:{stops:{type:"sap.gantt.def.gradient.Stop",multiple:true,singularName:"stop"}}}});
return R;},true);
sap.ui.predefine('sap/gantt/def/gradient/Stop',["../DefBase"],function(D){"use strict";
var S=D.extend("sap.gantt.def.gradient.Stop",{metadata:{properties:{offSet:{type:"string",defaultValue:"5%"},stopColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#FFFFFF"}}}});
S.prototype.getDefString=function(){return"<stop id='"+this.getId()+"' offset='"+this.getOffSet()+"' stop-color='"+this.getStopColor()+"' />";};
return S;},true);
sap.ui.predefine('sap/gantt/def/pattern/BackSlashPattern',["./PatternBase"],function(P){"use strict";
var B=P.extend("sap.gantt.def.pattern.BackSlashPattern",{metadata:{properties:{path:{type:"string"},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"int",defaultValue:2}}}});
B.prototype.getPath=function(){var t=this.getTileWidth();var a=this.getTileHeight();var s="";s=s.concat("M").concat(t/4).concat(",").concat(a/4*5).concat(" ");s=s.concat("l-").concat(t/2).concat(",-").concat(a/2).concat(" ");s=s.concat("M0,0").concat(" ");s=s.concat("l").concat(t).concat(",").concat(a).concat(" ");s=s.concat("M").concat(t/4*5).concat(",").concat(a/4).concat(" ");s=s.concat("l-").concat(t/2).concat(",-").concat(a/2).concat(" ");return s;};
B.prototype.getDefString=function(r){var i=this.getId();return"<pattern class='pattern' id='"+(r?i.slice(0,i.indexOf("-__clone")):i)+"' patternUnits='userSpaceOnUse' x='0' y='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"'><rect x='0' width='"+this.getTileWidth()+"' height='"+(this.getTileHeight()+4)+"' stroke-width='"+this.getStrokeWidth()+"' fill='"+this.getBackgroundColor()+"' fill-opacity='"+this.getBackgroundFillOpacity()+"'></rect><path d='"+this.getPath()+"' stroke='"+this.getStroke()+"' stroke-width='"+this.getStrokeWidth()+"'></path></pattern>";};
return B;},true);
sap.ui.predefine('sap/gantt/def/pattern/PatternBase',["../DefBase"],function(D){"use strict";
var P=D.extend("sap.gantt.def.pattern.PatternBase",{metadata:{"abstract":true,properties:{tileWidth:{type:"int",defaultValue:8},tileHeight:{type:"int",defaultValue:8},backgroundColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#fff"},backgroundFillOpacity:{type:"float",defaultValue:"1"}}}});
return P;},true);
sap.ui.predefine('sap/gantt/def/pattern/SlashPattern',["./PatternBase"],function(P){"use strict";
var S=P.extend("sap.gantt.def.pattern.SlashPattern",{
library:"sap.gantt",
metadata:{properties:{path:{type:"string",defaultValue:null},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"int",defaultValue:2}}}
});
S.prototype.getPath=function(){var t=this.getTileWidth();var a=this.getTileHeight();var s="";s=s.concat("M-").concat(t/4).concat(",").concat(a/4).concat(" ");s=s.concat("l").concat(t/2).concat(",-").concat(a/2).concat(" ");s=s.concat("M0").concat(",").concat(a).concat(" ");s=s.concat("l").concat(t).concat(",-").concat(a).concat(" ");s=s.concat("M").concat(t/4*3).concat(",").concat(a/4*5).concat(" ");s=s.concat("l").concat(t/2).concat(",-").concat(a/2).concat(" ");return s;};
S.prototype.getDefString=function(r){var i=this.getId();return"<pattern class='pattern' id='"+(r?i.slice(0,i.indexOf("-__clone")):i)+"' patternUnits='userSpaceOnUse' x='0' y='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"'><rect x='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"' fill='"+this.getBackgroundColor()+"' fill-opacity='"+this.getBackgroundFillOpacity()+"'></rect><path d='"+this.getPath()+"' stroke='"+this.getStroke()+"' stroke-width='"+this.getStrokeWidth()+"'></path></pattern>";};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/AdhocLine',["sap/gantt/library","sap/ui/core/Core","sap/gantt/misc/Utility","./Drawer","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(l,C,U,D,F){"use strict";
var A=D.extend("sap.gantt.drawer.AdhocLine",{constructor:function(a){this.oAxisTime=a;}});
A.prototype.drawSvg=function(g,a,s,L){if(!a||a.length==0){return;}var v=C.getConfiguration().getRTL()?s.aTimeBoundary[1]:s.aTimeBoundary[0],V=C.getConfiguration().getRTL()?s.aTimeBoundary[0]:s.aTimeBoundary[1];var b=a.filter(function(d,I){var h=F.abapTimestampToDate(d.getTimeStamp());if(v<=h&&h<=V){return true;}return false;});g.selectAll(".sapGanttChartAdhocLine").remove();if(b.length==0){return;}var c=jQuery(g.node()),i=Math.max.apply(null,c.map(function(){return jQuery(this).height();}).get());if(L===l.AdhocLineLayer.Top){g.append("g").classed("sapGanttChartAdhocLine",true);}else if(L===l.AdhocLineLayer.Bottom){var o=document.createElementNS(d3.ns.prefix.svg,"g");o.setAttribute("class","sapGanttChartAdhocLine");var w=U.attributeEqualSelector("id",g.attr("id"));var e=jQuery(w).find(".sapGanttChartCalendar");var B=jQuery(w).find(".sapGanttChartRowBackground");if(e.length>0){e.after(o);}else if(B.length>0){B.after(o);}else{g.insert("g",":first-child").classed("sapGanttChartAdhocLine",true);}}var o=g.select(".sapGanttChartAdhocLine");var f=o.selectAll(".sapGanttChartAdhocTimestamp").data(b);var t=this;f.enter().append("line").classed("sapGanttChartAdhocTimestamp",true).attr("x1",function(d){return t.oAxisTime.timeToView(F.abapTimestampToDate(d.getTimeStamp()));}).attr("y1",function(d){return 0;}).attr("x2",function(d){return t.oAxisTime.timeToView(F.abapTimestampToDate(d.getTimeStamp()));}).attr("y2",function(d){return i;}).attr("stroke",function(d){return d.getStroke();}).attr("stroke-width",function(d){return d.getStrokeWidth();}).attr("stroke-dasharray",function(d){return d.getStrokeDasharray();}).attr("stroke-opacity",function(d){return d.getStrokeOpacity();});f.selectAll("title").remove();f.insert("title",":first-child").text(function(d){return d.getDescription();});};
A.prototype.destroySvg=function(g){if(g){g.selectAll(".sapGanttChartAdhocLine").remove();}};
return A;},true);
sap.ui.predefine('sap/gantt/drawer/CalendarPattern',["sap/ui/core/Core","sap/gantt/misc/Format","sap/ui/core/format/DateFormat","sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(C,F,D,a,U){"use strict";
var b=a.extend("sap.gantt.drawer.CalendarPattern");
b.prototype.drawSvg=function(s,p,P,S,B){this._oStatusSet=S;if(P&&P.getDefNode()&&P.getDefNode().defNodes){var c=P.getDefNode();var e=p+"-calendardefs";var w=U.attributeEqualSelector("id",e);if(!(d3.select(w).empty())){jQuery(w).remove();}var f=this._oStatusSet.aViewBoundary[1]-this._oStatusSet.aViewBoundary[0];if(f<0){f=this._oStatusSet.aViewBoundary[0]-this._oStatusSet.aViewBoundary[1];}var g={height:B,width:f};var h=s.select(w);if(h.empty()){h=s.insert("defs",":first-child").attr("id",e);}var i=h.selectAll(".calendarPattern").data(c.defNodes);i.enter().append("pattern").attr("class","calendarPattern").attr("id",function(d){return d.id;}).attr("patternUnits","userSpaceOnUse").attr("x",0).attr("y",0).attr("width",g.width).attr("height",g.height);i.exit().remove();var j=i.selectAll("rect").data(function(){return this.parentNode.__data__.timeIntervals;});j.enter().append("rect");j.attr("x",function(d){return d.x;}).attr("y",function(d){return d.y;}).attr("width",function(d){return d.width;}).attr("height",g.height).attr("fill",function(d){return d.fill;});j.exit().remove();}};
return b;},true);
sap.ui.predefine('sap/gantt/drawer/CursorLine',["sap/ui/core/Core","sap/ui/Device","sap/gantt/misc/Format","sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(C,D,F,a,U){"use strict";
var b=a.extend("sap.gantt.drawer.CursorLine");
b.prototype.drawSvg=function(s,S,l,c){this._oLocale=l;var i=jQuery(U.attributeEqualSelector("id",c.svgId)).offset().left;var A=[];s.each(function(d,e){var o=jQuery(this),f=o.offset();A.push({x:c.x+i-f.left,y:c.y,svgId:o.attr("id"),svgHeight:o.height()});});var t=this;S.each(function(d,e){var h=t._createHeaderTopG(d3.select(this));t._drawHeaderLabel(h,A[e]);});s.each(function(d,e){var B=t._createBodyTopG(d3.select(this));t._drawCursorLine(B,A[e]);});};
b.prototype._createBodyTopG=function(s){var B=s.selectAll(".cursorline-top").data(function(){return[{svgHeight:jQuery(this.parentNode).height()}];});B.enter().append("g").classed("cursorline-top",true);B.exit().remove();return B;};
b.prototype._drawCursorLine=function(g,s){var p=g.selectAll("path").data(function(d){return[{svgHeight:d.svgHeight,x:s.x,y:s.y}];});p.enter().append("path").classed("sapGanttCursorLineBody",true);p.attr("d",function(d){return"M"+d.x+",0v"+d.svgHeight+"h1h-1";});p.exit().remove();};
b.prototype._createHeaderTopG=function(s){var h=s.selectAll(".cursorline-header-top").data(function(){return[{svgHeight:jQuery(this.parentNode).height()}];});h.enter().append("g").classed("cursorline-header-top",true);h.exit().remove();return h;};
b.prototype._drawHeaderLabel=function(g,s){var t=this;var A=this._getAxisTime(s.svgId);var r=g.selectAll("rect").data(function(d){return[{svgHeight:d.svgHeight,svgId:d.svgId,x:s.x,y:s.y}];});r.enter().append("rect").classed("sapGanttCursorLineHeader",true);r.attr("width",function(d){return 64;}).attr("height",function(d){return d.svgHeight>80?30:25;}).attr("x",function(d){return d.x-parseFloat(r.attr('width'))/2;}).attr("y",function(d){return d.svgHeight-parseFloat(r.attr('height'))-5;});r.exit().remove();var T=g.selectAll("text").data(function(d){return[{x:parseFloat(r.attr('x'))+parseFloat(r.attr('width')/2),y:parseFloat(r.attr('y'))+parseFloat(r.attr('height')/2)}];});T.enter().append("text").classed("sapGanttCursorLineLabel",true);T.attr("x",function(d){return d.x;}).attr("y",function(d){return d.y;}).text(function(d){return t._getTimeLabel(F.dateToAbapTimestamp(A.viewToTime(d.x)),t._oLocale,A);});if(D.browser.msie){T.attr("dy",".35em");}T.exit().remove();};
b.prototype.destroySvg=function(s,S){s.selectAll(".cursorline-top").remove();S.selectAll(".cursorline-header-top").remove();};
b.prototype._getAxisTime=function(e){var w=U.attributeEqualSelector("id",e);var $=jQuery(w);var A=null;if($){A=$.control(0,true).getAxisTime();}return A;};
b.prototype._getTimeLabel=function(t,l,A){var L=F._convertUTCToLocalTime(t,l),z=A.getZoomStrategy();return z.getLowerRowFormatter().format(L);};
return b;},true);
sap.ui.predefine('sap/gantt/drawer/Drawer',["sap/ui/base/Object"],function(O){"use strict";
var D=O.extend("sap.gantt.drawer.Drawer",{metadata:{"abstract":true}});
return D;},true);
sap.ui.predefine('sap/gantt/drawer/ExpandedBackground',["sap/gantt/drawer/Drawer","sap/ui/thirdparty/d3"],function(D,U,C){"use strict";
var E=D.extend("sap.gantt.drawer.ExpandedBackground");
E.prototype.drawSvg=function(s,d,c){if(!d){return null;}var e=[];for(var i=0;i<d.length;i++){if((d[i].index&&d[i].index!==0)||c.hasOwnProperty(d[i].chartScheme)){e.push(d[i]);}}var b=s.selectAll(".sapGanttChartRowBackground").remove();b=s.insert("g",":first-child").classed("sapGanttChartRowBackground",true);var S=b.selectAll(".expandedRow").data(e);S.enter().append("g").classed("expandedRow",true);S.exit().remove();if(!S.empty()){var a=jQuery(s.node()).width();this._drawExpandedBackground(s,a,c);}};
E.prototype._drawExpandedBackground=function(s,w,c){s.selectAll(".expandedRow").selectAll("rect").remove();s.selectAll(".expandedRow").append("rect").attr("x",function(d){return 0;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",function(d){return"100%";}).attr("class",function(d){var b=c[d.chartScheme];if(b&&b!==""){return b;}else{return"sapGanttExpandChartCntBG";}});s.selectAll(".expandedRow").selectAll("path").remove();s.selectAll(".expandedRow").append("path").classed("sapGanttExpandChartLine",true).attr("d",function(d){return"M0 "+(d.y-1)+" H"+(w-1);});};
return E;},true);
sap.ui.predefine('sap/gantt/drawer/NowLine',["./Drawer"],function(D){"use strict";var l=8;
var N=D.extend("sap.gantt.drawer.NowLine",{constructor:function(a){this.oAxisTime=a;}});
N.prototype.drawSvg=function(g,G,t){this.destroySvg(g,G);var n=this.oAxisTime.getNowLabel(t)[0].value;var c=jQuery(g.node()).width();if(isNaN(n)||n>c){return;}var C=g,o=G;var s={x:n,y:jQuery(G.node()).height()};this._drawHeaderTriangle(s,o);this._drawBodyStaightLine(s,C);};
N.prototype._drawHeaderTriangle=function(s,p){var h=l/2,t=Math.sqrt(l*l-h*h);var T=[s,{x:s.x-h,y:s.y-t},{x:s.x+h,y:s.y-t},s];var L=d3.svg.line().x(function(d){return d.x;}).y(function(d){return d.y;}).interpolate("linera");p.append("g").classed("sapGanttNowLineHeaderSvgPath",true).append("path").attr("d",L(T));};
N.prototype._drawBodyStaightLine=function(s,p){var n=p.selectAll(".sapGanttNowLineBodySvgLine").data(function(){var w=jQuery(window).height();return[{x1:s.x,y1:0,x2:s.x,y2:s.y+w}];});n.enter().append("g").classed("sapGanttNowLineBodySvgLine",true);var o=n.selectAll("g").data(function(d){return[d];});o.enter().append("line");o.attr("x1",function(d){return d.x1;}).attr("y1",function(d){return d.y1;}).attr("x2",function(d){return d.x2;}).attr("y2",function(d){return d.y2;});o.exit().remove();};
N.prototype.destroySvg=function(g,G){if(g&&G){g.selectAll(".sapGanttNowLineBodySvgLine").remove();G.selectAll(".sapGanttNowLineHeaderSvgPath").remove();}};
return N;},true);
sap.ui.predefine('sap/gantt/drawer/SelectionPanel',["sap/gantt/drawer/Drawer","sap/ui/core/Core","sap/ui/core/IconPool","sap/ui/Device","sap/ui/thirdparty/d3"],function(D,C,I,a){"use strict";
var S=D.extend("sap.gantt.drawer.SelectionPanel");
S.prototype.drawSvg=function(t,d,T,g){if(!d){return;}this._oGanttChartWithTable=g;var e=[];for(var i=0;i<d.length;i++){if(d[i].index&&d[i].index!==0){e.push(d[i]);}}var b=t.selectAll(".sapGanttSelectionPanel");if(b.empty()){b=t.append("g").classed("sapGanttSelectionPanel",true);}if(!b.empty()){var c=jQuery(t.node()).width();var o=g._oGanttChart._composeChartSchemeBackgroundConfig();this._drawExpandedBackground(b,c,T,e,o);this._drawExpandedContent(b,c,T,e);}};
S.prototype._drawExpandedBackground=function(s,t,T,b,c){var h=s.selectAll(".sapGanttExpandChartHeader").data(b);h.enter().append("rect").classed("sapGanttExpandChartHeader",true);h.attr("x",function(){return C.getConfiguration().getRTL()?t-T+1:2;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",T-2).attr("class",function(d){var f=c?c[d.chartScheme]:undefined;if(f&&f!==""){return"sapGanttExpandChartHeader "+f;}else{return"sapGanttExpandChartHeader sapGanttExpandChartHeaderBG";}});h.exit().remove();var e=s.selectAll(".sapGanttExpandChartCnt").data(b);e.enter().append("rect").classed("sapGanttExpandChartCnt",true);e.attr("x",function(){return C.getConfiguration().getRTL()?2:T+1;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",t-T-3).attr("class",function(d){var f=c?c[d.chartScheme]:undefined;if(f&&f!==""){return"sapGanttExpandChartCnt "+f;}else{return"sapGanttExpandChartCnt sapGanttExpandChartCntBG";}});e.exit().remove();var B=s.selectAll("path.sapGanttExpandChartLine").data(b);B.enter().append("path").classed("sapGanttExpandChartLine",true);B.attr("d",function(d){return"M0 "+(d.y-1)+" H"+(t-1);});B.exit().remove();};
S.prototype._drawExpandedContent=function(s,t,T,b){var g=this._getLevelIndentByShape;var c=[];for(var i=0;i<b.length;i++){if(b[i].index===1){var e=[];e.push(b[i]);c.push(e);}}s.selectAll("g").remove();var f=s.selectAll("g").data(c);f.enter().append("g").classed("sapGanttExpandChartContent",true);f.exit().remove();var h=f.selectAll(".sapGanttExpandChartIcon").data(function(d){return d;});h.enter().append(function(d){if(I.isIconURI(d.icon)){return document.createElementNS(d3.ns.prefix.svg,"text");}return document.createElementNS(d3.ns.prefix.svg,"image");}).classed("sapGanttExpandChartIcon",true).classed("iconFont",function(d){return I.isIconURI(d.icon);}).classed("iconImage",function(d){return!(I.isIconURI(d.icon));});f.selectAll(".iconImage").attr("xlink:href",function(d){return d.icon;}).attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d)-17:g(d)+T;}).attr("y",function(d){return d.y+4.25;}).attr("width",16).attr("height",16);f.selectAll(".iconFont").attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d):g(d)+T;}).attr("y",function(d){return d.y+19;}).text(function(d){var o=I.getIconInfo(d.icon);if(o){return o.content;}}).attr("font-family",function(d){var o=I.getIconInfo(d.icon);if(o){return o.fontFamily;}}).attr("font-size","16px");h.exit().remove();var j=f.selectAll("sapGanttExpandChartText").data(function(d){return d;});j.enter().append("text").classed("sapGanttExpandChartText",true);j.attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d)-26:g(d)+T+27;}).attr("y",function(d){return d.y+16.5;}).attr("font-size",function(d){return"0.75em";}).text(function(d){return d.name;}).attr("text-anchor",(a.browser.msie||a.browser.edge)&&C.getConfiguration().getRTL()?"end":"start");j.exit().remove();var k=this;var l=f.selectAll(".sapGanttExpandChartCloseButton").data(function(d){return d;});l.enter().append("text").classed("sapGanttExpandChartCloseButton",true);l.attr("x",function(d){var p,P=jQuery(this).prev("text");if(P&&P.length>0){var B=P[0].getBoundingClientRect();if(B&&B.width>0){p=B.width;}else{p=P[0].clientWidth;}}if(isNaN(p)||p==null||p==0){p=60;}var m=C.getConfiguration().getRTL()?t-T-g(d)-p-37:g(d)+T+p+35;return m;}).attr("y",function(d){return d.y+19;}).text(function(d){var o=I.getIconInfo("decline",undefined);if(o){return o.content;}}).attr("font-family",function(d){var o=I.getIconInfo("decline",undefined);if(o){return o.fontFamily;}}).attr("font-size","14px").attr("font-weight","bolder").on("click",function(d){var B=k._oGanttChartWithTable._oTT.getBinding("rows");var r=B.getContexts(0,B.getLength());var R=k._oGanttChartWithTable.getRowIdName();for(var i=0;i<r.length;i++){var o=r[i].getProperty();if(o&&d.id&&o[R]===d.id){k._oGanttChartWithTable.handleExpandChartChange(false,[d.chartScheme],[i]);}}});l.select("title").remove();l.insert("title",":first-child").text(function(d){return sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("TLTP_CLOSE");});l.exit().remove();};
S.prototype._getLevelIndentByShape=function(s){var f=13;var m=17;var i=25;var h=0;if(s&&s.bindingObj&&s.bindingObj._aRowIndexMap&&s.rowIndex&&s.rowIndex<s.bindingObj._aRowIndexMap.length){h=s.bindingObj._aRowIndexMap[s.rowIndex].level;}if(isNaN(h)||h==null){h=0;}return m*h+i+f;};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/ShapeCrossRow',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(D,U){"use strict";
var S=D.extend("sap.gantt.drawer.ShapeCrossRow");
S.prototype.drawSvg=function(s,o,a,A){this._oAxisTime=a;this._oAxisOrdinal=A;var b=s.select("."+o.getId()+"-top");if(b.empty()){b=s.append("g").classed(o.getId()+"-top",true);}var r=[];for(var i in o.dataSet){r.push(o.dataSet[i].shapeData[0]);}var c=b.selectAll("."+o.getId()).data(r);this._drawPath(c,o);this._drawInsertTitle(c,o);};
S.prototype._drawPath=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("path").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o,t))?true:false;}).classed("enableSelected",function(d){return o.getEnableSelection(d,f(this,o,t))?true:false;}).attr("d",function(d){return o.getD(d,f(this,o,t));}).attr("fill",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getFill(d,f(this,o,t));}}).attr("stroke",function(d){return o.getStroke(d,f(this,o,t));}).attr("stroke-width",function(d){return o.getStrokeWidth(d,f(this,o,t));}).attr("stroke-dasharray",function(d){return o.getStrokeDasharray(d,f(this,o,t));}).attr("fill-opacity",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getFillOpacity(d,f(this,o,t));}}).attr("stroke-opacity",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getStrokeOpacity(d,f(this,o,t));}});this.addDataAttributes(s);s.exit().remove();};
S.prototype._drawInsertTitle=function(s,o){var f=this._findObjectInfo;s.select("title").remove();s.insert("title",":first-child").each(function(d){var a=d3.select(this);a.selectAll("tspan").remove();if(sap.ui.Device.browser.msie){var l=o.getTitle(d,f(this,o)).split("\n");for(var i=0;i<l.length;i++){a.append("tspan").classed("sapGanttTooltipLine",true).text(l[i]);}}else{a.text(o.getTitle(d,f(this,o)));}});};
S.prototype._findObjectInfo=function(n,s,t,i){var r=n.__data__;var R=r;if(i){R=r.data.rawData;}var a={from:{objectInfo:R.fromObject.objectInfoRef?R.fromObject.objectInfoRef:R.fromObject,shapeRawData:R.fromShapeRawData},to:{objectInfo:R.toObject.objectInfoRef?R.toObject.objectInfoRef:R.toObject,shapeRawData:R.toShapeRawData}};return a;};
S.prototype.destroySvg=function(s,o){};
S.prototype.generateRelationshipDataSet=function(s,o,n,a,r,A,b){var R=r;var c=[];if(R!==undefined&&R.length>0){var d;var e;for(e in o){if(o[e].getCategory(null,A,b)===sap.gantt.shape.ShapeCategory.Relationship){d=o[e];break;}}if(d){var f={};for(e in o){if(o[e].dataSet&&o[e].dataSet!=""&&o[e].mShapeConfig.getShapeDataName()!=sap.gantt.shape.ShapeCategory.Relationship){U.generateObjectPathToObjectMap(o[e].dataSet,f,null);}}U.generateObjectPathToObjectMap(n,f,null);var g;var h;for(var i=0;i<R.length;i++){g=R[i];h=g;var j=d.getFromObjectPath(h,null);var k=f[j+"-"+d.getFromExpandRowIndex(h,null)];if(!k){continue;}var t=d.getToObjectPath(h,null);var l=f[t+"-"+d.getToExpandRowIndex(h,null)];if(!l){continue;}var m=d.getFromShapeId(h,null);var p=d.getFromDataId(h,null);var F=o[m].mShapeConfig.getShapeDataName();var q=this._findShapeDataFromRowObjectByShapeDataName(k,p,F);if(!q){continue;}var u=d.getToShapeId(h,null);var v=d.getToDataId(h,null);var T=o[u].mShapeConfig.getShapeDataName();var w=this._findShapeDataFromRowObjectByShapeDataName(l,v,T);if(!w){continue;}h.fromObject=k;h.toObject=l;h.fromShapeRawData=q;h.toShapeRawData=w;var x={"shapeData":[g]};c.push(x);}}}return c;};
S.prototype._findShapeDataFromRowObjectByShapeDataName=function(r,s,a){var o,b;if(r.shapeData){b=r.shapeData;}else if(r.data&&r.data[a]){b=r.data[a];}else if(r.data){return r.data;}else{b=r;}for(var i=0;i<b.length;i++){if(b[i].__id__!==undefined&&b[i].__id__==s){o=b[i];break;}}if(o==undefined&&b.length>0){o=b[0];}return o;};
S.prototype.addDataAttributes=function(s){s.attr("data-sap-gantt-shape-id",function(d){return d.__id__;});};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/ShapeInRow',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(D,U,F){"use strict";
var S=D.extend("sap.gantt.drawer.ShapeInRow",{});
S.prototype.drawSvg=function(s,o,a,A,b){this._oAxisTime=a;this._oAxisOrdinal=A;this._oStatusSet=b;var c=s.select("."+o.getId()+"-top");if(c.empty()){c=s.append("g").classed(o.getId()+"-top",true);}if(sap.ui.getCore().byId(o.getId()).getMetadata().getName()==="sap.gantt.shape.cal.Calendar"){c.classed("sapGanttChartCalendar",true);}var r=o.getId()+"-row";var R=c.selectAll("."+r).data(o.dataSet);R.enter().append("g").classed(r,true);R.attr("data-sap-gantt-row-id",function(d){return d.objectInfoRef.id;});R.exit().remove();if(!R.empty()){this._recursiveDraw(R,o);}};
S.prototype.drawResizeShadow=function(s,o,a,A,b){this._oAxisTime=a;this._oAxisOrdinal=A;this._oStatusSet=b;if(o){var r=s.select(".resizingShadow");if(r.empty()){r=s.append("g").classed("resizingShadow",true);}var R=r.select("."+o.getId()+"-resize");if(R.empty()){R=r.append("g").classed(o.getId()+"-resize",true);}var c=R.data(o.dataSet);c.exit().remove();if(!c.empty()){this._recursiveDraw(c,o);}}};
S.prototype._recursiveDraw=function(g,s,a){var t=this;var b=g.selectAll("."+s.getId()).data(function(d){return t._bindRowData(d,a,this,s);});this._drawPerTag(b,s);this._drawInsertTitle(g,s);};
S.prototype._bindRowData=function(d,s,n,o){var v=this._oStatusSet&&this._oStatusSet.aViewBoundary?this._oStatusSet.aViewBoundary:undefined;var a=o.getIsBulk();var f,i;if(d){var r=[];if(d.shapeData){if(!(d.shapeData instanceof Array)){r=r.concat(d.shapeData);}else{for(i=0;i<d.shapeData.length;i++){if(d.shapeData[i]){f={};f.oShape=o;f.objectInfo=d.objectInfoRef;f.dShapeData=d.shapeData[i];f.aViewRange=v;if(!a&&(v!==undefined)&&this._filterDataVisibleRange(f)){continue;}r=r.concat(d.shapeData[i]);}}}}else if(s&&d[s]){if(d[s].length){for(i=0;i<d[s].length;i++){f={};f.oShape=o;f.objectInfo=d.objectInfoRef;f.dShapeData=d[s][i];f.aViewRange=v;if(!a&&(v!==undefined)&&this._filterDataVisibleRange(f)){continue;}r.push(d[s][i]);}}else{r.push(d[s]);}}else if(d){r=r.concat(d);}if(o.filterValidData&&(r.length>0)){r=o.filterValidData(r,d.objectInfoRef);}return r;}};
S.prototype._filterDataVisibleRange=function(f){var a=this._oAxisTime;var A=this._oAxisOrdinal;var v=f.aViewRange;var i=f.oShape.getIsDuration(f.dShapeData);if(i){var s=a.timeToView(F.abapTimestampToDate(f.oShape.getTime(f.dShapeData,undefined,a,A,f.objectInfo)));var e=a.timeToView(F.abapTimestampToDate(f.oShape.getEndTime(f.dShapeData,undefined,a,A,f.objectInfo)));if(this._oStatusSet.bRTL===true){return(e>v[1])||(s<v[0]);}else{return(e<v[0])||(s>v[1]);}}else{var t=a.timeToView(F.abapTimestampToDate(f.oShape.getTime(f.dShapeData,undefined,a,A,f.objectInfo)));return(t>v[1])||(t<v[0]);}return false;};
S.prototype._drawPerTag=function(s,o){switch(o.getTag()){case"g":this._drawGroup(s,o);break;case"line":this._drawLine(s,o);break;case"rect":this._drawRect(s,o);break;case"text":this._drawText(s,o);break;case"path":this._drawPath(s,o);break;case"clippath":this._drawClipPath(s,o);break;case"image":this._drawImage(s,o);break;case"polygon":this._drawPolygon(s,o);break;case"polyline":this._drawPolyline(s,o);break;case"circle":this._drawCircle(s,o);break;case"defs":this._drawDefinitions(s,o);break;default:break;}if(o.getParent()===null){this.addDataAttributes(s);}};
S.prototype._drawGroup=function(s,o){var f=this._findObjectInfo;s.enter().append("g").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;});s.exit().remove();var a=o.getShapes();if(a&&a.length>0){for(var i=0;i<a.length;i++){this._recursiveDraw(s,a[i],a[i].mShapeConfig.getShapeDataName());}}};
S.prototype._drawLine=function(s,o){var f=this._findObjectInfo;s.enter().append("line").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("x1",function(d){return o.getX1(d,f(this,o));}).attr("y1",function(d){return o.getY1(d,f(this,o));}).attr("x2",function(d){return o.getX2(d,f(this,o));}).attr("y2",function(d){return o.getY2(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawRect=function(s,o){var f=this._findObjectInfo;s.enter().append("rect").classed(o.getId(),true);s.classed(o.getHtmlClass(),function(d){return o.getHtmlClass(d,f(this,o))?true:false;}).classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).classed("enableClone",function(d){return o.getEnableDnD(d,f(this,o))?true:false;}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("width",function(d){return o.getWidth(d,f(this,o));}).attr("height",function(d){return o.getHeight(d,f(this,o));}).attr("rx",function(d){return o.getRx(d,f(this,o));}).attr("ry",function(d){return o.getRy(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("clip-path",function(d){return o.getClipPath(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawText=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("text").classed(o.getId(),true);s.classed("sapGanttShapeSvgText",true).classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("text-anchor",function(d){return o.getTextAnchor(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));}).text(function(d){return o.getText(d,f(this,o));}).each(function(d){var a=d3.select(this);a.selectAll("tspan").remove();var O=f(this,o);var n=o.getWrapWidth(d,O);var b=o.getTruncateWidth(d,O);if(b>-1){t._textTruncate(d,a,b,o.getEllipsisWidth(d,O),o.getId());}else if(n>-1){t._textWrap(d,this,n,o.getWrapDy(d,O));}});s.exit().remove();};
S.prototype._textTruncate=function(d,s,n,a,i){var b=s.node().getComputedTextLength();if(b>n){var t=s.text().trim(),c,e;if(a>-1&&a<n){e=true;c=n-a;}else{e=false;c=n;}var f=this._getTextTruncatCountByBinarySearch(s,b,c,t);t=t.slice(0,f).trim();s.text(t);if(e){if(sap.ui.Device.browser.name==="cr"&&sap.ui.Device.browser.version<96){s.append("tspan").classed(i,true).text("...").attr("textLength",s.node().getComputedTextLength()).attr("lengthAdjust","spacingAndGlyphs");}else{var r=sap.ui.getCore().getConfiguration().getRTL();if(r&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge||sap.ui.Device.browser.safari)){s.text("..."+t).classed(i,true);}else{s.append("tspan").classed(i,true).text("...").attr("textLength",a).attr("lengthAdjust","spacingAndGlyphs");}}}}};
S.prototype._getTextTruncatCountByBinarySearch=function(s,n,a,t){var b=0;if(a>0&&t.length>0){var c=Math.round(a/Math.ceil(n/t.length));var d,e,f;if(c<1){d=c;e=c+1;f=c+2;}else if(c==t.length){d=c-2;e=c-1;f=c;}else{d=c-1;e=c;f=c+1;}var g=s[0][0].getSubStringLength(0,e);var h=s[0][0].getSubStringLength(0,f);var i=s[0][0].getSubStringLength(0,d);if(g==a||(g<a&&h>a)){b=e;}else if(h==a){b=f;}else if(i==a||(i<a&&g>a)){b=d;}else{var j=1,k=t.length;if(h<a){j=f;}else if(i>a){k=d-1;}while(j<=k){e=Math.floor(j+(k-j)/2);g=s[0][0].getSubStringLength(0,e);h=s[0][0].getSubStringLength(0,e+1);if(g==a||(g<a&&h>a)){b=e;break;}else if(g>a){k=e-1;}else{j=e+1;}}}}return(b>=0&&b<=t.length)?b:0;};
S.prototype._textWrap=function(d,s,n,a){};
S.prototype._drawPath=function(s,o){var f=this._findObjectInfo;s.enter().append("path").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("d",function(d){return o.getD(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawClipPath=function(s,o){var f=this._findObjectInfo;s.enter().append("defs").classed(o.getId(),true);s.selectAll("clipPath").remove();s.append("clipPath").attr("id",function(d){return o.getHtmlClass(d,f(this,o));}).append("path").attr("d",function(d){return o.getPaths()[0].getD(d,f(this,o));});s.exit().remove();};
S.prototype._drawImage=function(s,o){var f=this._findObjectInfo;s.enter().append("image").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("xlink:href",function(d){return o.getImage(d,f(this,o));}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("width",function(d){return o.getWidth(d,f(this,o));}).attr("height",function(d){return o.getHeight(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));});s.exit().remove();};
S.prototype._drawPolygon=function(s,o){var f=this._findObjectInfo;s.enter().append("polygon").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("points",function(d){return o.getPoints(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawPolyline=function(s,o){var f=this._findObjectInfo;s.enter().append("polyline").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("points",function(d){return o.getPoints(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawCircle=function(s,o){var f=this._findObjectInfo;s.enter().append("circle").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("cx",function(d){return o.getCx(d,f(this,o));}).attr("cy",function(d){return o.getCy(d,f(this,o));}).attr("r",function(d){return o.getR(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawDefinitions=function(s,o){var f=this._findObjectInfo;s.enter().append("defs").classed(o.getId(),true);s.each(function(d,i){jQuery(this).empty();var h=o.getContent(d,f(this));var x="<svg xmlns='"+d3.ns.prefix.svg+"'>"+h+"</svg>";this.appendChild(jQuery(x)[0].firstChild);});s.exit().remove();};
S.prototype._drawInsertTitle=function(g,s){var f=this._findObjectInfo;var a=g.selectAll("."+s.getId()+".hasTitle");a.select("title").remove();a.insert("title",":first-child").each(function(d){var o=d3.select(this);o.selectAll("tspan").remove();if(sap.ui.Device.browser.msie){var l=s.getTitle(d,f(this,s)).split("\n");for(var i=0;i<l.length;i++){o.append("tspan").classed("sapGanttTooltipLine",true).text(l[i]);}}else{o.text(s.getTitle(d,f(this,s)));}});};
S.prototype._findObjectInfo=function(n,s,i){var t=n;while(!t.__data__.objectInfoRef){t=t.parentNode;}return t.__data__.objectInfoRef;};
S.prototype.addDataAttributes=function(s){s.attr("data-sap-gantt-shape-id",function(d){return d.__id__;});};
S.prototype.destroySvg=function(s,o){};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/TimePeriodZoomRectangle',["sap/gantt/drawer/Drawer","sap/ui/thirdparty/d3"],function(D){"use strict";
var T=D.extend("sap.gantt.drawer.TimePeriodZoomRectangle");
T.prototype.drawSvg=function(s,x){s.selectAll(".sapGanttChartTimePeriodZoomRectangle").remove();s.append("rect").classed("sapGanttChartTimePeriodZoomRectangle",true).attr("x",function(){return x;}).attr("y",function(){return 0;}).attr("height",function(){return jQuery(s.node()).height();});};
T.prototype.updateSvg=function(s,S,e){s.selectAll(".sapGanttChartTimePeriodZoomRectangle").attr("x",function(){return S;}).attr("width",function(){return e-S;});};
T.prototype.destroySvg=function(s){s.selectAll(".sapGanttChartTimePeriodZoomRectangle").remove();};
return T;},true);
sap.ui.predefine('sap/gantt/drawer/VerticalLine',["./Drawer","sap/ui/thirdparty/d3"],function(D){"use strict";
var V=D.extend("sap.gantt.drawer.VerticalLine",{constructor:function(a){this.oAxisTime=a;}});
V.prototype.drawSvg=function(g){var c=jQuery(g.node()),C=c.width(),a=Math.max.apply(null,c.map(function(){return jQuery(this).height();}).get());var z=this.oAxisTime.getZoomStrategy();var t=this.oAxisTime.getTickTimeIntervalLabel(z.getTimeLineOption(),null,[0,C]);var T=t[1];var p="";for(var i=0;i<T.length;i++){p+=" M"+" "+(T[i].value-1/2)+" 0"+" L"+" "+(T[i].value-1/2)+" "+(a);}if(p){g.selectAll(".sapGanttChartVerticalLine").remove();g.insert("g",":first-child").classed("sapGanttChartVerticalLine",true).append("path").attr("d",p);}};
V.prototype.destroySvg=function(g){if(g){g.selectAll(".sapGanttChartVerticalLine").remove();}};
return V;},true);
sap.ui.predefine('sap/gantt/eventHandler/AutoScrollHandler',['sap/ui/thirdparty/jquery','sap/ui/core/Element',"sap/ui/core/Core"],function(q,E,C){"use strict";
var A=E.extend("sap.gantt.eventHandler.AutoScrollHandler",{metadata:{properties:{horizontalThreshold:{type:"int",defaultValue:50},verticalThreshold:{type:"int",defaultValue:50},horizontalScrollStep:{type:"int",defaultValue:50},verticalScrollStep:{type:"int",defaultValue:50},delayInMillis:{type:"int",defaultValue:200}}}});
A.prototype.autoScroll=function(g,e){this.stop();var $=q(g.getDomSelectorById("svg-ctn"));var a=g._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar);var b=g._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar);if($.offset()){var s=$.offset().left;var S=s+$.width();var i=$.offset().top;var c=$.offset().top+$.height();var h=this.getHorizontalThreshold();var v=this.getVerticalThreshold();var H=this.getHorizontalScrollStep();var V=this.getVerticalScrollStep();var d=this.getDelayInMillis();var t=this;if(e.pageX-s>0&&e.pageX-s<h){g._destroyCursorLine();this._iAutoScrollTimeout=window.setInterval(function(){if(C.getConfiguration().getRTL()){a.scrollLeftRTL(a.scrollLeftRTL()-H);}else{a.scrollLeft(a.scrollLeft()-H);}t.fireAutoScrollingEvent(g,"scrollLeft");},d,this);return"scrollLeft";}else if(S-e.pageX>0&&S-e.pageX<h){g._destroyCursorLine();this._iAutoScrollTimeout=window.setInterval(function(){if(C.getConfiguration().getRTL()){a.scrollLeftRTL(a.scrollLeftRTL()+H);}else{a.scrollLeft(a.scrollLeft()+H);}t.fireAutoScrollingEvent(g,"scrollRight");},d,this);return"scrollRight";}else if(e.pageY-i>0&&e.pageY-i<(v-4)){this._iAutoScrollTimeout=window.setInterval(function(){b.scrollTop(b.scrollTop()-V);t.fireAutoScrollingEvent(g,"scrollTop");},d,this);return"scrollTop";}else if(c-e.pageY>0&&c-e.pageY<(v+4)){this._iAutoScrollTimeout=window.setInterval(function(){b.scrollTop(b.scrollTop()+V);t.fireAutoScrollingEvent(g,"scrollBottom");},d,this);return"scrollBottom";}}};
A.prototype.fireAutoScrollingEvent=function(g,d){g.fireEvent("_autoScrolling",{direction:d});};
A.prototype.stop=function(){window.clearInterval(this._iAutoScrollTimeout);};
return A;},true);
sap.ui.predefine('sap/gantt/eventHandler/MouseWheelHandler',["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/base/Object"],function(q,D,B){"use strict";
var M=B.extend("sap.gantt.eventHandler.MouseWheelHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._lastCalledMouseWheelZoom=0;this._iMouseWheelZoomTimer=undefined;}});
M.prototype.handleEvent=function(e,s){var o=e.originalEvent;var i=o.shiftKey;var I=o.ctrlKey;var S=this._getScrollDelta(o);var b=false;if(i){if(I){b=this._handleZoom(e,S,s);}else{this._handleHScroll(e,S);}}else{this._handleVScroll(e,S);}return b;};
M.prototype._getScrollDelta=function(e){var s=0;if(D.browser.firefox){s=e.detail;}else{s=e.deltaY||e.deltaX;}return s;};
M.prototype._handleZoom=function(e,s,S){var z=this._oSourceChart.getAxisTimeStrategy();var i=false;if(z.getMouseWheelZoomType()!==sap.gantt.MouseWheelZoomType.None){var Z=s<0;if((!Z&&z.getZoomLevel()>0)||(Z&&z.getZoomLevel()<z.getZoomLevels()-1)){if(this._oSourceChart._destroyCursorLine){this._oSourceChart._destroyCursorLine();}var t=(!this._iMouseWheelZoomTimer&&(Date.now()-this._lastCalledMouseWheelZoom>100))?0:700;if(t===0){this._updateVisibleHorizon(e,s,S);}else{this._iMouseWheelZoomTimer=this._iMouseWheelZoomTimer||window.setTimeout(this._updateVisibleHorizon.bind(this),t,e,s,S);}i=true;}this._preventBubbleAndDefault(e);}return i;};
M.prototype._updateVisibleHorizon=function(e,s,S){this._lastCalledMouseWheelZoom=Date.now();var z=this._oSourceChart.getAxisTimeStrategy();var o=e.originalEvent;var $=q(this._oSourceChart.getDomSelectorById("svg"));if($){var m=(D.browser.edge?o.clientX:o.pageX)-$.offset().left||o.offsetX;var t=z.getAxisTime().viewToTime(m);z.updateVisibleHorizonOnMouseWheelZoom(t,s,e,S);}this._iMouseWheelZoomTimer=undefined;};
M.prototype._handleHScroll=function(e,s){var h=this._oSourceChart.getTTHsbDom();var S=false;var b=s>0;if(h){if(b){S=Math.round(h.scrollLeft)===h.scrollWidth-h.clientWidth;}else{S=h.scrollLeft===0;}if(!S){this._preventBubbleAndDefault(e);h.scrollLeft+=s;}}};
M.prototype._handleVScroll=function(e,s){var v=this._oSourceChart.getTTVsbDom();var S=false;var b=s>0;if(v){if(b){S=Math.round(v.scrollTop)===v.scrollHeight-v.clientHeight;}else{S=v.scrollTop===0;}if(!S){this._preventBubbleAndDefault(e);var r=s/this._oSourceChart.getBaseRowHeight();if(r>1){r=Math.floor(r);}v.scrollTop+=r*this._getScrollingPixelsForRow();}}};
M.prototype._getScrollingPixelsForRow=function(){var t=this._oSourceChart._oTT;if(t){var v=t.getVisibleRowCount();var s=Math.max(1,v-t.getFixedRowCount()-t.getFixedBottomRowCount());var r=this._oSourceChart.getBaseRowHeight();var V=s*r;var b=t.getBinding("rows").getLength();var T=Math.max(b,v+1);var i=T*r;var a=Math.max(1,i-V-this._getRowHeightsDelta());var m;if(v>b){m=b;}else{m=Math.max(0,b-v-1);}return Math.ceil(a/Math.max(1,m));}return 0;};
M.prototype._getRowHeightsDelta=function(){var t=this._oSourceChart._oTT;if(t){var i=t.getBinding("rows").getLength();var v=t.getVisibleRowCount();var e=this._oSourceChart.getBaseRowHeight()*v;var r=this._oSourceChart._getRowHeights();if(v>i){r=r.slice(0,i);}var R=r.reduce(function(a,b){return a+b;},0)-e;if(R>0){R=Math.ceil(R);}return Math.max(0,R);}return 0;};
M.prototype._preventBubbleAndDefault=function(e){e.preventDefault();e.stopPropagation();};
return M;},true);
sap.ui.predefine('sap/gantt/eventHandler/ShapeHoverHandler',["sap/ui/base/Object"],function(B){"use strict";
var S=B.extend("sap.gantt.eventHandler.ShapeHoverHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._oShapeManager=c._oShapeManager;this._oLastHoverShapeUID=undefined;this._oLastHoverShapeData=undefined;this._sHoverDelayCall=undefined;this._iHoverDelayInMillionsecond=500;}});
S.prototype.handleShapeHover=function(s,e){if(this._oSourceChart._bDragStart){if(e&&this._oLastHoverShapeUID!==undefined){window.clearTimeout(this._sHoverDelayCall);this.fireMouseLeave(e);}}else{if(e){var a=e.target.getAttribute("class")?e.target.getAttribute("class").split(" ")[0]:undefined;window.clearTimeout(this._sHoverDelayCall);this._sHoverDelayCall=window.setTimeout(this.fireHoverEvent.bind(this),this._iHoverDelayInMillionsecond,s,a,e);}}};
S.prototype.fireHoverEvent=function(s,a,e){if(!s&&this._oLastHoverShapeUID!==undefined){this.fireMouseLeave(e);}else if(this._oShapeManager.isShapeHoverable(s,a)){if(this._oLastHoverShapeUID!==s.uid){if(this._oLastHoverShapeUID!==undefined){this.fireMouseLeave(e);}this.fireMouseEnter(s,e);}}else{if(this._oLastHoverShapeUID!==undefined){this.fireMouseLeave(e);}}};
S.prototype.fireMouseEnter=function(c,o){this._oLastHoverShapeUID=c.uid;this._oLastHoverShapeData=c;this._oSourceChart.fireShapeMouseEnter({shapeData:c,pageX:o.pageX,pageY:o.pageY,originEvent:o});};
S.prototype.fireMouseLeave=function(o){this._oSourceChart.fireShapeMouseLeave({shapeData:this._oLastHoverShapeData,originEvent:o});this._oLastHoverShapeUID=undefined;this._oLastHoverShapeData=undefined;};
return S;},true);
sap.ui.predefine('sap/gantt/eventHandler/ShapeResizeHandler',["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/base/Object","sap/gantt/misc/ShapeManager","sap/gantt/misc/Format","sap/ui/core/Core","sap/gantt/misc/Utility","sap/gantt/drawer/ShapeInRow"],function(q,D,B,S,F,C,U,a){"use strict";
var b=B.extend("sap.gantt.eventHandler.ShapeResizeHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._bResizing=false;this._oResizingData=undefined;this._oShapeManager=c._oShapeManager;this._oSourceChartId=this._oSourceChart.getId();this._oShapeInRowDrawer=new a();this._DEFAULT_RESIZE_CURSOR_SHOWING_THRESHOLD=1;this._DEFAULT_MOUSE_MOVE_PIXEL=3;this._TIMESTAMP_START_TIME_KEY="time";this._TIMESTAMP_END_TIME_KEY="endTime";}});
b.prototype.getIsResizing=function(){return this._bResizing;};
b.prototype.getResizingData=function(){return this._oResizingData;};
b.prototype.handleShapeResize=function(e){if(e.button===0){var s=d3.select(e.target).datum();if(e.target.getAttribute("class")&&s){var c=e.target.getAttribute("class").split(" ")[0];if(d3.select(e.target).classed("sapUiShapeResizingCursor")&&this._oShapeManager.isShapeResizable(s,c)&&this._oShapeManager.isShapeDuration(s,c)){this._handleShapeResizeStart(e);this._preventBubbleAndDefault(e);}}}};
b.prototype._handleShapeResizeStart=function(e){var s=q(this._oSourceChart.getDomSelectorById("svg"));var c=d3.select(e.target).datum();if(c){var r=U.getRowDatumByShapeUid(c.uid,this._oSourceChart.getId());if(r){r.y=this._oSourceChart._oAxisOrdinal.elementToView(r.uid);var x=e.pageX-s.offset().left||e.offsetX;var t=this._getTopShapeInstance(c,e.target.getAttribute("class").split(" ")[0]);var d,f;if(t){if(C.getConfiguration().getRTL()===true){d=t.getEndTime(c);f=t.getTime(c);}else{d=t.getTime(c);f=t.getEndTime(c);}}var o={"shapeData":c,"objectInfoRef":r};this._oResizingData={"oShapeData":o,"aOldTime":[d,f],"resizeStartPointX":x,"topShapeInstance":t};q(document.body).unbind("mousemove.shapeResizing");q(document.body).unbind("mouseup.shapeResizing");q(document.body).bind("mousemove.shapeResizing",this._handleShapeResizing.bind(this));q(document.body).bind("mouseup.shapeResizing",this._handleShapeResizeEnd.bind(this));}}};
b.prototype.checkShapeResizable=function(s,t,p){if(s&&t&&p){q(t).removeClass("sapUiShapeResizingCursor");var c=t.getAttribute("class")?t.getAttribute("class").split(" ")[0]:undefined;if(!c||c.indexOf("__")<0){return;}if(this._oShapeManager.isShapeResizable(s,c)){var h,d,e;var o=this._getShapeInstance(s,c);if(o){var f=o.getTime(s);var E=o.getEndTime(s);d=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(f));e=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(E));h=Math.abs(e-p)<Math.abs(d-p)?Math.abs(e-p):Math.abs(d-p);}if(h<=this._DEFAULT_RESIZE_CURSOR_SHOWING_THRESHOLD&&!this._oSourceChart._bDragging){q(t).addClass("sapUiShapeResizingCursor");}else{q(t).removeClass("sapUiShapeResizingCursor");}}}};
b.prototype._preventBubbleAndDefault=function(e){e.preventDefault();e.stopPropagation();};
b.prototype._handleShapeResizing=function(e){if(!D.support.touch&&(e.button!==0||e.buttons===0||e.ctrlKey)){return false;}var s=q(this._oSourceChart.getDomSelectorById("svg"));var d=Math.abs((e.pageX-s.offset().left||e.offsetX)-this._oResizingData.resizeStartPointX);if(d>this._DEFAULT_MOUSE_MOVE_PIXEL){if(this._oResizingData!==undefined){this._updateResizingShapeData(e);this._bResizing=true;this._oSourceChart._oAutoScrollHandler.autoScroll(this._oSourceChart,e);}}};
b.prototype._handleShapeResizingWhenAutoScroll=function(){if(this.getIsResizing()){this._updateResizingShapeData(this._oLastEvent);}};
b.prototype._updateResizingShapeData=function(e){this._oLastEvent=e;var s=q(this._oSourceChart.getDomSelectorById("svg"));var c=e.pageX-s.offset().left||e.offsetX;var r=this._calculateResizedNewTime(c);this._drawResizingShadow(r);};
b.prototype._parseShapeTimeProperty=function(s,A){var p;if(s.mShapeConfig.hasShapeProperty(A)){var c=s.mShapeConfig.getShapeProperty(A);if(typeof c==="string"&&c.charAt(0)==="{"&&c.charAt(c.length-1)==="}"){p=c.substring(1,c.length-1);}}return p;};
b.prototype._drawResizingShadow=function(r){var s=d3.select(this._oSourceChart.getDomSelectorById("svg"));if(r){var c=q.extend(true,{},this._oResizingData.oShapeData.shapeData);var o=this._oResizingData.topShapeInstance.getAggregation("resizeShadowShape");var d=this._parseShapeTimeProperty(o,this._TIMESTAMP_START_TIME_KEY);var e=this._parseShapeTimeProperty(o,this._TIMESTAMP_END_TIME_KEY);var n,N;if(C.getConfiguration().getRTL()===true){n=r[1];N=r[0];}else{n=r[0];N=r[1];}if(c[d]){c[d]=n;}if(c[e]){c[e]=N;}var f={"objectInfoRef":this._oResizingData.oShapeData.objectInfoRef};f.shapeData=c;o.dataSet=[f];this._oShapeInRowDrawer.drawResizeShadow(s,o,this._oSourceChart.getAxisTime(),this._oSourceChart._oAxisOrdinal,this._oSourceChart._oStatusSet);}};
b.prototype._calculateResizedNewTime=function(c){var r=[];var n,N;var o=this._oResizingData.aOldTime[0];var d=this._oResizingData.aOldTime[1];var e=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(o));var f=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(d));var i;if(this._oResizingData.isLeftSideClick!==undefined&&this._oResizingData.isLeftSideClick!==null){i=this._oResizingData.isLeftSideClick;}else{i=Math.abs(this._oResizingData.resizeStartPointX-e)<Math.abs(this._oResizingData.resizeStartPointX-f)?true:false;this._oResizingData.isLeftSideClick=i;}if(i){N=d;if(c>=f){n=d;}else{n=F.dateToAbapTimestamp(this._oSourceChart.getAxisTime().viewToTime(c));}}else{n=o;if(c<=e){N=o;}else{N=F.dateToAbapTimestamp(this._oSourceChart.getAxisTime().viewToTime(c));}}r=[n,N];return r;};
b.prototype._getShapeInstance=function(s,c){var m=this._oShapeManager.getShapeInstance(s,c);if(m){if(m.getId()===c){return m;}else if(m.getShapes()){var d=m.getShapes();for(var i=0;i<d.length;i++){if(d[i].getId()===c){return d[i];}}}}else{var t=C.byId(c).getParent();if(t){return t;}}return undefined;};
b.prototype._getTopShapeInstance=function(s,c){var m=this._oShapeManager.getShapeInstance(s,c);if(m){return m;}else{var t=C.byId(c).getParent();if(t){return t;}}return undefined;};
b.prototype._handleShapeResizeEnd=function(e){this._oSourceChart._oAutoScrollHandler.stop();var r=d3.selectAll(".resizingShadow");if(!r.empty()){r.remove();}if(this._bResizing&&this._oResizingData!==undefined){this._collectResizingShapeData(e);this._oSourceChart.fireShapeResizeEnd({shapeUid:this._oResizingData.oShapeData.shapeData.uid,rowObject:this._oResizingData.oShapeData.objectInfoRef,oldTime:this._oResizingData.aOldTime,newTime:this._oResizingData.aNewTime});}q(document.body).unbind("mousemove.shapeResizing");q(document.body).unbind("mouseup.shapeResizing");q(e.target).removeClass("sapUiShapeResizingCursor");this._bResizing=false;this._oResizingData=undefined;this._oLastEvent=undefined;};
b.prototype._collectResizingShapeData=function(e){var s=q(this._oSourceChart.getDomSelectorById("svg"));var c=e.pageX-s.offset().left||e.offsetX;var r=this._calculateResizedNewTime(c);var n,N;if(C.getConfiguration().getRTL()===true){n=r[1];N=r[0];}else{n=r[0];N=r[1];}this._oResizingData.aNewTime=[n,N];};
return b;},true);
sap.ui.predefine('sap/gantt/eventHandler/TimePeriodZoomHandler',["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/gantt/misc/Format","sap/gantt/config/TimeHorizon","sap/gantt/drawer/TimePeriodZoomRectangle","sap/ui/core/library","sap/gantt/misc/Utility"],function(q,B,F,T,a,c,U){"use strict";var O=c.Orientation;
var b=B.extend("sap.gantt.eventHandler.TimePeriodZoomHandler",{constructor:function(C){B.call(this);this._oSourceChart=C;this._oTimePeriodZoomRectangleDrawer=new a();this._bActive=false;this._bLocked=false;this._bMouseOnSvg=false;this._bEnableSetVisibleHorizon=false;this._sAutoScrollDirection=undefined;this._oLastEvent=undefined;}});
b.prototype.activate=function(s){this._bActive=true;var $=q(this._oSourceChart.getDomSelectorById("svg"));$.css("cursor","crosshair");if(!s){this.fireActiveStatusChangeEvent(this._bActive);}};
b.prototype.deactivate=function(s){this._bActive=false;var $=q(this._oSourceChart.getDomSelectorById("svg"));$.css("cursor","auto");if(!s){this.fireActiveStatusChangeEvent(this._bActive);}};
b.prototype.invertActiveStatus=function(){if(this._bActive){this.deactivate();}else{this.activate();}};
b.prototype.fireActiveStatusChangeEvent=function(A){this._oSourceChart.fireEvent("_timePeriodZoomStatusChange",{isActive:A});};
b.prototype.isTimePeriodZoomEnabled=function(){var A=this._oSourceChart.getAxisTimeStrategy();return A.isTimePeriodZoomEnabled()&&this._bMouseOnSvg;};
b.prototype.isActive=function(){return this._bActive;};
b.prototype.handleDragStart=function(e,s){var g=this._oSourceChart;this._bLocked=true;this._bEnableSetVisibleHorizon=true;this.oStartEvent=e;this.oStartTime=this._caculateEventTime(e);this.createRectangle(this.oStartTime);var G=q(g.getDomSelectorById("svg"));G.unbind("mousemove.timePeriodZoomDragDrop");q(document.body).unbind("mouseup.timePeriodZoomDragDrop");g.detachHorizontalScroll(this.handleAutoScroll,this);G.bind("mousemove.timePeriodZoomDragDrop",this.handleDragging.bind(this));q(document.body).bind("mouseup.timePeriodZoomDragDrop",this.handleDragEnd.bind(this));g.attachHorizontalScroll(this.handleAutoScroll,this);if(!s){this._bMouseOnSvg=true;g.fireEvent("_timePeriodZoomOperation",{type:"dragStart",dragStartTime:this.oStartTime,originalEvent:e});}};
b.prototype.createRectangle=function(d){var g=this._oSourceChart;var D=g.getAxisTime().timeToView(d);var s=d3.select(g.getDomSelectorById("svg"));this._oTimePeriodZoomRectangleDrawer.drawSvg(s,D);};
b.prototype.handleDragging=function(e,s){var g=this._oSourceChart;this._oLastEvent=e;var d=this._caculateEventTime(e);this.updateRectangle(this.oStartTime,d);if(!s){var D=g._handleAutoScroll(e);if(D){this._sAutoScrollDirection=D;}g.fireEvent("_timePeriodZoomOperation",{type:"dragging",dragStartTime:this.oStartTime,draggingTime:d,originalEvent:e});}};
b.prototype.updateRectangle=function(d,D){var g=this._oSourceChart;var i=g.getAxisTime().timeToView(d);var e=g.getAxisTime().timeToView(D);var s=d3.select(g.getDomSelectorById("svg"));if(e>i){this._oTimePeriodZoomRectangleDrawer.updateSvg(s,i,e);}else{this._oTimePeriodZoomRectangleDrawer.updateSvg(s,e,i);}};
b.prototype.handleDragEnd=function(e,s){var g=this._oSourceChart;g._oAutoScrollHandler.stop();this._bLocked=false;this.deactivate();this._sAutoScrollDirection=undefined;this.destoryRectangle();var d;if(this._bEnableSetVisibleHorizon){var D=g.getAxisTime().timeToView(this.oStartTime);var i=this._caculateXPosition(e);d=this._caculateEventTime(e);var E=d;var o=5;if(Math.abs(i-D)>o){var S=this.oStartTime;if(E.getTime()<S.getTime()){var t=S;S=E;E=t;}var f=new T({startTime:S,endTime:E});g.syncVisibleHorizon(f);}}var G=q(g.getDomSelectorById("svg"));G.unbind("mousemove.timePeriodZoomDragDrop");q(document.body).unbind("mouseup.timePeriodZoomDragDrop");g.detachHorizontalScroll(this.handleAutoScroll,this);if(!s){var v=g.getVisibleWidth();g.fireEvent("_timePeriodZoomOperation",{type:"dragEnd",dragStartTime:this.oStartTime,dragEndTime:d,visibleWidth:v,originalEvent:e});this.fireActiveStatusChangeEvent(this._bActive);}};
b.prototype.destoryRectangle=function(){var g=this._oSourceChart;var s=d3.select(g.getDomSelectorById("svg"));this._oTimePeriodZoomRectangleDrawer.destroySvg(s);};
b.prototype.handleAutoScroll=function(e){if(this._bMouseOnSvg){var g=this._oSourceChart;var p=e.getParameters();var t;if(this._sAutoScrollDirection==="scrollLeft"){var v=F.abapTimestampToDate(p.startTime);t=v.getTime()-this.oStartTime.getTime();}else if(this._sAutoScrollDirection==="scrollRight"){var V=F.abapTimestampToDate(p.endTime);t=V.getTime()-this.oStartTime.getTime();}g.fireEvent("_timePeriodZoomOperation",{type:"autoScroll",timeBias:t,originalEvent:e});}};
b.prototype.attachEvents=function(){var g=q(this._oSourceChart.getDomSelectorById("svg"));g.bind("mouseenter.timePeriodZoomDragDrop",this.handleMouseEnter.bind(this));g.bind("mouseleave.timePeriodZoomDragDrop",this.handleMouseLeave.bind(this));};
b.prototype.detachEvents=function(){var g=q(this._oSourceChart.getDomSelectorById("svg"));g.unbind("mouseenter.timePeriodZoomDragDrop");g.unbind("mouseleave.timePeriodZoomDragDrop");};
b.prototype.handleMouseEnter=function(e){this._bMouseOnSvg=true;this._bLocked=true;this.setEnableSetVisibleHorizon(true);};
b.prototype.handleMouseLeave=function(e){this._bMouseOnSvg=false;this._oSourceChart._oAutoScrollHandler.stop();this._bLocked=false;this.setEnableSetVisibleHorizon(false);};
b.prototype.handleAutoScrolling=function(e){if(e.getParameter("direction")==="scrollLeft"||e.getParameter("direction")==="scrollRight"){var g=this._oSourceChart;var d=this._caculateEventTime(this._oLastEvent);this.updateRectangle(this.oStartTime,d);g.fireEvent("_timePeriodZoomOperation",{type:"dragging",dragStartTime:this.oStartTime,draggingTime:d,originalEvent:this._oLastEvent});}};
b.prototype.setEnableSetVisibleHorizon=function(e,s){this._bEnableSetVisibleHorizon=e;if(!s){var g=this._oSourceChart;g.fireEvent("_timePeriodZoomOperation",{type:"enableSetVisibleHorizon",enable:e});}};
b.prototype.calculateTargetVisibleHorizonByTimeBias=function(t){var o;var d;if(t!==undefined){var g=this._oSourceChart;var e=g.getAxisTimeStrategy().getTotalHorizon();d=new Date();d.setTime(this.oStartTime.getTime()+t);if(t<0){var f=F.abapTimestampToDate(e.getStartTime());if(d.getTime()<f.getTime()){d=f;this.oStartTime.setTime(d.getTime()-t);}o=new T({startTime:d});}else{var h=F.abapTimestampToDate(e.getEndTime());if(d.getTime()>h.getTime()){d=h;this.oStartTime.setTime(d.getTime()-t);}o=new T({startTime:undefined,endTime:d});}}return o;};
b.prototype.calculateTargetVisibleHorizon=function(e,s){var t;if(e.dragEndTime){var g=this._oSourceChart;var A=g.getAxisTimeStrategy();var o=A.getVisibleHorizon();var G=g.getVisibleWidth();var d=e.dragStartTime.getTime();var D=e.dragEndTime.getTime();var S;if(s){S=d<D?e.dragStartTime:e.dragEndTime;}else{S=F.abapTimestampToDate(A.getVisibleHorizon().getStartTime());}t=U.calculateHorizonByWidth(o,e.visibleWidth,G,S);}return t;};
b.prototype.syncTimePeriodZoomOperation=function(e,t,o){var g=this._oSourceChart;var p=e.getParameters();var d;if(o===O.Vertical){if(p.type==="dragStart"){this.handleDragStart(p.originalEvent,true);}else if(p.type==="dragging"){this.handleDragging(p.originalEvent,true);}else if(p.type==="dragEnd"){this.handleDragEnd(p.originalEvent,true);}else if(p.type==="enableSetVisibleHorizon"){this.setEnableSetVisibleHorizon(p.enable,true);}else if(p.type==="autoScroll"){if(!t){d=this.calculateTargetVisibleHorizonByTimeBias(p.timeBias);if(d){g.syncVisibleHorizon(d);}}}}else if(o===O.Horizontal){if(p.type==="dragStart"&&t){this.createRectangle(p.dragStartTime);}else if(p.type==="dragging"&&t){this.updateRectangle(p.dragStartTime,p.draggingTime);}else if(p.type==="dragEnd"){if(t){this.destoryRectangle();}d=this.calculateTargetVisibleHorizon(p,t);if(d){g.syncVisibleHorizon(d);}}}};
b.prototype._caculateXPosition=function(e){var g=this._oSourceChart;var m=g._getMouseXPos(e);var s=q(g.getDomSelectorById("svg"));var x=m;if(s.offset()){x=m-s.offset().left||e.offsetX;}return x;};
b.prototype._caculateEventTime=function(e){var g=this._oSourceChart;var x=this._caculateXPosition(e);return g.getAxisTime().viewToTime(x);};
return b;},true);
sap.ui.predefine('sap/gantt/eventHandler/TimePopoverHandler',["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ui/core/Core","sap/gantt/misc/Format"],function(q,B,C,F){"use strict";
var T=B.extend("sap.gantt.eventHandler.TimePopoverHandler",{constructor:function(c){B.call(this);this._bSelectShape=false;this._bDragShape=false;this._iOffsetX=0;this._iOffsetY=28;this._oSourceChart=c;this._oTimePopoverModel=undefined;}});
T.prototype.handleTimePopover=function(e){this._handleTimePopoverDragStart(e);};
T.prototype._handleTimePopoverDragStart=function(e){this._bSelectShape=false;this._bDragShape=false;this._calcPositionGap();q(document.body).unbind("mousemove.shapeDragDrop");q(document).unbind("mouseup.shapeDragDrop");q(document.body).bind("mousemove.shapeDragDrop",this._handleTimePopoverDragging.bind(this));q(document).bind("mouseup.shapeDragDrop",this._handleTimePopoverEnd.bind(this));};
T.prototype._calcPositionGap=function(e){var t;var r=C.getConfiguration().getRTL();if(this._oSourceChart.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.Start){this._iOffsetX=r?this._oSourceChart._oDraggingData.dragStartPoint.shapeWidth:-this._oSourceChart._oDraggingData.dragStartPoint.shapeWidth;}else if(this._oSourceChart.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.None){t=r?this._oSourceChart._oDraggingData.dragStartPoint.x-this._oSourceChart._oDraggingData.dragStartPoint.shapeX:this._oSourceChart._oDraggingData.dragStartPoint.x-this._oSourceChart._oDraggingData.dragStartPoint.shapeX-this._oSourceChart._oDraggingData.dragStartPoint.shapeWidth;this._iOffsetX=Math.ceil(t);}else if(this._oSourceChart.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.End){this._iOffsetX=0;}var o=this._oSourceChart.getBaseRowHeight();var d=this._oSourceChart._oDraggingData.groupDom.getBoundingClientRect();if(d){o+=d.height;}this._iOffsetY=Math.ceil(o);};
T.prototype._handleTimePopoverDragging=function(e){var d=d3.select("#dragDropShadow");var a=d[0];if(this._oSourceChart.getEnableShapeTimeDisplay()&&a[0]){var p=this._getPopoverPosition(e);this._displayTimePopover(p,a[0]);}};
T.prototype._displayTimePopover=function(p,d){if(!this._isDraggingShape()){this._changeDraggingStatus();}else if(!this._existsPopover()){this._buildPopover(p);this.oTimePopover.openBy(d);}else{if(this.oTimePopover.isOpen()){this._updatePopover(p);}else{this.oTimePopover.destroy();this.oTimePopover=undefined;this._buildPopover(p);this.oTimePopover.openBy(d);}}};
T.prototype._buildPopover=function(p){var s=sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("GNT_CURRENT_START");var e=sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("GNT_CURRENT_END");this.oTimePopover=new sap.m.ResponsivePopover({showArrow:false,showHeader:false,offsetX:"{time>/offsetX}",offsetY:"{time>/offsetY}",placement:"{time>/placement}",content:[new sap.m.FlexBox({alignItems:"Center",items:[new sap.m.Panel({content:[new sap.m.FlexBox({alignItems:"Center",justifyContent:"End",items:[new sap.m.Label({text:s})]}).addStyleClass("sapUiTinyMargin"),new sap.m.FlexBox({alignItems:"Center",justifyContent:"End",items:[new sap.m.Label({text:e})]}).addStyleClass("sapUiTinyMargin")]}).addStyleClass("sapUiNoContentPadding"),new sap.m.Panel({content:[new sap.m.FlexBox({justifyContent:"Start",items:[new sap.m.Label({text:"{time>/startNewDate}"})]}).addStyleClass("sapUiTinyMargin"),new sap.m.FlexBox({justifyContent:"Start",items:[new sap.m.Label({text:"{time>/endNewDate}"})]}).addStyleClass("sapUiTinyMargin")]}).addStyleClass("sapUiNoContentPadding")]})]});this._oTimePopoverModel=new sap.ui.model.json.JSONModel(p);this.oTimePopover.setModel(this._oTimePopoverModel,"time");};
T.prototype._updatePopover=function(p){this._oTimePopoverModel=new sap.ui.model.json.JSONModel();this._oTimePopoverModel.setData(p);this.oTimePopover.setModel(this._oTimePopoverModel,"time");};
T.prototype._calPopoverPosition=function(s,e){var g=this._oSourceChart.getLocale();var S=F.abapTimestampToTimeLabel(new Date(s),g);var E=F.abapTimestampToTimeLabel(new Date(e),g);var p={startNewDate:S,endNewDate:E,offsetX:this._iOffsetX,offsetY:this._iOffsetY,placement:sap.m.PlacementType.Right};return p;};
T.prototype._changeDraggingStatus=function(){if(this._bSelectShape){this._bDragShape=true;}if(!this._bSelectShape){this._bSelectShape=true;}};
T.prototype._isDraggingShape=function(){return this._bSelectShape&&this._bDragShape;};
T.prototype._existsPopover=function(){return this.oTimePopover!==undefined;};
T.prototype._getPopoverPosition=function(e){this._oSourceChart._collectDraggingShapeData(this._oSourceChart._oDraggingData,e);var t=this._oSourceChart._oDraggingData.targetData;var p=this._calPopoverPosition(t["mouseTimestamp"].startTime,t["mouseTimestamp"].endTime);return p;};
T.prototype._handleTimePopoverEnd=function(){if(this.oTimePopover){this.oTimePopover.destroy();this.oTimePopover=undefined;}q(document.body).unbind("mousemove.shapeDragDrop");q(document.body).unbind("mouseup.shapeDragDrop");};
T.prototype.getCurrentPopoverData=function(){return{timePopover:this.oTimePopover,offsetX:this._iOffsetX,offsetY:this._iOffsetY};};
T.prototype.setCurrentPopoverData=function(t){if(t){this.oTimePopover=t.timePopover;this._iOffsetX=t.offsetX;this._iOffsetY=t.offsetY;}};
return T;},true);
sap.ui.predefine('sap/gantt/legend/DimensionLegend',["sap/ui/core/Control","./LegendBase","sap/gantt/drawer/Legend"],function(C,L,a){"use strict";
var D=L.extend("sap.gantt.legend.DimensionLegend",{metadata:{properties:{shape:{type:"sap.gantt.config.Shape"},xDimension:{type:"string"},yDimension:{type:"string"},xDomain:{type:"any[]",defaultValue:[]},yDomain:{type:"any[]",defaultValue:[]},exclude:{type:"any[][]",defaultValue:[]},legendSpace:{type:"float",defaultValue:8}}}});
D.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oDimensionLegendDrawer=new a();};
D.prototype.applySettings=function(){var r=C.prototype.applySettings.apply(this,arguments);this._modifyDimensionFunction();return r;};
D.prototype._modifyDimensionFunction=function(){var x=this.getXDimension(),y=this.getYDimension();this._oShapeInstance._oLegend=this;this._oShapeInstance._sXDimension=x;this._oShapeInstance._sYDimension=y;this._oShapeInstance["get"+this._capitalFirst(x)]=function(d){if(this.mShapeConfig.hasShapeProperty(this._sXDimension)){return this._configFirst(this._sXDimension,d);}if(d.xIndex===-1){return sap.gantt.DIMENSION_LEGEND_NIL;}return this._oLegend.getXDomain()[d.xIndex];};this._oShapeInstance["get"+this._capitalFirst(y)]=function(d){if(this.mShapeConfig.hasShapeProperty(this._sYDimension)){return this._configFirst(this._sYDimension,d);}if(d.yIndex===-1){return sap.gantt.DIMENSION_LEGEND_NIL;}return this._oLegend.getYDomain()[d.yIndex];};};
D.prototype._capitalFirst=function(o){return o.charAt(0).toUpperCase()+(o.length>1?o.slice(1):"");};
D.prototype.onAfterRendering=function(){if(this._oShapeInstance){var $=this.getParent().$();var l={width:$.width(),height:$.height()};var s=d3.select("#"+this.getId()+"-svg");var o=this._drawDimensionLegend(s,this._oShapeInstance);s.attr("width",o.width+"px");s.attr("height",o.height+"px");var p=d3.select("#"+this.getId()+"-dimension-path");var P=this._drawDimensionPath(p,this._oShapeInstance);p.attr("width",o.width+"px");p.attr("height",P.height+"px");p.style("top",o.height+"px");var t=d3.select("#"+this.getId()+"-dimension-text");this._drawDimensionText(t,this._oShapeInstance,l,o);t.style(sap.ui.getCore().getConfiguration().getRTL()?"right":"left",o.width+"px");t.attr("width",l.width-o.width-5+"px");t.attr("height",o.height+P.height+this.getLegendSpace()*2+"px");d3.select("#"+this.getId()).style("height",o.height+P.height+this.getLegendSpace()*2+"px");}};
D.prototype.setShape=function(s){var t=this;this.setProperty("shape",s);if(s){try{t._oShapeInstance=t._instantShapeSync([s])[0];}catch(e){t._instantShapeAsync([s]).then(function(S){t._oShapeInstance=S[0];});}}return this;};
D.prototype._drawDimensionLegend=function(s,S){var x=this.getXDomain();var d=this._prepareData(S);var r=s.selectAll("."+S.getId()+"-row").data(d);r.enter().append("g").classed(S.getId()+"-row",true);r.exit().remove();if(!r.empty()){this._oDimensionLegendDrawer._recursiveDraw(r,S);}var l={};var i=x.length;if(i>0){l.width=this.getScaledLegendWidth()*i+this.getLegendSpace()*(i+1);l.height=this.getScaledLegendHeight()*d.length+this.getLegendSpace()*(d.length+1);}return l;};
D.prototype._prepareData=function(s){var r=[],x=this.getXDimension(),y=this.getYDimension(),X=this.getXDomain(),Y=this.getYDomain(),e=this.getExclude();this.aXDimension=[];this.aYDimension=[];var t=this,l;jQuery.each(X,function(i,v){l={};l.xIndex=i;l.yIndex=-1;t.aXDimension.push(s.getLegend(l));});this.aReversedXDimension=jQuery.extend(true,[],this.aXDimension);this.aReversedXDimension.reverse();jQuery.each(Y,function(i,v){l={};l.xIndex=-1;l.yIndex=i;t.aYDimension.push(s.getLegend(l));});jQuery.each(Y,function(b,o){var R=[];jQuery.each(X,function(c,d){var E=false;jQuery.each(e,function(i,f){if((d==f[0])&&(o==f[1])){E=true;return false;}});if(!E){var l={};l.xIndex=c;l.yIndex=b;l[x]=d;l[y]=o;l.xName=t.aXDimension[c];l.yName=t.aYDimension[b];R.push(l);}});if(R.length>0){r.push(R);}});return r;};
D.prototype._drawDimensionPath=function(s,S){var x=this.getXDomain(),X=x.length,t=this;var p=s.selectAll(".dimension-path").data(x);p.enter().append("path").attr("d",function(d,i){var w=t.getScaledLegendWidth();var h=t.getScaledLegendHeight();var b=0,c=c=h*(X-1-i)+t.getLegendSpace()*(X-i),e=w*(X-1-i)+t.getLegendSpace()*(X-i);if(sap.ui.getCore().getConfiguration().getRTL()){b=w*(X-1-i)+t.getLegendSpace()*(X-i)+w/2;e=-e;}else{b=w*i+t.getLegendSpace()*(i+1)+w/2;}return"M"+b+" 0 v"+c+" h"+e;}).attr("fill","none");p.exit().remove();var P={};P.height=0;if(X>0){P.height=this.getScaledLegendHeight()*X+this.getLegendSpace()*(X-1);}return P;};
D.prototype._drawDimensionText=function(s,S,l,o){var b=this.aYDimension.concat(this.aReversedXDimension);var x=this.aYDimension.length;var t=this;var c=l.width-o.width-5;var T=s.selectAll(".dimension-text").data(b);T.enter().append("text").attr("x",function(d){if(sap.ui.getCore().getConfiguration().getRTL()){return c;}return 0;}).attr("y",function(d,i){return t.getScaledLegendHeight()*i+t.getLegendSpace()*(i+1)+parseInt(t.getFontSize(),10)/2+t.getScaledLegendHeight()/2-2;}).text(function(d){return d;}).attr("font-size",t.getFontSize()+"px").attr("font-style",function(d,i){return i<x?"normal":"italic";}).attr("text-anchor",sap.ui.Device.browser.name==="ie"&&sap.ui.getCore().getConfiguration().getRTL()?"end":"start");T.select("title").remove();T.insert("title",":first-child").text(function(d){return d;});T.exit().remove();};
return D;},true);
sap.ui.predefine('sap/gantt/legend/DimensionLegendRenderer',["sap/ui/performance/Measurement"],function(M){"use strict";var D={};
D.render=function(r,l){M.start("DimensionLegendRenderer render","GanttPerf:DimensionLegendRenderer render function");r.write("<div");r.writeControlData(l);r.addStyle("width","100%");r.addStyle("height","100%");r.addStyle("position","relative");r.writeStyles();r.write(">");this.renderSvgDefs(r,l);r.write("<div");r.addStyle("float",sap.ui.getCore().getConfiguration().getRTL()?"right":"left");r.writeStyles();r.write(">");r.write("<svg");r.writeAttribute("id",l.getId()+"-svg");r.writeClasses();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write("></svg>");r.write("<svg");r.writeAttribute("id",l.getId()+"-dimension-path");r.addClass("sapGanttDimensionLegendPath");r.writeClasses();r.addStyle("position","absolute");r.addStyle(sap.ui.getCore().getConfiguration().getRTL()?"right":"left","0px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write(">");r.write("</svg>");r.write("</div>");r.write("<div><svg");r.writeAttribute("id",l.getId()+"-dimension-text");r.addClass("sapGanttDLItemTxt");r.writeClasses();r.addStyle("position","absolute");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write("></svg></div>");r.write("</div>");M.end("DimensionLegendRenderer render");};
D.renderSvgDefs=function(r,l){var s=l.getSvgDefs();if(s){r.write("<svg id='"+l.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write(">");r.write(s.getDefString());r.write("</svg>");}};
return D;},true);
sap.ui.predefine('sap/gantt/legend/LegendBase',["sap/base/Log","sap/ui/core/Control","sap/base/util/ObjectPath","../misc/Utility","../misc/Format","../shape/cal/Calendar","../misc/AxisTime"],function(L,C,O,U,F,a,A){"use strict";
var b=C.extend("sap.gantt.legend.LegendBase",{metadata:{"abstract":true,properties:{svgDefs:{type:"sap.gantt.def.SvgDefs",defaultValue:null},legendWidth:{type:"float",defaultValue:32},legendHeight:{type:"float",defaultValue:32},fontSize:{type:"int",defaultValue:16}}}});
b.prototype.TIME_RANGE=["20160101000000","20160103000000"];b.prototype.TIME="20160102000000";
b.prototype.init=function(){this._aTimeRange=[F.getTimeStampFormatter().parse(this.TIME_RANGE[0]),F.getTimeStampFormatter().parse(this.TIME_RANGE[1])];};
b.prototype.getAxisTime=function(){return this._oAxisTime;};
b.prototype.onBeforeRendering=function(){this._sUiSizeMode=U.findSapUiSizeClass();this._aViewRange=[0,this.getScaledLegendWidth()];this._oAxisTime=new A(this._aTimeRange,this._aViewRange);};
b.prototype.getScaledLegendWidth=function(){var m=this.getSapUiSizeClass();return U.scaleBySapUiSize(m,this.getLegendWidth());};
b.prototype.getScaledLegendHeight=function(){var m=this.getSapUiSizeClass();return U.scaleBySapUiSize(m,this.getLegendHeight());};
b.prototype._instantShapeSync=function(s){var r=[];for(var i=0;i<s.length;i++){if(s[i].getShapeClassName()){var S=this._instantiateCustomerClassSync(s[i].getShapeClassName(),i,s[i]);if(s[i].getClippathAggregation()&&s[i].getClippathAggregation()instanceof Array){var p=this._instantShapeSync(s[i].getClippathAggregation());for(var j=0;j<p.length;j++){S.addPath(p[j]);}}else if(s[i].getGroupAggregation()&&s[i].getGroupAggregation()instanceof Array){var c=this._instantShapeSync(s[i].getGroupAggregation());for(var k=0;k<c.length;k++){S.addShape(c[k]);}}if(this._isProperShape(S)){r.push(S);}}}return r;};
b.prototype._instantShapeAsync=function(s){var t=this,p=[];function c(I){return t._instantiateCustomerClassAsync(s[I].getShapeClassName(),I,s[I]).then(function(S){if(s[I].getClippathAggregation()&&s[I].getClippathAggregation()instanceof Array){return t._instantShapeAsync(s[I].getClippathAggregation()).then(function(P){for(var j=0;j<P.length;j++){S.addPath(P[j]);}return S;});}else if(s[I].getGroupAggregation()&&s[I].getGroupAggregation()instanceof Array){return t._instantShapeAsync(s[I].getGroupAggregation()).then(function(d){for(var k=0;k<d.length;k++){S.addShape(d[k]);}return S;});}else{return S;}});}for(var i=0;i<s.length;i++){if(s[i].getShapeClassName()){p.push(c(i));}}return Promise.all(p).then(function(S){var r=[];S.forEach(function(o){if(t._isProperShape(o)){r.push(o);}});return r;});};
b.prototype._isProperShape=function(s){if(s instanceof a){L.warning("Calendar is not proper shape","key '"+s.mShapeConfig.getKey()+"'","ListLegend");return false;}else if(s.getTag()=="clippath"){return false;}else{return true;}};
b.prototype._instantiateCustomerClassSync=function(c,s,S){var d=O.get(c);if(!d){throw new Error("Class "+c+" not preloaded. Please add it to require of your"+" controller to ensure that it's initialized before this point or use Gantt 2.0.");}var o=new d();o.mShapeConfig=S;o.mChartInstance=this;return o;};
b.prototype._instantiateCustomerClassAsync=function(c,s,S){var t=this;return new Promise(function(r){sap.ui.require([c.replace(/\./g,"/")],function(d){var o=new d();o.mShapeConfig=S;o.mChartInstance=t;r(o);});});};
b.prototype.getSapUiSizeClass=function(){return this._sUiSizeMode;};
return b;},true);
sap.ui.predefine('sap/gantt/legend/LegendContainer',["sap/ui/core/Control","sap/m/NavContainer","sap/m/Page","sap/m/List","sap/m/StandardListItem"],function(C,N,P,L,S){"use strict";
var a=C.extend("sap.gantt.legend.LegendContainer",{metadata:{properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"}},aggregations:{legendSections:{type:"sap.m.Page",multiple:true,visibility:"public",singularName:"legendSection"}}}});
a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this._sTitle=this._oRb.getText("LEGEND_TITLE");this._oNavContainer=new N({autoFocus:false,width:this.getWidth(),height:this.getHeight()});this._oInitNavPage=new P({title:this._oRb.getText("LEGEND_TITLE"),content:[new L()]});this._aLegendSections=[];};
a.prototype.setWidth=function(w){this.setProperty("width",w,true);this._oNavContainer.setWidth(w);return this;};
a.prototype.setHeight=function(h){this.setProperty("height",h,true);this._oNavContainer.setHeight(h);return this;};
a.prototype.addLegendSection=function(l){if(l){if(this._aLegendSections.length==1){this._oNavContainer.insertPage(this._oInitNavPage,0);this._aLegendSections[0].setShowNavButton(true);}if(this._aLegendSections.length!==0){l.setShowNavButton(true);}l.attachNavButtonPress(this._onNavBack,this);l.setBackgroundDesign(sap.m.PageBackgroundDesign.Solid);l.setEnableScrolling(true);var s=l.getTitle();if(s!==undefined){var o=new S({title:s,type:sap.m.ListType.Navigation});o.attachPress(this._onNavToLegendSection,this);this._oInitNavPage.getContent()[0].addItem(o);}this._aLegendSections.push(l);this._oNavContainer.addPage(l);}return this;};
a.prototype.insertLegendSection=function(l,i){if(l){var m=this._aLegendSections.length;if(m==1){this._oNavContainer.insertPage(this._oInitNavPage,0);this._aLegendSections[0].setShowNavButton(true);}if(m!==0){l.setShowNavButton(true);}if(i>=m){i=m;}l.attachNavButtonPress(this._onNavBack,this);l.setBackgroundDesign(sap.m.PageBackgroundDesign.Solid);l.setEnableScrolling(true);var s=l.getTitle();if(s!==undefined){var o=new S({title:s,type:sap.m.ListType.Navigation});o.attachPress(this._onNavToLegendSection,this);this._oInitNavPage.getContent()[0].insertItem(o,i);}this._oNavContainer.insertPage(l,i+1);this._aLegendSections.splice(i,0,l);}return this;};
a.prototype.indexOfLegendSection=function(l){var i=jQuery.inArray(l,this._aLegendSections);return i;};
a.prototype.removeLegendSection=function(p){var r;if((typeof p)==="number"){this._oNavContainer.removePage(p+1);this._oInitNavPage.getContent()[0].removeItem(p);r=this._aLegendSections.splice(p+1,1);}else if(p){this._oInitNavPage.getContent()[0].removeItem(jQuery.inArray(p,this._oNavContainer.getPages())-1);this._oNavContainer.removePage(p);r=this._aLegendSections.splice(jQuery.inArray(p,this._aLegendSections),1);}if(this._aLegendSections.length==1){if(this._oNavContainer.getCurrentPage()==this._oInitNavPage){this._oNavContainer.to(this._aLegendSections[0]);}this._aLegendSections[0].setShowNavButton(false);}return r;};
a.prototype.removeAllLegendSection=function(){var r=this._aLegendSections.splice(0,this._aLegendSections.length);this._oInitNavPage.getContent()[0].removeAllItems();this._oNavContainer.removeAllPages();return r;};
a.prototype.getLegendSections=function(){var p=this._oNavContainer.getPages();var t=this;return p.filter(function(v){if(v.getTitle()!==t._sTitle){return true;}});};
a.prototype.getNavigationPage=function(){return this._oInitNavPage;};
a.prototype.getNavigationItems=function(){return this._oInitNavPage.getContent()[0].getItems();};
a.prototype.getCurrentLegendSection=function(){return this._oNavContainer.getCurrentPage();};
a.prototype._onNavToLegendSection=function(e){var l=e.getSource().getTitle();this._oNavContainer.setAutoFocus(true);for(var i=0;i<this._aLegendSections.length;i++){if(l==this._aLegendSections[i].getTitle()){this._oNavContainer.to(this._aLegendSections[i]);}}};
a.prototype._onNavBack=function(e){this._oNavContainer.to(this._oInitNavPage);};
return a;});
sap.ui.predefine('sap/gantt/legend/LegendContainerRenderer',[],function(){"use strict";var L={};
L.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLegend");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height","100%");r.writeStyles();r.write(">");r.renderControl(c._oNavContainer);r.write("</div>");};
return L;},true);
sap.ui.predefine('sap/gantt/legend/ListLegendRenderer',["sap/ui/performance/Measurement","sap/ui/core/theming/Parameters"],function(M,P){"use strict";var L={};
L.render=function(r,l){M.start("ListLegendRenderer render","GanttPerf:ListLegendRenderer render function");var s=l._aShapeInstance,a=l.getScaledLegendWidth(),b=l.getScaledLegendHeight();r.write("<div");r.writeControlData(l);r.addClass("sapGanttLL");r.write(">");M.start("ListLegendRenderer renderPaintServer","GanttPerf:ListLegendRenderer renderPaintServer part");this.renderSvgDefs(r,l);M.end("ListLegendRenderer renderPaintServer");for(var i=0;i<s.length;i++){var c=s[i].getLegend();r.write("<div");r.writeAttributeEscaped("title",c);r.addClass("sapGanttLLItem");r.writeClasses();r.addStyle("height",b+"px");r.addStyle("line-height",b+"px");r.writeStyles();r.write(">");if(l._aCheckBoxes[i]){if(s[i].mShapeConfig.getSwitchOfCheckBox()=="noShow"){l._aCheckBoxes[i].addStyleClass("noShowCheckBox");}r.renderControl(l._aCheckBoxes[i]);}r.write("<svg");r.writeAttribute("id",l.getId()+"-svg-"+i);r.addClass("sapGanttLLSvg");r.addStyle("width",a+"px");r.writeStyles();r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);if(l._aCheckBoxes.length==0){r.addClass("NoCheckBox");}r.writeClasses();r.write("></svg>");r.write("<div");r.writeAttribute("id",l.getId()+"-txt-"+i);r.addClass("sapGanttLLItemTxt");r.writeClasses();r.addStyle("font-size",l.getFontSize()+"px");r.writeStyles();r.write(">");if(c){r.writeEscaped(c);}r.write("</div>");r.write("</div>");}r.write("</div>");M.end("ListLegendRenderer render");};
L.renderSvgDefs=function(r,l){var s=l.getSvgDefs();if(s){r.write("<svg");r.writeAttribute("id",l.getId()+"-svg-psdef");r.addClass("sapGanttLLSvgDefs");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
return L;},true);
sap.ui.predefine('sap/gantt/library',["sap/ui/base/DataType","sap/ui/core/theming/Parameters"],function(D,P){"use strict";sap.ui.getCore().initLibrary({name:"sap.gantt",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.table","sap.m"],types:["sap.gantt.control.ToolbarType","sap.gantt.SelectionMode","sap.gantt.shape.ShapeCategory","sap.gantt.def.filter.MorphologyOperator","sap.gantt.def.filter.ColorMatrixValue","sap.gantt.shape.ext.rls.RelationshipType","sap.gantt.config.ZoomControlType","sap.gantt.config.BirdEyeRange","sap.gantt.GenericArray","sap.gantt.dragdrop.GhostAlignment","sap.gantt.simple.GanttChartWithTableDisplayType","sap.gantt.simple.ContainerToolbarPlaceholderType","sap.gantt.simple.VisibleHorizonUpdateType"],interfaces:["sap.gantt.GanttChartBase"],controls:["sap.gantt.control.Toolbar","sap.gantt.GanttChart","sap.gantt.GanttChartWithTable","sap.gantt.GanttChartContainer","sap.gantt.axistime.ProportionZoomStrategy","sap.gantt.legend.LegendContainer","sap.gantt.legend.ListLegend","sap.gantt.legend.DimensionLegend","sap.gantt.simple.GanttChartWithTable","sap.gantt.simple.ContainerToolbar","sap.gantt.simple.GanttChartContainer","sap.gantt.simple.ContainerToolbarPlaceholder","sap.gantt.simple.shapes.Shape","sap.gantt.simple.shapes.Task"],elements:["sap.gantt.config.TimeHorizon","sap.gantt.config.TimeAxis","sap.gantt.config.ToolbarGroup","sap.gantt.config.Mode","sap.gantt.config.ModeGroup","sap.gantt.config.LayoutGroup","sap.gantt.config.ExpandChart","sap.gantt.config.ExpandChartGroup","sap.gantt.config.TimeZoomGroup","sap.gantt.config.BirdEyeGroup","sap.gantt.config.ToolbarScheme","sap.gantt.config.Hierarchy","sap.gantt.config.HierarchyColumn","sap.gantt.config.ColumnAttribute","sap.gantt.config.GanttChartLayout","sap.gantt.config.ContainerLayout","sap.gantt.config.SettingItem","sap.gantt.config.SettingGroup","sap.gantt.config.ObjectType","sap.gantt.config.ChartScheme","sap.gantt.config.Locale","sap.gantt.config.Shape","sap.gantt.def.SvgDefs","sap.gantt.axistime.AxisTimeStrategyBase","sap.gantt.AdhocLine","sap.gantt.simple.GanttRowSettings","sap.gantt.simple.BaseCalendar","sap.gantt.simple.BaseChevron","sap.gantt.simple.BaseDiamond","sap.gantt.simple.BaseGroup","sap.gantt.simple.BaseImage","sap.gantt.simple.BaseLine","sap.gantt.simple.BasePath","sap.gantt.simple.BaseRectangle","sap.gantt.simple.BaseShape","sap.gantt.simple.BaseText","sap.gantt.simple.BaseCursor","sap.gantt.simple.BaseConditionalShape","sap.gantt.simple.UtilizationBarChart","sap.gantt.simple.UtilizationLineChart","sap.gantt.simple.UtilizationChart","sap.gantt.simple.UtilizationDimension","sap.gantt.simple.UtilizationPeriod"],noLibraryCSS:false,version:"1.71.38"});this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");sap.gantt.SelectionMode={MultiWithKeyboard:"MultiWithKeyboard",Multiple:"Multiple",Single:"Single",None:"None"};sap.gantt.AdhocLineLayer={Top:"Top",Bottom:"Bottom"};sap.gantt.control.ToolbarType={Global:"GLOBAL",Local:"LOCAL"};sap.gantt.ValueSVGPaintServer=D.createType('sap.gantt.ValueSVGPaintServer',{isValid:function(v){var V=sap.m.ValueCSSColor.isValid(v);if(!V){V=/(?:url\(['|"]?)(.*?)(?:['|"]?\))|^[@|#](.*?)$|initial|transparent|none|inherit/.test(v);}return V;}},D.getType('string'));sap.gantt.ValueSVGPaintServer.setNormalizer(function(v){if(!v){return v;}if(v.substr(0,1)==="@"){v=v.substring(1);}var r=P.get(v)||v;return r;});sap.gantt.SVGLength=D.createType("sap.gantt.SVGLength",{isValid:function(v){if(v==="auto"||v==="inherit"){return true;}return/^[-+]?([0-9]*\.?[0-9]+)(em|ex|px|in|cm|mm|pt|pc|%)?$/.test(v);}},D.getType("any"));sap.gantt.palette={};sap.gantt.palette.SemanticColors=["sapUiNegativeText","sapUiCriticalText","sapUiPositiveText","sapUiInformativeText","sapUiNeutralText"];sap.gantt.palette.LegendColors=[];var i;for(i=1;i<=20;i++){sap.gantt.palette.LegendColors.push("sapUiLegend"+i);}sap.gantt.palette.AccentColors=[];for(i=1;i<=10;i++){sap.gantt.palette.AccentColors.push("sapUiAccent"+i);}sap.gantt.PaletteColor=D.createType("sap.gantt.PaletteColor",{isValid:function(v){var V=String(v);if(V[0].startsWith("@")){V=V.substr(1);}return sap.gantt.palette.SemanticColors.indexOf(V)>=0||sap.gantt.palette.LegendColors.indexOf(V)>=0||sap.gantt.palette.AccentColors.indexOf(V)>=0;},parseValue:function(v){var V=String(v);if(V[0].startsWith("@")){V=V.substr(1);}return V;}},D.getType("string"));sap.gantt.shape.ShapeCategory={InRowShape:"InRowShape",Relationship:"relationship"};sap.gantt.simple.shapes.TaskType={Normal:"Normal",SummaryExpanded:"SummaryExpanded",SummaryCollapsed:"SummaryCollapsed",Error:"Error"};sap.gantt.def.filter.MorphologyOperator={Dilate:"dilate",Erode:"erode"};sap.gantt.def.filter.ColorMatrixValue={AllToWhite:"-1 0 0 0 1, 0 -1 0 0 1, 0 0 -1 0 1, 0 0 0 1 0",AllToBlack:"-1 0 0 0 0, 0 -1 0 0 0, 0 0 -1 0 0, 0 0 0 1 0"};sap.gantt.shape.ext.rls.RelationshipType={FinishToFinish:0,FinishToStart:1,StartToFinish:2,StartToStart:3};sap.gantt.simple.RelationshipType={FinishToFinish:"FinishToFinish",FinishToStart:"FinishToStart",StartToFinish:"StartToFinish",StartToStart:"StartToStart"};sap.gantt.config.ZoomControlType={SliderWithButtons:"SliderWithButtons",SliderOnly:"SliderOnly",ButtonsOnly:"ButtonsOnly",Select:"Select",None:"None"};sap.gantt.config.BirdEyeRange={AllRows:"AllRows",VisibleRows:"VisibleRows"};sap.gantt.config.TimeUnit={minute:"d3.time.minute",hour:"d3.time.hour",day:"d3.time.day",week:"d3.time.week",month:"d3.time.month",year:"d3.time.year"};sap.gantt.config.WeekFirstDay={"ad":"d3.time.monday","ae":"d3.time.saturday","af":"d3.time.saturday","ag":"d3.time.sunday","ai":"d3.time.monday","al":"d3.time.monday","am":"d3.time.monday","an":"d3.time.monday","ar":"d3.time.sunday","as":"d3.time.sunday","at":"d3.time.monday","au":"d3.time.sunday","ax":"d3.time.monday","az":"d3.time.monday","ba":"d3.time.monday","bd":"d3.time.friday","be":"d3.time.monday","bg":"d3.time.monday","bh":"d3.time.saturday","bm":"d3.time.monday","bn":"d3.time.monday","br":"d3.time.sunday","bs":"d3.time.sunday","bt":"d3.time.sunday","bw":"d3.time.sunday","by":"d3.time.monday","bz":"d3.time.sunday","ca":"d3.time.sunday","ch":"d3.time.monday","cl":"d3.time.monday","cm":"d3.time.monday","cn":"d3.time.sunday","co":"d3.time.sunday","cr":"d3.time.monday","cy":"d3.time.monday","cz":"d3.time.monday","de":"d3.time.monday","dj":"d3.time.saturday","dk":"d3.time.monday","dm":"d3.time.sunday","do":"d3.time.sunday","dz":"d3.time.saturday","ec":"d3.time.monday","ee":"d3.time.monday","eg":"d3.time.saturday","es":"d3.time.monday","et":"d3.time.sunday","fi":"d3.time.monday","fj":"d3.time.monday","fo":"d3.time.monday","fr":"d3.time.monday","gb":"d3.time.monday","gb-alt-variant":"d3.time.sunday","ge":"d3.time.monday","gf":"d3.time.monday","gp":"d3.time.monday","gr":"d3.time.monday","gt":"d3.time.sunday","gu":"d3.time.sunday","hk":"d3.time.sunday","hn":"d3.time.sunday","hr":"d3.time.monday","hu":"d3.time.monday","id":"d3.time.sunday","ie":"d3.time.sunday","il":"d3.time.sunday","in":"d3.time.sunday","iq":"d3.time.saturday","ir":"d3.time.saturday","is":"d3.time.monday","it":"d3.time.monday","jm":"d3.time.sunday","jo":"d3.time.saturday","jp":"d3.time.sunday","ke":"d3.time.sunday","kg":"d3.time.monday","kh":"d3.time.sunday","kr":"d3.time.sunday","kw":"d3.time.saturday","kz":"d3.time.monday","la":"d3.time.sunday","lb":"d3.time.monday","li":"d3.time.monday","lk":"d3.time.monday","lt":"d3.time.monday","lu":"d3.time.monday","lv":"d3.time.monday","ly":"d3.time.saturday","ma":"d3.time.saturday","mc":"d3.time.monday","md":"d3.time.monday","me":"d3.time.monday","mh":"d3.time.sunday","mk":"d3.time.monday","mm":"d3.time.sunday","mn":"d3.time.monday","mo":"d3.time.sunday","mq":"d3.time.monday","mt":"d3.time.sunday","mv":"d3.time.friday","mx":"d3.time.sunday","my":"d3.time.monday","mz":"d3.time.sunday","ni":"d3.time.sunday","nl":"d3.time.monday","no":"d3.time.monday","np":"d3.time.sunday","nz":"d3.time.monday","om":"d3.time.saturday","pa":"d3.time.sunday","pe":"d3.time.sunday","ph":"d3.time.sunday","pk":"d3.time.sunday","pl":"d3.time.monday","pr":"d3.time.sunday","pt":"d3.time.monday","py":"d3.time.sunday","qa":"d3.time.saturday","re":"d3.time.monday","ro":"d3.time.monday","rs":"d3.time.monday","ru":"d3.time.monday","sa":"d3.time.sunday","sd":"d3.time.saturday","se":"d3.time.monday","sg":"d3.time.sunday","si":"d3.time.monday","sk":"d3.time.monday","sm":"d3.time.monday","sv":"d3.time.sunday","sy":"d3.time.saturday","th":"d3.time.sunday","tj":"d3.time.monday","tm":"d3.time.monday","tn":"d3.time.sunday","tr":"d3.time.monday","tt":"d3.time.sunday","tw":"d3.time.sunday","ua":"d3.time.monday","um":"d3.time.sunday","us":"d3.time.sunday","uy":"d3.time.monday","uz":"d3.time.monday","va":"d3.time.monday","ve":"d3.time.sunday","vi":"d3.time.sunday","vn":"d3.time.monday","ws":"d3.time.sunday","xk":"d3.time.monday","ye":"d3.time.sunday","za":"d3.time.sunday","zw":"d3.time.sunday"};sap.gantt.config.DEFAULT_PLAN_HORIZON=new sap.gantt.config.TimeHorizon({startTime:new Date((new Date()).getTime()-31536000000),endTime:new Date((new Date()).getTime()+31536000000)});
sap.gantt.config.DEFAULT_PLAN_HORIZON.destroy=function(){};
sap.gantt.config.DEFAULT_INIT_HORIZON=new sap.gantt.config.TimeHorizon({startTime:new Date((new Date()).getTime()-2628000000),endTime:new Date((new Date()).getTime()+2628000000)});
sap.gantt.config.DEFAULT_INIT_HORIZON.destroy=function(){};
var u=sap.ui.getCore().getConfiguration().getRTL()?".M.d":"d.M.";sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY={"1min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:1,pattern:"HH:mm"}},"5min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,pattern:"HH:mm"}},"10min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:10,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:10,pattern:"HH:mm"}},"15min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,pattern:"HH:mm"}},"30min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:30,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:30,pattern:"HH:mm"}},"1hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,pattern:"HH:mm"}},"2hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:2,pattern:"HH:mm"}},"4hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:4,pattern:"HH:mm"}},"6hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,pattern:"HH:mm"}},"12hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:12,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:12,pattern:"HH:mm"}},"1day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,pattern:u}},"2day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:2,pattern:u}},"4day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:4,pattern:u}},"1week":{innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,pattern:u}},"2week":{innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:2,pattern:u}},"1month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,pattern:u}},"2month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:2,pattern:u}},"4month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:4,pattern:"LLLL"}},"6month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,pattern:"LLLL"}},"1year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,pattern:"LLLL"}},"2year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:2,pattern:"LLLL"}},"5year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:5,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:5,pattern:"LLLL"}}};var a;Object.defineProperty(sap.gantt.config,"DEFAULT_TIME_AXIS",{get:function(){if(a){return a;}a=new sap.gantt.axistime.AxisTimeStrategyBase();return a;},set:function(n){a=n;}});sap.gantt.config.DEFAULT_MODE_KEY="sap_mode";sap.gantt.config.DEFAULT_MODE=new sap.gantt.config.Mode({key:sap.gantt.config.DEFAULT_MODE_KEY,text:this._oRb.getText("TLTP_DEFAULT"),icon:"sap-icon://status-positive"});sap.gantt.config.DEFAULT_MODES=[sap.gantt.config.DEFAULT_MODE];sap.gantt.config.DEFAULT_CHART_SCHEME_KEY="sap_main";sap.gantt.config.DEFAULT_CHART_SCHEME=new sap.gantt.config.ChartScheme({key:sap.gantt.config.DEFAULT_CHART_SCHEME_KEY,name:"Default",rowSpan:1});sap.gantt.config.DEFAULT_CHART_SCHEMES=[sap.gantt.config.DEFAULT_CHART_SCHEME];sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY="sap_object";sap.gantt.config.DEFAULT_OBJECT_TYPE=new sap.gantt.config.ObjectType({key:sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY,description:"Default",mainChartSchemeKey:sap.gantt.config.DEFAULT_CHART_SCHEME_KEY});sap.gantt.config.DEFAULT_OBJECT_TYPES=[sap.gantt.config.DEFAULT_OBJECT_TYPE];sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY="sap_enableNowLine";sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_NOW_LINE"),tooltip:this._oRb.getText("TLTP_NOW_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY="sap_enableCursorLine";sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_CURSOR_LINE"),tooltip:this._oRb.getText("TLTP_CURSOR_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY="sap_enableVerticalLine";sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY="sap_enableAdhocLine";sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_VERTICAL_LINE"),tooltip:this._oRb.getText("TLTP_VERTICAL_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_ADHOC_LINE"),tooltip:this._oRb.getText("TLTP_ADHOC_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY="sap_enableTimeScrollSync";sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY,checked:true,displayText:this._oRb.getText("XCKL_TIME_SCROLL_SYNC"),tooltip:this._oRb.getText("TLTP_TIME_SCROLL_SYNC")});sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS=[sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC];sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY="sap_empty_toolbar";sap.gantt.config.EMPTY_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L1",overflowPriority:sap.m.OverflowToolbarPriority.High})});sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY="sap_container_toolbar";sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L1",overflowPriority:sap.m.OverflowToolbarPriority.High}),timeZoom:new sap.gantt.config.TimeZoomGroup({position:"R2",overflowPriority:sap.m.OverflowToolbarPriority.NeverOverflow}),settings:new sap.gantt.config.SettingGroup({position:"R1",overflowPriority:sap.m.OverflowToolbarPriority.Low,items:sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS})});sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY="sap_ganttchart_toolbar";sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L2",overflowPriority:sap.m.OverflowToolbarPriority.High}),expandTree:new sap.gantt.config.ToolbarGroup({position:"L3",overflowPriority:sap.m.OverflowToolbarPriority.Low})});sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEMES=[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME];sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEMES=[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME];sap.gantt.config.DEFAULT_HIERARCHY_KEY="sap_hierarchy";sap.gantt.config.DEFAULT_HIERARCHY=new sap.gantt.config.Hierarchy();sap.gantt.config.DEFAULT_HIERARCHYS=[sap.gantt.config.DEFAULT_HIERARCHY];sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY="sap_container_layout_single";sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT=new sap.gantt.config.ContainerLayout({key:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY,text:this._oRb.getText("XLST_SINGLE_LAYOUT"),toolbarSchemeKey:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,ganttChartLayouts:[new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY})]});sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY="sap_container_layout_dual";sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT=new sap.gantt.config.ContainerLayout({key:sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY,text:this._oRb.getText("XLST_DUAL_LAYOUT"),toolbarSchemeKey:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,ganttChartLayouts:[new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY}),new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY})]});sap.gantt.config.DEFAULT_CONTAINER_LAYOUTS=[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT,sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT];sap.gantt.config.DEFAULT_LOCALE_CET=new sap.gantt.config.Locale({timeZone:"CET",utcdiff:"000000",utcsign:"+"});sap.gantt.config.DEFAULT_EMPTY_OBJECT={};sap.gantt.DIMENSION_LEGEND_NIL="NIL";sap.gantt.MouseWheelZoomType={FineGranular:"FineGranular",Stepwise:"Stepwise",None:"None"};sap.gantt.GenericArray=D.createType('sap.gantt.GenericArray',{isValid:function(v){if(typeof v==="string"||v instanceof String){return true;}if(Array.isArray(v)){for(var i=0;i<v.length;i++){if(!(typeof v[i]==="string"||v[i]instanceof String||typeof v[i]==="object")){return false;}}return true;}return false;},parseValue:function(v){if(v){if(Array.isArray(v)){return v;}else if(typeof v==="string"){var V;if(v.indexOf("[")>-1&&v.indexOf("{")>-1){v=v.replace(/\'/g,"\"");V=JSON.parse(v);}else{if(v.indexOf("[")>-1){var r=/^\[(.*)\]$/g;var m=r.exec(v);if(m){v=m[1];}}V=v.split(",");for(var i=0;i<V.length;i++){V[i]=V[i].trim();}}return V;}}return v;}},D.getType("any"));sap.gantt.dragdrop.GhostAlignment={Start:"Start",None:"None",End:"End"};sap.gantt.simple.GanttChartWithTableDisplayType={Both:"Both",Chart:"Chart",Table:"Table"};sap.gantt.simple.ContainerToolbarPlaceholderType={BirdEyeButton:"BirdEyeButton",DisplayTypeButton:"DisplayTypeButton",LegendButton:"LegendButton",SettingButton:"SettingButton",Spacer:"Spacer",TimeZoomControl:"TimeZoomControl"};sap.gantt.DragOrientation={Horizontal:"Horizontal",Vertical:"Vertical",Free:"Free"};sap.gantt.simple.VisibleHorizonUpdateType={HorizontalScroll:"HorizontalScroll",InitialRender:"InitialRender",MouseWheelZoom:"MouseWheelZoom",SyncVisibleHorizon:"SyncVisibleHorizon",TimePeriodZooming:"TimePeriodZooming",TotalHorizonUpdated:"TotalHorizonUpdated",ZoomLevelChanged:"ZoomLevelChanged"};return sap.gantt;});
sap.ui.predefine('sap/gantt/misc/AxisOrdinal',["sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(U){"use strict";var A=function(e,s,n,a,b,c,d,f){this.elementArray=e;this.scaleArray=s;this.padding=U.assign(f,0);this.zoomRate=U.assign(c,1);this.zoomOrigin=U.assign(d,0);this.viewRangeStart=U.assign(a,0);this.viewRangeEnd=b;this.viewBandWidth=n;this.scale=d3.scale.ordinal();this._createScale();};A.prototype.CONSTANT={C_SEPARATOR:"_@@_",C_MESSAGE:{ARGUMENT_ERROR:"AxisOrdinal: Argument Error!"}};
A.prototype._createScale=function(){if(typeof(this.viewBandWidth)!=="undefined"){this.viewRangeEnd=undefined;this.scale.domain(this._calculateInternalValuesByElements()).rangeBands(this._calculateViewRangeByViewBandWidth());}else if(typeof(this.viewRangeEnd)!=="undefined"){this.viewBandWidth=undefined;this.scale.domain(this._calculateInternalValuesByElements()).rangeBands([this.viewRangeStart,this.viewRangeEnd]);}else{}};
A.prototype._calculateInternalValuesByElements=function(){var v=[];for(var i=0;i<this.scaleArray.length;i++){var a=this.elementArray[i]+this.CONSTANT.C_SEPARATOR;for(var j=0;j<this.scaleArray[i];j++){v.push(a+j);}}return v;};
A.prototype._calculateViewRangeByViewBandWidth=function(){var v=0;for(var i=0;i<this.scaleArray.length;i++){v+=this.scaleArray[i]*this.viewBandWidth;}return[this.viewRangeStart,this.viewRangeStart+v];};
A.prototype.elementToView=function(e){return(this.scale(e+this.CONSTANT.C_SEPARATOR+0)+this.padding-this.zoomOrigin)*this.zoomRate;};
A.prototype.viewToElement=function(v){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var t=this.elementArray.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(this.elementArray[m]+this.CONSTANT.C_SEPARATOR+0);if(c<a){t=m-1;}else{h=m;}}var r=this.elementArray[h];var b=this.scale(r+this.CONSTANT.C_SEPARATOR+0);if(c<b+this.padding||c>=b+this.scale.rangeBand()*this.scaleArray[h]){return undefined;}return r;};
A.prototype.viewToElementIndex=function(v){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var t=this.elementArray.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(this.elementArray[m]+this.CONSTANT.C_SEPARATOR+0);if(c<a){t=m-1;}else{h=m;}}var r=this.elementArray[h];var b=this.scale(r+this.CONSTANT.C_SEPARATOR+0);if(c<b+this.padding||c>=b+this.scale.rangeBand()*this.scaleArray[h]){return-1;}return h;};
A.prototype.viewToBandIndex=function(v){var c=v/this.zoomRate+this.zoomOrigin;var i=this._calculateInternalValuesByElements();var h=0;var t=i.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(i[m]);if(c<a){t=m-1;}else{h=m;}}var r=this.scale(i[h]);if(c<r+this.padding||c>=r+this.scale.rangeBand()){return-1;}return h;};
A.prototype.viewToRowIndex=function(v,m){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var a=this._calculateViewRangeByViewBandWidth();if(c<=a[1]&&c>=a[0]){return this.viewToElementIndex(v);}else if(jQuery.isNumeric(m)&&m>this.elementArray.length){var b=parseInt((v-a[1]-a[0])/this.viewBandWidth,10);var r=b+this.elementArray.length;h=r;}else{return-1;}return h;};
A.prototype.setElements=function(e,s){this.elementArray=e;this.scaleArray=s;this._createScale();return this;};
A.prototype.getElementArray=function(){return this.elementArray;};
A.prototype.getScaleArray=function(){return this.scaleArray;};
A.prototype.setViewRangeStart=function(v){this.viewBandWidth=undefined;this.viewRangeStart=sap.gantt.misc.Utility.assign(v,0);this.scale.rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);return this;};
A.prototype.setViewRangeEnd=function(v){this.viewBandWidth=undefined;this.viewRangeEnd=v;this.scale.rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);return this;};
A.prototype.getViewRange=function(){var v=this.scale.rangeExtent();return[(v[0]-this.zoomOrigin)*this.zoomRate,(v[1]-this.zoomOrigin)*this.zoomRate];};
A.prototype.setViewBandWidth=function(v){this.viewRangeEnd=undefined;this.viewBandWidth=v;this.scale.rangeRoundBands(this._calculateViewRangeByViewBandWidth());return this;};
A.prototype.getViewBandWidth=function(){return this.scale.rangeBand()*this.zoomRate;};
A.prototype.setZoomRate=function(z){this.zoomRate=sap.gantt.misc.Utility.assign(z,1);return this;};
A.prototype.getZoomRate=function(){return this.zoomRate;};
A.prototype.setZoomOrigin=function(z){this.zoomOrigin=sap.gantt.misc.Utility.assign(z,0);return this;};
A.prototype.getZoomOrigin=function(){return this.zoomOrigin;};
A.prototype.clone=function(){return new A(this.elementArray.slice(0),this.scaleArray.slice(0),this.viewBandWidth,this.viewRangeStart,this.viewRangeEnd,this.zoomRate,this.zoomOrigin,this.padding);};
return A;},true);
sap.ui.predefine('sap/gantt/misc/AxisTime',["sap/base/util/ObjectPath","sap/ui/core/Core","sap/gantt/misc/Utility","sap/gantt/misc/Format"],function(O,C,U,F){"use strict";var A=function(t,v,z,a,b,l,Z){this.scale=d3.time.scale().domain(t).range(v).clamp(false);this.timeRange=t;this.viewRange=v;this.zoomRate=U.assign(z,1);this.zoomOrigin=U.assign(a,0);this.viewOffset=U.assign(b,0);this.locale=l;if(l&&l.getUtcdiff()){var f=F.getTimeStampFormatter();this.timeZoneOffset=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){this.timeZoneOffset=-this.timeZoneOffset;}}this._oZoomStrategy=Z;};A.prototype.CONSTANT={C_SEPARATOR:"_@@_",C_MESSAGE:{ARGUMENT_ERROR:"AxisOrdinal: Argument Error!"}};
A.prototype.timeToView=function(t,i){if(C.getConfiguration().getRTL()!==true){return(this.scale(t)-this.zoomOrigin)*this.zoomRate-(i?0:this.viewOffset);}else{return this.viewRange[1]*this.zoomRate-(((this.scale(t)+this.zoomOrigin)*this.zoomRate)+(i?0:this.viewOffset));}};
A.prototype.viewToTime=function(v,i){if(C.getConfiguration().getRTL()!==true){return this.scale.invert((v+(i?0:this.viewOffset))/this.zoomRate+this.zoomOrigin);}else{return this.scale.invert(this.viewRange[1]-(v+(i?0:this.viewOffset))/this.zoomRate-this.zoomOrigin);}};
A.prototype.setTimeRange=function(t){this.timeRange=t;this.scale.domain(t);return this;};
A.prototype.getTimeRange=function(){return this.scale.domain();};
A.prototype.getTimeRangeSlice=function(s,e){var a=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(s),this.timeZoneOffset):this.viewToTime(s);var b=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(e),this.timeZoneOffset):this.viewToTime(e);if(C.getConfiguration().getRTL()!==true){return[a,b];}else{return[b,a];}};
A.prototype.setViewRange=function(v){this.viewRange=v;this.scale.range(v);return this;};
A.prototype.getViewRange=function(){var r=this.scale.range();return[Math.round((r[0]-this.zoomOrigin)*this.zoomRate-this.viewOffset),Math.round((r[1]-this.zoomOrigin)*this.zoomRate-this.viewOffset)];};
A.prototype.getZoomStrategy=function(){return this._oZoomStrategy;};
A.prototype.setZoomRate=function(z){this.zoomRate=U.assign(z,1);return this;};
A.prototype.getZoomRate=function(){return this.zoomRate;};
A.prototype.setZoomOrigin=function(z){this.zoomOrigin=U.assign(z,0);return this;};
A.prototype.getZoomOrigin=function(){return this.zoomOrigin;};
A.prototype.setViewOffset=function(v){this.viewOffset=U.assign(v,0);return this;};
A.prototype.getViewOffset=function(){return this.viewOffset;};
A.prototype.setLocale=function(l){this.locale=l;if(l&&l.getUtcdiff()){var f=F.getTimeStampFormatter();this.timeZoneOffset=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){this.timeZoneOffset=-this.timeZoneOffset;}}return this;};
A.prototype.getLocale=function(){return this.locale;};
A.prototype.clone=function(){return new A([new Date(this.timeRange[0].valueOf()),new Date(this.timeRange[1].valueOf())],this.viewRange.slice(0),this.zoomRate,this.zoomOrigin,this.viewOffset,this.locale,this._oZoomStrategy);};
A.prototype.getCurrentTickTimeIntervalLevel=function(){var t=this._oZoomStrategy.getTimeLineOption(),T=this._oZoomStrategy.getTimeLineOptions(),i=0;for(var a in T){if(T[a]===t){return i;}i++;}};
A.prototype.getCurrentTickTimeIntervalKey=function(){var t=this._oZoomStrategy.getTimeLineOption(),T=this._oZoomStrategy.getTimeLineOptions();for(var a in T){if(T[a]===t){return a;}}};
A.prototype.getNowLabel=function(t){var d=new Date();if(t===undefined||t){d=new Date(d.getTime()+(d.getTimezoneOffset()*60000));}var v=this.timeToView(d);var l=d3.time.second.offset(d,this.timeZoneOffset);return[{"date":l,"value":Math.round(v)}];};
A.prototype.getTickTimeIntervalLabel=function(l,t,v){var i,p,a,b=null;if(this.locale&&this.locale.getDstHorizons().length>0){b=this.locale.getDstHorizons();}var f=F.getTimeStampFormatter();var c=[];if(b){for(i=0;i<b.length;i++){c[i]={};p=b[i].getStartTime();a=b[i].getEndTime();c[i].startDate=f.parse(p);c[i].endDate=f.parse(a);}}var e=this.timeZoneOffset?[d3.time.second.offset(this.timeRange[0],this.timeZoneOffset),d3.time.second.offset(this.timeRange[1],this.timeZoneOffset)]:this.timeRange;var g=new A(e,this.viewRange,this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy);var h=null;var j=null;var k=null;var m=null;var n=null;var o=null;var q=null;var r=[];var u=[];var w=null;if(t){o=this.timeZoneOffset?d3.time.second.offset(t[0],this.timeZoneOffset):t[0];q=this.timeZoneOffset?d3.time.second.offset(t[1],this.timeZoneOffset):t[1];h=this.timeZoneOffset?[d3.time.second.offset(t[0],this.timeZoneOffset),d3.time.second.offset(t[1],this.timeZoneOffset)]:t;j=[this.timeToView(t[0]),this.timeToView(t[1])];if(c&&c.length){this._calculateTimeRange(c,o,q,r);}w=this._calculateScale(r,u,h,j,false);}else if(v){o=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(v[0]),this.timeZoneOffset):this.viewToTime(v[0]);q=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(v[1]),this.timeZoneOffset):this.viewToTime(v[1]);h=[o,q];j=v;if(c.length){this._calculateTimeRange(c,o,q,r);}w=this._calculateScale(r,u,h,j,false);}else{o=e[0];q=e[1];h=e;j=this.viewRange;if(c.length){this._calculateTimeRange(c,o,q,r);}w=this._calculateScale(r,u,h,j,e);}u=w.viewRangeSet;k=w.visibleScale;m=w.dstScale;n=w.normalScale;var x=[];var y,z,B,D;var E={unit:this._oZoomStrategy.getTimeLineOption().largeInterval.unit,span:this._oZoomStrategy.getTimeLineOption().largeInterval.span};var G={unit:this._oZoomStrategy.getTimeLineOption().smallInterval.unit,span:this._oZoomStrategy.getTimeLineOption().smallInterval.span};var I,H;if(E){var J=[];var K=[];var L=[];if(!(k instanceof Array)){J[0]=this._getTimeIntervalTicks(E,k);}else{for(I=0;I<m.length;I++){K[I]=m[I].ticks(O.get(E.unit).range,E.span);L[I]=n[I].ticks(O.get(E.unit).range,E.span);}for(I=0;I<k.length;I++){J[I]=k[I].ticks(O.get(E.unit).range,E.span);}}var M=[];if(J[0]!==null){for(I=0;I<J.length;I++){for(H=0;H<J[I].length;H++){y=J[I][H];B=g.timeToView(y);D=this._oZoomStrategy.getUpperRowFormatter().format(y);M.push({"date":y,"value":Math.round(B),"label":D});}}}if(K[0]!==null){for(I=0;I<K.length;I++){for(H=0;H<K[I].length;H++){y=K[I][H];z=L[I][H];B=g.timeToView(d3.time.second.offset(y.getTime(),-60*60));D=this._oZoomStrategy.getUpperRowFormatter().format(y);M.push({"date":y,"value":Math.round(B),"label":D});}}}x.push(M);}else{x.push([]);}if(G){var N=[];var P=[];var Q=[];if(!(k instanceof Array)){Q[0]=this._getTimeIntervalTicks(G,k);}else{for(I=0;I<m.length;I++){N[I]=m[I].ticks(O.get(G.unit).range,G.span);P[I]=n[I].ticks(O.get(G.unit).range,G.span);}for(I=0;I<k.length;I++){Q[I]=k[I].ticks(O.get(G.unit).range,G.span);}}var R=[];if(Q[0]){for(I=0;I<Q.length;I++){for(H=0;H<Q[I].length;H++){y=Q[I][H];var S;var T=false;if(c.length){for(var d=0;d<c.length;d++){if(y.getTime()===c[d].startDate.getTime()){S=d3.time.second.offset(y.getTime(),60*60);if((H===Q[I].length-1)&&this._oZoomStrategy.isLowerRowTickHourSensitive()){T=true;}}if((H===Q[I].length-1)&&(y.getTime()===d3.time.second.offset(c[d].endDate.getTime(),60*60).getTime())){S=d3.time.second.offset(y.getTime(),-60*60);}}}B=g.timeToView(y);var V;if(T){break;}else if(S){V=this._oZoomStrategy.getUpperRowFormatter().format(S);D=this._oZoomStrategy.getLowerRowFormatter().format(S);S=null;}else{V=this._oZoomStrategy.getUpperRowFormatter().format(y);D=this._oZoomStrategy.getLowerRowFormatter().format(y);}R.push({"date":y,"value":Math.round(B),"label":D,"largeLabel":V});}}}if(N[0]){for(I=0;I<N.length;I++){for(H=0;H<N[I].length;H++){y=N[I][H];z=P[I][H];var W;var X=false;if((H===N[I].length-1)&&this._oZoomStrategy.isLowerRowTickHourSensitive()){if(r.length>0){for(var Y=0;Y<r.length;Y++){if((!r[Y].haveDST)&&(z.getTime()===r[Y].range[0].getTime())){X=true;}}}}if(c.length){for(var s=0;s<c.length;s++){if(y.getTime()===c[s].startDate.getTime()){W=d3.time.second.offset(y.getTime(),60*60);}if((H===N[I].length-1)&&(y.getTime()===d3.time.second.offset(c[s].endDate.getTime(),60*60).getTime())){W=d3.time.second.offset(y.getTime(),-60*60);}}}if(!this._oZoomStrategy.isLowerRowTickHourSensitive()){B=g.timeToView(d3.time.second.offset(y.getTime(),-60*60));}else{B=g.timeToView(z);}if(X){break;}else if(W){D=this._oZoomStrategy.getLowerRowFormatter().format(W);W=null;}else{D=this._oZoomStrategy.getLowerRowFormatter().format(y);}R.push({"date":y,"value":Math.round(B),"label":D});}}}x.push(R);}else{x.push([]);}return x;};
A.prototype._getTimeIntervalTicks=function(t,v){if(t.unit!==sap.gantt.config.TimeUnit.week){return v.ticks(O.get(t.unit).range,t.span);}var w=["d3.time.sunday","d3.time.monday","d3.time.tuesday","d3.time.wednesday","d3.time.thursday","d3.time.friday","d3.time.saturday"];return v.ticks(O.get(w[this.getZoomStrategy().getFirstDayOfWeek()]).range,t.span);};
A.prototype._calculateScale=function(a,v,b,c,l){var d=null;var e=[];var n=[];if(a.length){d=[];var f=0;var g=0;for(var t=0;t<a.length;t++){v[t]=[this.timeToView(a[t].range[0]),this.timeToView(a[t].range[1])];if(a[t].haveDST){e[f]=new A(a[t].dstRange,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy).scale;n[f]=new A(a[t].range,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy).scale;f++;}else{d[g]=new A(a[t].range,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy).scale;g++;}}}else if(l){d=new A(l,this.viewRange,this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;}else{d=new A(b,c,this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy).scale;}var r={"viewRangeSet":v,"visibleScale":d,"dstScale":e,"normalScale":n};return r;};
A.prototype._calculateTimeRange=function(d,s,e,a){if(d.length){var b=s;var c=e;var f=[];var g=[];var h,i;h=d[0].startDate;i=d[0].endDate;this._calculateRangeItem(h,i,b,c,f,g);if(d.length>1){for(var j=1;j<d.length;j++){if(f.length){var r=[];for(var k in f){r.push(f[k]);}f=[];for(var t=0;t<r.length;t++){h=d[j].startDate;i=d[j].endDate;b=r[t].range[0];c=r[t].range[1];this._calculateRangeItem(h,i,b,c,f,g);}}}}for(var l in g){a.push(g[l]);}for(var m in f){a.push(f[m]);}}};
A.prototype._calculateRangeItem=function(d,a,s,e,t,b){var r=null;if(s<d){if(e<a){if(e>d){r={};r.haveDST=false;r.range=[s,d];t.push(r);r={};r.haveDST=true;r.range=[d,e];r.dstRange=[d3.time.second.offset(d.getTime(),60*60),d3.time.second.offset(e,60*60)];b.push(r);}else{r={};r.haveDST=false;r.range=[s,e];t.push(r);}}else{r={};r.haveDST=false;r.range=[s,d];t.push(r);r={};r.haveDST=true;r.range=[d,a];r.dstRange=[d3.time.second.offset(d.getTime(),60*60),d3.time.second.offset(a.getTime(),60*60)];b.push(r);r={};r.haveDST=false;r.range=[a,e];t.push(r);}}else if(s>=d){if(s<a){if(e<=a){r={};r.haveDST=true;r.range=[s,e];r.dstRange=[d3.time.second.offset(s,60*60),d3.time.second.offset(e,60*60)];b.push(r);}else{r={};r.haveDST=true;r.range=[s,a];r.dstRange=[d3.time.second.offset(s,60*60),d3.time.second.offset(a.getTime(),60*60)];b.push(r);r={};r.haveDST=false;r.range=[a,e];t.push(r);}}else{r={};r.haveDST=false;r.range=[s,e];t.push(r);}}};
return A;},true);
sap.ui.predefine('sap/gantt/misc/Format',["sap/ui/core/format/DateFormat","sap/ui/thirdparty/d3"],function(D){"use strict";var F=function(){throw new Error();};F._oDefaultDateTimeFormat=D.getDateTimeInstance();
F.abapTimestampToDate=function(t){if(typeof t==="string"){var d=new Date(t.substr(0,4),parseInt(t.substr(4,2),0)-1,t.substr(6,2),t.substr(8,2),t.substr(10,2),t.substr(12,2));if(!jQuery.isNumeric(d.getTime())){d=new Date(t);}return d;}else if(jQuery.type(t)==="date"){return t;}return null;};
F.dateToAbapTimestamp=function(d){if(d){return""+d.getFullYear()+(d.getMonth()<9?"0":"")+(d.getMonth()+1)+(d.getDate()<10?"0":"")+d.getDate()+(d.getHours()<10?"0":"")+d.getHours()+(d.getMinutes()<10?"0":"")+d.getMinutes()+(d.getSeconds()<10?"0":"")+d.getSeconds();}return"";};
F.abapTimestampToTimeLabel=function(t,l){var a=sap.gantt.misc.Format._convertUTCToLocalTime(t,l);var L=sap.gantt.misc.Format._oDefaultDateTimeFormat.format(a);return L;};
F.relativeTimeToAbsolutTime=function(i,I,a,b){i=i!==undefined?i:0;I=I!==undefined?I:0;a=a!==undefined?a:0;b=b!==undefined?b:0;var B=this.abapTimestampToDate("20120101000000");var t=new Date();t.setTime(B.getTime()+b*1000+a*60*1000+I*3600*1000+i*24*3600*1000);return t;};
F.absolutTimeToRelativeTime=function(t){var b=this.abapTimestampToDate("20120101000000");var m=t.getTime()-b.getTime();var i=Math.floor(m/(24*3600*1000));var r=m%(24*3600*1000);var I=Math.floor(r/(3600*1000));r=r%(3600*1000);var a=Math.floor(r/(60*1000));r=r%(60*1000);var c=Math.floor(r/1000);var R={intervalDays:i,intervalHours:I,intervalMinutes:a,intervalSecond:c};return R;};
F._convertUTCToLocalTime=function(t,l){var a=0;if(l&&l.getUtcdiff()){var f=this.getTimeStampFormatter();a=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){a=-a;}}var u=sap.gantt.misc.Format.abapTimestampToDate(t);var b=d3.time.second.offset(u,a);var d=l.getDstHorizons();if(d.length>0){for(var i=0;i<d.length;i++){var s=sap.gantt.misc.Format.abapTimestampToDate(d[i].getStartTime());var e=sap.gantt.misc.Format.abapTimestampToDate(d[i].getEndTime());if(b>=s&&b<=e){b=d3.time.second.offset(b,60*60);}}}return b;};
F.getTimeStampFormatter=function(){return d3.time.format("%Y%m%d%H%M%S");};
return F;},true);
sap.ui.predefine('sap/gantt/misc/RelativeTimeFormatter',["sap/base/util/ObjectPath"],function(O){"use strict";var R=function(b,u,p){this.oBaseTime=b;this.sUnit=u;this.sPrefix=p;this.iIntervalMillisecond=O.get(u).offset(b,1).getTime()-b.getTime();};
R.prototype.format=function(d){var t;var s=Math.floor((d.getTime()-this.oBaseTime.getTime())/this.iIntervalMillisecond)+1;t=this.sPrefix+" "+s;return t;};
return R;},true);
sap.ui.predefine('sap/gantt/misc/ShapeManager',["sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/ObjectPath","sap/ui/base/EventProvider","./Utility","sap/gantt/shape/ResizeShadowShape","sap/gantt/shape/ext/rls/SelectedRelationship","sap/gantt/shape/SelectedShape","sap/gantt/shape/Group","sap/gantt/shape/Text"],function(q,L,O,E,U){"use strict";
var S=E.extend("sap.gantt.misc.ShapeManager",{constructor:function(g){E.apply(this);this.mShapeElementIds={};this.mShapeConfig={};this.mShapeInstance={};this.aShapeInstance=[];this.oGantt=g;}});
S.prototype.instantiateShapes=function(s){this.mShapeConfig={};for(var i=0;i<s.length;i++){this.mShapeConfig[s[i].getKey()]=s[i];}return this.recursiveInstantiateShapes(this.mShapeConfig).then(function(a){this.aShapeInstance=a;q.each(this.aShapeInstance,function(k,o){this.mShapeInstance[o.mShapeConfig.getKey()]=o;}.bind(this));}.bind(this));};
S.prototype.getAllShapeInstances=function(){return this.aShapeInstance;};
S.prototype.getSelectedShapeInstance=function(s,o){if(this.bDestroyed){return Promise.reject();}var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var a=s.getSelectedClassName();if(!a){if(c===sap.gantt.shape.ShapeCategory.Relationship){a="sap.gantt.shape.ext.rls.SelectedRelationship";}else{a="sap.gantt.shape.SelectedShape";}}return this.instantiateShapeClass(a);};
S.prototype.recursiveInstantiateShapes=function(s,p){var h=function(k){var o;var a=p?p:k;var i=p?p+"_"+k:k;var b=s[k];var c=b.getShapeClassName();if(c){return this.instantiateShapeClass(c).then(function(d){o=d;this.setSpecialProperty(o,b);this.setShapeElementId(i,a,o.getId());var P;if(!p){P=this.getSelectedShapeInstance(b,o).then(function(e){this.setSpecialProperty(e,b);o.setAggregation("selectedShape",e);i=a+"_selected"+a;this.setShapeElementId(i,undefined,e.getId());return this._createResizeShadowShape(b,o,a+"_resizeShadow"+a);}.bind(this));}else{P=Promise.resolve();}P=P.then(function(){var e=b.getGroupAggregation();if(e&&e instanceof Array){return this.recursiveInstantiateShapes(e,a).then(function(A){A.forEach(o.addShape,o);});}}.bind(this)).then(function(){var e=b.getClippathAggregation();if(e&&e instanceof Array){return this.recursiveInstantiateShapes(e,a).then(function(f){f.forEach(o.addPath,o);});}return o;}.bind(this));return P;}.bind(this));}else{return Promise.resolve(null);}}.bind(this);return Promise.all(Object.keys(s).map(h)).then(function(i){i=i.filter(function(I){return!!I;});if(!p){this.sortByShapeLevelAccendingly(i);}return i;}.bind(this));};
S.prototype.setSpecialProperty=function(s,o){s.mShapeConfig=o;s.mChartInstance=this.oGantt;s.dataSet=[];};
S.prototype.sortByShapeLevelAccendingly=function(i){i.sort(function(s,o){var l=s.mShapeConfig.getLevel(),a=o.mShapeConfig.getLevel();var b=q.isNumeric(l)?l:99;var c=q.isNumeric(a)?a:99;return c-b;});};
S.prototype.loadClass=function(s){return new Promise(function(r){var a=O.get(s);if(a){r(a);}else{sap.ui.require([s.replace(/\./g,"/")],function(a){r(a);});}});};
S.prototype.instantiateShapeClass=function(s){return this.loadClass(s).then(function(a){var o=new a();if(!o){L.error("shapeClassName:"+s+" can't be instantiated");L.warning("shapeClassName:"+s+" fallback to sap.gantt.shape.Shape");o=new sap.gantt.shape.Shape();}return o;});};
S.prototype.isShapeSelectable=function(s,e){return this.getShapePropertyValue("enableSelection",s,e);};
S.prototype.isShapeResizable=function(s,e){return this.getShapePropertyValue("enableResize",s,e);};
S.prototype.isShapeDuration=function(s,e){return this.getShapePropertyValue("isDuration",s,e);};
S.prototype.isShapeHoverable=function(s,e){return this.getShapePropertyValue("enableHover",s,e);};
S.prototype.getShapePropertyValue=function(p,s,e){var i,v;if(s){i=this.getShapeInstance(s,e)||sap.ui.getCore().byId(e);var m="get"+p.substr(0,1).toUpperCase()+p.substr(1);v=(i&&i[m])?i[m](s):v;}return v;};
S.prototype.isShapeDraggable=function(s,e){return this.getShapePropertyValue("enableDnD",s,e);};
S.prototype.setShapeElementId=function(i,s,a){this.mShapeElementIds[i]={"shapeElementId":a,"shapeKey":s};};
S.prototype.getShapeInstance=function(s,a){var c={};if(a){c=this._getShapeElementConfig(a);}else{var b=U.getShapeDataNameByUid(s.uid);for(var d in this.mShapeInstance){var e=this.mShapeInstance[d].mShapeConfig.getShapeDataName();if(b===e){c=this.mShapeElementIds[d];break;}}}return this.mShapeInstance[c?c.shapeKey:null];};
S.prototype._getShapeElementConfig=function(s){for(var a in this.mShapeElementIds){var c=this.mShapeElementIds[a];if(c.shapeElementId===s){return c;}}return null;};
S.prototype.collectDataForSelectedShapes=function(s,o,c){var m=this.mShapeInstance;for(var a in m){var b=m[a];var d=b.mShapeConfig.getShapeDataName();var e=b.getAggregation("selectedShape");var C=e.getCategory(null,this.oGantt.getAxisTime(),this.oGantt._oAxisOrdinal);e.dataSet=[];if(C===sap.gantt.shape.ShapeCategory.Relationship){var f=s.getSelectedRelationships();e.dataSet.push({"shapeData":f});}else{var g=s.getSelectedShapeDatum();for(var i=0;i<g.length;i++){var h=g[i];if(U.getShapeDataNameByUid(h.uid)!==d){continue;}var r=U.getRowDatumByShapeUid(h.uid,this.oGantt.getId());var v=s.isSelectedShapeVisible(h.uid,this.oGantt.getId());if(r&&v&&this.isShapeSelectable(h,b.getId())&&this.isShapeDisplayableInRow(r,a,o,c)){e.dataSet.push({"objectInfoRef":r,"shapeData":[h]});}}}}};
S.prototype.collectDataForAllShapeInstances=function(r,o,c){var j=true;var s=this.mShapeInstance;for(var a in s){var b=s[a];var d;var B=b.mShapeConfig.getShapeDataName();b.dataSet=[];if(b._attributeNameBindingMap){b._attributeNameBindingMap=undefined;}for(var i=0;i<r.length;i++){var R=r[i];if(!B){b.dataSet.push({"objectInfoRef":R,"shapeData":R.data});continue;}var D=this.isShapeDisplayableInRow(R,a,o,c);if(!D){continue;}if(j){d=R.data[B];}else if(B===R.shapeName){d=R.shapeData;}else{continue;}if(d){b.dataSet.push({"objectInfoRef":R,"shapeData":d});}}}};
S.prototype.isShapeDisplayableInRow=function(r,s,o,c){var C;if(r.chartScheme){C=r.chartScheme;}else{C=o[r.type]?o[r.type].getMainChartSchemeKey():sap.gantt.config.DEFAULT_CHART_SCHEME_KEY;}var a=c[C];if(a===undefined){return false;}var b=a.getShapeKeys();var m=a.getModeKey()!==sap.gantt.config.DEFAULT_MODE_KEY?a.getModeKey():this.oGantt.getMode();var d=this.mShapeConfig;if((C!==sap.gantt.config.DEFAULT_CHART_SCHEME_KEY&&b.indexOf(s)===-1)||(m!==sap.gantt.config.DEFAULT_MODE_KEY&&d[s].getModeKeys()&&d[s].getModeKeys().length>0&&d[s].getModeKeys().indexOf(m)<0)||!r.data){return false;}return true;};
S.prototype.isRelationshipDisplayable=function(s){var m=this.mShapeConfig;var a=s.mShapeConfig.getKey();var b=m[a]?m[a].getModeKeys():[];if(q.inArray(this.oGantt.getMode(),b)===-1&&this.oGantt.getMode()!==sap.gantt.config.DEFAULT_MODE_KEY){return false;}return true;};
S.prototype.getResizeShadowShapeInstance=function(s,o){if(this.bDestroyed){return Promise.reject();}var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var r=s.getResizeShadowClassName();if(!r||r===""){if(c===sap.gantt.shape.ShapeCategory.InRowShape){r="sap.gantt.shape.ResizeShadowShape";}else{return Promise.resolve(null);}}return this.instantiateShapeClass(r);};
S.prototype._createResizeShadowShape=function(s,o,r){return this.getResizeShadowShapeInstance(s,o).then(function(R){if(this.bDestroyed){return;}if(R){this.setSpecialProperty(R,s);o.setAggregation("resizeShadowShape",R);this.setShapeElementId(r,undefined,R.getId());}}.bind(this));};
S.prototype.destroy=function(){this.bDestroyed=true;};
S.prototype._createResizeShadowShapeSync=function(s,o,r){var R=this.getResizeShadowShapeInstanceSync(s,o);if(R){this.setSpecialProperty(R,s);o.setAggregation("resizeShadowShape",R);this.setShapeElementId(r,undefined,R.getId());}};
S.prototype.getResizeShadowShapeInstanceSync=function(s,o){var r=null;var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var R=s.getResizeShadowClassName();if(!R||R===""){if(c===sap.gantt.shape.ShapeCategory.InRowShape){R="sap.gantt.shape.ResizeShadowShape";}else{return null;}}r=this.instantiateShapeClassSync(R);return r;};
S.prototype.instantiateShapeClassSync=function(s){var C=O.get(s);if(!C){throw new Error("Class "+s+" not preloaded. Please add it to require of your"+" controller to ensure that it's initialized before this point or use Gantt 2.0.");}var o=new C();if(!o){L.error("shapeClassName:"+s+" can't be instantiated");L.warning("shapeClassName:"+s+" fallback to sap.gantt.shape.Shape");o=new sap.gantt.shape.Shape();}return o;};
S.prototype.recursiveInstantiateShapesSync=function(s,p){var i=[],o;for(var K in s){var a=p?p:K;var I=p?p+"_"+K:K;var b=s[K];var c=b.getShapeClassName();if(c){o=this.instantiateShapeClassSync(c);this.setSpecialProperty(o,b);this.setShapeElementId(I,a,o.getId());if(!p){var d=this.getSelectedShapeInstanceSync(b,o);this.setSpecialProperty(d,b);o.setAggregation("selectedShape",d);I=a+"_selected"+a;this.setShapeElementId(I,undefined,d.getId());this._createResizeShadowShapeSync(b,o,a+"_resizeShadow"+a);}var e=b.getGroupAggregation();if(e&&e instanceof Array){var A=this.recursiveInstantiateShapesSync(e,a);for(var k=0;k<A.length;k++){o.addShape(A[k]);}}var f=b.getClippathAggregation();if(f&&f instanceof Array){var P=this.recursiveInstantiateShapesSync(f,a);for(var j=0;j<P.length;j++){o.addPath(P[j]);}}}i.push(o);}if(!p){this.sortByShapeLevelAccendingly(i);}return i;};
S.prototype.getSelectedShapeInstanceSync=function(s,o){var a=null;var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var b=s.getSelectedClassName();if(!b){if(c===sap.gantt.shape.ShapeCategory.Relationship){b="sap.gantt.shape.ext.rls.SelectedRelationship";}else{b="sap.gantt.shape.SelectedShape";}}a=this.instantiateShapeClassSync(b);return a;};
S.prototype.instantiateShapesSync=function(s){this.mShapeConfig={};for(var i=0;i<s.length;i++){this.mShapeConfig[s[i].getKey()]=s[i];}this.aShapeInstance=this.recursiveInstantiateShapesSync(this.mShapeConfig);q.each(this.aShapeInstance,function(k,o){this.mShapeInstance[o.mShapeConfig.getKey()]=o;}.bind(this));};
return S;});
sap.ui.predefine('sap/gantt/misc/ShapeSelectionModel',["sap/ui/thirdparty/jquery","sap/ui/base/ManagedObject","sap/gantt/misc/Utility"],function(q,M,U){"use strict";
var S=M.extend("sap.gantt.misc.ShapeSelectionModel",{
constructor:function(i,s){M.apply(this,arguments);this.aSelectedRelationships=[];this.mSelectedShapes={"uid":[],"shapes":[]};},
metadata:{properties:{"selectionMode":{type:"sap.gantt.SelectionMode",defaultValue:sap.gantt.SelectionMode.MultiWithKeyboard}},associations:{"ganttChart":{type:"sap.gantt.GanttChart",multiple:false}}}
});
var D={Row:"Row",Shape:"Shape"};
S.prototype.clearAllSelections=function(){var c=this.clearShapeSelection();var r=this.clearRelationshipSelection();return c&&r;};
S.prototype.clearShapeSelection=function(){if(this.mSelectedShapes.uid.length===0){return false;}this.mSelectedShapes.uid=[];return true;};
S.prototype.clearRelationshipSelection=function(){if(this.aSelectedRelationships.length===0){return false;}this.aSelectedRelationships=[];return true;};
S.prototype.getSelectedShapeDatum=function(){var d=[];var l=this.mSelectedShapes.uid.length;for(var i=0;i<l;i++){var u=this.mSelectedShapes.uid[i];var o=this.getShapeDatumByShapeUid(u);if(o){d.push(o);}}return d;};
S.prototype.getSelectedRelationships=function(){return this.aSelectedRelationships;};
S.prototype.isShapeSelected=function(s){return q.inArray(s,this.mSelectedShapes.uid)===-1?false:true;};
S.prototype.isRelationshipSelected=function(u){return this.aSelectedRelationships.some(function(s){return s.uid===u;});};
S.prototype.isSelectedShapeVisible=function(s,c){var a=U.getIdByUid(s);var d=U.getShapeDatumById(a,c);return d.some(function(i){return i.uid===s;});};
S.prototype.changeShapeSelection=function(s,r,c,d,R){var b,a;if(this.getSelectionMode()===sap.gantt.SelectionMode.None){return{shapeSelectionChange:false,relationshipSelectionChange:false};}var i=(U.getShapeDataNameByUid(s.uid)===sap.gantt.shape.ShapeCategory.Relationship);var m=(c&&this.getSelectionMode()===sap.gantt.SelectionMode.MultiWithKeyboard)||this.getSelectionMode()===sap.gantt.SelectionMode.Multiple;if(m){if(i){if(this.isRelationshipSelected(s.uid)){a=this.deselectRelationship(s.uid);}else{a=this.selectRelationship(s);}}else{if(this.isShapeSelected(s.uid)&&!d&&!R){b=this.deselectShape(s.uid);}else{b=this.selectByShapeData(s);}}}else{if(i){if(!this.isRelationshipSelected(s.uid)){a=this.clearRelationshipSelection();b=this.clearShapeSelection();a=this.selectRelationship(s)?true:a;}}else{if(!this.isShapeSelected(s.uid)&&!d&&!R){a=this.clearRelationshipSelection();b=this.clearShapeSelection();b=this.selectByShapeData(s)?true:b;}}}return{shapeSelectionChange:b,relationshipSelectionChange:a};};
S.prototype.selectByShapeData=function(s){if(!s||this.isShapeSelected(s.uid)){return false;}this.mSelectedShapes.uid.push(s.uid);return true;};
S.prototype.selectShapeByUid=function(u){var r;if(u&&u.length>0){for(var i=0;i<u.length;i++){r=r||this.selectByShapeData(this.getShapeDatumByShapeUid(u[i]));}}return r;};
S.prototype.deselectShape=function(s){var i=q.inArray(s,this.mSelectedShapes.uid);if(i>=0){this.mSelectedShapes.uid.splice(i,1);}else{return false;}return true;};
S.prototype.selectShapes=function(s,e){if(!s||s.length===0){return this.clearShapeSelection();}var u;if(e){u=this.clearShapeSelection();}var a=this._getShapeDatumForSelection(s);for(var j=0;j<a.length;j++){u=this.selectByShapeData(a[j])?true:u;}return u;};
S.prototype.deselectShapes=function(I){if(!I||I.length===0){return this.clearShapeSelection();}var u;var s=this.getSelectedShapeDatum();for(var i=0;i<s.length;i++){var o=s[i];if(q.inArray(o.__id__,I)>=0){u=this.deselectShape(o.uid)?true:u;}}return u;};
S.prototype.selectRelationship=function(r){if(this.isRelationshipSelected(r.uid)){return false;}this.aSelectedRelationships.push(r);return true;};
S.prototype.deselectRelationship=function(r){var t=this;var u=q.each(this.aSelectedRelationships,function(i,a){if(a&&a.uid===r){t.aSelectedRelationships.splice(i,1);return true;}});return u?true:false;};
S.prototype.selectRelationships=function(r,e){if(!r||r.length===0){return this.clearRelationshipSelection();}var u;if(e){u=this.clearRelationshipSelection();}for(var i=0;i<r.length;i++){u=this.selectRelationship(r[i])?true:u;}return u;};
S.prototype.deselectRelationships=function(i){if(!i||i.length===0){return this.clearRelationshipSelection();}else{var u;for(var j in this.aSelectedRelationships){var r=this.aSelectedRelationships[j];if(q.inArray(r.id,i)>=0){u=this.deselectRelationship(r.uid)?true:u;}}return u;}};
S.prototype.selectUnderlyingTableRows=function(i,t,e){var T=this._getSelectionHandler(t);var a=T.getSelectedIndices();if(e&&a.length>0){T.clearSelection();}var r=this._getRowDatumForSelection(i,t);for(var I=0;I<r.length;I++){var R=r[I];var s=this.getSelectionMode();if(s===sap.gantt.SelectionMode.Multiple||s===sap.gantt.SelectionMode.MultiWithKeyboard){T.addSelectionInterval(R.rowIndex,R.rowIndex);}else{T.setSelectedIndex(R.rowIndex);}}};
S.prototype.deselectUnderlyingTableRows=function(i,t){if(!i||i.length===0){this._getSelectionHandler(t).clearSelection();return;}var r=this._getRowDatumForSelection(i,t);for(var I=0;I<r.length;I++){var R=r[I];if(R){this._getSelectionHandler(t).removeSelectionInterval(R.rowIndex,R.rowIndex);}}};
S.prototype.getShapeDatumByShapeUid=function(s){return this._getDatumByUid(s,D.Shape);};
S.prototype.getRowDatumByShapeUid=function(s){return this._getDatumByUid(s,D.Row);};
S.prototype._getDatumByUid=function(s,d){var g=this._getGanttChart();var o;if(D.Shape===d){o=U.getShapeDatumByShapeUid(s,g.getId());}else{o=U.getRowDatumByShapeUid(s,g.getId());}if(o){return o;}var r,a;var b=U.getShapeDataNameByUid(s);var j=(g._oTT.getBinding("rows").getMetadata().getName()==="sap.ui.model.json.JSONTreeBinding");var R=U.getChartSchemeByShapeUid(s);var A=g.getAllRowData();q.each(A,function(k,v){var c=v;if(R===""||R===c.chartScheme){if(j&&c.data[b]){for(var i=0;i<c.data[b].length;i++){if(c.data[b][i].uid===s){r=c;a=c.data[b][i];return false;}}}else if(c.data.uid===s){r=c;a=c.data;return false;}}});if(d===D.Shape){return a;}return r;};
S.prototype._getRowDatumForSelection=function(i,t){var r=i?i:[],R=U.getRowDatumRefById(r,t.getParent().getId()),m=R.length===r.length;if(!m){var I=this._lookupInvisibleDatum(r,R,D.Row);R=R.concat(I);}return R;};
S.prototype._getShapeDatumForSelection=function(i){var g=this._getGanttChart();var s=i?i:[];var a=U.getShapeDatumById(s,g.getId()),m=a.length===s.length;if(!m){var I=this._lookupInvisibleDatum(s,a,D.Shape);a=a.concat(I);}return a;};
S.prototype._lookupInvisibleDatum=function(I,f,d){var a=this._getInvisibleIds(I,f,d);var b=[];if(a.length>0){var g=this._getGanttChart(),s=g.getShapeDataNames();var A=g.getAllRowData();var l=function(r,c){var R=null;q.each(s,function(j,o){var e;if(typeof o==="string"){e=o;}else{e=o.name;}var h=r.data[e];if(h){q.each(h,function(k,i){if(i.__id__==c){R=i;return false;}});if(R){return false;}}});return R;};var L=function(c,t){var r=null;q.each(A,function(i,R){if(t===D.Shape){r=l(R,c);if(r){return false;}}else{if(R.id==c){r=R;return false;}}});return r;};b=a.map(function(i){return L(i,d);});}return b;};
S.prototype._getInvisibleIds=function(i,f,d){var F=f.map(function(o){if(d===D.Shape){return o.__id__;}return o.id;});return i.filter(function(I){return q.inArray(I,F)===-1;});};
S.prototype._getGanttChart=function(){return sap.ui.getCore().byId(this.getGanttChart());};
S.prototype._getSelectionHandler=function(t){return t._oSelectionPlugin||t;};
return S;});
sap.ui.predefine('sap/gantt/misc/Utility',["sap/base/assert","sap/base/util/array/uniqueSort","sap/base/util/uid","sap/gantt/misc/Format","sap/gantt/config/TimeHorizon","sap/base/Log","sap/ui/core/Core"],function(a,u,b,F,T,L,C){"use strict";var U={};
U.assign=function(i,d){if(typeof(i)!==typeof(d)){return d;}else if((typeof i==="undefined")||i===null){return d;}else{return i;}};
U.assignDeep=function(i,d){if(!i&&!d){return null;}else if(i&&!d){return i;}else if(!i&&d){return d;}else if(typeof(i)==="object"&&typeof(d)==="object"){var r=i;for(var c in d){if(typeof(r[c])!=="boolean"&&!r[c]){r[c]=d[c];}else if(typeof(d[c])==="object"&&typeof(r[c])==="object"){r[c]=this.assignDeep(r[c],d[c]);}}return r;}else{return i;}};
U.generateRowUid=function(d,o,s,p,r){jQuery.each(d,function(k,v){v.uid=v.id;if(p){v.uid=p+"|"+v.uid;}else if(v.bindingObj&&v.bindingObj.findNode){var n=v.bindingObj.findNode(v.rowIndex);while(n.parent&&n.level>0){n=n.parent;v.uid=n.context.getObject()[r]+"|"+v.uid;}}var c=(v.index===undefined)?-1:v.index;var e=(v.chartScheme===undefined)?"":v.chartScheme;v.uid="PATH:"+v.uid+"|SCHEME:"+e+"["+c+"]";v.data.uid=v.uid;for(var i=0;i<s.length;i++){var D,f;if(typeof s[i]==="string"){D=s[i];f="id";}else{D=s[i].name;f=s[i].idName?s[i].idName:"id";}if(D in v.data){for(var j=0;j<v.data[D].length;j++){var g=v.data[D][j];if(g[f]===undefined){g[f]=b();}g.uid=v.uid+"|DATA:"+D+"["+g[f]+"]";g.__id__=g[f];}}}});};
U.getChartSchemeByShapeUid=function(s){return U.parseUid(s).chartScheme||"";};
U.generateUidForRelationship=function(d,r){var s="relationship";var D="PATH:DUMMY|SCHEME:DUMMY[0]";for(var i=0;i<d.length;i++){if(d[i][r]===undefined){d[i][r]=b();}d[i].uid=D+"|DATA:"+s+"["+d[i][r]+"]";d[i].__id__=d[i][r];}};
U.generateObjectPathToObjectMap=function(d,m,p){var r;for(var i in d){var o=d[i],c,e;if(o.objectInfoRef){c=o.objectInfoRef.id;o=o.objectInfoRef;}else{c=o.id;}if(p&&p!=""){c=p.concat(".").concat(c);}e=c.concat("-").concat(U.parseUid(o.uid).rowIndex);m[e]=o;if(o.children&&o.children.length>0){r=this.generateObjectPathToObjectMap(o.children,m,c);}}return r;};
U.getShapeDataNameByUid=function(s){return U.parseUid(s).shapeDataName;};
U.getIdByUid=function(s,r){return r?U.parseUid(s).rowId:U.parseUid(s).shapeId;};
U.parseUid=function(s){var r=/(PATH:(.+)\|SCHEME:(.*?\[-?\d+\]))(?:\|DATA:(.+)\[(.*)\])?$/g;var m=r.exec(s);var c={};if(m){var d=m[3];if(d){var R=d.match(/\[-?\d+\]/)[0].slice(1,-1);d=d.replace(/\[-?\d+\]/,"");}var e=m[1],f=m[2],g=f.split("|"),h=g[g.length-1];c={rowId:h,rowPath:f,rowUid:e,chartScheme:d,shapeDataName:m[4],shapeId:m[5],rowIndex:R};}else{L.warning("UID "+s+" does not match regular expression.");}return c;};
U.scaleBySapUiSize=function(m,n){switch(m){case"sapUiSizeCozy":return n*1.5;case"sapUiSizeCondensed":return n*0.78;default:return n;}};
U.findSapUiSizeClass=function(c){var $,d;if(c){$=c.$();}var s=".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy";if(!$||$.length===0){d=jQuery(document.body).find(s);}else{d=$.closest(s);}if(d.hasClass("sapUiSizeCondensed")){return"sapUiSizeCondensed";}else if(d.hasClass("sapUiSizeCompact")){return"sapUiSizeCompact";}else if(d.hasClass("sapUiSizeCozy")){return"sapUiSizeCozy";}else{return"sapUiSizeCozy";}};
U.floatEqual=function(v,V){return Math.abs(v-V)<0.0001;};
U.calculateStringLength=function(s){var l=0;if(s.match("[\u4E00-\u9FFF]")===null){l=s.length;}else{l=s.length+s.match(/[\u4E00-\u9FFF]/g).length;}return l;};
U.judgeTimeHorizonValidity=function(v,t){if(!v||!v.getStartTime()||!v.getEndTime()){return false;}var V=F.abapTimestampToDate(v.getStartTime()).getTime(),o=F.abapTimestampToDate(v.getEndTime()).getTime(),c=F.abapTimestampToDate(t.getStartTime()).getTime(),d=F.abapTimestampToDate(t.getEndTime()).getTime();return(V-c>=0)&&(d-o>=0);};
U.getShapeDatumById=function(i,c){return U.getDatumById(i,"sap-gantt-shape-id",c);};
U.getRowDatumById=function(i,c){return U.getDatumById(i,"sap-gantt-row-id",c)||[];};
U.getRowDatumRefById=function(i,c){return U.getRowDatumById(i,c).map(function(I){return I.objectInfoRef;});};
U.getRowDatumByShapeUid=function(s,c){var p=this.parseUid(s),r=p.rowUid,R=p.rowId;var d=null;var e=this.getRowDatumById(R,c);var f=e.filter(function(d){return d.objectInfoRef.uid.indexOf(r)>=0;});if(f.length>0){d=f[0].objectInfoRef;}return d;};
U.getShapeDatumByShapeUid=function(s,c){var p=this.parseUid(s),S=p.shapeId,r=p.rowUid;var d=this.getShapeDatumById(S,c);var f=d.filter(function(D){return D.uid.indexOf(r)>=0;});return f[0];};
U.getRowDatumByEventTarget=function(t){var d=null;var $=jQuery(t).closest("g[data-sap-gantt-row-id]");if($.length){d=d3.select($.get(0)).datum();}return d;};
U.getDatumById=function(i,A,c){a(typeof i==="string"||i instanceof Array,"vId must be string or array");a(c,"sContainer must specify");var p=i?i:"";var I=p;if(typeof p==="string"){I=[p];}var d=[];I.forEach(function(e){var s=["[id='",c,"']"," [data-",A,"='",e,"']"].join("");jQuery(s).each(function(_,f){var $=d3.select(f),n=$.datum();var g=d.some(function(o){var O=o.uid||o.objectInfoRef.uid,N=n.uid||n.objectInfoRef.uid;if(O!==N){return false;}else{var S=o.shapeData?o.shapeData.length:0;var h=n.shapeData?n.shapeData.length:0;return S===h;}});if(!g){d.push(n);}});});return u(d);};
U.attributeEqualSelector=function(c,v){return"["+c+"="+"'"+v+"'"+"]";};
U.calculateHorizonByWidth=function(o,O,c,d){var e=F.abapTimestampToDate(o.getStartTime());var f=F.abapTimestampToDate(o.getEndTime());var r=Math.abs(e.getTime()-f.getTime())/O;var s;if(d){s=d;}else{s=e;}var E=new Date();if(isFinite(r)&&typeof r==="number"&&isFinite(c)&&typeof c==="number"){E.setTime(s.getTime()+c*r);}else{E=f;}return new T({startTime:s,endTime:E});};
U.safeCall=function(s,c,d,e){var o=s;for(var p=0;p<c.length;p++){var f=c[p];if(!o||typeof o[f]!=="function"){return d;}else if(p<c.length-1){o=o[f]();}else{o=o[f].apply(o,e);}}return o;};
U.getShapeBias=function(s){var r=C.getConfiguration().getRTL(),n=r?-s.getXBias():s.getXBias(),c=s.getYBias();return{x:n,y:c};};
return U;},true);
sap.ui.predefine('sap/gantt/shape/Circle',["sap/gantt/shape/Shape"],function(S){"use strict";
var C=S.extend("sap.gantt.shape.Circle",{metadata:{properties:{tag:{type:"string",defaultValue:"circle"},cx:{type:"float"},cy:{type:"float"},r:{type:"float",defaultValue:5}}}});
C.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CIRCLE"));};
C.prototype.getCx=function(d,r){if(this.mShapeConfig.hasShapeProperty("cx")){return this._configFirst("cx",d);}return this.getRotationCenter(d,r)[0];};
C.prototype.getCy=function(d,r){if(this.mShapeConfig.hasShapeProperty("cy")){return this._configFirst("cy",d);}return this.getRowYCenter(d,r);};
C.prototype.getR=function(d){return this._configFirst("r",d,true);};
C.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r)};return i+this.getInlineStyle(s);};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ClipPath',["sap/gantt/shape/Shape"],function(S){"use strict";
var C=S.extend("sap.gantt.shape.ClipPath",{metadata:{properties:{tag:{type:"string",defaultValue:"clippath"}},aggregations:{paths:{type:"sap.gantt.shape.Path",multiple:true,singularName:"path"}}}});
return C;},true);
sap.ui.predefine('sap/gantt/shape/Definitions',["sap/gantt/shape/Shape"],function(S){"use strict";
var D=S.extend("sap.gantt.shape.Definitions",{metadata:{properties:{tag:{type:"string",defaultValue:"defs"},childTagName:{type:"string"},content:{type:"string",defaultValue:""},referenceId:{type:"string"}}}});
D.prototype.getChildTagName=function(d,r){if(this.mShapeConfig.hasShapeProperty("childTagName")){return this._configFirst("childTagName",d);}};
D.prototype.getContent=function(d,r){if(this.mShapeConfig.hasShapeProperty("content")){return this._configFirst("content",d);}return null;};
D.prototype.getReferenceId=function(d,r){return this.getParentReferenceId(d,r);};
return D;},true);
sap.ui.predefine('sap/gantt/shape/Group',["sap/gantt/shape/Shape"],function(S){"use strict";
var G=S.extend("sap.gantt.shape.Group",{metadata:{properties:{tag:{type:"string",defaultValue:"g"},RLSAnchors:{type:"object"}},aggregations:{shapes:{type:"sap.gantt.shape.Shape",multiple:true,singularName:"shape"}}}});
G.prototype.getRLSAnchors=function(d,r){return this._configFirst("RLSAnchors",d);};
G.prototype.genReferenceId=function(d,r){return this._configFirst("referenceId",d);};
return G;},true);
sap.ui.predefine('sap/gantt/shape/Image',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(S,U,F,C){"use strict";
var I=S.extend("sap.gantt.shape.Image",{metadata:{properties:{tag:{type:"string",defaultValue:"image"},image:{type:"string"},x:{type:"float"},y:{type:"float"},width:{type:"float",defaultValue:20},height:{type:"float",defaultValue:20}}}});
I.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_IMAGE"));};
I.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n,a=this.getAxisTime();if(C.getConfiguration().getRTL()){if(this.getIsDuration(d,r)===true){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}return(n?n:0)-this.getWidth(d,r)/2;};
I.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return this.getRowYCenter(d,r)-this.getHeight(d,r)/2;};
I.prototype.getImage=function(d){return this._configFirst("image",d);};
I.prototype.getWidth=function(d){return this._configFirst("width",d,true);};
I.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return I;},true);
sap.ui.predefine('sap/gantt/shape/Line',["sap/gantt/shape/Shape","sap/gantt/misc/Format"],function(S,F){"use strict";
var L=S.extend("sap.gantt.shape.Line",{metadata:{properties:{tag:{type:"string",defaultValue:"line"},isDuration:{type:"boolean",defaultValue:true},x1:{type:"float"},y1:{type:"float"},x2:{type:"float"},y2:{type:"float"}}}});
L.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_LINE"));};
L.prototype.getX1=function(d,r){if(this.mShapeConfig.hasShapeProperty("x1")){return this._configFirst("x1",d);}return this.getAxisTime().timeToView(F.abapTimestampToDate(this.getTime(d,r)));};
L.prototype.getY1=function(d,r){if(this.mShapeConfig.hasShapeProperty("y1")){return this._configFirst("y1",d,true);}return this.getRowYCenter(d,r);};
L.prototype.getX2=function(d,r){if(this.mShapeConfig.hasShapeProperty("x2")){return this._configFirst("x2",d);}return this.getAxisTime().timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));};
L.prototype.getY2=function(d,r){if(this.mShapeConfig.hasShapeProperty("y2")){return this._configFirst("y2",d,true);}return this.getRowYCenter(d,r);};
L.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"stroke-dasharray":this.getStrokeDasharray(d,r),"fill-opacity":this.getFillOpacity(d,r),"stroke-opacity":this.getStrokeOpacity(d,r)};return i+this.getInlineStyle(s);};
return L;},true);
sap.ui.predefine('sap/gantt/shape/Path',["sap/base/Log","sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(L,S,U){"use strict";
var P=S.extend("sap.gantt.shape.Path",{metadata:{properties:{tag:{type:"string",defaultValue:"path"},isClosed:{type:"boolean",defaultValue:false},fill:{type:"string",defaultValue:"none"},d:{type:"string"}}}});
P.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_PATH"));};
P.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var c=this._getCenter(d,r),i=this.getIsDuration(d,r),m=this.mChartInstance.getSapUiSizeClass();var n=U.scaleBySapUiSize(m,7.5);if(i){var e=this._getCenter(d,r,true);n=(e[0]-c[0])/2;}D="M "+c[0]+" "+c[1]+" c 0,"+-n+" "+n+","+-n+" "+n+",0 c 0,"+n+" "+n+","+n+" "+n+",0";}if(this.isValid(D)){return D;}else{L.warning("Path shape generated invalid d: "+D+" from the given data: "+d);return null;}};
P.prototype.getIsClosed=function(d){return this._configFirst("isClosed",d);};
P.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"stroke-dasharray:":this.getStrokeDasharray(d,r)};if(this.getIsClosed(d,r)){s["fill-opacity"]=this.getFillOpacity(d,r);s["stroke-opacity"]=this.getStrokeOpacity(d,r);}return i+this.getInlineStyle(s);};
P.prototype.isValid=function(d){return!!d&&d.indexOf("NaN")===-1&&d.indexOf("undefined")===-1&&d.indexOf("null")===-1;};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Polygon',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Polygon",{metadata:{properties:{tag:{type:"string",defaultValue:"polygon"},points:{type:"string"}}}});
P.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_POLYGON"));};
P.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var m=this.mChartInstance.getSapUiSizeClass();var c=this.getRotationCenter(d,r),n=U.scaleBySapUiSize(m,8),a=U.scaleBySapUiSize(m,4),b=U.scaleBySapUiSize(m,4*Math.sqrt(3)),R=[];if(c&&c.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)){R.push([c[0]-b,c[1]-a].join(","));R.push([c[0],c[1]-n].join(","));R.push([c[0]+b,c[1]-a].join(","));R.push([c[0]+b,c[1]+a].join(","));R.push([c[0],c[1]+n].join(","));R.push([c[0]-b,c[1]+a].join(","));}return R.join(" ");};
P.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r)};return i+this.getInlineStyle(s);};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Polyline',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Polyline",{metadata:{properties:{tag:{type:"string",defaultValue:"polyline"},fill:{type:"string",defaultValue:"none"},points:{type:"string"}}}});
P.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CIRCLE"));};
P.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var c=this.getRotationCenter(d,r),R=[];var m=this.mChartInstance.getSapUiSizeClass();if(c&&c.length===2){R.push([c[0]-15,c[1]].join(","));R.push([c[0]-10,c[1]].join(","));R.push([c[0]-5,c[1]-U.scaleBySapUiSize(m,7.5)].join(","));R.push([c[0]+5,c[1]+U.scaleBySapUiSize(m,7.5)].join(","));R.push([c[0]+10,c[1]].join(","));R.push([c[0]+15,c[1]].join(","));}return R.join(" ");};
P.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r)};return i+this.getInlineStyle(s);};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Rectangle',["sap/base/Log","sap/gantt/shape/Shape","sap/gantt/misc/Format","sap/ui/core/Core"],function(L,S,F,C){"use strict";
var R=S.extend("sap.gantt.shape.Rectangle",{metadata:{properties:{tag:{type:"string",defaultValue:"rect"},isDuration:{type:"boolean",defaultValue:true},x:{type:"float"},y:{type:"float"},width:{type:"float"},height:{type:"float",defaultValue:15},rx:{type:"string",defaultValue:"0"},ry:{type:"string",defaultValue:"0"}}}});
R.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_RECTANGLE"));};
R.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n;var a=this.getAxisTime();if(C.getConfiguration().getRTL()){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}if(!jQuery.isNumeric(n)){L.warning("Cannot get start time or end time from shape data: "+d+", please check whether the attribute name");return 0;}return n;};
R.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d,true);}return this.getRowYCenter(d,r)-this.getHeight(d,r)/2;};
R.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var a=this.getAxisTime();var n,s=a.timeToView(F.abapTimestampToDate(this.getTime(d,r))),e=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));if(!jQuery.isNumeric(s)||!jQuery.isNumeric(e)){return 0;}if(C.getConfiguration().getRTL()){n=s-e;}else{n=e-s;}if(n===0||n<0){n=1;}return n;};
R.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
R.prototype.getRx=function(d){return this._configFirst("rx",d);};
R.prototype.getRy=function(d){return this._configFirst("ry",d);};
R.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"stroke-dasharray":this.getStrokeDasharray(d,r),"fill-opacity":this.getFillOpacity(d,r),"stroke-opacity":this.getStrokeOpacity(d,r)};return i+this.getInlineStyle(s);};
return R;},true);
sap.ui.predefine('sap/gantt/shape/ResizeShadowShape',["sap/base/Log","sap/gantt/shape/Path","sap/gantt/misc/Format","sap/ui/core/Core"],function(L,P,F,C){"use strict";
var R=P.extend("sap.gantt.shape.ResizeShadowShape",{metadata:{properties:{height:{type:"int",defaultValue:15}}}});
R.prototype.getIsDuration=function(d,r){if(this.mShapeConfig.hasShapeProperty("isDuration")){return this._configFirst("isDuration",d);}return this.getParent().getIsDuration();};
R.prototype.getD=function(d,o){var s,x,a,y,b;var p="";var c=this.getParent().getTag();switch(c){case"rect":case"image":s=this.getStrokeWidth(d,o);x=this.getParent().getX(d,o)-s/2;y=this.getParent().getY(d,o)-s/2;a=x+this.getParent().getWidth(d,o)+s;b=y+this.getParent().getHeight(d)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"line":s=this.getStrokeWidth(d,o);x=this.getParent().getX1(d,o)-s/2;y=this.getParent().getY1(d,o)-s/2;a=this.getParent().getX2(d,o)+s;b=this.getParent().getY2(d,o)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"path":p=this.getParent().getD(d,o);break;case"clippath":p=this.getParent().getPaths()[0].getD(d,o);break;case"polygon":case"polyline":var j=this.getParent().getPoints(d,o);var k=j.split(" ");if(k!==undefined&&k[0]==""){k.splice(0,1);}if(k!==undefined&&k.length>1){p="M ";var l;for(var i in k){l=k[i].split(",");if(k[i]!==""&&l.length>1){if(i==k.length-1){if(c==="polygon"){p=p+l[0]+" "+l[1]+" z";}else{p=p+l[0]+" "+l[1];}}else{p=p+l[0]+" "+l[1]+" L ";}}}}break;case"circle":var m,n,r;m=this.getParent().getCx(d,o);n=this.getParent().getCy(d,o);r=this.getParent().getR(d);p="M "+m+" "+n+" A "+r+" "+r+", 0, 1, 1, "+m+" "+n;break;case"text":break;default:var w;var e=this.getParent().getStrokeWidth(d,o);s=this.getStrokeWidth(d,o);var f=this.getParent().getTime(d,o);var g=this.getParent().getEndTime(d,o);var A=this.getParent().getAxisTime();var h=this.getHeight(d)+e;if(C.getConfiguration().getRTL()){x=A.timeToView(F.abapTimestampToDate(g));a=A.timeToView(F.abapTimestampToDate(f));}else{x=A.timeToView(F.abapTimestampToDate(f));a=A.timeToView(F.abapTimestampToDate(g));}if(this.getParent().mShapeConfig.hasShapeProperty("y")){y=this.getParent()._configFirst("y",d)-s/2;}else{y=this.getParent().getRowYCenter(d,o)-h/2-s/2;}if(this.getParent().mShapeConfig.hasShapeProperty("width")){w=this.getParent()._configFirst("width",d)+s;}else{w=a-x-e-1+s;}if(w===0||w<0||!w){w=2;}a=x+w;b=y+h;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;}if(this.isValid(p)){return p;}else{L.warning("ResizeShadowShape generated invalid d: "+p+" from the given data: "+d);return null;}};
R.prototype.getStrokeWidth=function(d,r){var s=this.getParent().getStrokeWidth(d,r);return s?s:2;};
R.prototype.getTransform=function(d,r){return this.getParent().getTransform(d,r);};
R.prototype.getEnableSelection=function(d,r){return false;};
R.prototype.getStroke=function(d,r){return"red";};
R.prototype.getFill=function(d,r){return"none";};
R.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return R;},true);
sap.ui.predefine('sap/gantt/shape/SelectedShape',["sap/base/Log","sap/gantt/shape/Path","sap/gantt/misc/Format","sap/ui/core/Core"],function(L,P,F,C){"use strict";
var S=P.extend("sap.gantt.shape.SelectedShape",{metadata:{properties:{fill:{type:"string",defaultValue:"none"},fillOpacity:{type:"float",defaultValue:0},strokeOpacity:{type:"float",defaultValue:0},height:{type:"int",defaultValue:15}}}});
S.prototype.getIsDuration=function(d,r){if(this.mShapeConfig.hasShapeProperty("isDuration")){return this._configFirst("isDuration",d);}return this.getParent().getIsDuration();};
S.prototype.getD=function(d,R){var s,x,a,y,b;var p="";var c=this.getParent().getTag();switch(c){case"rect":case"image":s=this.getStrokeWidth(d,R);x=this.getParent().getX(d,R)-s/2;y=this.getParent().getY(d,R)-s/2;a=x+this.getParent().getWidth(d,R)+s;b=y+this.getParent().getHeight(d)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"line":s=this.getStrokeWidth(d,R);x=this.getParent().getX1(d,R)-s/2;y=this.getParent().getY1(d,R)-s/2;a=this.getParent().getX2(d,R)+s;b=this.getParent().getY2(d,R)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"path":p=this.getParent().getD(d,R);break;case"clippath":p=this.getParent().getPaths()[0].getD(d,R);break;case"polygon":case"polyline":var j=this.getParent().getPoints(d,R);var k=j.split(" ");if(k!==undefined&&k[0]==""){k.splice(0,1);}if(k!==undefined&&k.length>1){p="M ";var l;for(var i in k){l=k[i].split(",");if(k[i]!==""&&l.length>1){if(i==k.length-1){if(c==="polygon"){p=p+l[0]+" "+l[1]+" z";}else{p=p+l[0]+" "+l[1];}}else{p=p+l[0]+" "+l[1]+" L ";}}}}break;case"circle":var m,n,r;m=this.getParent().getCx(d,R);n=this.getParent().getCy(d,R);r=this.getParent().getR(d);p="M "+m+" "+n+" A "+r+" "+r+", 0, 1, 1, "+m+" "+n;break;case"text":break;default:var w;var e=this.getParent().getStrokeWidth(d,R);s=this.getStrokeWidth(d,R);var f=this.getParent().getTime(d,R);var g=this.getParent().getEndTime(d,R);var A=this.getParent().getAxisTime();var h=this.getHeight(d);if(C.getConfiguration().getRTL()){x=A.timeToView(F.abapTimestampToDate(g));a=A.timeToView(F.abapTimestampToDate(f));}else{x=A.timeToView(F.abapTimestampToDate(f));a=A.timeToView(F.abapTimestampToDate(g));}if(this.getParent().mShapeConfig.hasShapeProperty("y")){y=this.getParent()._configFirst("y",d)-s/2;}else{y=this.getParent().getRowYCenter(d,R)-h/2;}if(this.getParent().mShapeConfig.hasShapeProperty("width")){w=this.getParent()._configFirst("width",d)+s;}else{w=a-x-e-1+s;}if(w===0||w<0||!w){w=2;}a=x+w;b=y+h;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;}if(this.isValid(p)){return p;}else{L.warning("SelectedShape generated invalid d: "+p+" from the given data: "+d);return null;}};
S.prototype.getStroke=function(d,r){return"red";};
S.prototype.getFill=function(d,r){return"none";};
S.prototype.getStrokeWidth=function(d,r){var s=this.getParent().getStrokeWidth(d,r);return s?s:2;};
S.prototype.getTransform=function(d,r){return this.getParent().getTransform(d,r);};
S.prototype.getEnableDnD=function(d,r){return false;};
S.prototype.getEnableSelection=function(d,r){return false;};
S.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return S;},true);
sap.ui.predefine('sap/gantt/shape/Shape',["sap/gantt/library","sap/ui/core/Element","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core","sap/ui/core/format/NumberFormat"],function(l,E,U,F,C,N){"use strict";
var S=E.extend("sap.gantt.shape.Shape",{metadata:{"abstract":true,properties:{tag:{type:"string"},category:{type:"string",defaultValue:l.shape.ShapeCategory.InRowShape},htmlClass:{type:"string"},isDuration:{type:"boolean",defaultValue:false},time:{type:"string"},endTime:{type:"string"},title:{type:"string"},ariaLabel:{type:"string"},xBias:{type:"float",defaultValue:0},yBias:{type:"float",defaultValue:0},fill:{type:"sap.gantt.ValueSVGPaintServer"},strokeOpacity:{type:"float",defaultValue:1},fillOpacity:{type:"float",defaultValue:1},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"float",defaultValue:0},strokeDasharray:{type:"string"},clipPath:{type:"string"},transform:{type:"string"},filter:{type:"string"},enableHover:{type:"boolean",defaultValue:false},enableDnD:{type:"boolean",defaultValue:false},enableSelection:{type:"boolean",defaultValue:true},enableResize:{type:"boolean",defaultValue:false},rowYCenter:{type:"float",defaultValue:7.5},rotationCenter:{type:"float[]"},rotationAngle:{type:"float"},isBulk:{type:"boolean",defaultValue:false},arrayAttribute:{type:"string"},timeFilterAttribute:{type:"string"},endTimeFilterAttribute:{type:"string"},legend:{type:"string"}},aggregations:{selectedShape:{type:"sap.gantt.shape.SelectedShape",multiple:false},resizeShadowShape:{type:"sap.gantt.shape.ResizeShadowShape",multiple:false}}}});
S.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_SHAPE"));this.mShapeConfig=null;this.mChartInstance=null;};
var v={};sap.ui.getCore().attachThemeChanged(function(){v={};});
S.prototype.getTag=function(d){return this._configFirst("tag",d);};
S.prototype.getCategory=function(d){return this._configFirst("category",d);};
S.prototype.getHtmlClass=function(d){return this._configFirst("htmlClass",d);};
S.prototype.getIsDuration=function(d){return this._configFirst("isDuration",d);};
S.prototype.getTime=function(d){return this._configFirst("time",d);};
S.prototype.getEndTime=function(d){return this._configFirst("endTime",d);};
S.prototype.getTitle=function(d){return this._configFirst("title",d);};
S.prototype.getAriaLabel=function(d){return this._configFirst("ariaLabel",d);};
S.prototype.getXBias=function(d){if(C.getConfiguration().getRTL()===true){return 0-this._configFirst("xBias",d);}else{return this._configFirst("xBias",d);}};
S.prototype.getYBias=function(d){return this._configFirst("yBias",d,true);};
S.prototype.getFill=function(d,r){return this._configFirst("fill",d);};
S.prototype.getStrokeOpacity=function(d){return this._configFirst("strokeOpacity",d);};
S.prototype.getFillOpacity=function(d){return this._configFirst("fillOpacity",d);};
S.prototype.getStroke=function(d){return this._configFirst("stroke",d);};
S.prototype.getStrokeWidth=function(d){return this._configFirst("strokeWidth",d,true);};
S.prototype.getStrokeDasharray=function(d){return this._configFirst("strokeDasharray",d);};
S.prototype.getClipPath=function(d){return this._configFirst("clipPath",d);};
S.prototype.getTransform=function(d,r){if(this.mShapeConfig.hasShapeProperty("transform")){return this._configFirst("transform",d);}var R=[];this._translate(d,r,R);this._rotate(d,r,R);if(R.length>0){return R.join(" ");}};
S.prototype._rotate=function(d,r,R){var c=this.getRotationCenter(d,r),n=this.getRotationAngle(d,r);if(c&&c.length===2&&n){R.push("rotate("+n+" "+c[0]+" "+c[1]+")");}};
S.prototype._translate=function(d,r,R){var n=this.getXBias(d,r),a=this.getYBias(d,r);if(n||a){n=n?n:0;a=a?a:0;R.push("translate("+n+" "+a+")");}};
S.prototype.getFilter=function(d){return this._configFirst("filter",d);};
S.prototype.getEnableDnD=function(d){return this._configFirst("enableDnD",d);};
S.prototype.getEnableSelection=function(d){return this._configFirst("enableSelection",d);};
S.prototype.getEnableResize=function(d){return this._configFirst("enableResize",d);};
S.prototype.getEnableHover=function(d){return this._configFirst("enableHover",d);};
S.prototype.getRotationAngle=function(d){return this._rtlRotation(this._configFirst("rotationAngle",d));};
S.prototype._rtlRotation=function(n){if(n>0||n<0){if(C.getConfiguration().getRTL()){return 360-n;}else{return n;}}};
S.prototype.getRowYCenter=function(d,r){if(this.mShapeConfig.hasShapeProperty("rowYCenter")){return this._configFirst("rowYCenter",d);}if(r){return r.y+r.rowHeight/2;}else{return this.getProperty("rowYCenter");}};
S.prototype.getRotationCenter=function(d,r){if(this.mShapeConfig.hasShapeProperty("rotationCenter")){return this._configFirst("rotationCenter",d);}return this._getCenter(d,r);};
S.prototype._getCenter=function(d,r,e){var a=this.getAxisTime();var t=e?this.getEndTime(d,r):this.getTime(d,r);if(!t){return undefined;}var n=a.timeToView(F.abapTimestampToDate(t));if(!n&&!n==0){n=a.timeToView(0);}var b=this.getRowYCenter(d,r);return[n,b];};
S.prototype.getIsBulk=function(d){return this._configFirst("isBulk",d);};
S.prototype.getArrayAttribute=function(d){return this._configFirst("arrayAttribute",d);};
S.prototype.getTimeFilterAttribute=function(d){return this._configFirst("timeFilterAttribute",d);};
S.prototype.getEndTimeFilterAttribute=function(d){return this._configFirst("endTimeFilterAttribute",d);};
S.prototype.getLegend=function(d){return this._configFirst("legend",d);};
S.prototype._configFirst=function(a,d,s){var p=null;if(this.mShapeConfig.hasShapeProperty(a)){var c=this.mShapeConfig.getShapeProperty(a);if(typeof c==="string"){p=this._formatting(d,a,c);}else{p=c;}}else{p=this.getProperty(a);}if(s&&this.mChartInstance){var m=this.mChartInstance.getSapUiSizeClass();p=U.scaleBySapUiSize(m,p);}return p;};
S.prototype.getStyle=function(d,r){var s={"stroke":this.determineValueColor(this.getStroke(d,r)),"stroke-width":this.getStrokeWidth(d,r)};return this.getInlineStyle(s);};
S.prototype.getAxisTime=function(){var a=null;if(this.mChartInstance){a=this.mChartInstance.getAxisTime();}return a;};
S.prototype.getInlineStyle=function(s){return Object.keys(s).reduce(function(i,a){if(s[a]!==undefined&&s[a]!==null&&s[a]!==""){i+=(a+":"+s[a]+"; ");}return i;},"");};
S.prototype.determineValueColor=function(p){var f=v[p];if(!f&&p){f=sap.gantt.ValueSVGPaintServer.normalize(p);v[p]=f;}return f;};
S.prototype.getShapeViewBoundary=function(){var s=this.mChartInstance._oStatusSet;if(s&&s.aViewBoundary){return s.aViewBoundary;}return null;};
S.prototype._formatting=function(d,a,A){if(!A){return"";}this._attributeNameBindingMap=this._attributeNameBindingMap||{};if(!this._attributeNameBindingMap[a]){this._attributeNameBindingMap[a]=this._resolveAttributeMap(A);}return this._formatFromResolvedAttributeMap(d,a);};
S.prototype._resolveAttributeMap=function(a){var r=[];var m=a.match(/[^\{\}]*(\{.*?\})?/g);m.pop();m.forEach(function(V,i,A){var o={},s=V.split("{");if(s[0].length>0){o.leadingText=s[0];}if(s[1]){s=s[1].split("}")[0].split(":");if(s[0].length>0){o.attributeName=s[0].trim().split("/");}if(s[1]){o.attributeType=s[1].trim();}}r.push(o);});return r;};
S.prototype._formatFromResolvedAttributeMap=function(d,a){var A=this._attributeNameBindingMap[a],r=[],p,V;if(A){A.forEach(function(P,i){p=P.leadingText;if(P.attributeName){V=d;P.attributeName.forEach(function(s,i){V=V[s];});if(p){p=p+this._formatValue(V,P.attributeType);}else{p=this._formatValue(V,P.attributeType);}}r.push(p);}.bind(this));}if(r.length===1){return r[0];}return r.join("");};
S.prototype._formatValue=function(a,t){var r=a;switch(t){case"Number":r=this._formatNumber(a);break;case"Timestamp":var L=this.mChartInstance.getLocale();if(L){r=F.abapTimestampToTimeLabel(a,L);}break;default:if(r===undefined||r===null){r="";}break;}return r;};
S.prototype._formatNumber=function(n,d){var r="";if(d!==undefined){r=N.getFloatInstance({minFractionDigits:d,maxFractionDigits:d}).format(n);}else{r=N.getFloatInstance().format(n);}return r;};
S.prototype.getParentReferenceId=function(d,r){if(this.mShapeConfig.hasShapeProperty("referenceId")){return this._configFirst("referenceId",d);}if(this.getParent()&&this.getParent().genReferenceId){return this.getParent().genReferenceId(d,r);}};
return S;},true);
sap.ui.predefine('sap/gantt/shape/Text',["sap/gantt/shape/Shape","sap/gantt/misc/Format"],function(S,F){"use strict";
var T=S.extend("sap.gantt.shape.Text",{metadata:{properties:{tag:{type:"string",defaultValue:"text"},text:{type:"string"},x:{type:"float"},y:{type:"float"},fontSize:{type:"int",defaultValue:10},textAnchor:{type:"string",defaultValue:"start"},fontFamily:{type:"string"},wrapWidth:{type:"float",defaultValue:-1},wrapDy:{type:"float",defaultValue:20},truncateWidth:{type:"float",defaultValue:-1},ellipsisWidth:{type:"float",defaultValue:12}}}});
T.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var t=this.getTime(d,r);var a=this.getAxisTime();var x=a.timeToView(F.abapTimestampToDate(t));if(!jQuery.isNumeric(x)){x=a.timeToView(0).toFixed(1);}return x;};
T.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return this.getRowYCenter(d,r)+this.getFontSize(d,r)/2;};
T.prototype.getText=function(d){return this._configFirst("text",d);};
T.prototype.getTextAnchor=function(d){var o=this._configFirst("textAnchor",d);var r=sap.ui.getCore().getConfiguration().getRTL();if(r&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)){if(o==="start"){return"end";}else if(o==="end"){return"start";}}return o;};
T.prototype.getFontSize=function(d){return this._configFirst("fontSize",d,true);};
T.prototype.getFontFamily=function(d){return this._configFirst("fontFamily",d,false);};
T.prototype.getWrapWidth=function(d){return this._configFirst("wrapWidth",d);};
T.prototype.getWrapDy=function(d){return this._configFirst("wrapDy",d);};
T.prototype.getTruncateWidth=function(d){return this._configFirst("truncateWidth",d);};
T.prototype.getEllipsisWidth=function(d){return this._configFirst("ellipsisWidth",d);};
T.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"font-size":this.getFontSize(d,r)+"px","fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r),"font-family":this.getFontFamily(d,r)};return i+this.getInlineStyle(s);};
return T;},true);
sap.ui.predefine('sap/gantt/shape/cal/Calendar',["sap/gantt/shape/Rectangle"],function(R){"use strict";
var C=R.extend("sap.gantt.shape.cal.Calendar",{metadata:{properties:{isBulk:{type:"boolean",defaultValue:true},enableSelection:{type:"boolean",defaultValue:false},calendarName:{type:"string",defaultValue:"nwt"}}}});
C.prototype.init=function(){R.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CALENDAR"));};
C.prototype.getCalendarName=function(d){return this._configFirst("calendarName",d);};
C.prototype.getIsBulk=function(d){if(this.mShapeConfig.isBulk){return this._configFirst("isBulk",d);}return true;};
C.prototype.getEnableSelection=function(d){if(this.mShapeConfig.enableSelection){return this._configFirst("enableSelection",d);}return false;};
C.prototype.getX=function(d){if(this.mShapeConfig.x){return this._configFirst("x",d);}return this.mChartInstance._oStatusSet.aViewBoundary[0];};
C.prototype.getY=function(d,r){if(this.mShapeConfig.y){return this._configFirst("y",d);}return r.y;};
C.prototype.getWidth=function(d){if(this.mShapeConfig.width){return this._configFirst("width",d);}var s=this.mChartInstance._oStatusSet;if(s){return s.aViewBoundary[1]-s.aViewBoundary[0];}else{return 0;}};
C.prototype.getHeight=function(d,r){if(this.mShapeConfig.height){return this._configFirst("height",d);}return r.rowHeight;};
C.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c=this.getCalendarName(d,r);var p=this.mChartInstance.getCalendarDef();if(p){return p.getRefString(c);}};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ext/Chevron',["sap/base/Log","sap/gantt/shape/Path","sap/gantt/misc/Format","sap/ui/core/Core"],function(L,P,F,C){"use strict";
var a=P.extend("sap.gantt.shape.ext.Chevron",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},isDuration:{type:"boolean",defaultValue:true},headLength:{type:"float",defaultValue:5},tailLength:{type:"float",defaultValue:5},height:{type:"float",defaultValue:15}}}});
a.prototype.init=function(){this._isRTL=C.getConfiguration().getRTL();var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CHEVRON"));};
a.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getHeight(d,r);var b=this.getHeadLength(d,r),c=this.getTailLength(d,r),A=this.getAxisTime();var e=A.timeToView(F.abapTimestampToDate(this.getTime(d,r)));var f=A.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));var g=this.getRowYCenter(d,r);D=this.getDString({nStartOriginalX:e,nEndOriginalX:f,nTailLength:c,nHeadLength:b,nHeight:n,nRowYCenter:g});}if(this.isValid(D)){return D;}else{L.warning("Chevron shape generated invalid d: "+D+" from the given data: "+d);return null;}};
a.prototype.getDString=function(c){var n=c.nHeight/2;if(this._isRTL){var b=c.nStartOriginalX-c.nEndOriginalX-c.nHeadLength;var b=(b>0)?b:1;var d=(b===1)?(c.nStartOriginalX-1):(c.nStartOriginalX-c.nTailLength);var r="m "+d+" "+c.nRowYCenter+" l "+c.nTailLength+" -"+n+" l -"+b+" "+0+" l -"+c.nHeadLength+" "+n+" l "+c.nHeadLength+" "+n+" l "+b+" "+0+" z";}else{var b=c.nEndOriginalX-c.nStartOriginalX-c.nHeadLength;var b=(b>0)?b:1;var d=(b===1)?(c.nStartOriginalX+1):(c.nStartOriginalX+c.nTailLength);var r="m "+d+" "+c.nRowYCenter+" l -"+c.nTailLength+" -"+n+" l "+b+" "+0+" l "+c.nHeadLength+" "+n+" l -"+c.nHeadLength+" "+n+" l -"+b+" "+0+" z";}return r;};
a.prototype.getHeadLength=function(d){return this._configFirst("headLength",d,true);};
a.prototype.getTailLength=function(d){return this._configFirst("tailLength",d,true);};
a.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/Cursor',["sap/base/Log","sap/gantt/shape/Path"],function(L,P){"use strict";
var C=P.extend("sap.gantt.shape.ext.Cursor",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},length:{type:"float",defaultValue:10},width:{type:"float",defaultValue:5},pointHeight:{type:"float",defaultValue:5}}}});
C.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CURSOR"));};
C.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getPointHeight(d,r);var a=this.getWidth(d,r);var b=this.getLength(d,r);var c=b/2;var e=this.getRotationCenter(d,r);if(e&&e.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)&&jQuery.isNumeric(c)){D="M "+e.join(" ")+" m "+-c+" "+-(a+n)/2+" l "+b+" 0 l 0 "+a+" l -"+c+" "+n+" l -"+c+" -"+n+" z";}}if(this.isValid(D)){return D;}else{L.warning("Cursor shape generated invalid d: "+D+" from the given data: "+d);return null;}};
C.prototype.getLength=function(d){return this._configFirst("length",d,true);};
C.prototype.getWidth=function(d){return this._configFirst("width",d,true);};
C.prototype.getPointHeight=function(d){return this._configFirst("pointHeight",d,true);};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ext/Diamond',["sap/base/Log","sap/gantt/shape/Path"],function(L,P){"use strict";
var D=P.extend("sap.gantt.shape.ext.Diamond",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},verticalDiagonal:{type:"float",defaultValue:12},horizontalDiagonal:{type:"float",defaultValue:12}}}});
D.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_DIAMOND"));};
D.prototype.getD=function(d,r){var s;if(this.mShapeConfig.hasShapeProperty("d")){s=this._configFirst("d",d);}else{var h=this.getVerticalDiagonal(d,r)/2;var a=this.getHorizontalDiagonal(d,r)/2;var c=this.getRotationCenter(d,r);if(c&&c.length===2&&jQuery.isNumeric(h)&&jQuery.isNumeric(a)){s="M "+c.join(" ")+" m "+-a+" 0"+" l "+a+" -"+h+" l "+a+" "+h+" l -"+a+" "+h+" z";}}if(this.isValid(s)){return s;}else{L.warning("Diamond shape generated invalid d: "+s+" from the given data: "+d);return null;}};
D.prototype.getVerticalDiagonal=function(d){return this._configFirst("verticalDiagonal",d,true);};
D.prototype.getHorizontalDiagonal=function(d){return this._configFirst("horizontalDiagonal",d,true);};
return D;},true);
sap.ui.predefine('sap/gantt/shape/ext/Iconfont',["sap/gantt/shape/Text","sap/ui/core/IconPool"],function(T,I){"use strict";
var a=T.extend("sap.gantt.shape.ext.Iconfont",{metadata:{properties:{name:{type:"string"},collectionName:{type:"string"}}}});
a.prototype.getText=function(d,r){if(this.mShapeConfig.hasShapeProperty("text")){return this._configFirst("text",d);}var n=this.getName(d,r),c=this.getCollectionName(d,r);if(c===""){c=undefined;}var i=I.getIconInfo(n,c);if(i){return i.content;}};
a.prototype.getName=function(d){return this._configFirst("name",d);};
a.prototype.getCollectionName=function(d){return this._configFirst("collectionName",d);};
a.prototype.getFontFamily=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontFamily")){return this._configFirst("fontFamily",d);}var n=this.getName(d,r);var c=this.getCollectionName(d,r);if(c===""){c=undefined;}var i=I.getIconInfo(n,c);if(i){return i.fontFamily;}};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/Pentangle',["sap/gantt/shape/Polygon","sap/gantt/misc/Utility"],function(P,U){"use strict";
var a=P.extend("sap.gantt.shape.ext.Pentangle",{metadata:{properties:{radius:{type:"float",defaultValue:10},radius2:{type:"float",defaultValue:undefined}}}});
a.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_PENTANGLE"));};
a.prototype.getRadius=function(d){return this._configFirst("radius",d,true);};
a.prototype.getRadius2=function(d,r){if(this.mShapeConfig.hasShapeProperty("radius2")){return this._configFirst("radius2",d,true);}var D=this.getProperty("radius2");if(D||D===0){var m=this.mChartInstance.getSapUiSizeClass();return U.scaleBySapUiSize(m,D);}else{return this.calRadius2ByGoldenRatio(this.getRadius(d,r));}};
a.prototype.calRadius2ByGoldenRatio=function(n){return n*Math.cos(2*Math.PI/5)/Math.cos(Math.PI/5);};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var c=this.getRotationCenter(d,r);var n=this.getRadius(d,r);var b=this.getRadius2(d,r);var p=[];if(c&&c.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(b)){p=this._generatePentaclePoints(c,n,b);}return p.join("");};
a.prototype._generatePentaclePoints=function(c,n,b){var p={},d=[],e=Math.PI/5,f=0;for(var i=0;i<10;i++){f=e*i;p.x=this._getPointX(c[0],(i%2==0)?n:b,f);p.y=this._getPointY(c[1],(i%2==0)?n:b,f);d.push(" "+p.x+","+p.y);}return d;};
a.prototype._getPointX=function(n,b,c){return n+(b*Math.sin(c));};
a.prototype._getPointY=function(n,b,c){return n-(b*Math.cos(c));};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/TextRepeat',["sap/gantt/shape/Definitions","sap/ui/core/Core","sap/gantt/misc/Format"],function(D,C,F){"use strict";
var T=D.extend("sap.gantt.shape.ext.TextRepeat",{metadata:{properties:{childTagName:{type:"string",defaultValue:"pattern"},x:{type:"float"},y:{type:"float"},width:{type:"float"},height:{type:"float",defaultValue:15},dx:{type:"string"},dy:{type:"string"},text:{type:"string"},fontSize:{type:"int"},fontFamily:{type:"string"}}}});
T.prototype.getChildTagName=function(d,r){if(this.mShapeConfig.hasShapeProperty("childTagName")){return this._configFirst("childTagName",d);}return'pattern';};
T.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n;var a=this.getAxisTime();if(C.getConfiguration().getRTL()){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}if(!jQuery.isNumeric(n)){return 0;}return n;};
T.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return 0;};
T.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}return 0;};
T.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return 0;};
T.prototype.getDx=function(d,r){if(this.mShapeConfig.hasShapeProperty("dx")){return this._configFirst("dx",d);}return"0";};
T.prototype.getDy=function(d,r){if(this.mShapeConfig.hasShapeProperty("dy")){return this._configFirst("dy",d);}return"0";};
T.prototype.getText=function(d,r){if(this.mShapeConfig.hasShapeProperty("text")){return this._configFirst("text",d);}return"";};
T.prototype.getContent=function(d,r){if(this.mShapeConfig.hasShapeProperty("content")){return this._configFirst("content",d);}var c=this.getChildTagName(d,r);return"<"+c+" id='"+this.getReferenceId(d,r)+"' patternUnits='userSpaceOnUse'"+" width="+this.getWidth(d,r)+" height="+this.getHeight(d,r)+" x="+this.getX(d,r)+" y="+this.getY(d,r)+"><text dx="+this.getDx(d,r)+" dy="+this.getDy(d,r)+" font-size="+this.getFontSize(d,r)+" font-family='"+this.getFontFamily(d,r)+"'>"+this.getText(d,r)+"</text></"+c+">";};
T.prototype.getFontSize=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontSize")){return this._configFirst("fontSize",d,true);}return 12;};
T.prototype.getFontFamily=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontFamily")){return this._configFirst("fontFamily",d,true);}return"";};
return T;},true);
sap.ui.predefine('sap/gantt/shape/ext/Triangle',["sap/base/Log","sap/gantt/shape/Path"],function(L,P){"use strict";
var T=P.extend("sap.gantt.shape.ext.Triangle",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},base:{type:"float",defaultValue:10},height:{type:"float",defaultValue:10},distanceOfyAxisHeight:{type:"float",defaultValue:5}}}});
T.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_TRIANGLE"));};
T.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getBase(d,r);var a=this.getHeight(d,r);var b=this.getDistanceOfyAxisHeight(d,r);var c=this.getHeight(d,r)/2;var C=this.getRotationCenter(d,r);if(C&&C.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)&&jQuery.isNumeric(c)){D="M "+C.join(" ")+" m 0 "+c+" l -"+b+" 0 l "+b+" -"+a+" l "+Number(n-b)+" "+a+" l -"+Number(n-b)+" 0 z";}}if(this.isValid(D)){return D;}else{L.warning("Triangle shape generated invalid d: "+D+" from the given data: "+d);return null;}};
T.prototype.getBase=function(d){return this._configFirst("base",d,true);};
T.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
T.prototype.getDistanceOfyAxisHeight=function(d){return this._configFirst("distanceOfyAxisHeight",d,true);};
return T;},true);
sap.ui.predefine('sap/gantt/shape/ext/rls/Relationship',["sap/base/Log","sap/gantt/shape/Path","sap/ui/core/Core"],function(L,P,C){"use strict";
var R=P.extend("sap.gantt.shape.ext.rls.Relationship",{metadata:{properties:{htmlClass:{type:"string",defaultValue:"relationshipLine"},category:{type:"string",defaultValue:sap.gantt.shape.ShapeCategory.Relationship},isClosed:{type:"boolean",defaultValue:true},isDuration:{type:"boolean",defaultValue:false},stroke:{type:"string",defaultValue:"#000000"},fill:{type:"string",defaultValue:"#000000"},type:{type:"sap.gantt.shape.ext.rls.RelationshipType",defaultValue:sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish},fromObjectPath:{type:"string"},fromExpandRowIndex:{type:"int",defaultValue:0},fromShapeId:{type:"string"},fromDataId:{type:"string"},toObjectPath:{type:"string"},toExpandRowIndex:{type:"int",defaultValue:0},toShapeId:{type:"string"},toDataId:{type:"string"},showStart:{type:"boolean",defaultValue:false},showEnd:{type:"boolean",defaultValue:true},lShapeforTypeFS:{type:"boolean",defaultValue:true},minXLen:{type:"float",defaultValue:10},arrowSideLength:{type:"float",defaultValue:5}},aggregations:{selectedShape:{type:"sap.gantt.shape.ext.rls.SelectedRelationship",multiple:false}}}});
R.prototype.init=function(){this._isRTL=C.getConfiguration().getRTL();var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_RELATIONSHIP"));};
R.prototype.getType=function(d){return this._configFirst("type",d);};
R.prototype.getFromObjectPath=function(d){return this._configFirst("fromObjectPath",d);};
R.prototype.getFromExpandRowIndex=function(d){return d.hasOwnProperty("fromExpandRowIndex")?this._configFirst("fromExpandRowIndex",d):this.getProperty("fromExpandRowIndex");};
R.prototype.getFromShapeId=function(d){return this._configFirst("fromShapeId",d);};
R.prototype.getFromDataId=function(d){return this._configFirst("fromDataId",d);};
R.prototype.getToObjectPath=function(d){return this._configFirst("toObjectPath",d);};
R.prototype.getToExpandRowIndex=function(d){return d.hasOwnProperty("toExpandRowIndex")?this._configFirst("toExpandRowIndex",d):this.getProperty("toExpandRowIndex");};
R.prototype.getToShapeId=function(d){return this._configFirst("toShapeId",d);};
R.prototype.getToDataId=function(d){return this._configFirst("toDataId",d);};
R.prototype.getLShapeforTypeFS=function(d){return this._configFirst("lShapeforTypeFS",d);};
R.prototype.getHtmlClass=function(d){return this._configFirst("htmlClass",d);};
R.prototype.getShowStart=function(d){return this._configFirst("showStart",d);};
R.prototype.getShowEnd=function(d){return this._configFirst("showEnd",d);};
R.prototype.getD=function(d,r){var s=this.getShowEnd(d,r);var a=this.getShowStart(d,r);var x,y,b,c;var t;try{t=window.parseInt(this.getType(d,r));}catch(e){L.warning("invalid relationship type");}var l=this.getLShapeforTypeFS(d,r);var f=this.getFromShapeId(d,r.from.objectInfo);var F=this.mChartInstance.getShapeInstance(f);var p=F.getRLSAnchors(r.from.shapeRawData,r.from.objectInfo);var T=this.getToShapeId(d,r.from.objectInfo);var o=this.mChartInstance.getShapeInstance(T);var g=o.getRLSAnchors(r.to.shapeRawData,r.to.objectInfo);if(this._isRTL){if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){x=p.startPoint.x;y=p.startPoint.y;b=g.startPoint.x;c=g.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){x=p.startPoint.x;y=p.startPoint.y;b=g.endPoint.x;c=g.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){x=p.endPoint.x;y=p.endPoint.y;b=g.startPoint.x;c=g.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){x=p.endPoint.x;y=p.endPoint.y;b=g.endPoint.x;c=g.endPoint.y;}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){x=p.endPoint.x;y=p.endPoint.y;b=g.endPoint.x;c=g.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){x=p.endPoint.x;y=p.endPoint.y;b=g.startPoint.x;c=g.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){x=p.startPoint.x;y=p.startPoint.y;b=g.endPoint.x;c=g.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){x=p.startPoint.x;y=p.startPoint.y;b=g.startPoint.x;c=g.startPoint.y;}var S="";if(a){var h=this._calculateSquareCoordinate(t,x,y);S=S.concat("M").concat(h[0].x).concat(",").concat(h[0].y).concat(" ");var m=h.length;for(var i=1;i<m;i++){S=S.concat("L").concat(h[i].x).concat(",").concat(h[i].y).concat(" ");}}var n=this._calculateLineCoordinate(l,t,x,b,y,c,r.from.objectInfo,g.startPoint.height);S=S.concat("M").concat(n[0].x).concat(",").concat(n[0].y).concat(" ");var q=n.length;for(var j=0;j<q;j++){S=S.concat("L").concat(n[j].x).concat(",").concat(n[j].y).concat(" ");S=S.concat("M").concat(n[j].x).concat(",").concat(n[j].y).concat(" ");}if(s){var u=this._calculateArrowCoordinate(l,t,x,b,y,c,g.startPoint.height);var v=u.length;for(var k=0;k<v;k++){S=S.concat("L").concat(u[k].x).concat(",").concat(u[k].y).concat(" ");}}S=S.concat("Z");if(this.isValid(S)){return S;}else{L.warning("Relationship shape generated invalid d: "+S+" from the given data: "+d);return null;}};
R.prototype._calculateSquareCoordinate=function(t,x,y){var s=[];if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish||t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){if(this._isRTL){s=[x,y-2,x-3,y-2,x-3,y+1.5,x,y+1.5,x,y-2];}else{s=[x-1,y-2,x-1+3,y-2,x-1+3,y+1.5,x-1,y+1.5,x-1,y-2];}}else if(this._isRTL){s=[x-1,y-2,x-1+3,y-2,x-1+3,y+1.5,x-1,y+1.5,x-1,y-2];}else{s=[x,y-2,x-3,y-2,x-3,y+1.5,x,y+1.5,x,y-2];}var o=[];var a=s.length;for(var i=0;i<a;){o[o.length]={"x":s[i++],"y":s[i++]};}return o;};
R.prototype._calculateLineCoordinate=function(l,t,x,a,y,b,f,s){var d=[];var r,c;if(y===b){d=d.concat([x,y,a,b]);}else{var k=this.getMinXLen();if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){if(this._isRTL){d=d.concat([x,y,Math.min(x,a)-k,y,Math.min(x,a)-k,b,a,b]);}else{d=d.concat([x,y,Math.max(x,a)+k,y,Math.max(x,a)+k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){if(l){if(this._isRTL){if(x>=a){if(y<b){b=b-s/2-2;}else{b=b+s/2+2;}d=d.concat([x,y,a,y,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(x<=a){if(y<b){b=b-s/2-2;}else{b=b+s/2+2;}d=d.concat([x,y,a,y,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(this._isRTL){if(x-k>a){d=d.concat([x,y,x-k,y,x-k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y-f.rowHeight;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(x+k<=a){if(this.getShowEnd()){var e=this.getArrowSideLength();k=(x+k+e>a)?Math.abs(k-e):k;}d=d.concat([x,y,x+k,y,x+k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y-f.rowHeight;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){if(this._isRTL){if(x<a-k){d=d.concat([x,y,x+k,y,x+k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(x>=a+k){d=d.concat([x,y,x-k,y,x-k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){if(this._isRTL){d=d.concat([x,y,Math.max(x,a)+k,y,Math.max(x,a)+k,b,a,b]);}else{d=d.concat([x,y,Math.min(x,a)-k,y,Math.min(x,a)-k,b,a,b]);}}}var o=[];var g=d.length;for(var i=0;i<g;){o[o.length]={"x":d[i++],"y":d[i++]};}return o;};
R.prototype._calculateArrowCoordinate=function(l,t,x,a,y,b,s){var c=[];var d=this.getArrowSideLength();if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish||t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){if(this._isRTL){c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){if(this._isRTL){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}}else if(l){if(this._isRTL){if(x>=a){if(y<b){b=b-s/2-1;}else if(y>b){b=b+s/2+1;}else{}if(y<b){c=[a+d/2,b-d*Math.pow(3,1/2)/2,a-d/2,b-d*Math.pow(3,1/2)/2];}else if(y==b){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a+d/2,b+d*Math.pow(3,1/2)/2,a-d/2,b+d*Math.pow(3,1/2)/2];}}else{c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}}else if(x<=a){if(y<b){b=b-s/2-1;}else if(y>b){b=b+s/2+1;}else{}if(y<b){c=[a-d/2,b-d*Math.pow(3,1/2)/2,a+d/2,b-d*Math.pow(3,1/2)/2];}else if(y==b){c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d/2,b+d*Math.pow(3,1/2)/2,a+d/2,b+d*Math.pow(3,1/2)/2];}}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}}else if(this._isRTL){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}var o=[];var e=c.length;for(var i=0;i<e;){o[o.length]={"x":c[i++],"y":c[i++]};}return o;};
return R;},true);
sap.ui.predefine('sap/gantt/shape/ext/rls/SelectedRelationship',["sap/gantt/shape/ext/rls/Relationship"],function(R){"use strict";
var S=R.extend("sap.gantt.shape.ext.rls.SelectedRelationship",{metadata:{properties:{stroke:{type:"string"},strokeWidth:{type:"int"}}}});
S.prototype.getStroke=function(d){return"red";};
S.prototype.getFill=function(d){return"red";};
S.prototype.getStrokeWidth=function(d){return 2;};
return S;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcBorderPath',["sap/base/Log","sap/gantt/misc/Format","sap/gantt/shape/Path"],function(L,F,P){"use strict";
var U=P.extend("sap.gantt.shape.ext.ubc.UbcBorderPath",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype.getD=function(d,r){var p="";if(this.mShapeConfig.hasShapeProperty("d")){p=this._configFirst("d",d);}else{var a=d.drawData?d.drawData:d.period;if(a.length>0){var m=this._getMaxTotalRevised(d);var b=this._getMaxY(d,r);var c=r.rowHeight-1;var A=this.getAxisTime();for(var i=0;i<a.length;i++){var x,e,y,f;x=A.timeToView(F.abapTimestampToDate(a[i].start_date)).toFixed(1);if(i<a.length-1){e=A.timeToView(F.abapTimestampToDate(a[i+1].start_date)).toFixed(1);}else{e=A.timeToView(F.abapTimestampToDate(a[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(e)){x=A.timeToView(0).toFixed(1);}y=b-a[i].demand/m*c;y=y.toFixed(1);if(y<r.y){y=r.y;}if(i<a.length-1){f=b-a[i+1].demand/m*c;}else{e=A.timeToView(F.abapTimestampToDate(a[i].start_date)).toFixed(1);f=b-a[i].demand/m*c;}f=f.toFixed(1);if(f<r.y){f=r.y;}p+=" M "+x+" "+y+"L"+e+" "+y;p+=" M "+e+" "+y+"L"+e+" "+f;}}}if(this.isValid(p)){return p;}else{L.warning("UbcBorderPath shape generated invalid d: "+p+" from the given data: "+d);return null;}};
U.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"blue";};
U.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
U.prototype._getMaxY=function(d,r){var t=r.y;var a=r.rowHeight-1;var m=t+a;return m;};
U.prototype._getMaxTotalRevised=function(d){var m=this._getMaxTotal(d);var a=m+this._getmaxExceedCap(d);return a;};
U.prototype._getMaxTotal=function(d){var m=Math.max.apply(Math,d.period.map(function(o){return o.supply;}));if(m<=0){m=1;}return m;};
U.prototype._getmaxExceedCap=function(d){var m=this._getMaxTotal(d);var a=25;if(this.mShapeConfig.hasShapeProperty("maxExceedCapacity")){a=this._configFirst("maxExceedCapacity",d);}return m*a/100;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcOverCapacityZonePolygon',["sap/gantt/shape/ext/ubc/UbcPolygon"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ubc.UbcOverCapacityZonePolygon",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c,p;if(this.mShapeConfig.hasShapeProperty("backgroundColor")){c=this._configFirst("backgroundColor",d);}if(this.mShapeConfig.hasShapeProperty("pattern")){p=this._configFirst("pattern",d);}var P;if(c&&p){P="pattern_"+p+"_"+(c.indexOf("#")==0?c.substring(1,c.length):c);}if(P&&sap.ui.getCore().byId(P)){return sap.ui.getCore().byId(P).getRefString();}};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var v=this.getShapeViewBoundary();if(v){o=v[0]+","+r.y+" "+(v[1]-v[0])+","+r.y+" "+(v[1]-v[0])+","+(r.y+r.rowHeight)+" "+v[0]+","+(r.y+r.rowHeight);return o;}};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcPolygon',["sap/gantt/shape/Polygon"],function(P){"use strict";
var U=P.extend("sap.gantt.shape.ext.ubc.UbcPolygon",{metadata:{"abstract":true}});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype._getMaxY=function(d,r){var t=r.y;var a=r.rowHeight-1;var m=t+a;return m;};
U.prototype._getMaxTotal=function(d){var m=Math.max.apply(Math,d.period.map(function(o){return o.supply;}));if(m<=0){m=1;}return m;};
U.prototype._getmaxExceedCap=function(d,t){var m;if(t){m=t;}else{m=this._getMaxTotal(d);}var a=25;if(this.mShapeConfig.hasShapeProperty("maxExceedCapacity")){a=this._configFirst("maxExceedCapacity",d);}return m*a/100;};
U.prototype._getMaxTotalRevised=function(d){var m=this._getMaxTotal(d);var a=this._getmaxExceedCap(d,m)+m;return a;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcShortageCapacityPolygon',["sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(F,U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ubc.UbcShortageCapacityPolygon",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#FF0000";};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var m=this._getMaxY(d,r);var t=r.y;var b=this._getMaxTotalRevised(d);var c=r.rowHeight-1;var e=d.drawData?d.drawData:d.period;var A=this.getAxisTime();for(var i=0;i<e.length;i++){var p=e[i];var x,f;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<e.length-1){f=A.timeToView(F.abapTimestampToDate(e[i+1].start_date)).toFixed(1);}else{f=A.timeToView(F.abapTimestampToDate(e[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(f)){f=A.timeToView(0).toFixed(1);}if(i===0){o+=x+","+m+" ";}var g=m;if(p.demand>p.supply){if(p.demand/b>1){g=t;}else{g=m-p.demand/b*c;}}g=g.toFixed(1);o+=x+","+g+" ";o+=f+","+g+" ";if(i===e.length-1){o+=x+","+g+" ";o+=x+","+m+" ";}}return o;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcTooltipRectangle',["sap/gantt/misc/Format","sap/gantt/shape/Rectangle"],function(F,R){"use strict";
var U=R.extend("sap.gantt.shape.ext.ubc.UbcTooltipRectangle",{});
U.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");};
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var a=this.getAxisTime();var x=a.timeToView(F.abapTimestampToDate(d.start_date)).toFixed(1);if(!jQuery.isNumeric(x)){x=this.axisTime.timeToView(0).toFixed(1);}return x;};
U.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return r.y;};
U.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var w,s,e;var a=this.getAxisTime();s=a.timeToView(F.abapTimestampToDate(d.start_date)).toFixed(1);e=a.timeToView(F.abapTimestampToDate(d.end_date)).toFixed(1);if(!jQuery.isNumeric(s)){s=this.axisTime.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(e)){e=this.axisTime.timeToView(0).toFixed(1);}w=(e-s>0)?(e-s):(s-e);if((w===0)||!jQuery.isNumeric(w)){w=1;}return w;};
U.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return r.rowHeight-1;};
U.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0;};
U.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0;};
U.prototype.getTitle=function(d,r){if(this.mShapeConfig.hasShapeProperty("title")){return this._configFirst("title",d);}var a=this._oRb.getText("TLTP_CAPACITY",[d.supply,d.demand]);if(d.demand>d.supply){a+=this._oRb.getText("TLTP_OVER_CAPACITY",[d.demand-d.supply]);}return a;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcUnderCapacityZonePolygon',["sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(F,U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ubc.UbcUnderCapacityZonePolygon",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#40d44c";};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var m=this._getMaxY(d,r);var b=this._getMaxTotalRevised(d);var c=r.rowHeight-1;var e=d.drawData?d.drawData:d.period;var A=this.getAxisTime();for(var i=0;i<e.length;i++){var p=e[i];var x,f;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<e.length-1){f=A.timeToView(F.abapTimestampToDate(e[i+1].start_date)).toFixed(1);}else{f=A.timeToView(F.abapTimestampToDate(e[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(f)){f=A.timeToView(0).toFixed(1);}if(i===0){o+=x+","+m+" ";}var g=m-p.supply/b*c;g=g.toFixed(1);o+=x+","+g+" ";o+=f+","+g+" ";if(i===e.length-1){o+=x+","+g+" ";o+=x+","+m+" ";}}return o;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcUsedPolygon',["sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(F,U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ubc.UbcUsedPolygon",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#CAC7BA";};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var u="";var m=this._getMaxY(d,r);var b=this._getMaxTotalRevised(d);var c=r.rowHeight-1;var e=d.drawData?d.drawData:d.period;var A=this.getAxisTime();for(var i=0;i<e.length;i++){var p=e[i];var x,f;var g;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<e.length-1){f=A.timeToView(F.abapTimestampToDate(e[i+1].start_date)).toFixed(1);}else{f=A.timeToView(F.abapTimestampToDate(e[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(f)){f=A.timeToView(0).toFixed(1);}if(i===0){u+=x+","+m+" ";}if(p.demand>=p.supply){g=m-p.supply/b*c;}else{g=m-p.demand/b*c;}g=g.toFixed(1);u+=x+","+g+" ";u+=f+","+g+" ";if(i===e.length-1){u+=x+","+g+" ";u+=x+","+m+" ";}}return u;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UtilizationBarChart',["sap/gantt/shape/Group","sap/gantt/misc/Format"],function(G,F){"use strict";
var U=G.extend("sap.gantt.shape.ext.ubc.UtilizationBarChart",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype.filterValidData=function(d){if(!d){return[];}var f=[];for(var i=0;i<d.length;i++){var a=this.getIsBulk(d[i]);var A=this.getArrayAttribute(d[i]);var t=this.getTimeFilterAttribute(d[i]);var e=this.getEndTimeFilterAttribute(d[i]);var T=this.mChartInstance._oStatusSet.aTimeBoundary;var o=jQuery.extend(true,{},d[i]);if(a&&A&&t&&e){var s=null;var b=null;var S=this.getShapes();var c=[];for(var j=0;j<S.length;j++){var g=S[j].mShapeConfig.getShapeDataName();if(g&&(jQuery.inArray(g,c)==-1)){c.push(g);}}for(var h in o){if((jQuery.type(o[h])=="object")&&o[h][A]&&o[h][A].length>0){s=this._binarySearchElement(T[0],o[h][A],t,e);b=this._binarySearchElement(T[1],o[h][A],t,e,s);if(s!==null&&b!==null&&s<=b){s=s>=1?s-1:s;o[h].drawData=o[h][A].slice(s,b+2);for(var k=0;k<c.length;k++){if(h!==c[k]&&(jQuery.type(o[c[k]])=="array")&&o[c[k]].length>0){o[c[k]]=o[c[k]].slice(s,b+1);}}}break;}}}f.push(o);}return f;};
U.prototype._binarySearchElement=function(v,a,t,e,l){var b=0;var h=a.length-1;if(l&&l<h){b=l;}var m;while(b<=h){m=Math.floor((b+h)/2);var s=F.abapTimestampToDate(a[m][t]);var c=F.abapTimestampToDate(a[m][e]);if(!c){c=s;}if(s<=v&&v<=c){return m;}else if(c<v){b=m+1;}else if(s>v){h=m-1;}}return m;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcBorderPath',["sap/base/Log","sap/gantt/shape/Path","sap/gantt/misc/Format"],function(L,P,F){"use strict";
var U=P.extend("sap.gantt.shape.ext.ulc.UlcBorderPath",{});
U.prototype.getD=function(d,r){var a="";if(this.mShapeConfig.hasShapeProperty("d")){a=this._configFirst("d",d);}else{if(d.values){for(var i=0;i<d.values.length;i++){var A=this.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.values[i].from));var b=A.timeToView(F.abapTimestampToDate(d.values[i].to));var c=d.values[i].value;if(isNaN(c)){c=0;}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}if(c>(100+m)){c=100+m;}var y=r.y+r.rowHeight-r.rowHeight*(c/(100+m));var l=r.y+r.rowHeight;a=a+(d.values[i].firstOne?" M "+x+" "+l:"")+" L "+x+" "+y+" L "+b+" "+y+(d.values[i].lastOne?" L "+b+" "+l:"");}}}if(this.isValid(a)){return a;}else{L.warning("UlcBorderPath shape generated invalid d: "+a+" from the given data: "+d);return null;}};
U.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}var u;if(this.mShapeConfig.hasShapeProperty("utilizationCurves")){u=this._configFirst("utilizationCurves",d);return u[d.dimension].color;}};
U.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 1;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcClipPath',["sap/gantt/shape/ClipPath"],function(C){"use strict";
var U=C.extend("sap.gantt.shape.ext.ulc.UlcClipPath",{});
U.prototype.getHtmlClass=function(d,r){if(this.mShapeConfig.hasShapeProperty("htmlClass")){return this._configFirst("htmlClass",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return n+"_"+d.id+"_"+d.dimension;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcClipingPath',["sap/base/Log","sap/gantt/shape/Path","sap/gantt/misc/Format"],function(L,P,F){"use strict";
var U=P.extend("sap.gantt.shape.ext.ulc.UlcClipingPath",{});
U.prototype.getD=function(d,r){var a="";if(this.mShapeConfig.hasShapeProperty("d")){a=this._configFirst("d",d);}else{if(d.values){for(var i=0;i<d.values.length;i++){var A=this.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.values[i].from));var b=A.timeToView(F.abapTimestampToDate(d.values[i].to));var c=d.values[i].value;if(isNaN(c)){c=0;}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}if(c>(100+m)){c=100+m;}var y=r.y+r.rowHeight-r.rowHeight*(c/(100+m));var l=r.y+r.rowHeight;a=a+(d.values[i].firstOne?" M "+x+" "+l:"")+" L "+x+" "+y+" L "+b+" "+y+(d.values[i].lastOne?" L "+b+" "+l:"");}}}if(this.isValid(a)){return a;}else{L.warning("UlcClipingPath shape generated invalid d: "+a+" from the given data: "+d);return null;}};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcDimension',["sap/gantt/shape/Group"],function(G){"use strict";
var U=G.extend("sap.gantt.shape.ext.ulc.UlcDimension",{});
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcMiddleLine',["sap/gantt/shape/Line"],function(L){"use strict";
var U=L.extend("sap.gantt.shape.ext.ulc.UlcMiddleLine",{});
U.prototype.getX1=function(d,r){if(this.mShapeConfig.hasShapeProperty("x1")){return this._configFirst("x1",d);}var v=this.mChartInstance._oStatusSet?this.mChartInstance._oStatusSet.aViewBoundary:[];if(v.length>0){return v[0];}return 0;};
U.prototype.getY1=function(d,r){if(this.mShapeConfig.hasShapeProperty("y1")){return this._configFirst("y1",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.y+r.rowHeight*(50+m)/(100+m);};
U.prototype.getX2=function(d,r){if(this.mShapeConfig.hasShapeProperty("x2")){return this._configFirst("x2",d);}var v=this.mChartInstance._oStatusSet?this.mChartInstance._oStatusSet.aViewBoundary:[];if(v.length>0){return v[1];}return 0;};
U.prototype.getY2=function(d,r){if(this.mShapeConfig.hasShapeProperty("y2")){return this._configFirst("y2",d);}return this.getY1(d,r);};
U.prototype.getStrokeDasharray=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeDasharray")){return this._configFirst("strokeDasharray",d);}return"5,5";};
U.prototype.getStroke=function(d){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
U.prototype.getStrokeWidth=function(d){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 1;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcOverCapacityZoneRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcOverCapacityZoneRectangle",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c,p;if(this.mShapeConfig.hasShapeProperty("backgroundColor")){c=this._configFirst("backgroundColor",d);}if(this.mShapeConfig.hasShapeProperty("pattern")){p=this._configFirst("pattern",d);}var P;if(c&&p){P="pattern_"+p+"_"+(c.indexOf("#")==0?c.substring(1,c.length):c);}if(P&&sap.ui.getCore().byId(P)){return sap.ui.getCore().byId(P).getRefString();}return"#F6F6F6";};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcOverClipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcOverClipRectangle",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#FF0000";};
a.prototype.getClipPath=function(d,r){if(this.mShapeConfig.hasShapeProperty("clipPath")){return this._configFirst("clipPath",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return"url(#"+n+"_"+d.id+"_"+d.dimension+")";};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcRectangle',["sap/gantt/shape/Rectangle"],function(R){"use strict";
var U=R.extend("sap.gantt.shape.ext.ulc.UlcRectangle",{metadata:{"abstract":true}});
U.prototype.getFill=function(){return R.prototype.getFill.apply(this,arguments)||"transparent";};
U.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var v=this.getShapeViewBoundary();if(v){return v[0];}return 0;};
U.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return r.y;};
U.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var v=this.getShapeViewBoundary();if(v){return v[1]-v[0];}return 0;};
U.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.rowHeight*m/(100+m);};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcTooltipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle","sap/gantt/misc/Format","sap/ui/core/Core"],function(U,F,C){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcTooltipRectangle",{});
a.prototype.getTitle=function(d,r){if(this.mShapeConfig.hasShapeProperty("title")){return this._configFirst("title",d);}var b="";var u;if(this.mShapeConfig.hasShapeProperty("utilizationCurves")){u=this._configFirst("utilizationCurves",d);}if(d){for(var c in u){if(d[u[c].ratioAttribute]||d[u[c].ratioAttribute]===0){if(d[u[c].ratioAttribute].previous!==undefined){b+=u[c].name+"\t"+d[u[c].ratioAttribute].previous+"-"+d[u[c].ratioAttribute].next+"%"+"\n";}else{b+=u[c].name+"\t"+d[u[c].ratioAttribute].value+"%"+"\n";}}}}return b;};
a.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var A=this.getAxisTime();if(C.getConfiguration().getRTL()){return A.timeToView(F.abapTimestampToDate(d.to));}else{return A.timeToView(F.abapTimestampToDate(d.from));}};
a.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var A=this.getAxisTime();if(C.getConfiguration().getRTL()){return Math.abs(A.timeToView(F.abapTimestampToDate(d.from))-A.timeToView(F.abapTimestampToDate(d.to)));}else{return Math.abs(A.timeToView(F.abapTimestampToDate(d.to))-A.timeToView(F.abapTimestampToDate(d.from)));}};
a.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return r.rowHeight;};
a.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0;};
a.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcUnderClipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcUnderClipRectangle",{});
a.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.y+r.rowHeight*m/(100+m);};
a.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.rowHeight-r.rowHeight*m/(100+m);};
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#F2F2F2";};
a.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0.3;};
a.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0.3;};
a.prototype.getClipPath=function(d,r){if(this.mShapeConfig.hasShapeProperty("clipPath")){return this._configFirst("clipPath",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return"url(#"+n+"_"+d.id+"_"+d.dimension+")";};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UtilizationLineChart',["sap/gantt/shape/Group"],function(G){"use strict";
var U=G.extend("sap.gantt.shape.ext.ulc.UtilizationLineChart",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
return U;},true);
sap.ui.predefine('sap/gantt/simple/AggregationUtils',["sap/ui/thirdparty/jquery"],function(q){"use strict";var i=function(o,t){if(!o||!t){return false;}return o.isA(t);};var A={isParentRowSetting:function(s){return s.getParent().isA("sap.gantt.simple.GanttRowSettings");},getParentControlOf:function(c,e){if(i(e,c)){return e;}var p=e.getParent(),C;while(p&&i(p,c)===false){p=p.getParent();}C=p;return C;},isLazyAggregation:function(e){var p=e.getParent();if(!p){return false;}var a=p.getMetadata().getAggregation(e.sParentAggregationName);return this._hasLazyConfiguration(a);},isLazy:function(e,n){return Object.keys(this.getLazyAggregations(e)).indexOf(n)!==-1;},getLazyAggregations:function(e){return this._filterAggregationBy(e,function(a){return A._hasLazyConfiguration(a);});},getLazyElementsByScheme:function(e,s){var a=this.getLazyAggregations(e);var c=[];Object.keys(a).forEach(function(n){var C=e.getAggregation(n);if(C&&!q.isArray(C)){C=[C];}if(C&&C.length>0&&C[0].getScheme()===s){c.push(C);}});return[].concat.apply([],c);},_hasLazyConfiguration:function(a){return a.appData&&a.appData.sapGanttLazy===true;},getNonLazyAggregations:function(e){return this._filterAggregationBy(e,function(a){return a.appData===null||!a.appData.sapGanttLazy;});},_filterAggregationBy:function(e,c){var m=e.getMetadata(),a=m.getAggregations();var r={};for(var n in a){if(a.hasOwnProperty(n)){var o=a[n];if(c(o)){r[n]=o;}}}return r;},eachNonLazyAggregation:function(e,c){var m=this.getNonLazyAggregations(e);var k=Object.keys(m).sort(function(a,b){var o=m[a].appData?(m[a].appData.sapGanttOrder||0):0;var d=m[b].appData?(m[b].appData.sapGanttOrder||0):0;return o-d;});k.forEach(function(n){var a=m[n];var C=e[a._sGetter]();if(q.isArray(C)){C.forEach(function(o){c(o);});}else if(C){c(C);}});}};return A;},true);
sap.ui.predefine('sap/gantt/simple/BaseCalendar',["sap/gantt/simple/BaseRectangle"],function(B){"use strict";
var a=B.extend("sap.gantt.simple.BaseCalendar",{metadata:{properties:{calendarName:{type:"string"}}}});
a.prototype.applySettings=function(s,S){s=s||{};s.height=s.height||"inherit";B.prototype.applySettings.call(this,s,S);};
a.prototype.getX=function(){return 0;};
a.prototype.getSelectable=function(){return false;};
a.prototype.getWidth=function(){return this.getGanttChartBase().iGanttRenderedWidth;};
a.prototype.getFill=function(){var c=this.getCalendarName();var p=this.getGanttChartBase().getCalendarDef();if(p){return p.getRefString(c);}else{return this.getProperty("fill");}};
a.prototype.isVisible=function(){return true;};
return a;},true);
sap.ui.predefine('sap/gantt/simple/BaseChevron',["sap/ui/core/Core","./BaseRectangle","./TitlePropagator","./BasePath"],function(C,B,T,a){"use strict";
var b=B.extend("sap.gantt.simple.BaseChevron",{metadata:{properties:{headWidth:{type:"sap.gantt.SVGLength",defaultValue:10},tailWidth:{type:"sap.gantt.SVGLength",defaultValue:10}}}});
T.call(b.prototype,false);
b.prototype.getD=function(){var r=C.getConfiguration().getRTL();var c=this.getHeadWidth(),t=this.getTailWidth();var x=this.getX(),w=this.getWidth(),h=this.getHeight(),y=this.getRowYCenter();var d=function(){var R="";for(var i=0;i<arguments.length;i++){R+=arguments[i]+" ";}return R;};if(!r){if(w-c<0){return d("M",x+w/2,y,"l",-w/2,-h/2,"h",w/2,"l",w/2,h/2,"l",-w/2,h/2,"h",-w/2)+"Z";}return d("M",x+t,y,"l",-t,-h/2,"h",w-c,"l",c,h/2,"l",-c,h/2,"h",c-w)+"Z";}else{if(w-c<0){return d("M",x,y,"l",w/2,-h/2,"h",w/2,"l",-w/2,h/2,"l",w/2,h/2,"h",-w/2)+"Z";}return d("M",x,y,"l",c,-h/2,"h",w-c,"l",-t,h/2,"l",t,h/2,"h",c-w)+"Z";}};
b.prototype.renderElement=function(){if(this._isValid()){a.prototype.renderElement.apply(this,arguments);}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BaseConditionalShape',["./BaseShape"],function(B){"use strict";var P=["rowYCenter","shapeUid","selected"];
var a=B.extend("sap.gantt.simple.BaseConditionalShape",{metadata:{properties:{activeShape:{type:"int",defaultValue:0},countInBirdEye:{type:"boolean",defaultValue:false}},aggregations:{shapes:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape",sapGanttLazy:true}}}});
a.prototype.renderElement=function(r,e){var A=e._getActiveShapeElement();if(A){A._iBaseRowHeight=e._iBaseRowHeight;A.renderElement(r,A);}};
a.prototype.setProperty=function(p,v,s){B.prototype.setProperty.apply(this,arguments);if(P.indexOf(p)>=0){this.getShapes().forEach(function(S){S.setProperty(p,v,s);});}if(p==="shapeId"){this.getShapes().forEach(function(S){var b=S.getShapeId();if(!b){S.setProperty(p,v,s);}});}};
a.prototype.getShapeId=function(){var A=this._getActiveShapeElement(),s;if(A){s=A.getShapeId();}if(!s){s=this.getProperty("shapeId");}return s;};
a.prototype.getCountInBirdEye=function(){var A=this._getActiveShapeElement();if(A){return A.getCountInBirdEye();}return false;};
a.prototype._getActiveShapeElement=function(){var A=this.getActiveShape(),s=this.getShapes();if(A>=0&&A<s.length){return s[A];}return undefined;};
return a;});
sap.ui.predefine('sap/gantt/simple/BaseCursor',["sap/base/Log","./BaseRectangle","./BasePath","./RenderUtils"],function(L,B,a,R){"use strict";
var b=B.extend("sap.gantt.simple.BaseCursor",{metadata:{properties:{length:{type:"float",defaultValue:10},width:{type:"float",defaultValue:5},pointHeight:{type:"float",defaultValue:5}}}});
b.prototype.getD=function(){var d;var n=this.getPointHeight();var c=this.getWidth();var e=this.getLength();var f=e/2;var C=this._getCenter();if(this._isPropertiesValid(n,c,e,f)){d=["M ",C.join(" ")," m ",-f," ",-(c+n)/2," l ",e," 0 l 0 ",c," l -",f," ",n," l -",f," -",n," z"].join("");}if(R.isValidD(d)){return d;}else{L.warning("Cursor shape generated invalid d: "+d);return null;}};
b.prototype._getCenter=function(){var n=B.prototype.getX.apply(this,arguments);var c=this.getRowYCenter();return[n,c];};
b.prototype._isPropertiesValid=function(n,c,d,e){return jQuery.isNumeric(n)&&jQuery.isNumeric(c)&&jQuery.isNumeric(d)&&jQuery.isNumeric(e);};
b.prototype.renderElement=function(){if(this._isValid()){a.prototype.renderElement.apply(this,arguments);}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BaseDiamond',["./BaseRectangle","./BasePath","sap/gantt/misc/Utility"],function(B,a,U){"use strict";
var b=B.extend("sap.gantt.simple.BaseDiamond",{metadata:{properties:{width:{type:"sap.gantt.SVGLength",defaultValue:"auto"},height:{type:"sap.gantt.SVGLength",defaultValue:"auto"}}}});
b.prototype.getD=function(){var x=this.getX(),w=this.getWidth(),h=this.getHeight(),y=this.getRowYCenter();var c=function(){var r="";for(var i=0;i<arguments.length;i++){r+=arguments[i]+" ";}return r;};return c("M",x,y-h/2,"l",w/2,h/2,"l",-w/2,h/2,"l",-w/2,-h/2)+"Z";};
b.prototype.getWidth=function(){var w=this.getProperty("width");if(w==="auto"){return parseFloat(this._iBaseRowHeight*0.625,10);}if(w==="inherit"){return this._iBaseRowHeight;}return w;};
b.prototype.renderElement=a.prototype.renderElement;
b.prototype.getShapeAnchors=function(){var m=U.getShapeBias(this);return{head:{x:this.getX()-this.getWidth()/2+m.x,y:this.getRowYCenter()+m.y,dx:this.getWidth()/2,dy:this.getHeight()/2},tail:{x:this.getX()+this.getWidth()/2+m.x,y:this.getRowYCenter()+m.y,dx:this.getWidth()/2,dy:this.getHeight()/2}};};
b.prototype.renderElement=function(){if(this._isValid()){a.prototype.renderElement.apply(this,arguments);}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BaseGroup',["./BaseShape","./AggregationUtils","./RenderUtils"],function(B,A,R){"use strict";
var a=B.extend("sap.gantt.simple.BaseGroup",{metadata:{aggregations:{shapes:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape"}}}});
var m=["filter","opacity","transform"];
a.prototype.renderElement=function(r,g){r.write("<g");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,g,m);r.write(">");R.renderTooltip(r,g);this.renderChildElements(r,g);r.write("</g>");B.prototype.renderElement.apply(this,arguments);};
a.prototype.renderChildElements=function(r,g){this._eachChildOfGroup(g,function(c){if(c.renderElement){c.setProperty("childElement",true,true);c.setProperty("rowYCenter",g.getRowYCenter(),true);c._iBaseRowHeight=g._iBaseRowHeight;c.renderElement(r,c);}});};
a.prototype._eachChildOfGroup=function(g,c){A.eachNonLazyAggregation(g,c);};
return a;},true);
sap.ui.predefine('sap/gantt/simple/BaseImage',["sap/base/Log","./BaseText","./BaseRectangle","./RenderUtils","sap/ui/core/IconPool","sap/ui/core/Core"],function(L,B,a,R,I,C){"use strict";
var b=B.extend("sap.gantt.simple.BaseImage",{metadata:{properties:{src:{type:"sap.ui.core.URI",defaultValue:null},width:{type:"sap.gantt.SVGLength",defaultValue:20},height:{type:"sap.gantt.SVGLength",defaultValue:20}}}});
var i=["x","y","width","height"];var c={IconFont:"iconFont",Image:"bitImage"};
b.prototype._needToRenderAs=function(){return I.isIconURI(this.getSrc())?c.IconFont:c.Image;};
b.prototype.getText=function(){if(this._needToRenderAs()===c.IconFont){var o=I.getIconInfo(this.getSrc());if(o){return o.content;}}else{L.error("\"getText\" can not be invoked since it's not a icon font!",this);}};
b.prototype.getFontFamily=function(){if(this._needToRenderAs()===c.IconFont){var o=I.getIconInfo(this.getSrc());if(o){return o.fontFamily;}}else{L.error("\"getFontFamily\" can not be invoked since it's not a icon font!",this);}};
b.prototype.getFontSize=function(){if(this._needToRenderAs()===c.IconFont){return parseFloat(this.getHeight());}else{L.error("\"getFontSize\" can not be invoked since it's not a icon font!",this);}};
b.prototype.getX=function(){var r=C.getConfiguration().getRTL();if(this._needToRenderAs()===c.Image){if(r){return a.prototype.getX.apply(this)-this.getWidth();}return a.prototype.getX.apply(this);}else if(this._needToRenderAs()===c.IconFont){return B.prototype.getX.apply(this);}};
b.prototype.getY=function(){if(this._needToRenderAs()===c.Image){return a.prototype.getY.apply(this);}else if(this._needToRenderAs()===c.IconFont){return B.prototype.getY.apply(this);}};
b.prototype.renderElement=function(r,e){if(this._needToRenderAs()===c.Image){r.write("<image");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,e,i);r.writeAttribute("xlink:href",this.getProperty("src"));r.write(">");R.renderTooltip(r,e);r.write("</image>");}else if(this._needToRenderAs()===c.IconFont){B.prototype.renderElement.apply(this,arguments);}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BaseLine',["./BaseShape","./BaseRectangle","./RenderUtils"],function(B,a,R){"use strict";
var b=B.extend("sap.gantt.simple.BaseLine",{metadata:{properties:{x1:{type:"sap.gantt.SVGLength",defaultValue:0},y1:{type:"sap.gantt.SVGLength",defaultValue:0},x2:{type:"sap.gantt.SVGLength",defaultValue:0},y2:{type:"sap.gantt.SVGLength",defaultValue:0}}}});
b.prototype.applySettings=function(s,S){B.prototype.applySettings.apply(this,arguments);this.oDelegator=new a({},S);};
var A=["x1","y1","x2","y2","stroke","stroke-width","transform","style"];
b.prototype.getX1=function(){var v=this.getProperty("x1");if(v||v===0){return v;}return this.oDelegator.getX();};
b.prototype.getY1=function(){var v=this.getProperty("y1");if(v||v===0){return v;}return this.oDelegator.getRowYCenter();};
b.prototype.getX2=function(){var v=this.getProperty("x2");if(v||v===0){return v;}var w=this.oDelegator.getWidth();return this.getX1()+w;};
b.prototype.getY2=function(){var v=this.getProperty("y2");if(v||v===0){return v;}return this.getY1();};
b.prototype.getStyle=function(){var i=B.prototype.getStyle.apply(this,arguments);var s={"stroke-dasharray":this.getStrokeDasharray(),"fill-opacity":this.getFillOpacity(),"stroke-opacity":this.getStrokeOpacity()};return i+this.getInlineStyle(s);};
b.prototype.renderElement=function(r,e){r.write("<line");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,e,A);r.write(">");R.renderTooltip(r,e);r.write("</line>");B.prototype.renderElement.apply(this,arguments);};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BasePath',["./BaseShape","./RenderUtils"],function(B,R){"use strict";
var a=B.extend("sap.gantt.simple.BasePath",{metadata:{properties:{d:{type:"string"}}}});
var A=["d","fill","stroke-dasharray","transform","style"];
a.prototype.renderElement=function(r,e){r.write("<path");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,e,A);r.writeAttribute("shape-rendering","crispedges");r.write(">");R.renderTooltip(r,e);r.write("</path>");R.renderElementTitle(r,e);};
return a;},true);
sap.ui.predefine('sap/gantt/simple/BaseRectangle',["./TitlePropagator","./BaseShape","./RenderUtils","./GanttUtils","../misc/Format","sap/gantt/misc/Utility"],function(T,B,R,G,F,U){"use strict";
var a=B.extend("sap.gantt.simple.BaseRectangle",{metadata:{properties:{x:{type:"sap.gantt.SVGLength"},y:{type:"sap.gantt.SVGLength"},width:{type:"sap.gantt.SVGLength"},height:{type:"sap.gantt.SVGLength",defaultValue:"auto"},rx:{type:"sap.gantt.SVGLength",group:"Appearance",defaultValue:0},ry:{type:"sap.gantt.SVGLength",group:"Appearance",defaultValue:0}}}});
var A=["x","y","width","height","style","rx","ry","filter","opacity","transform"];T.call(a.prototype,true);
a.prototype.getX=function(){return G.getValueX(this);};
a.prototype.getY=function(){var y=this.getProperty("y");if(y===null||y===undefined){y=this.getRowYCenter()-(this.getHeight()/2);}return y;};
a.prototype.getWidth=function(){var w=this.getProperty("width");if(w!==null&&w!==undefined){return w;}var o=this.getAxisTime();if(o==null){return 0;}var n,s=o.timeToView(F.abapTimestampToDate(this.getTime())),e=o.timeToView(F.abapTimestampToDate(this.getEndTime()));if(!jQuery.isNumeric(s)||!jQuery.isNumeric(e)){return 0;}n=Math.abs(e-s);n=n<=0?1:n;return n;};
a.prototype.getHeight=function(){var h=this.getProperty("height");if(h==="auto"){return parseFloat(this._iBaseRowHeight*0.625,10);}if(h==="inherit"){return this._iBaseRowHeight;}return h;};
a.prototype.getStyle=function(){var i=B.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill()),"stroke-dasharray":this.getStrokeDasharray(),"fill-opacity":this.getFillOpacity(),"stroke-opacity":this.getStrokeOpacity()};return i+this.getInlineStyle(s);};
a.prototype._isValid=function(){var x=this.getX();return x!==undefined&&x!==null;};
a.prototype.renderElement=function(r,e){if(!this._isValid()){return;}r.write("<rect");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,e,A);r.write(">");R.renderTooltip(r,e);r.write("</rect>");if(this.getShowTitle()){R.renderElementTitle(r,e);}B.prototype.renderElement.apply(this,arguments);};
a.prototype.getShapeAnchors=function(){var b=U.getShapeBias(this);return{head:{x:this.getX()+b.x,y:this.getRowYCenter()+b.y,dx:0,dy:this.getHeight()/2},tail:{x:this.getX()+this.getWidth()+b.x,y:this.getRowYCenter()+b.y,dx:0,dy:this.getHeight()/2}};};
return a;},true);
sap.ui.predefine('sap/gantt/simple/BaseShape',["sap/base/Log","sap/ui/core/Core","sap/gantt/library","sap/ui/core/Element","sap/ui/core/CustomStyleClassSupport","sap/ui/base/ManagedObjectMetadata","./GanttUtils","./CoordinateUtils","./AggregationUtils","../misc/Format"],function(L,C,l,E,a,M,G,b,A,F){"use strict";
var B=E.extend("sap.gantt.simple.BaseShape",{metadata:{"abstract":true,properties:{shapeId:{type:"string"},time:{type:"object"},endTime:{type:"object"},scheme:{type:"string",defaultValue:null},xBias:{type:"float",defaultValue:0},yBias:{type:"float",defaultValue:0},fill:{type:"sap.gantt.ValueSVGPaintServer"},strokeOpacity:{type:"float",defaultValue:1.0},fillOpacity:{type:"float",defaultValue:1.0},opacity:{type:"float",defaultValue:1.0},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"float",defaultValue:0},strokeDasharray:{type:"string"},transform:{type:"string"},filter:{type:"string"},expandable:{type:"boolean",defaultValue:false},selectable:{type:"boolean",defaultValue:false},selected:{type:"boolean",defaultValue:false},draggable:{type:"boolean",defaultValue:false},resizable:{type:"boolean",defaultValue:false},hoverable:{type:"boolean",defaultValue:false},connectable:{type:"boolean",defaultValue:false},rowYCenter:{type:"float"},countInBirdEye:{type:"boolean",defaultValue:false},childElement:{type:"boolean",defaultValue:false,visibility:"hidden"},shapeUid:{type:"string",visibility:"hidden"},visible:{type:"boolean",defaultValue:true}}}});
a.apply(B.prototype);
B.prototype.init=function(){this.bPreventSingleClick=false;};
var v={};C.attachThemeChanged(function(){v={};});var R=/translate\((-?\d{1,}),?\s?(-?\d{1,})?\)/gi;
B.prototype.setShapeUid=function(u){L.error("The control manages the shapeUid generation. The method \"setShapeUid\" cannot be used programmatically!",this);};
B.prototype.getTransform=function(){var t=this.getProperty("transform");if(t){return t;}return this._buildTransformByXYBias();};
B.prototype.setTransform=function(V){this.setProperty("transform",V);this._updateBiasFromTransform(V);return this;};
B.prototype._buildTransformByXYBias=function(){var n=this.getXBias(),c=this.getYBias();if(n||c){n=n?n:0;n=C.getConfiguration().getRTL()?-n:n;c=c?c:0;return"translate("+n+" "+c+")";}return null;};
B.prototype._updateBiasFromTransform=function(t){if(t!=null){var c=this._parseBias(t);if(c.length>0){var n=c[0]||0,N=c[1]||0;this.setProperty("xBias",n,true);this.setProperty("yBias",N,true);}}};
B.prototype._parseBias=function(t){var m=R.exec(t);var c=[];if(m&&m.length>0){m.forEach(function(d,i){if(i!==0&&d){c.push(parseFloat(d));}});}return c;};
B.prototype.getStyle=function(){var s={"stroke":this.determineValueColor(this.getStroke()),"stroke-width":this.getStrokeWidth()};var i=this.getSelectable()||this.getHoverable();if(this.getProperty("childElement")===false&&i===false){s["pointer-events"]="none";}return this.getInlineStyle(s);};
B.prototype.getXByTime=function(t){var o=this.getAxisTime();var n=o.timeToView(F.abapTimestampToDate(t));if(!jQuery.isNumeric(n)){L.warning("Cannot convert time:"+t+" to an valid coordinate. Invalid coordinate might not get rendered at all, check the property value!");return 0;}return n;};
B.prototype.getAxisTime=function(){if(this.mAxisTime){return this.mAxisTime;}else{var g=this.getGanttChartBase();return g?g.getAxisTime():null;}};
B.prototype.getGanttChartBase=function(){var r=this.getParentRowSettings();return r?r.getParentGantt():null;};
B.prototype.getParentRowSettings=function(){return A.getParentControlOf("sap.gantt.simple.GanttRowSettings",this);};
B.prototype.getInlineStyle=function(s){return Object.keys(s).reduce(function(i,c){if(s[c]!==undefined&&s[c]!==null&&s[c]!==""){i+=(c+":"+s[c]+"; ");}return i;},"");};
B.prototype.determineValueColor=function(p){var f=v[p];if(!f&&p){f=l.ValueSVGPaintServer.normalize(p);v[p]=f;}return f;};
B.prototype.destroy=function(){return E.prototype.destroy.apply(this,["KeepDom"]);};
B.prototype.isVisible=function(){return false;};
B.prototype.renderElement=function(r,e){};
B.prototype.writeElementData=function(r){if(this.getProperty("childElement")){var g=M.isGeneratedId(this.getId());if(!g){r.writeAttribute("id",this.getId());}return;}if(this._shallWriteElementData(this)){r.writeElementData(this);if(this.getShapeId()){r.writeAttribute(G.SHAPE_ID_DATASET_KEY,this.getShapeId());}if(this.getConnectable()){r.writeAttribute(G.CONNECTABLE_DATASET_KEY,this.getConnectable());}}};
B.prototype._shallWriteElementData=function(s){var S=s.getParent()===null;if(S===false){S=A.isParentRowSetting(s);}if(S===false){S=A.isLazyAggregation(s);}return S;};
B.prototype.ensureGanttChart=function(){if(!this.mChartInstance){this.mChartInstance=this.getGanttChartBase();}};
B.prototype.setSelected=function(s,S){var p=this.getSelected();this.setProperty("selected",s,S);var g=this.getGanttChartBase(),c=this.getShapeUid();if(p!==s&&g&&c){g.getSelection().update(c,{selected:s,ctrl:false,draggable:this.getDraggable(),time:this.getTime(),endTime:this.getEndTime()});}return this;};
B.prototype.onclick=function(e){var c=function(){var g;if(this.bPreventSingleClick===false){g=this.getGanttChartBase();if(!g){return;}if(!g.fireShapePress({shape:this,rowSettings:this.getParentRowSettings()})){return;}g.handleShapePress({shape:this,ctrlOrMeta:e.ctrlKey||e.metaKey});e.setMarked();}this.bPreventSingleClick=false;}.bind(this);if(!this.getSelectable()){return;}if(this._isDoubleClickEventDisabled()){c();return;}this.iSingleClickTimer=window.setTimeout(c.bind(this),300);};
B.prototype.ondblclick=function(e){if(this._isDoubleClickEventDisabled()){return;}window.clearTimeout(this.iSingleClickTimer);this.bPreventSingleClick=true;this.getGanttChartBase().fireShapeDoubleClick({shape:this,rowSettings:this.getParentRowSettings()});e.stopImmediatePropagation();};
B.prototype.oncontextmenu=function(e){e.preventDefault();e.stopImmediatePropagation();var c=b.getLatestCursorPosition();this.getGanttChartBase().fireShapeContextMenu({shape:this,rowSettings:this.getParentRowSettings(),pageX:c.pageX,pageY:c.pageY});};
B.prototype.onmouseout=function(e){if(this.getHoverable()===false){return;}this.iMouseOutTimer=window.setTimeout(function(){if(this.bShapeMouseEnterFired){this.getGanttChartBase().fireShapeMouseLeave({shape:this});this.bShapeMouseEnterFired=false;}window.clearTimeout(this.iMouseOutTimer);}.bind(this),500);};
B.prototype.onmouseover=function(e){if(this.getHoverable()===false){return;}this.iMouseOverTimer=window.setTimeout(function(){var c=b.getCursorElement();if(c===this){var m=b.getLatestCursorPosition();this.getGanttChartBase().fireShapeMouseEnter({shape:this,pageX:m.pageX,pageY:m.pageY});this.bShapeMouseEnterFired=true;}window.clearTimeout(this.iMouseOverTimer);}.bind(this),500);};
B.prototype.getShapeUid=function(){return this.getProperty("shapeUid");};
B.prototype._isDoubleClickEventDisabled=function(){var g=this.getGanttChartBase();return g&&g.getDisableShapeDoubleClickEvent();};
return B;},true);
sap.ui.predefine('sap/gantt/simple/BaseText',["sap/ui/core/Core","./BaseShape","./GanttUtils"],function(C,B,G){"use strict";
var a=B.extend("sap.gantt.simple.BaseText",{metadata:{properties:{text:{type:"string"},x:{type:"float"},y:{type:"float"},fontSize:{type:"int",defaultValue:13},textAnchor:{type:"string",defaultValue:"start"},fontFamily:{type:"string",defaultValue:"Arial"},truncateWidth:{type:"float"},showEllipsis:{type:"boolean",defaultValue:true}}}});
var A=["x","y","text-anchor","style","filter","transform"];
a.prototype.getX=function(){var x=G.getValueX(this);if(isNaN(x)&&this.getParent()&&this.getParent().getTime){x=G.getValueX(this.getParent());}return x;};
a.prototype.getY=function(){var v=this.getProperty("y");if(v!==null&&v!==undefined){return v;}return this.getRowYCenter()+this.getFontSize()/2;};
a.prototype.getStyle=function(){var i=B.prototype.getStyle.apply(this,arguments);var s={"font-size":this.getFontSize()+"px","fill":this.determineValueColor(this.getFill()),"font-family":this.getFontFamily()};return i+this.getInlineStyle(s);};
a.prototype.renderElement=function(r,e){r.write("<text");this.writeElementData(r);r.writeClasses(this);var R=sap.gantt.simple.RenderUtils;R.renderAttributes(r,e,A);r.write(">");R.renderTooltip(r,e);this.writeTruncatedText(r,e);r.write("</text>");};
a.prototype.writeTruncatedText=function(r,e){var t=e.getText(),T=this.getTruncateWidth()!=null;if(T){var R=this._truncateText(t);this.renderEllipsisIfNecessary(r,R);}else{r.write(t);}};
a.prototype.getTruncateWidth=function(){var o=this.getProperty("truncateWidth");var p=this.getParent();if(p&&p.isA("sap.gantt.simple.BaseShape")){var P=0;if(p.getWidth){P=p.getWidth();}else{P=Math.abs(this.getXByTime(p.getEndTime())-this.getXByTime(p.getTime()));}if(P<o){return P;}}return o;};
a.prototype.renderEllipsisIfNecessary=function(r,R){if(R.ellipsis){var b=C.getConfiguration().getRTL();if(b){r.write("..."+R.truncatedText);}else{r.write(R.truncatedText+"...");}}else{r.write(R.truncatedText);}};
a.prototype._truncateText=function(s){var r=this._processTextForTruncation(s);r=r||{ellipsis:false,truncatedText:s};return r;};
a.prototype._processTextForTruncation=function(s){var t=this.getTruncateWidth(),e=this.measureTextWidth("..."),T=this.measureTextWidth(s);if(T>t){var i,S;if(this.getShowEllipsis()&&e<t){S=true;i=t-e;}else{S=false;i=t;}var n=this._geNumberOfTruncatedCharacters(T,i,s);var b=s.slice(0,n).trim();return{ellipsis:S,truncatedText:b};}return null;};
a.prototype.getTextAnchor=function(){var o=this.getProperty("textAnchor");var r=C.getConfiguration().getRTL();if(r){if(o==="start"){return"end";}else if(o==="end"){return"start";}}return o;};
a.prototype._geNumberOfTruncatedCharacters=function(t,T,s){var n=0;if(t>T){if(T>0&&s.length>0){n=Math.round(T/Math.ceil(t/s.length));while(true){if(n<0){break;}var b=this.measureTextWidth(s.slice(0,n));var c=this.measureTextWidth(s.slice(0,n+1));if(b>T){n--;continue;}if(c<T){n++;continue;}break;}}}else{return s?s.length:0;}return(n>=0&&n<=s.length)?n:0;};
a.prototype.measureTextWidth=function(t){return G.getShapeTextWidth(t,this.getFontSize(),this.getFontFamily());};
return a;},true);
sap.ui.predefine('sap/gantt/simple/ContainerToolbarPlaceholder',["sap/gantt/library","sap/ui/core/Control","sap/ui/base/Object","sap/m/OverflowToolbarAssociativePopoverControls"],function(l,C,B,O){"use strict";var P=l.simple.ContainerToolbarPlaceholderType;
var a=C.extend("sap.gantt.simple.ContainerToolbarPlaceholder",{
metadata:{library:"sap.gantt",interfaces:["sap.m.IOverflowToolbarContent"],properties:{type:{type:"sap.gantt.simple.ContainerToolbarPlaceholderType",defaultValue:null},_show:{type:"boolean",defaultValue:false}},aggregations:{_control:{type:"sap.ui.core.Control",multiple:false}}},
renderer:function(r,c){var o=c._getControl();if(!o||!c._getShow()){return;}if(c.getType()==="Spacer"){r.renderControl(o);}else{r.write("<div");r.writeControlData(c);r.writeClasses();r.write(">");r.renderControl(o);r.write("</div>");}}
});
a.prototype.init=function(){this._oOverflowToolbarAssociativePopoverControls=new O();this._aControlAutoCloseEvents=[];};
a.prototype.getOverflowToolbarConfig=function(){var c=this._getControl(),s="sapGanttSimpleContainerToolbarPlaceholderInPopover",o=this._mapOverflowToolbarConfig();if(!c){return o;}if(B.isA(c,"sap.m.SegmentedButton")){o.onBeforeEnterOverflow=function(){c._onBeforeEnterOverflow(c);this.addStyleClass(s);}.bind(this);o.onAfterExitOverflow=function(){c._onAfterExitOverflow(c);this.removeStyleClass(s);}.bind(this);}else if(B.isA(c,"sap.m.OverflowToolbarButton")){o.onBeforeEnterOverflow=function(){this.addStyleClass(s);this._oOverflowToolbarAssociativePopoverControls._preProcessSapMButton(c);c._bInOverflow=true;}.bind(this);o.onAfterExitOverflow=function(){this.removeStyleClass(s);delete c._bInOverflow;this._oOverflowToolbarAssociativePopoverControls._postProcessSapMButton(c);}.bind(this);}if(o.autoCloseEvents){this._attachAutoCloseEvents(o.autoCloseEvents);o.autoCloseEvents=["_controlAutoCloseEvent"];}return o;};
a.prototype._mapOverflowToolbarConfig=function(){var c=this._getControl(),o={canOverflow:!(this._isTypeSpacer()||this._isTypeTimeZoomControl())},b;if(!c){return o;}if(c.getMetadata().getInterfaces().indexOf("sap.m.IOverflowToolbarContent")!==-1){return c.getOverflowToolbarConfig();}b=O.getControlConfig(c);if(b){o={canOverflow:b.canOverflow,autoCloseEvents:b.listenForEvents,propsUnrelatedToSize:b.noInvalidationProps,onBeforeEnterOverflow:b.preProcess,onAfterExitOverflow:b.postProcess};}return o;};
a.prototype._attachAutoCloseEvents=function(c){var o=this._getControl(),A;c.forEach(function(e){A="attach"+this._capitalize(e);if(o[A]){o[A](this._fireAutoCloseEvent.bind(this));}else{o.attachEvent(e,this._fireAutoCloseEvent.bind(this));}}.bind(this));this._aControlAutoCloseEvents=c;};
a.prototype._detachAutoCloseEvents=function(){var c=this._getControl(),d;this._aControlAutoCloseEvents.forEach(function(e){d="detach"+this._capitalize(e);if(c[d]){c[d](this._fireAutoCloseEvent,this);}else{c.detachEvent(e,this._fireAutoCloseEvent,this);}},this);this._aControlAutoCloseEvents=[];};
a.prototype._toSelectMode=function(){this._getControl()._toSelectMode();};
a.prototype._toNormalMode=function(){this._getControl()._toNormalMode();};
a.prototype.getIcon=function(){return this._getControl().getIcon();};
a.prototype.getLayoutData=function(){var c=this._getControl();return c?c.getLayoutData():null;};
a.prototype._getControl=function(){return this.getAggregation("_control");};
a.prototype._setControl=function(c){this.setAggregation("_control",c);};
a.prototype._getShow=function(){return this.getProperty("_show");};
a.prototype._isTypeSpacer=function(){return this.getType()===P.Spacer;};
a.prototype._isTypeTimeZoomControl=function(){return this.getType()===P.TimeZoomControl;};
a.prototype._fireAutoCloseEvent=function(){this.fireEvent("_controlAutoClose");};
a.prototype._capitalize=function(t){return t.substring(0,1).toUpperCase()+t.substring(1);};
a.prototype.setType=function(t){var p=this.getParent();if(p&&t!==this.getType()){this._detachAutoCloseEvents();this._setControl(null);p.bShallUpdateContent=true;p.invalidate();}this.setProperty("type",t,true);};
return a;});
sap.ui.predefine('sap/gantt/simple/ContainerToolbarRenderer',["sap/ui/core/Renderer","sap/m/OverflowToolbarRenderer"],function(R,O){"use strict";var T=R.extend(O);return T;},true);
sap.ui.predefine('sap/gantt/simple/CoordinateUtils',['sap/ui/thirdparty/jquery',"sap/ui/Device"],function(q,D){"use strict";var x={};var C={xPosOfEvent:function(e){return D.browser.edge?e.clientX:e.pageX;},xPosOfSvgElement:function(e,$){return this.xPosOfEvent(e)-($.offset().left||e.offsetX);},getEventSVGPoint:function(s,e){var c=s.createSVGPoint();c.x=this.xPosOfEvent(e);c.y=e.pageY||e.clientY;c=c.matrixTransform(s.getScreenCTM().inverse());c.svgId=s.id;return c;},getSvgScreenPoint:function(s,e){var c=s.createSVGPoint();c.x=this.xPosOfEvent(e);c.y=e.pageY||e.clientY;c=c.matrixTransform(s.getScreenCTM());c.svgId=s.id;return c;},getEventPosition:function(e){return{pageX:this.xPosOfEvent(e),pageY:e.pageY};},updateCursorPosition:function(e){x={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};},getLatestCursorPosition:function(){return x;},getCursorElement:function(){var e=document.elementFromPoint(x.clientX,x.clientY);return q(e).control(0);}};return C;},true);
sap.ui.predefine('sap/gantt/simple/DimensionLegend',["sap/ui/core/Control","sap/gantt/library"],function(C,l){"use strict";
var D=C.extend("sap.gantt.simple.DimensionLegend",{metadata:{library:"sap.gantt",properties:{title:{type:"string",group:"Data",defaultValue:null}},aggregations:{columnConfigs:{type:"sap.gantt.simple.LegendColumnConfig",multiple:true,singularName:"columnConfig"},rowConfigs:{type:"sap.gantt.simple.LegendRowConfig",multiple:true,singularName:"rowConfig"}},events:{}}});
return D;});
sap.ui.predefine('sap/gantt/simple/DimensionLegendRenderer',["sap/base/util/ObjectPath","sap/gantt/misc/Utility","./BasePath","sap/ui/core/Core"],function(O,U,B,C){"use strict";var D={};var _=10;var d=function(){var i=32;var s=U.findSapUiSizeClass();return U.scaleBySapUiSize(s,i);};
D.render=function(r,o){r.write("<div");r.writeControlData(o);r.write(">");var a=o.getColumnConfigs();var R=o.getRowConfigs();var y=[];for(var i=0;i<R.length;i++){var Y=R[i];var m={};m.text=Y.getText();var s=Y.getShapeClass();var S=Y.getShapeName();var b=Y.getStroke();var f=Y.getStrokeWidth();var c=O.get(s);var e=[];for(var l=0;l<a.length;l++){var F=a[l].getFill();if(F==null){var g=a[l].getFillFactory();if(typeof g==='function'){F=g(S);}}var h=new c({stroke:b,strokeWidth:f,fill:F});e.push(h);}m.shapeInstances=e;y.push(m);}this.renderYDimension(r,y);var x=[];for(var j=0;j<a.length;j++){var k={};k.text=a[j].getText();x.push(k);}this.renderXDimension(r,x);r.write("</div>");};
D.renderYDimension=function(r,y){for(var k=0;k<y.length;k++){this.renderYItems(r,y[k],k);}};
D.renderYItems=function(r,i,I){var l=d(),L=l+"px";var h=l/2,w=h;r.write("<div");r.writeAttributeEscaped("title",i.text);r.addClass("sapGanttDLItem");r.writeClasses();r.addStyle("height",L);r.addStyle("line-height",L);r.addStyle(this._getMarginStyle(),(w/2)+"px");r.writeStyles();r.write(">");this.renderYSvgPart(r,i.shapeInstances,w,h);this.renderYLegendText(r,i.text);r.write("</div>");};
D._getMarginStyle=function(){var r=C.getConfiguration().getRTL();return"margin-"+(r?"right":"left");};
D.normalizeShape=function(s,w,h,i){var H=h/2;var v={x:i*(w+_)+_/2,y:0,x1:0,y1:H,x2:w,y2:H,width:w,height:h,yBias:H,rowYCenter:H};if(s.isA("sap.gantt.simple.shapes.Shape")){s.setWidth(w);s.setHeight(h);s.setStartX(0);s.setRowYCenter(h);}else{Object.keys(v).forEach(function(p){var P=p.split("-").reduce(function(a,n){return a+n.charAt(0).toUpperCase()+n.slice(1);},"set");if(s[P]){s[P](v[p]);}});}};
D.renderYSvgPart=function(r,s,w,h){r.write("<svg");r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);r.addClass("sapGanttDLSvg");r.writeClasses();r.addStyle("width",(w+_)*s.length+"px");r.writeStyles();r.write(">");for(var i=0;i<s.length;i++){this.normalizeShape(s[i],w,h,i);s[i].renderElement(r,s[i]);}r.write("</svg>");};
D.renderYLegendText=function(r,t){r.write("<div");r.addClass("sapGanttDLItemTxt");r.writeClasses();r.write(">");if(t){r.writeEscaped(t);}r.write("</div>");};
D.renderXDimension=function(r,x){var l=x.length;var L=d(),s=L+"px";var h=L/2,w=h;r.write("<div");r.addClass("sapGanttDLItem");r.writeClasses();r.addStyle("height",s*l);r.addStyle("line-height",s);r.addStyle(this._getMarginStyle(),(w/2)+"px");r.writeStyles();r.write(">");this.renderXDimensionPath(r,x);this.renderXDimensionText(r,x);r.write("</div>");};
D.renderXDimensionPath=function(r,R){var l=R.length;var L=d();var h=L/2,w=h;r.write("<div");r.addStyle("height",L*l+"px");var s=(L/2+_)*l;r.addStyle("width",s+"px");r.addStyle("display","block");r.writeStyles();r.write(">");r.write("<svg");r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);r.writeAttribute("width",s+"px");r.addClass("sapGanttDLSvg");r.writeClasses();r.write(">");var b=C.getConfiguration().getRTL();for(var i=0;i<l;i++){var S=i*(w+_)+_/2+w/2;var a="M"+S+" 0";if(b){a+=" v"+((i+0.5)*L);a+=" h"+(-S);}else{a+=" v"+((l-i-0.5)*L);a+=" h"+((L/2+_)*l-S);}var o=new B({d:a,fill:"transparent",strokeWidth:2.5}).addStyleClass("sapGanttDimensionLegendPath");o.renderElement(r,o);}r.write("</svg>");r.write("</div>");};
D.renderXDimensionText=function(r,R){var l=R.length;var L=d();r.write("<div");r.addClass("sapGanttDLItemTxt");r.writeClasses();r.addStyle("height",L*l+"px");r.addStyle("width","100%");r.writeStyles();r.write(">");for(var i=l-1;i>=0;i--){r.write("<div");var s=R[i].text;if(s){r.writeAttribute("title",s);}r.addClass("sapGanttDLItemTxt");r.writeClasses();r.addStyle("font-style","italic");r.addStyle("height",L+"px");r.writeStyles();r.write(">");if(s){r.writeEscaped(R[i].text);}r.write("</div>");}r.write("</div>");};
return D;},true);
sap.ui.predefine('sap/gantt/simple/ExpandModel',["sap/ui/thirdparty/jquery","sap/base/assert","sap/ui/base/ManagedObject","./AggregationUtils","./GanttUtils"],function(q,a,M,A,G){"use strict";
var E=M.extend("sap.gantt.simple.ExpandModel",{
metadata:{properties:{baseRowHeight:{type:"int",group:"Appearance",defaultValue:null}}},
constructor:function(){M.apply(this,arguments);this.mExpanded={};}
});
E.prototype.isTableRowHeightNeedChange=function(e,t,s,p,o){var b=false;var S=o.getKey();for(var i=0;i<s.length;i++){var c=s[i];var r=G.getSelectedTableRowSettings(t,c);if(!t.getParent()._bExpandRows&&(r==null)){break;}else if(r!=null){var d=r.getAllExpandableShapes();var l=[];d.forEach(function(f){var C=A.getLazyElementsByScheme(f,S);l.push(C.length);});var m=Math.max.apply(null,l);if(m>0){this.toggle(e,r,p,o,m);b=true;}}}return b;};
E.prototype.refreshRowYAxis=function(t){if(this.hasExpandedRows()===false){return;}var r=t.getRows();var R=t.getParent().getTableRowHeights();var f=0;for(var i=0;i<r.length;i++){var o=r[i],b=o.getAggregation("_settings"),s=b.getRowUid();f+=(R[i-1]||0);if(!this.isRowExpanded(s)){continue;}this.calcExpandRowYAxis({uid:b.getRowUid(),rowIndex:i,rowY:f,baseRowHeight:this.getBaseRowHeight(),allRowHeights:R});}};
E.prototype.toggle=function(e,r,m,o,i){if(e){this.expand(r,m,o,i);}else{this.collapse(r,o);}};
E.prototype.expand=function(r,m,e,i){a(typeof i==="number","iMaxNumberOfDetails must be a number");var u=r.getRowUid(),s=m.getKey(),b=m.getRowSpan();var c=e.getKey(),d=e.getRowSpan();var I=this.mExpanded[u];if(!I||I.length===0){this.mExpanded[u]=[{scheme:s,metadata:{rowSpan:b,main:true}}];}if(!this.hasExpandScheme(u,c)){this.mExpanded[u].push({scheme:c,metadata:{numberOfRows:i,rowSpan:d}});}this.updateVisibleRowSpan(u);};
E.prototype.collapse=function(r,e){var u=r.getRowUid();if(u&&this.mExpanded[u]==null){return;}var s=e.getKey();var i=this.mExpanded[u];for(var I=0;I<i.length;I++){var o=i[I];if(o.scheme===s){i.splice(I,1);}if(this.hasNoExpandRows(u)){delete this.mExpanded[u];break;}else{this.updateVisibleRowSpan(u);}}};
E.prototype.hasExpandScheme=function(u,s){return this.mExpanded[u].filter(function(i){return i.scheme===s;}).length>0;};
E.prototype.hasExpandedRows=function(){return!q.isEmptyObject(this.mExpanded);};
E.prototype.isRowExpanded=function(u){return!this.hasNoExpandRows(u);};
E.prototype.hasNoExpandRows=function(u){var i=this.mExpanded[u]||[];return i.every(function(I){return I.metadata.main;});};
E.prototype.updateVisibleRowSpan=function(u){var i=this.mExpanded[u]||[];var m,o,s=0;for(var I=0;I<i.length;I++){var b=i[I];var k=b.scheme;var v=b.metadata;if(v.main){m=k;o=v;s+=v.rowSpan;}else{s+=v.rowSpan*(v.numberOfRows||1);}}o.rowSpanSum=s;this.mExpanded[u][0]={scheme:m,metadata:o};};
E.prototype.getMainRowScheme=function(u){var i=this.mExpanded[u]||[];return i.filter(function(I){return I.metadata.main;}).map(function(m){return{key:m.scheme,value:m.metadata};})[0];};
E.prototype.getExpandSchemeKeys=function(u){var i=this.mExpanded[u]||[];return i.filter(function(I){return!I.metadata.main;}).map(function(I){return I.scheme;});};
E.prototype.getCalculatedRowHeight=function(r,b){var R=b;if(this.hasExpandedRows()){var u=r.getRowUid();if(!u){return R;}var i=this.mExpanded[u];if(i){var m=this.getMainRowScheme(u);R=b*m.value.rowSpanSum;}}return R;};
E.prototype.getRowHeightByIndex=function(t,i,T){if(t==null){return T;}var r=t.getRows(),R=r[i].getAggregation("_settings");return this.getCalculatedRowHeight(R,T);};
E.prototype.calcExpandRowYAxis=function(p){var u=p.uid,b=p.baseRowHeight;var f=p.rowY;var o,s,e=[];var c=[];var I=this.mExpanded[u];if(q.isEmptyObject(I)){return;}for(var d=0;d<I.length;d++){var g=I[d],k=g.scheme,v=g.metadata;if(v.main){o=v;s=k;}else{c.push(v);e.push(k);}}var h=o?o.rowSpan:1;var l={};l[s]=[h];var r=[l];for(var i=0;i<c.length;i++){var t=c[i],R=t.rowSpan,w=t.numberOfRows;var S=[];for(var j=0;j<w;j++){S.push(R);}l={};l[e[i]]=S;r.push(l);}var x=f;for(var m=0;m<r.length;m++){var y=r[m],z=Object.keys(y)[0],B=y[z];if(m===0){this._updateRowYAxis(u,z,{rowYAxis:[x].slice()});}else{var C=[];if(B.length===1){C.push(x+b);x+=(B[0]*b);}else{for(var n=0;n<B.length;n++){x=x+(B[n]*b);C.push(x);}}this._updateRowYAxis(u,z,{rowYAxis:C.slice()});}}};
E.prototype._updateRowYAxis=function(u,s,v){var r=v.rowYAxis;var i=this.mExpanded[u]||[];for(var I=0;I<i.length;I++){var o=i[I];if(o.scheme===s){o.metadata.yAxis=r;break;}}};
E.prototype.getRowYCenterByUid=function(u,m,s,e){var r=this.isRowExpanded(u);if(r===false){return m;}var I=this.mExpanded[u],S=s||this.getMainRowScheme(u).key;for(var b=0;b<I.length;b++){var o=I[b];if(o.scheme===S){var y=o.metadata.yAxis;var B=this.getBaseRowHeight(),c=B*o.metadata.rowSpan;var R=y.map(function(v){return v+(c/2);});var i=e===undefined?0:e;return R[i];}}};
E.prototype.getExpandShapeHeightByUid=function(u,s,f){var i=this.mExpanded[u];var F=i.filter(function(I){return I.scheme===s;})[0];return F?F.metadata.rowSpan*this.getBaseRowHeight():f;};
E.prototype.intersectRows=function(l,r){return q.grep(l,function(L){return q.inArray(L,r)>-1;});};
E.prototype.collectExpandedBgData=function(r){var I=this.intersectRows(r,Object.keys(this.mExpanded));if(q.isEmptyObject(this.mExpanded)||q.isEmptyObject(r)||q.isEmptyObject(I)){return[];}var R=this.getBaseRowHeight();var b=[];for(var c=0;c<I.length;c++){var u=I[c],d=this.mExpanded[u]||[];for(var i=0;i<d.length;i++){var o=d[i],y=o.metadata.yAxis||[],m=o.metadata.main;if(!m){var s=[];y.forEach(function(Y){s.push({x:0,y:Y,rowUid:u,rowHeight:R*o.metadata.rowSpan});});b.push(s);}}}return b;};
return E;},true);
sap.ui.predefine('sap/gantt/simple/GanttChartContainer',["sap/base/strings/capitalize","sap/ui/core/Control","sap/gantt/library","sap/ui/base/ManagedObjectObserver","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","sap/ui/core/library","../control/AssociateContainer","../config/TimeHorizon","./GanttChartContainerRenderer"],function(c,C,l,M,S,a,b,A,T){"use strict";var G=l.simple.GanttChartWithTableDisplayType;var O=b.Orientation;
var d=C.extend("sap.gantt.simple.GanttChartContainer",{metadata:{library:"sap.gantt",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},layoutOrientation:{type:"sap.ui.core.Orientation",group:"Behavior",defaultValue:sap.ui.core.Orientation.Vertical},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},displayType:{type:"sap.gantt.simple.GanttChartWithTableDisplayType",defaultValue:G.Both}},defaultAggregation:"ganttCharts",aggregations:{toolbar:{type:"sap.gantt.simple.ContainerToolbar",multiple:false},ganttCharts:{type:"sap.gantt.simple.GanttChartWithTable",multiple:true},svgDefs:{type:"sap.gantt.def.SvgDefs",multiple:false}},events:{customSettingChange:{parameters:{name:{type:"string"},value:{type:"boolean"}}}}}});
var e=["enableCursorLine","enableNowLine","enableVerticalLine","enableAdhocLine"];var f=["enableTimeScrollSync"].concat(e);e.forEach(function(p){d.prototype["set"+c(p,0)]=function(v){this.setProperty(p,v);this.getGanttCharts().forEach(function(g){g.setProperty(p,v);});return this;};});
d.prototype.setSharedPropertiesValueToGantts=function(){e.forEach(function(p){var P=this.getProperty(p);this.getGanttCharts().forEach(function(g){g.setProperty(p,P,true);});}.bind(this));};
d.prototype.init=function(){this._bInitHorizonApplied=false;this._nInitialRenderedGantts=0;this._oSplitter=new S({orientation:this.getLayoutOrientation()});this.oObserver=new M(this.observePropertiesChanges.bind(this));this.oObserver.observe(this,{properties:f});};
d.prototype.exit=function(){this.oObserver.disconnect();};
d.prototype.setDisplayType=function(D){this._setDisplayTypeForAll(D);this.setProperty("displayType",D,false);return this;};
d.prototype.setToolbar=function(t){this.setAggregation("toolbar",t,true);t.attachZoomStopChange(this._onToolbarZoomStopChange,this);t.attachBirdEyeButtonPress(this._onToolbarBirdEyeButtonPress,this);t.attachEvent("_settingsChange",this._onToolbarSettingsChange.bind(this));t.attachEvent("_zoomControlTypeChange",this._onToolbarZoomControlTypeChange.bind(this));t.attachDisplayTypeChange(this._onToolbarDisplayTypeChanged,this);t._oDisplayTypeSegmentedButton.setSelectedKey(this.getDisplayType());return this;};
d.prototype.setLayoutOrientation=function(o){this.setProperty("layoutOrientation",o);this._oSplitter.setOrientation(o);return this;};
d.prototype.addGanttChart=function(g){this.addAggregation("ganttCharts",g,true);this._insertGanttChart(g);};
d.prototype.insertGanttChart=function(g,i){this.insertAggregation("ganttCharts",g,i);this._insertGanttChart(g,i);};
d.prototype.removeGanttChart=function(g){this._removeGanttChartFromSplitter(g);var r=this.removeAggregation("ganttCharts",g);this._adjustSplitterLayoutData();return r;};
d.prototype.removeAllGanttCharts=function(){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){this._removeGanttChartFromSplitter(g[i]);}return this.removeAllAggregation("ganttCharts");};
d.prototype._insertGanttChart=function(g,i){if(!g){return;}var o=this._getOtherGanttSelectionPanelSize(g);if(o){g.setProperty("selectionPanelSize",o,"true");}var h=new A({content:g,layoutData:g.getLayoutData()?g.getLayoutData().clone():new a()});if(i!==0&&!i){this._oSplitter.addContentArea(h);}else{this._oSplitter.insertContentArea(h,i);}this._sanitizeGanttChartEvents(g);this.setSharedPropertiesValueToGantts();g.setDisplayType(this.getDisplayType());};
d.prototype._adjustSplitterLayoutData=function(){var g=this.getGanttCharts();var h=this._oSplitter.getContentAreas();if(g.length===1){h[0].getLayoutData().setSize("auto");}};
d.prototype._getOtherGanttSelectionPanelSize=function(n){var o=this.getGanttCharts().filter(function(g){return g.getId()!==n.getId();});return o&&o.length>0?o[0].getSelectionPanelSize():null;};
d.prototype._sanitizeGanttChartEvents=function(g){var E={"_initialRenderGanttChartsSync":this._onInitialRenderGanttChartsSync,"_timePeriodZoomOperation":this._onGanttChartTimePeriodZoomOperation,"_zoomInfoUpdated":this._onZoomInfoUpdated,"_selectionPanelResize":this._onSelectionPanelWidthChange,"_layoutDataChange":this._onGanttChartLayoutDataChange};Object.keys(E).forEach(function(s){g.detachEvent(s,E[s],this);}.bind(this));Object.keys(E).forEach(function(s){g.attachEvent(s,E[s],this);}.bind(this));};
d.prototype._onGanttChartLayoutDataChange=function(E){var g=E.getSource(),n=g.getLayoutData();this._oSplitter.getContentAreas().forEach(function(o){if(o.getContent()===g.getId()){o.getLayoutData().setSize(n.getSize()).setMinSize(n.getMinSize());}});};
d.prototype._removeGanttChartFromSplitter=function(g){var o=g;if((typeof g)==="number"){o=this.getGanttCharts()[g];}if(o){this._oSplitter.removeContentArea(o);}return o;};
d.prototype._onInitialRenderGanttChartsSync=function(E){var p=E.getParameters();var g=this.getGanttCharts();if(p.reasonCode==="initialRender"&&!this.getEnableTimeScrollSync()){return;}if(!this.getEnableTimeScrollSync()){if(p.reasonCode==="visibleHorizonUpdated"){for(var i=0;i<g.length;i++){if(E.getSource().getId()===g[i].getId()){continue;}g[i].syncVisibleHorizon(p.visibleHorizon,p.visibleWidth,true);}}else{var s;if(p.reasonCode==="mouseWheelZoom"){s="syncMouseWheelZoom";}if(s){for(var m=0;m<g.length;m++){var o=g[m];var h=o;if(E.getSource().getId()===h.getId()){continue;}h[s](p);}}}}else{for(var j=0;j<g.length;j++){g[j].syncVisibleHorizon(p.visibleHorizon,p.visibleWidth);}}};
d.prototype._onGanttChartTimePeriodZoomOperation=function(E){var t=this.getEnableTimeScrollSync();var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(E.getSource().getId()===g[i].getId()){continue;}var o=this._oSplitter.getOrientation();g[i].syncTimePeriodZoomOperation(E,t,o);}};
d.prototype._onSelectionPanelWidthChange=function(E){var D=this.getDisplayType(),g=E.getParameter("displayType");if(D!==g){this.setDisplayType(g);return;}if(this.getLayoutOrientation()===O.Horizontal&&D!==G.Both){return;}var n=E.getParameter("newWidth");this.getGanttCharts().forEach(function(o){o.setProperty("selectionPanelSize",n+"px",false);o._draw(true);});};
d.prototype._removeGanttChartFromSplitter=function(g){var o=g;if((typeof g)==="number"){o=this.getGanttCharts()[g];}if(o){this._oSplitter.removeContentArea(o._oAC);}};
d.prototype.onBeforeRendering=function(){this.observePropertiesChanges();this.handleZoomControlTypeToAxistimeStrategy();if(this.getSvgDefs()){this._propogateSvgDefs();}};
d.prototype._propogateSvgDefs=function(){var g=this.getGanttCharts();g.forEach(function(o){o.setAggregation("svgDefs",this.getSvgDefs(),true);}.bind(this));};
d.prototype.handleZoomControlTypeToAxistimeStrategy=function(){if(this.getToolbar()){var g=this.getGanttCharts();var z=this.getToolbar().getZoomControlType();g.forEach(function(o){o.getAxisTimeStrategy()._updateZoomControlType(z);});}};
d.prototype._onZoomInfoUpdated=function(E){if(this.getToolbar()){var z=E.getParameter("zoomLevel");if(!isNaN(z)){this.getToolbar().updateZoomLevel(z);}}};
d.prototype._onToolbarDisplayTypeChanged=function(E){this.setDisplayType(E.getParameter("displayType"));};
d.prototype._setDisplayTypeForAll=function(D){var t=this.getToolbar();if(t){t._oDisplayTypeSegmentedButton.setSelectedKey(D);}this.getGanttCharts().forEach(function(o){o.setDisplayType(D);});};
d.prototype._onToolbarBirdEyeButtonPress=function(E){var g=this.getGanttCharts();var s;var o;g.forEach(function(h){var H=h._getZoomExtension().calculateBirdEyeRange();if(H.startTime&&H.endTime){if(!s||H.startTime.getTime()<s.getTime()){s=H.startTime;}if(!o||o.getTime()<H.endTime.getTime()){o=H.endTime;}}});if(s&&o){var B=new T({startTime:s,endTime:o});g.forEach(function(h){var i=h.getAxisTimeStrategy();if(i.getMouseWheelZoomType()===l.MouseWheelZoomType.Stepwise){i.bBirdEyeTriggered=true;}h.syncVisibleHorizon(B);});}};
d.prototype._onToolbarZoomStopChange=function(E){var g=this.getGanttCharts();g.forEach(function(o){o.getAxisTimeStrategy().updateStopInfo({index:E.getParameter("index"),selectedItem:E.getParameter("selectedItem")});});};
d.prototype._onToolbarZoomControlTypeChange=function(E){this._handleZoomControlType(E.getParameter("zoomControlType"));};
d.prototype._handleZoomControlType=function(z){var g=this.getGanttCharts();g.forEach(function(o){o.getAxisTimeStrategy()._updateZoomControlType(z);});};
d.prototype._onToolbarSettingsChange=function(E){var p=E.getParameters();var g=[];p.forEach(function(P){var s=P.name.substr(4);if(f.indexOf(s)>=0){this["set"+c(s,0)](P.value);}else{g.push(P);}}.bind(this));if(g.length>0){this.fireCustomSettingChange(g);}};
d.prototype.observePropertiesChanges=function(o){var s;if(!o){s=f.reduce(function(m,p){m[p]=this.getProperty(p);return m;}.bind(this),{});}else{s={};s[o.name]=o.current;}var t=this.getToolbar();if(t){t.updateSettingsConfig(s);}};
return d;},true);
sap.ui.predefine('sap/gantt/simple/GanttChartContainerRenderer',[],function(){"use strict";var G={};
G.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapGanttContainer");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");this.renderToolbar(r,c);this.renderGanttCharts(r,c);r.write("</div>");};
G.renderSvgDefs=function(r,c){var s=c.getSvgDefs();if(s){r.write("<svg id='"+c.getId()+"-svg-psdef' tabindex='-1' focusable='false'");r.addClass("sapGanttInvisiblePaintServer");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderToolbar=function(r,c){var t=c.getToolbar();if(t){r.write("<div");r.addClass("sapGanttContainerTbl");r.writeClasses();r.write(">");r.renderControl(t);r.write("</div>");}};
G.renderGanttCharts=function(r,c){r.write("<div");r.addClass("sapGanttContainerCnt");r.writeClasses();r.write(">");r.renderControl(c._oSplitter);r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/simple/GanttChartWithTable',["sap/gantt/library","sap/ui/thirdparty/jquery","sap/base/assert","sap/base/Log","sap/ui/core/Control","sap/ui/model/ChangeReason","sap/base/util/values","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","sap/ui/core/ResizeHandler","./InnerGanttChart","./GanttHeader","./GanttSyncedControl","../control/AssociateContainer","../axistime/ProportionZoomStrategy","./SelectionModel","./ExpandModel","./ShapeScheme","./GanttExtension","./GanttScrollExtension","./GanttZoomExtension","./GanttPointerExtension","./GanttDragDropExtension","./GanttPopoverExtension","./GanttConnectExtension","./GanttResizeExtension","./RenderUtils","../misc/Format","../misc/Utility","../config/TimeHorizon","./GanttChartWithTableRenderer"],function(l,q,c,L,C,d,v,S,e,R,I,G,f,A,P,g,E,h,j,k,m,n,o,p,r,s,t,F,U,T){"use strict";var u=l.simple.GanttChartWithTableDisplayType,V=l.simple.VisibleHorizonUpdateType;var w=Object.freeze({"totalHorizonUpdated":V.TotalHorizonUpdated,"mouseWheelZoom":V.MouseWheelZoom,"syncVisibleHorizon":V.SyncVisibleHorizon,"initialRender":V.InitialRender,"horizontalScroll":V.HorizontalScroll,"zoomLevelChanged":V.ZoomLevelChanged,"timePeriodZooming":V.TimePeriodZooming});var M=10;var x=60;
function y(a,b){return a+b;}
function z(a,b){return Math.abs(a-b)<M;}
var B=C.extend("sap.gantt.simple.GanttChartWithTable",{metadata:{properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},shapeSelectionMode:{type:"sap.gantt.SelectionMode",defaultValue:l.SelectionMode.MultiWithKeyboard},shapeSelectionSettings:{type:"object",defaultValue:null},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},nowLineInUTC:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},adhocLineLayer:{type:"string",defaultValue:l.AdhocLineLayer.Top},dragOrientation:{type:"sap.gantt.DragOrientation",defaultValue:l.DragOrientation.Free},ghostAlignment:{type:"string",defaultValue:l.dragdrop.GhostAlignment.None},showShapeTimeOnDrag:{type:"boolean",defaultValue:false},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},displayType:{type:"sap.gantt.simple.GanttChartWithTableDisplayType",defaultValue:u.Both},disableShapeDoubleClickEvent:{type:"boolean",defaultValue:false},printingBatchSize:{type:"int",defaultValue:100},showGanttHeader:{type:"boolean",defaultValue:true}},aggregations:{table:{type:"sap.ui.table.Table",multiple:false},adhocLines:{type:"sap.gantt.AdhocLine",multiple:true,singularName:"adhocLine",bindable:"bindable",visibility:"public"},svgDefs:{type:"sap.gantt.def.SvgDefs",multiple:false,singularName:"svgDef"},shapeSchemes:{type:"sap.gantt.simple.ShapeScheme",multiple:true,singularName:"shapeScheme"},calendarDef:{type:"sap.gantt.def.cal.CalendarDefs",multiple:false,bindable:"bindable"},axisTimeStrategy:{type:"sap.gantt.axistime.AxisTimeStrategyBase",multiple:false,bindable:"bindable"},locale:{type:"sap.gantt.config.Locale",multiple:false},_splitter:{type:"sap.ui.layout.Splitter",multiple:false,visibility:"hidden"},_header:{type:"sap.gantt.simple.GanttHeader",multiple:false,defaultValue:null,visibility:"hidden"},_innerGantt:{type:"sap.gantt.simple.InnerGanttChart",multiple:false,visibility:"hidden"}},events:{shapeSelectionChange:{parameters:{shapeUids:{type:"string[]"}}},shapeResize:{parameters:{shapeUid:{type:"string"},shape:{type:"sap.gantt.shape.BaseShape"},rowObject:{type:"object"},oldTime:{type:"string[]"},newTime:{type:"string[]"}}},shapeMouseEnter:{parameters:{shape:{type:"sap.gantt.shape.BaseShape"},pageX:{type:"int"},pageY:{type:"int"}}},shapeMouseLeave:{parameters:{shape:{type:"sap.gantt.shape.BaseShape"},originEvent:{type:"object"}}},shapePress:{parameters:{shape:{type:"sap.gantt.simple.BaseShape"},rowSettings:{type:"sap.gantt.simple.GanttRowSettings"}},allowPreventDefault:true},shapeDoubleClick:{parameters:{shape:{type:"sap.gantt.shape.BaseShape"},rowSettings:{type:"sap.gantt.simple.GanttRowSettings"}}},shapeContextMenu:{parameters:{shape:{type:"sap.gantt.shape.BaseShape"},rowSettings:{type:"sap.gantt.simple.GanttRowSettings"},pageX:{type:"int"},pageY:{type:"int"}}},dragStart:{parameters:{sourceGanttChart:{type:"sap.gantt.simple.GanttChartWithTable"},draggedShapeDates:{type:"object"},lastDraggedShapeUid:{type:"string"},cursorDateTime:{type:"object"}}},shapeDrop:{parameters:{sourceGanttChart:{type:"sap.gantt.simple.GanttChartWithTable"},targetGanttChart:{type:"sap.gantt.simple.GanttChartWithTable"},draggedShapeDates:{type:"object"},lastDraggedShapeUid:{type:"string"},targetRow:{type:"sap.ui.table.Row"},cursorDateTime:{type:"object"},newDateTime:{type:"object"},targetShape:{type:"sap.gantt.shape.BaseShape"}}},shapeConnect:{parameters:{fromShapeUid:{type:"string"},toShapeUid:{type:"string"},type:{type:"sap.gantt.simple.RelationshipType"}}},visibleHorizonUpdate:{parameters:{type:{type:"sap.gantt.simple.VisibleHorizonUpdateType"},lastVisibleHorizon:{type:"sap.gantt.config.TimeHorizon"},currentVisibleHorizon:{type:"sap.gantt.config.TimeHorizon"}}}}}});
B.prototype.init=function(){this.iGanttRenderedWidth=-1;this._bExtensionsInitialized=false;this._oExpandModel=new E();this._aExpandedIndices=[];this._oSplitter=new S();this.setAggregation("_splitter",this._oSplitter);this._oSyncedControl=new f();this.setAggregation("_innerGantt",new I());this.setAggregation("_header",new G());this._sPreviousDisplayType=this.getDisplayType();};
B.prototype.getInnerGantt=function(){return this.getAggregation("_innerGantt");};
B.prototype.onSplitterResize=function(a){var O=a.getParameter("oldSizes"),N=a.getParameter("newSizes"),b=O.length>0&&N.length>0&&(O[0]!==N[0]||O[1]!==N[1]),D=this.getDisplayType(),i=N[0];if(b){if(D===u.Both){this._onResize(b);}var H=function(J){return this.getSelectionPanelSize().startsWith("0")||J[0]!==0;}.bind(this);if(z(O.reduce(y),N.reduce(y))&&O[0]!==N[0]&&H(O)){this.setProperty("selectionPanelSize",this._oSplitter._getContentAreas()[0].getLayoutData().getSize(),true);this.fireEvent("_selectionPanelResize",{newWidth:i,displayType:D});}this._draw();}};
B.prototype.setLayoutData=function(a){this.setAggregation("layoutData",a,true);this.fireEvent("_layoutDataChange");return this;};
B.prototype.setDisplayType=function(D){this._sPreviousDisplayType=this.getDisplayType();if(this._sPreviousDisplayType===u.Both&&D!==u.Both){this._iLastTableAreaSize=this.getAggregation("_splitter").getCalculatedSizes()[0];}this.setProperty("displayType",D,false);if(D===u.Table){this.setProperty("selectionPanelSize","auto",true);this._setupDisplayType();}else{delete this._bPreventInitialRender;}return this;};
B.prototype.setSelectionPanelSize=function(a){this.setProperty("selectionPanelSize",a,false);delete this._iLastTableAreaSize;this._setSplitterLayoutData(a,"auto");return this;};
B.prototype.applySettings=function(a,b){a=a||{};this._applyMissingSettings(a);C.prototype.applySettings.call(this,a,b);this._initSelectionModel(this.getProperty("shapeSelectionMode"));};
B.prototype._applyMissingSettings=function(a){if(!a.axisTimeStrategy){a.axisTimeStrategy=new P();}if(!a.locale){a.locale=l.config.DEFAULT_LOCALE_CET.clone();}if(!a.shapeSchemes){a.shapeSchemes=[new h({key:"default",primary:true})];}else{var H=a.shapeSchemes.some(function(b){return b.getPrimary();});if(!H){L.warning("you need set a ShapeSheme with primary:true");}}};
B.prototype.getPrimaryShapeScheme=function(){return this.getShapeSchemes().filter(function(a){return a.getPrimary();})[0];};
B.prototype.getSyncedControl=function(){return this._oSyncedControl;};
B.prototype.getTableRowHeights=function(){return this.getSyncedControl().getRowHeights();};
B.prototype.setTable=function(a){this.setAggregation("table",a);a._bVariableRowHeightEnabled=true;var O=this._oSplitter.removeContentArea(0);this._oSplitter.insertContentArea(new A({content:a,enableRootDiv:true,layoutData:a.getLayoutData()?a.getLayoutData().clone():new e({size:this.getSelectionPanelSize()})}),0);if(O==null){this._oSyncedControl.syncWith(a);this._oSplitter.addContentArea(this._oSyncedControl);}else if(O&&O.getContent()!==a.getId()){this._oSyncedControl.syncWith(a);}a.detachEvent("_rowsUpdated",this._onTableRowsUpdated,this);a.attachEvent("_rowsUpdated",this._onTableRowsUpdated,this);};
B.prototype.setEnableVariableRowHeight=function(b){if(this.getTable()){this.getTable()._bVariableRowHeightEnabled=b;}else{L.warning("you need to set table aggregation first");}};
B.prototype.setLargeDataScrolling=function(b){if(this.getTable()){this.getTable()._setLargeDataScrolling(b);}else{L.warning("you need to set table aggregation first");}};
B.prototype.getRenderedTimeRange=function(){return this.getAxisTime().getTimeRangeSlice(0,this.iGanttRenderedWidth);};
B.prototype._initSelectionModel=function(a){if(this.oSelection){this.oSelection.detachSelectionChanged(this._onSelectionChanged,this);}this.oSelection=new g(a);this.oSelection.attachSelectionChanged(this._onSelectionChanged,this);return this;};
B.prototype.setShapeSelectionMode=function(a){this.setProperty("shapeSelectionMode",a);if(this.oSelection){this.oSelection.setSelectionMode(a);}return this;};
B.prototype.getSelectedShapeUid=function(){var a=this.oSelection.allUid();return a;};
B.prototype._onSelectionChanged=function(a){var b=a.getParameter("shapeUid"),D=a.getParameter("deselectedUid"),i=a.getParameter("silent");this._updateShapeSelections(b,D);if(!i){this.fireShapeSelectionChange({shapeUids:b});}};
B.prototype.handleShapePress=function(a){var b=a.shape,i=b.getShapeUid(),D=a.ctrlOrMeta;var N=!b.getSelected();this.oSelection.update(i,{selected:N,ctrl:D,draggable:b.getDraggable(),time:b.getTime(),endTime:b.getEndTime()});};
B.prototype._updateShapeSelections=function(a,D){var b=this.getShapeSelectionMode();if(b===l.SelectionMode.None){return;}t.updateShapeSelections(this,a,D);};
B.prototype.getSelection=function(){return this.oSelection;};
B.prototype.getExpandedBackgroundData=function(){if(this._oExpandModel.hasExpandedRows()){var a=this.getTable().getRows();var b=a.length;var D=this.getTable().getFirstVisibleRow();var H=[];for(var i=0;i<b;i++){if(a[i].getIndex()>=D){var J=a[i].getAggregation("_settings");H.push(J.getRowUid());}}return this._oExpandModel.collectExpandedBgData(H);}};
B.prototype.setAxisTimeStrategy=function(a){a.attachEvent("_redrawRequest",this._onRedrawRequest,this);delete this._bPreventInitialRender;return this.setAggregation("axisTimeStrategy",a,false);};
B.prototype._onTableRowsUpdated=function(a){if(!this.getVisible()){return;}var b=a.getParameter("reason"),i=this.getInnerGantt();var D=v(d).slice();var H=D.concat(["Render","FirstVisibleRowChange","Resize"]);if(H.indexOf(b)!==-1){this.getSyncedControl().setAllowContentScroll(false);i.invalidate();}else if(b==="VerticalScroll"){}else{i.getRenderer().renderImmediately(this);}};
B.prototype.syncVisibleHorizon=function(a,i,K,b){var D=this.getAxisTimeStrategy();var H=D.getTotalHorizon();var J;var N=this.getVisibleWidth();if(i!==undefined){if(N===undefined){return;}if(K){var O=D.getVisibleHorizon();var Q=F.abapTimestampToDate(O.getStartTime());J=U.calculateHorizonByWidth(a,i,N,Q);}else{J=U.calculateHorizonByWidth(a,i,N);}}else{J=a;}if(H.getEndTime()<J.getEndTime()){var W=F.abapTimestampToDate(J.getEndTime()).getTime()-F.abapTimestampToDate(J.getStartTime()).getTime();var X=F.abapTimestampToDate(H.getEndTime());var Y=new Date();Y.setTime(X.getTime()-W);J=new T({startTime:Y,endTime:X});}this._updateVisibleHorizon(J,b||"syncVisibleHorizon",N);};
B.prototype._updateVisibleHorizon=function(a,b,i){var D=this.getAxisTimeStrategy();D.updateGanttVisibleWidth(i);if(a&&a.getStartTime()){D.setVisibleHorizonWithReason(a,b);}};
B.prototype.syncMouseWheelZoom=function(a){this._getZoomExtension().performMouseWheelZooming(a.originEvent,true);};
B.prototype.syncTimePeriodZoomOperation=function(a,b,O){this._getZoomExtension().syncTimePeriodZoomOperation(a,b,O);};
B.prototype._onRedrawRequest=function(a){var b=a.getParameter("valueBeforeChange");var i=a.getParameter("reasonCode");if(b&&i!=="totalHorizonUpdated"&&i!=="initialRender"&&i!=="syncVisibleHorizon"){this._syncContainerGanttCharts(i,a.getParameter("originEvent"));}this.fireVisibleHorizonUpdate({type:w[i],lastVisibleHorizon:b,currentVisibleHorizon:this.getAxisTimeStrategy().getVisibleHorizon()});this.redraw(i);this._setupDisplayType();};
B.prototype.redraw=function(a){this._draw(a);};
B.prototype._draw=function(a){var i=this.getVisibleWidth();if(!i){return;}var b=this.getAxisTimeStrategy().syncContext(i);this.fireEvent("_zoomInfoUpdated",b);var D=this._getScrollExtension();if(b.axisTimeChanged){D.clearOffsetWidth();}D.needRerenderGantt(function(){this.getInnerGantt().getRenderer().renderImmediately(this);}.bind(this),a);};
B.prototype._syncContainerGanttCharts=function(a,O){var b=this.getParent();if(b&&b.isA("sap.gantt.simple.GanttChartContainer")&&b.getGanttCharts().length>1){this.fireEvent("_initialRenderGanttChartsSync",{reasonCode:a,visibleHorizon:this.getAxisTimeStrategy().getVisibleHorizon(),visibleWidth:this.getVisibleWidth(),originEvent:O});}};
B.prototype.onBeforeRendering=function(a){this._updateRowHeightInExpandModel(this.getTable());j.detachEvents(this);this._oSplitter.detachResize(this.onSplitterResize,this);if(this._sResizeHandlerId){R.deregister(this._sResizeHandlerId);}if(this.getDisplayType()!==u.Table){this.getInnerGantt().invalidate();}};
B.prototype.onAfterRendering=function(a){this._attachExtensions();j.attachEvents(this);this._oSplitter.attachResize(this.onSplitterResize,this);this._sResizeHandlerId=R.register(this,this._onResize.bind(this));};
B.prototype._onResize=function(i){if(this.getDisplayType()!==u.Both){return;}var a=this.getAggregation("_splitter");if(a.getContentAreas()[0]&&a.getContentAreas()[0].getLayoutData()){var b=a.getContentAreas()[0],D=b.getLayoutData(),H=this.getDomRef().offsetWidth,N;if(H<x*2){N=H/2;N=N+"px";}else{var J=b.getDomRef().offsetWidth;if(J>x){return;}if(this.getSelectionPanelSize()!=null&&J==0&&i!=true){N=this.getSelectionPanelSize();}else{N=Math.max(Math.min(J,H-x),Math.max((0.3*H),x));N=N+"px";}}D.setSize(N);}};
B.prototype._setupDisplayType=function(){var D=this.getDisplayType();if(D===u.Table){this._setSplitterLayoutData("auto","0px");}else if(D===u.Chart){this._setSplitterLayoutData("0px","auto");}else if(D!==this._sPreviousDisplayType){this._setSplitterLayoutData(this._iLastTableAreaSize?this._iLastTableAreaSize+"px":this.getSelectionPanelSize(),"auto");}};
B.prototype._setSplitterLayoutData=function(a,b){var i=this._oSplitter.getContentAreas();if(i.length>1){var D=i[0].getLayoutData(),H=i[1].getLayoutData(),J=this.getDisplayType()===u.Both;D.setSize(a).setResizable(J);H.setSize(b).setResizable(J);}};
B.prototype._updateRowHeightInExpandModel=function(a){var i=a.getRowHeight();if(i===0){i=a._getDefaultRowHeight();}this._oExpandModel.setBaseRowHeight(i);};
B.prototype.jumpToVisibleHorizon=function(a){var b=this.getAxisTimeStrategy().getVisibleHorizon();this._updateVisibleHorizon(b,a,this.getVisibleWidth());};
B.prototype.exit=function(){if(this._sResizeHandlerId){R.deregister(this._sResizeHandlerId);}this._detachExtensions();delete this._bPreventInitialRender;};
B.prototype._attachExtensions=function(){if(this._bExtensionsInitialized){return;}j.enrich(this,k);j.enrich(this,m);j.enrich(this,n);j.enrich(this,o);j.enrich(this,p);j.enrich(this,r);j.enrich(this,s);this._bExtensionsInitialized=true;};
B.prototype._detachExtensions=function(){j.cleanup(this);};
B.prototype.getAxisTime=function(){var a=this.getAxisTimeStrategy().getAxisTime();if(!a){this.getAxisTimeStrategy().createAxisTime(this.getLocale());a=this.getAxisTimeStrategy().getAxisTime();}return a;};
B.prototype.getContentWidth=function(){var a=this.getAxisTime(),b=a.getViewRange();return Math.abs(Math.ceil(b[1])-Math.ceil(b[0]));};
B.prototype.getVisibleWidth=function(){return this._getScrollExtension?this._getScrollExtension().getVisibleWidth():undefined;};
B.prototype.expand=function(a,b){this.toggleShapeScheme(true,a,b);this._aExpandedIndices=this._aExpandedIndices.concat(b);this._aExpandedIndices=Array.from(new Set(this._aExpandedIndices));};
B.prototype.collapse=function(a,b){this.toggleShapeScheme(false,a,b);var i=[];i=i.concat(b);this._aExpandedIndices=this._aExpandedIndices.filter(function(D){return i.indexOf(D)==-1;});};
B.prototype.toggleShapeScheme=function(b,a,i){var D=[];if(typeof i==="number"){D=[i];}else if(Array.isArray(i)){D=i;}if(D.length===0||!a){return;}var H=this.getShapeSchemes().filter(function(N){return N.getKey()===a;});if(H==null||H.length===0||H.length>1){c(false,"shape scheme must not be null or not found in shapeSchemes");return;}var J=this.getPrimaryShapeScheme();var K=this._oExpandModel.isTableRowHeightNeedChange(b,this.getTable(),D,J,H[0]);if(K){this.getTable().invalidate();}};
B.prototype.isShapeVisible=function(a){if(a&&a.isVisible()){return true;}if(!a.getVisible()){return false;}var b=this.getRenderedTimeRange(),i=b[0],D=b[1];var H=a.getTime(),J=a.getEndTime();if(this.getLocale()&&(H&&J)){H=F._convertUTCToLocalTime(H,this.getLocale());J=F._convertUTCToLocalTime(J,this.getLocale());}var K=function(N){return(N>=i&&N<=D);};if(a.getSelected()||!H||!J){return true;}else if(H&&J){return K(H)||K(J)||(H<=i&&J>=D);}else if(H&&!J){return K(H);}else if(!H&&J){return K(J);}};
B.prototype.doBirdEye=function(i){var Z=this._getZoomExtension();Z.doBirdEye(i);};
return B;},true);
sap.ui.predefine('sap/gantt/simple/GanttChartWithTableRenderer',["sap/gantt/library"],function(l){"use strict";var G={};
G.render=function(r,c){this.renderSplitter(r,c);};
G.renderSplitter=function(r,c){r.write("<div");r.writeControlData(c);r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.addClass("sapGanttChartWithSingleTable");if(c.getDisplayType()===l.simple.GanttChartWithTableDisplayType.Chart){r.addClass("sapGanttChartWithTableShowOnlyChart");}r.writeClasses();r.write(">");var s=c.getAggregation("_splitter");s.getContentAreas()[0].getLayoutData().setSize(c.getSelectionPanelSize());s.triggerResize(true);r.renderControl(s);r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/simple/GanttConnectExtension',["sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ui/core/Core","sap/gantt/library","./GanttExtension","./CoordinateUtils","./GanttUtils","sap/gantt/misc/Utility"],function(q,K,C,l,G,a,b,U){"use strict";var _=".sapGanttShapeConnect";var R=l.simple.RelationshipType;var S={addEventListeners:function(g){this.removeEventListeners(g);var e=g._getConnectExtension();e.shapeConnectDoms().shapeConnectTriggers.on("mousedown"+_,e.beforeShapeConnect.bind(e));},removeEventListeners:function(g){var e=g._getConnectExtension();e.shapeConnectDoms().shapeConnectTriggers.off(_);},addShapeConnectEventListeners:function(g){this.removeShapeConnectEventListeners(g);var e=g._getConnectExtension();var $=q(document);$.on("mousemove"+_,e.onMousemove.bind(e));$.on("mouseup"+_,e.endShapeConnect.bind(e));$.on("keydown"+_,e.onKeydown.bind(e));},removeShapeConnectEventListeners:function(g){q(document).off(_);}};
var c=G.extend("sap.gantt.simple.GanttConnectExtension",{_init:function(g,s){this._initShapeConnectStates();return"ConnectExtension";}});
c.prototype.attachShapeConnectEvents=function(){var g=this.getGantt();S.addEventListeners(g);if(this.isShapeConnecting()){S.addShapeConnectEventListeners(g);}};
c.prototype._initShapeConnectStates=function(){this.mDom={};this._oStartShape={};this._bShapeConnecting=false;this._oScrollDistance={x:0,y:0};this._bElementConnectable=false;};
c.prototype.getRlsStartShape=function(){return this._oStartShape;};
c.prototype.getSvgElement=function(){return this.getDomRefs().ganttSvg;};
c.prototype._getShapeConnectRootNode=function(){var $=this.shapeConnectDoms().shapeConnect;return d3.select($.get(0));};
c.prototype.setDomSelector=function(){var d=this.shapeConnectDoms();this.mDom.connectLine=d.connectLine;this.mDom.ghostRect=d.shapeConnectGhost;};
c.prototype.createConnectLine=function(f,s){var p=this.getGantt()._getPointerExtension();var x=s.x+p._getAutoScrollStep();var L={"class":"shapeConnectLine",x1:f.x+f.width/2,y1:f.y+f.width/2,x2:x,y2:s.y};if(this.getD3Doms().shapeConnectLine.empty()){var o=this._getShapeConnectRootNode();o.append("line").attr(L);}};
c.prototype.createGhostRect=function(f,s){var p=this.getGantt()._getPointerExtension();var x=f.x+p._getAutoScrollStep();var g={"class":"shapeConnectGhost",x:x-f.width/2,y:s.y-f.width/2,width:f.width,height:f.width};if(this.getD3Doms().shapeConnectGhost.empty()){var o=this._getShapeConnectRootNode();o.append("rect").attr(g);}};
c.prototype.isShapeConnecting=function(){return this._bShapeConnecting;};
c.prototype.updateShapeConnectEffect=function(g){if(this.isShapeConnecting()){var o=a.getLatestCursorPosition();var f=this.getStartShapeFrame();var s=this.getSvgElement();var d=a.getEventSVGPoint(s,o);this.createConnectLine(f,d);this.createGhostRect(f,d);this.showIndicator();this.setDomSelector();this.attachShapeConnectEvents();}};
c.prototype.beforeShapeConnect=function(e){var $=q(e.target);var s=$.parents("g").attr(b.SELECT_FOR_DATASET_KEY);this._bElementConnectable=true;var r=C.getConfiguration().getRTL();var f=e.target.getBBox();var d;if(r){d=$.hasClass("rightTrigger")?"Start":"Finish";}else{d=$.hasClass("leftTrigger")?"Start":"Finish";}this._oScrollDistance={x:0,y:0};this._oStartShape={startTriggerFrame:f,x:f.x+f.width/2,y:f.y+f.width/2,shapeUid:s,isRightTrigger:$.hasClass("rightTrigger"),startPoint:d};S.addShapeConnectEventListeners(this.getGantt());};
c.prototype.toggleShapeConnectTrigger=function(){var g=this.getGantt();g._updateShapeSelections(g.getSelectedShapeUid(),[]);};
c.prototype.getStartShapeFrame=function(){var f={x:0,y:0,width:b.SHAPE_CONNECT_INDICATOR_WIDTH};if(this.isShapeConnecting()){var $=this.shapeConnectDoms().startShapeConnectTrigger;if($&&$.length===1){return $.get(0).getBBox();}else{f.x=this._oStartShape.x-this._oScrollDistance.x;f.y=this._oStartShape.y-this._oScrollDistance.y;}}return f;};
c.prototype._getAcceptableShapeElements=function(){var A=[];var t=this;this.shapeConnectDoms().connectableShapes.each(function(i,s){var o=q(s).control(0,true);if(o&&t._oStartShape.shapeUid!==o.getShapeUid()&&o.getDomRef()){A.push(o);}});return A;};
c.prototype.showIndicator=function(){if(!this.isShapeConnecting()){return;}var i=[];var t=this;this._getAcceptableShapeElements().forEach(function(s){i.push(t._getIndicatorData(s));});this.getD3Doms().shapeConnectContainers.data(i).enter().append("g").classed("shapeConnectContainer",true).attr("id",function(d){return d.id+"-shape-connect";}).attr(b.SHAPE_CONNECT_FOR_DATASET_KEY,function(d){return d.id;}).each(function(d){var g=d3.select(this);g.append("rect").attr(d.left);g.append("rect").attr(d.right);});this.attachEventHandlerToIndicator();};
c.prototype.onMousemove=function(e){if(this._bElementConnectable===false){return;}if(!this.isShapeConnecting()){this._bShapeConnecting=true;var s=this.getSvgElement();var o=a.getEventSVGPoint(s,e);this.createConnectLine(this._oStartShape.startTriggerFrame,o);this.createGhostRect(this._oStartShape.startTriggerFrame,o);this.showIndicator();this.toggleShapeConnectTrigger();this.setDomSelector();}else{this.onShapeConnecting(e);}};
c.prototype.onShapeConnecting=function(e){var s=this.getSvgElement();var o=a.getEventSVGPoint(s,e);var p=this.getGantt()._getPointerExtension();var x=o.x+p._getAutoScrollStep();this.mDom.connectLine.attr({x2:x,y2:o.y});var i=b.SHAPE_CONNECT_INDICATOR_WIDTH;this.mDom.ghostRect.attr({x:x-i/2,y:o.y-i/2});};
c.prototype.fireEvent=function(e){var $=q(e.target);var t=$.parents("g").attr(b.SHAPE_CONNECT_FOR_DATASET_KEY);var r=C.getConfiguration().getRTL();var E=(r?$.hasClass("rightIndicator"):$.hasClass("leftIndicator"))?"Start":"Finish";var T=this._oStartShape.startPoint+"To"+E;var o={fromShapeUid:this._oStartShape.shapeUid,toShapeUid:q(document.getElementById(t)).control(0).getShapeUid(),type:R[T]};var g=this.getGantt();g.fireShapeConnect(o);};
c.prototype.endShapeConnect=function(e){if(this.isShapeConnecting()){var s=this._getShapeConnectRootNode();s.selectAll("*").remove();}S.removeShapeConnectEventListeners(this.getGantt());this._initShapeConnectStates();this.toggleShapeConnectTrigger();};
c.prototype.onKeydown=function(e){if(this.isShapeConnecting()&&e.keyCode===K.ESCAPE){this.endShapeConnect(e);}};
c.prototype.toggleGhostRect=function(e){if(this.isShapeConnecting()){this.shapeConnectDoms().shapeConnectGhost.toggleClass("hideShapeConnectGhost");q(e.target).toggleClass("hoverOnShapeConnectIndicator");}};
c.prototype.attachEventHandlerToIndicator=function(){var i=this.shapeConnectDoms().indicators;i.off(_);i.on("mouseup"+_,this.fireEvent.bind(this));i.on("mouseover"+_+" mouseout"+_,this.toggleGhostRect.bind(this));};
c.prototype._getIndicatorData=function(s){var e=s.getId();var f=s.getDomRef().getBBox(),x=f.x,y=f.y,w=f.width,h=f.height;var r=b.SHAPE_CONNECT_INDICATOR_WIDTH-2;var m=2;var B=U.getShapeBias(s);var L=x-m-r+B.x,i=y+(h/2)-(r/2)+B.y;var d=(x+w+m)+B.x,g=i;var j={width:r,height:r};return{id:e,left:q.extend({x:L,y:i,"class":"leftIndicator shapeConnectIndicator"},j),right:q.extend({x:d,y:g,"class":"rightIndicator shapeConnectIndicator"},j)};};
c.prototype.storeScrollDistance=function(s,h){if(h){this._oScrollDistance.x+=s;}else{this._oScrollDistance.y+=s;}};
c.prototype.shapeConnectDoms=function(){var $=q(this.getSvgElement());var s='g['+b.SELECT_FOR_DATASET_KEY+'="'+this._oStartShape.shapeUid+'"]';var t=".shapeConnectTrigger."+(this._oStartShape.isRightTrigger?"rightTrigger":"leftTrigger");var d=$.find("g.sapGanttChartShapeConnect");var e=$.find("g.sapGanttChartSelection");return{shapeConnect:d,indicators:d.find(".shapeConnectContainer .shapeConnectIndicator"),shapeConnectGhost:d.find(".shapeConnectGhost"),connectLine:d.find(".shapeConnectLine"),connectableShapes:$.find("["+b.CONNECTABLE_DATASET_KEY+"=true]"),shapeConnectTriggers:e.find(".shapeConnectTrigger"),startShapeConnectTrigger:e.find(s+' '+t)};};
c.prototype.getD3Doms=function(){var n=this._getShapeConnectRootNode();return{shapeConnectLine:n.selectAll(".shapeConnectLine"),shapeConnectGhost:n.selectAll(".shapeConnectGhost"),shapeConnectContainers:n.selectAll(".shapeConnectContainer")};};
return c;});
sap.ui.predefine('sap/gantt/simple/GanttDragDropExtension',["sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ui/core/Core","sap/gantt/library","./GanttExtension","./CoordinateUtils","./GanttUtils","sap/gantt/misc/Format"],function(q,K,C,l,G,a,b,F){"use strict";var _=".sapGanttDragDrop";var e=["mousemove","mouseup","keydown"];var m="mousedown";var B=e.reduce(function(g,n){g[n]=n;return g;},{});B[m]=m;var E=e.map(function(s){return s+_;});var M=m+_;var I=3;var c=l.dragdrop.GhostAlignment;var D=sap.gantt.DragOrientation;var d={dispatchEvent:function(o){var g=this._getDragDropExtension();if(o.type===B.mousedown){g.onMouseDown(o);}else if(o.type===B.mousemove){g.onMouseMove(o);}else if(o.type===B.mouseup){g.onMouseUp(o);}else if(o.type===B.keydown){g.onKeydown(o);}},addEventListeners:function(g){this.removeEventListeners(g);var s=q(g._getDragDropExtension().getDomRefs().ganttSvg);s.on(M,d.dispatchEvent.bind(g));},removeEventListeners:function(g){var s=q(g._getDragDropExtension().getDomRefs().ganttSvg);s.off(_);},addDragDropEventListeners:function(g){this.removeDragDropEventListeners(g);E.forEach(function(s){q(document).on(s,d.dispatchEvent.bind(g));});},removeDragDropEventListeners:function(g){E.forEach(function(s){q(document).off(s);});}};
var f=G.extend("sap.gantt.simple.GanttDragDropExtension",{
_init:function(g,s){this._initDragStates();return"DragDropExtension";},
_attachEvents:function(){var g=this.getGantt();d.addEventListeners(g);},
_detachEvents:function(){var g=this.getGantt();d.removeEventListeners(g);}
});
f.prototype._initDragStates=function(){this.bDragging=false;this.bElementDraggable=false;this.oMouseDownTarget=null;this.oLastDraggedShapeData=null;this.mDragPoint={};this.bDragging=false;this.$ghost=null;};
f.prototype.onMouseDown=function(o){this.bElementDraggable=this.isEventTargetDraggable(o);if(this.bElementDraggable){var p=a.getEventSVGPoint(this.getDomRefs().ganttSvg,o);var g=this.getDraggableDOMElement(o.target),h=g.getBBox();this.mDragPoint={cursorX:p.x,cursorY:p.y,shapeX:h.x,shapeY:h.y,shapeWidth:h.width};var i=this.getShapeElementByTarget(g);this.oMouseDownTarget=g;this.oLastDraggedShapeData={shapeUid:i.getShapeUid(),startTime:i.getTime(),endTime:i.getEndTime()};if(this.getGantt().getDragOrientation()===D.Horizontal){this.oCurrentRow=b.getRowInstancefromShape(i);}d.addDragDropEventListeners(this.getGantt());}};
f.prototype.updateCursorStyle=function(s){document.body.style.cursor=s;this.getDomRefs().ganttSvg.style.cursor=s;};
f.prototype.onMouseMove=function(o){if(this.skipEvent(o)){return;}if(this.bDragging===false){var n=a.getEventSVGPoint(this.getDomRefs().ganttSvg,o),g=this.isExceedDraggingThreshold(n),s=g&&this.isAllowedVerticalOrentationDrag();this.bDragging=s;if(s&&this.oMouseDownTarget){this._hideScrollBarOnBody(true);this.$ghost=this.createDragGhost(this.oMouseDownTarget);var h=this._getDragStartEventData(o);if(h){this.getGantt().fireDragStart(h);}}else if(g){this.updateCursorStyle("not-allowed");}}else{this.onDragging(o);}};
f.prototype.onMouseUp=function(o){if(this.bElementDraggable===true&&this.bDragging===false){this.stopDragging(o);return;}var g=this._getShapeDropEventData(o);this.stopDragging(o);if(g){this.getGantt().fireShapeDrop(g);}};
f.prototype._getDragStartEventData=function(o){return{sourceGanttChart:this.getGantt(),draggedShapeDates:this._getDraggedShapeDates(),lastDraggedShapeUid:this.oLastDraggedShapeData.shapeUid,cursorDateTime:this._getGhostTime(o).cursorTime};};
f.prototype._getShapeDropEventData=function(o){if(this.isValidDropZone(o)){var g=this.getGantt();var h;var s=this._getDraggedShapeDates();var t=this.getGanttChartByTarget(o.target);if(this.getGantt().getDragOrientation()===D.Horizontal){h=this.oCurrentRow;}else{h=b.getRowInstance(o,t.getTable());}var T=this.getShapeElementByTarget(o.target);var i=this._getGhostTime(o);return{sourceGanttChart:g,targetGanttChart:t,draggedShapeDates:s,lastDraggedShapeUid:this.oLastDraggedShapeData.shapeUid,targetRow:h,cursorDateTime:i.cursorTime,newDateTime:i.newDateTime,targetShape:T};}};
f.prototype._getGhostTime=function(o){var g=this.getGantt();var t=this.getGanttChartByTarget(o.target);var h=t!=null?(t.getId()!==g.getId()):false;var A=h?t.getAxisTime():g.getAxisTime();var i=h?window.document.getElementById(t.getId()+"-svg"):window.document.getElementById(g.getId()+"-svg");var j=a.getEventSVGPoint(i,o).x;var k=A.viewToTime(j);var n=k;var r=C.getConfiguration().getRTL();var s=this.mDragPoint.shapeX,S=r?-this.mDragPoint.shapeWidth:this.mDragPoint.shapeWidth,p=this.mDragPoint.cursorX;var u=k;var v=k;var w=this.oLastDraggedShapeData.endTime-this.oLastDraggedShapeData.startTime;if(this.getGantt().getDragOrientation()===D.Vertical){u=this.oLastDraggedShapeData.startTime;v=this.oLastDraggedShapeData.endTime;n=u;}else{if(this.getGantt().getGhostAlignment()===c.Start){v=new Date(u.getTime()+w);n=k;}else if(this.getGantt().getGhostAlignment()===c.End){u=new Date(v.getTime()-w);n=k;}else if(this.getGantt().getGhostAlignment()===c.None){var N=r?(j-S-(p-s)):(j-(p-s));var x=A.viewToTime(N);u=x;v=new Date(u.getTime()+w);n=x;}}return{newDateTime:n,cursorTime:k,time:u,endTime:v};};
f.prototype._getDraggedShapeDates=function(){var s=this.getGantt().getSelection();var S=s.allSelectedDraggableUid();var o={};S.forEach(function(u){var g=s.getSelectedShapeDataByUid(u);o[u]={time:g.time,endTime:g.endTime};});return o;};
f.prototype.getDroppedShapeStartTime=function(i,A,o){if(this.getGantt().getGhostAlignment()===c.None){var s=this.mDragPoint.shapeX,S=this.mDragPoint.shapeWidth,g=this.mDragPoint.cursorX;var r=C.getConfiguration().getRTL();var n=r?(i+S-(g-s)):(i-(g-s));var N=A.viewToTime(n),h=F.abapTimestampToDate(N);return h;}return o;};
f.prototype.isValidDropZone=function(o){return q(o.target).closest("svg.sapGanttChartSvg").length===1;};
f.prototype._hideScrollBarOnBody=function(h){q(document.body).toggleClass("sapGanttDraggingOverflow",h);};
f.prototype.onKeydown=function(o){if(this.skipEvent(o)){return;}if(o.keyCode===K.ESCAPE){this.stopDragging(o);}};
f.prototype.stopDragging=function(o){this._enableTextSelection();this._avoidShapeSelectionAfterDragging();this.removeGhost();this._initDragStates();this.updateCursorStyle("default");this._hideScrollBarOnBody(false);this._stopAutoScroll();d.removeDragDropEventListeners(this.getGantt());};
f.prototype._avoidShapeSelectionAfterDragging=function(){if(this.bDragging&&this.oMouseDownTarget){var o=this.getShapeElementByTarget(this.oMouseDownTarget);window.setTimeout(function(){if(o){window.clearTimeout(o.iSingleClickTimer);}},100,this);}};
f.prototype.isEventTargetDraggable=function(o){var s=this.getShapeElementByTarget(o.target);if(s){return s.getSelected()&&s.getDraggable();}return false;};
f.prototype.getShapeElementByTarget=function(t){return q(this.getDraggableDOMElement(t)).control(0,true);};
f.prototype.getGanttChartByTarget=function(t){return q(t).closest("svg.sapGanttChartSvg").control(0,true);};
f.prototype.getDraggableDOMElement=function(t){return q(t).closest("["+b.SHAPE_ID_DATASET_KEY+"]").get(0);};
f.prototype.isExceedDraggingThreshold=function(p){return Math.abs(p.x-this.mDragPoint.cursorX)>I||Math.abs(p.y-this.mDragPoint.cursorY)>I;};
f.prototype.onDragging=function(o){if(this.$ghost){var p=this.getGantt()._getPointerExtension();if(p.isPointerInGanttChart()===false){this.updateCursorStyle("not-allowed");this._stopAutoScroll();}else{this.updateCursorStyle("move");}this.showGhost(o);this._disableTextSelection();}};
f.prototype._stopAutoScroll=function(){var p=this.getGantt()._getPointerExtension();p._bAutoScroll=false;};
f.prototype.isDragging=function(){return this.bDragging;};
f.prototype.skipEvent=function(o){return this.bElementDraggable===false;};
f.prototype.showGhost=function(o){var A=this.getGantt().getGhostAlignment();var O=this.calcGhostOffsetByAlignment(o,A);q(document.getElementById("sapGanttDragGhostWrapper")).css(O).css({"visibility":"visible"});};
f.prototype.calcGhostOffsetByAlignment=function(o,A){var r=C.getConfiguration().getRTL();var s=this.mDragPoint.shapeWidth,S=this.mDragPoint.shapeX,i=this.mDragPoint.cursorX;var g;var h=a.xPosOfEvent(o);if(this.getGantt().getDragOrientation()===D.Vertical){var j=a.getSvgScreenPoint(this.getDomRefs().ganttSvg,{pageX:this.mDragPoint.shapeX,clientX:this.mDragPoint.shapeX,pageY:this.mDragPoint.shapeY,clientY:this.mDragPoint.shapeY});g=j.x;}else{if(A===c.Start){g=r?(h-s):h;}else if(A===c.None){g=h+(S-i);}else if(A===c.End){g=r?h:(h-s);}}var t=(a.getEventPosition(o).pageY-2);if(this.getGantt().getDragOrientation()===D.Horizontal){var k=a.getSvgScreenPoint(this.getDomRefs().ganttSvg,{pageX:this.mDragPoint.shapeX,clientX:this.mDragPoint.shapeX,pageY:this.mDragPoint.shapeY,clientY:this.mDragPoint.shapeY});t=k.y;}return{left:g+"px",top:t+"px"};};
f.prototype.removeGhost=function(){this.$ghost=null;q(document.getElementById("sapGanttDragGhostWrapper")).remove();};
f.prototype.createDragGhost=function(L){var $=q("<div id='sapGanttDragGhostWrapper'></div>");q(document.body).append($);var g=document.createElement("canvas");var h=L.getBBox();g.width=this.normalizeGhostImageWidth(h.width);g.height=h.height;this.createGhostImage(L,g);return $;};
f.prototype.normalizeGhostImageWidth=function(w){return w;};
f.prototype.createGhostImage=function(L,g){var s=this.serializeClonedSvg(g,L);var h=this._b64EncodeUnicode(s);var i="data:image/svg+xml;base64,"+h;this.appendGhostImageToWrapper(L,i);};
f.prototype._b64EncodeUnicode=function(s){return btoa(encodeURIComponent(s).replace(/%([0-9A-F]{2})/g,function toSolidBytes(g,p){return String.fromCharCode('0x'+p);}));};
f.prototype.appendGhostImageToWrapper=function(L,g){var n=this.getNumberOfDragObject(L);var $=q(document.getElementById("sapGanttDragGhostWrapper"));var s=this._getDragTextOverlayStyle(L);q("<div class='sapGanttDragGhost'>"+"<img class='sapGanttDragGhostImg' src='"+g+"'/>"+"<div class='sapGanttDragTextOverlay "+s.css+"' style='"+s.style+"'>"+n+"</div>"+"</div>").appendTo($);};
f.prototype._getDragTextOverlayStyle=function(L){var r=C.getConfiguration().getRTL();var A=this.getGantt().getGhostAlignment();var s=this.mDragPoint.shapeWidth,S=this.mDragPoint.shapeX,i=this.mDragPoint.cursorX;var g=i-S;var h="";var j="";if(A===c.None){j=r?("right: "+(s-g)+"px;"):("left: "+(g)+"px;");}else if(A===c.End){h="sapGanttDragTextOverlayGhostAlignEnd";}var k="line-height: "+L.getBBox().height+"px;"+j;return{style:k,css:h};};
f.prototype.serializeClonedSvg=function(g,o){var s=d3.ns.prefix.svg;var h=o.getBBox();var i=document.createElementNS(s,"svg");i.setAttribute("width",g.width);i.setAttribute("height",g.height);var j=o.cloneNode(true);this.removeOriginalTextNode(j);var k=document.createElementNS(s,"g");k.setAttribute("transform","translate("+-(h.x)+", "+-(h.y)+")");k.appendChild(j);var S=this.getGantt().getSvgDefs();if(S){var n=q(document.getElementById(S.getId())).get(0).cloneNode(true);i.appendChild(n);}i.appendChild(k);return new XMLSerializer().serializeToString(i);};
f.prototype.removeOriginalTextNode=function(n){if(n.tagName==="text"){n.parentNode.removeChild(n);}var g=n.children||n.childNodes;for(var i=0;i<g.length;i++){this.removeOriginalTextNode(g[i]);}};
f.prototype.getNumberOfDragObject=function(L){var s=this.getGantt().getSelection();var S=s.numberOfSelectedDraggableShapes();var r=C.getLibraryResourceBundle("sap.gantt");var o=r.getText("GNT_DRAGGED_OBJECT");var O=r.getText("GNT_DRAGGED_OBJECTS");var g=S>1?O:o;return S+" "+g;};
f.prototype._disableTextSelection=function(){q(document.body).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).bind("selectstart",function(o){o.preventDefault();return false;});};
f.prototype._enableTextSelection=function(){q(document.body).attr("unselectable","off").css({"-moz-user-select":"","-webkit-user-select":"","user-select":""}).unbind("selectstart");};
f.prototype.isAllowedVerticalOrentationDrag=function(){var g=this.getGantt();if(g.getDragOrientation()===D.Vertical){return g.oSelection.numberOfSelectedDraggableShapes()<2;}return true;};
return f;});
sap.ui.predefine('sap/gantt/simple/GanttExtension',["sap/ui/base/Object"],function(B){"use strict";
var G=B.extend("sap.gantt.simple.GanttExtension",{
_gantt:null,
_settings:null,
constructor:function(g,s){B.call(this);this._gantt=g;this._settings=s||{};var e=this._init(this._gantt,this._settings);if(e){var t=this;g["_get"+e]=function(){return t;};}},
destroy:function(){this._detachEvents();this._gantt=null;B.prototype.destroy.apply(this,arguments);},
getInterface:function(){return this;}
});
G.prototype.getGantt=function(){return this._gantt;};
G.prototype.getDomRefs=function(){var b=function(s){return window.document.getElementById(this.getGantt().getId()+s);}.bind(this);var h=b("-header-svg"),H=null;if(h){H=h.parentNode;}return{gantt:b("-gantt"),ganttSvg:b("-svg"),header:H,headerSvg:h};};
G.prototype._init=function(g,s){return null;};
G.prototype._attachEvents=function(){};
G.prototype._detachEvents=function(){};
G.attachEvents=function(g){if(!g._aExtensions){return;}for(var i=0;i<g._aExtensions.length;i++){g._aExtensions[i]._attachEvents();}};
G.detachEvents=function(g){if(!g._aExtensions){return;}for(var i=0;i<g._aExtensions.length;i++){g._aExtensions[i]._detachEvents();}};
G.enrich=function(g,E,s){if(!E||!(E.prototype instanceof G)){return null;}var e=new E(g,s);if(!g._aExtensions){g._aExtensions=[];}g._aExtensions.push(e);return e;};
G.cleanup=function(g){if(!g._bExtensionsInitialized||!g._aExtensions){return;}for(var i=0;i<g._aExtensions.length;i++){g._aExtensions[i].destroy();}delete g._aExtensions;delete g._bExtensionsInitialized;};
return G;});
sap.ui.predefine('sap/gantt/simple/GanttHeader',["sap/ui/core/Element","sap/ui/core/Core","sap/ui/Device","./RenderUtils","../misc/Utility"],function(E,C,D,R,U){"use strict";
var G=E.extend("sap.gantt.simple.GanttHeader");
G.prototype.renderElement=function(){var r=C.createRenderManager();var g=this.getParent();if(!g.getShowGanttHeader()){return;}var s=g.getId();var h=jQuery("div.sapGanttChartWithTableHeader[data-sap-ui-related="+s.replace(/([:.\[\],=@])/g,"\\$1")+"]");var H=h.height();var i=R.getGanttRenderWidth(g);var n=H/2,a=H/5*2,b=H/5*4;var A=g.getAxisTimeStrategy(),t=A.getTimeLineOption(),o=g.getAxisTime();var l=o.getTickTimeIntervalLabel(t,null,[0,i]);r.write("<svg id='"+s+"-header-svg' class='sapGanttChartHeaderSvg' height='"+H+"px' width='"+i+"'>");r.write("<g>");this.renderHeaderLabel(r,l[0],{y:a,className:"sapGanttTimeHeaderSvgText0",fontSize:14});this.renderHeaderLabel(r,l[1],{y:b,className:"sapGanttTimeHeaderSvgText1",fontSize:14});this.renderIntervalLine(r,l[0],{start:0,end:n,className:"sapGanttTimeHeaderLargeIntervalSvgPath"});this.renderIntervalLine(r,l[1],{start:b,end:H,className:"sapGanttTimeHeaderSvgPath"});r.write("</g>");var N=o.getNowLabel(g.getNowLineInUTC())[0].value;this.renderNowLineHeader(r,g,{headerHeight:H,nowLineX:N});r.write("</svg>");r.flush(h.get(0));r.destroy();};
G.prototype.renderHeaderLabel=function(r,l,a){var b=C.getConfiguration().getRTL();var i=(D.browser.msie||D.browser.edge)&&b;l.forEach(function(d){r.write("<text");r.addClass(a.className);r.writeClasses();r.writeAttribute("text-anchor","start");r.writeAttribute("x",d.value+(b?-5:5));r.writeAttribute("y",a.y);if(i){var o=U.calculateStringLength(d.label)*(a.fontSize/2);r.writeAttribute("transform","translate("+(-o)+")");}r.write(">");r.write(d.label);if(a.className==="sapGanttTimeHeaderSvgText1"&&d.largeLabel){r.write("<title>");r.write(d.largeLabel);r.write("</title>");}r.write("</text>");});};
G.prototype.renderIntervalLine=function(r,l,a){var p="";for(var i=0;i<l.length;i++){var L=l[i];if(L){p+=" M"+" "+(L.value-1/2)+" "+a.start+" L"+" "+(L.value-1/2)+" "+a.end;}}r.write("<path");r.writeAttribute("d",p);r.addClass(a.className);r.writeClasses();r.write(">");r.write("</path>");};
G.prototype.renderNowLineHeader=function(r,g,a){var h=a.headerHeight,n=a.nowLineX;if(g.getEnableNowLine()===false||isNaN(n)){return;}var l=8;var b=l/2,t=Math.sqrt(l*l-b*b);var p=[[n,h],[n-b,h-t],[n+b,h-t],[n,h]].reduce(function(I,c,i){var P=c.join(",");return i===0?"M"+P:(I+"L"+P);},"");r.write("<g class='sapGanttNowLineHeaderSvgPath'>");r.write("<path");r.writeAttribute("d",p);r.write("/>");r.write("</g>");};
return G;},true);
sap.ui.predefine('sap/gantt/simple/GanttPointerExtension',["sap/ui/thirdparty/jquery","sap/ui/core/Core","./GanttExtension","../drawer/CursorLine","./CoordinateUtils"],function(q,C,G,a,b){"use strict";var n=".sapGanttPointer";var c="contextmenu"+n;var m=["mouseenter","mouseleave","click","dblclick","mouseup","mousedown"],M=m.map(function(E){return E+n;});var s="mousemove",d=s+n,e=d+" mouseup"+n;var B=m.reduce(function(i,j){i[j]=j;return i;},{});B[s]=s;var D={Forward:"forward",Backward:"backward",Bottom:"bottom",Top:"top"};var f=200;var g={addEventListeners:function(o){var E=o._getPointerExtension(),$=q(E.getDomRefs().ganttSvg),i=q(E.getDomRefs().headerSvg);g.removeEventListeners(o);M.forEach(function(j){$.on(j,E.onGanttChartMouseEvent.bind(E));});$.on(e,E.onCrossSvgMouseEvent.bind(E));$.on(d,E.updateGanttCursorLine.bind(E));this.bindBackgroundRowEvent($,E);i.on(B.mousedown+n,function(j){j.preventDefault();j.stopPropagation();j.stopImmediatePropagation();return false;});q(document.getElementById(o.getId())).on(d,b.updateCursorPosition);},removeEventListeners:function(o){var E=o._getPointerExtension(),$=q(E.getDomRefs().ganttSvg),i=q(E.getDomRefs().headerSvg);$.off(n);i.off(B.mousedown+n);this.unbindBackgroundRowEvent($);},doGanttAutoScroll:function(o,i,E,l){var j=o._getPointerExtension();if(j.iTableAutoScrollTimerId){window.clearTimeout(j.iTableAutoScrollTimerId);j.iTableAutoScrollTimerId=null;}if(j._bAutoScroll){if(!j.allowAutoScroll()){return;}j._toggleCursorLine(false);var r=o._getResizeExtension();if(r.isResizing()){r.onResizing(E);}var k=o._getConnectExtension();if(k.isShapeConnecting()){k.onShapeConnecting(E);}var p=o._getPopoverExtension();p._updatePopoverWhenAutoScroll(E);var z=o._getZoomExtension();z._handleAutoScroll(E);var R=C.getConfiguration().getRTL();var S=30;if(D.Backward===i||D.Top===i){S=(-1)*S;}if(D.Backward===i||D.Forward===i){j._iStep=S;}else{j._iStep=0;}var $=this.getScrollArea(o,i);var t,H=false;if(i===D.Forward||i===D.Backward){t=R?"scrollLeftRTL":"scrollLeft";H=true;}else{t="scrollTop";H=false;}k.storeScrollDistance(S,H);var T=$[t]()+S;$[t](T);var u=$[t]();if(u!==T){k.storeScrollDistance(u-T,H);}if(!(l!==undefined&&l===u)){j.iTableAutoScrollTimerId=window.setTimeout(g.doGanttAutoScroll.bind(g),f,o,i,E,u);}}},getScrollArea:function(o,i){var S;var t=o.getTable();var T=q(t.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar));if(i===D.Forward||i===D.Backward){S=q(document.getElementById(o.getId()+"-hsb"));}else{S=T;}return S;},bindBackgroundRowEvent:function($,E){function j(r){q(r).on(B.mouseenter+n+" "+B.mouseleave+n,function(o){var I=E._getRowIndexFromEvent(o);E.onMouseHover(I,o.type===B.mouseenter);});q(r).on(B.click+n+" "+B.dblclick+n,function(o){E.dispatchGanttClick(o);});q(r).on(c,function(o){E.onGanttChartContextMenu(o);});}var k=$.find("rect.sapGanttBackgroundSVGRow");var l=k.length;for(var i=0;i<l;i++){j(k[i]);}},unbindBackgroundRowEvent:function($){var j=$.find("rect.sapGanttBackgroundSVGRow");var l=j.length;for(var i=0;i<l;i++){q(j[i]).off(n);}}};
var h=G.extend("sap.gantt.simple.GanttPointerExtension",{
_init:function(o,S){this._oCursorLineDrawer=new a();this.bPreventSingleClick=false;this.iTableAutoScrollTimerId=null;this._iStep=0;return"PointerExtension";},
_attachEvents:function(){var o=this.getGantt();g.addEventListeners(o);},
_detachEvents:function(){var o=this.getGantt();g.removeEventListeners(o);},
destroy:function(){if(this._oCursorLineDrawer){this._oCursorLineDrawer.destroy();}delete this.bPreventSingleClick;}
});
h.prototype.onGanttChartContextMenu=function(E){E.preventDefault();if(E.target===E.currentTarget){var o=this.getGantt();var i=this._getRowIndexFromEvent(E);var r=o.getTable().getRows()[i];o.fireShapeContextMenu({row:r,pageX:E.pageX,pageY:E.pageY});}};
h.prototype.onGanttChartMouseEvent=function(E){this.updateGanttCursorLine(E);if(E.type===B.mousedown){this.oMousedownTargetElement=E.target;}this.onMouseEnterLeaveEvent(E);};
h.prototype.onCrossSvgMouseEvent=function(E){var o=this.getGantt();if(E.type===B.mousemove){if(this.needAutoscrollInContainerIfNecessary()){this.updateCursorStyle("move");this.tableAutoScroll(E);}else{var i=o._getDragDropExtension();var j=o._getConnectExtension();var r=o._getResizeExtension();var z=o._getZoomExtension();if((i.isDragging()||r.isResizing()||j.isShapeConnecting()||z.isTimeZooming())){this.tableAutoScroll(E);}}}if(E.type===B.mouseup){this.oMouseupTargetElement=E.target;this._bAutoScroll=false;}};
h.prototype.needAutoscrollInContainerIfNecessary=function(){var o=this.getGantt().getParent();if(o&&o.getGanttCharts){var i=o.getGanttCharts();var j=this.getGantt();return i.some(function(k){return k!==j&&k._getDragDropExtension().isDragging();});}return false;};
h.prototype.updateCursorStyle=function(S){document.body.style.cursor=S;this.getDomRefs().ganttSvg.style.cursor=S;};
h.prototype.isPointerInGanttChart=function(E){return this._bMouseOnSvg;};
h.prototype.onMouseEnterLeaveEvent=function(E){this.updateCursorStyle("default");if(E.type===B.mouseenter){this._bMouseOnSvg=true;}else if(E.type===B.mouseleave){this._bMouseOnSvg=false;}};
h.prototype.dispatchGanttClick=function(E){if(this.isEventTargetOnGanttRow(E)===false){return;}if(E.type===B.click){if(this.oMousedownTargetElement===this.oMouseupTargetElement){this.onGanttSingleClick(E);delete this.oMouseupTargetElement;delete this.oMousedownTargetElement;}}else if(E.type===B.dblclick){this.onGanttDoubleClick(E);}};
h.prototype.isEventTargetOnGanttRow=function(E){return q(E.target).hasClass("sapGanttBackgroundSVGRow");};
h.prototype._getRowIndexFromEvent=function(E){return parseInt(E.target.getAttribute("data-sap-ui-index"),10);};
h.prototype._getRowIndexFromElement=function(E){return parseInt(E.getAttribute("data-sap-ui-index"),10);};
h.prototype.onGanttSingleClick=function(E){this.getGantt().getSelection().update(null,{selected:false,ctrl:E.ctrlKey||E.metaKey});var o=this.getGantt();var i=this._getRowIndexFromEvent(E);var r=o.getTable().getRows()[i];if(!r){return;}var j=function(){if(this.bPreventSingleClick===false){this._selectTableRow(o,i);o.fireShapePress({shape:null,row:r});}this.bPreventSingleClick=false;}.bind(this);if(o.getDisableShapeDoubleClickEvent()){this.bPreventSingleClick=false;j();return;}this.iSingleClickTimer=window.setTimeout(j.bind(this),300);};
h.prototype.onGanttDoubleClick=function(E){var o=this.getGantt(),i=o.getDisableShapeDoubleClickEvent(),I,r;if(!i){window.clearTimeout(this.iSingleClickTimer);this.bPreventSingleClick=true;}I=this._getRowIndexFromEvent(E);r=o.getTable().getRows()[I];this._selectTableRow(o,I);if(!i){o.fireShapeDoubleClick({shape:null,row:r});}};
h.prototype._selectTableRow=function(o,i){var t=this.getGantt().getTable().getSelectionBehavior();var S=sap.ui.table.SelectionBehavior;if(S.Row===t||S.RowOnly===t){o.getSyncedControl().syncRowSelection(i);}};
h.prototype.onMouseHover=function(i,H){this.getGantt().getSyncedControl().syncRowHover(i,H);};
h.prototype._getAutoScrollStep=function(){if(this._bAutoScroll){return this._iStep;}return 0;};
h.prototype.updateGanttCursorLine=function(E){if(this.getGantt().getEnableCursorLine()===false){return;}if(E.type===B.mousemove){var S=b.getEventSVGPoint(this.getDomRefs().ganttSvg,E);this._toggleCursorLine(true,S);}else if(E.type===B.mouseleave){this._toggleCursorLine(false);}};
h.prototype._toggleCursorLine=function(S,p){var i=this._getCursorLineDOMs();if(S){this._oCursorLineDrawer.drawSvg(i.allGanttSvg,i.allHeaderSvg,this.getGantt().getLocale(),p);}else{this._oCursorLineDrawer.destroySvg(i.allGanttSvg,i.allHeaderSvg);}};
h.prototype._getCursorLineDOMs=function(){return{allHeaderSvg:d3.selectAll(".sapGanttChartWithSingleTable .sapGanttChartHeaderSvg"),allGanttSvg:d3.selectAll(".sapGanttChartWithSingleTable .sapGanttChartSvg")};};
h.prototype.tableAutoScroll=function(E){this._bAutoScroll=false;if(this.ifAutoScrollToRight()){window.setTimeout(function(){g.doGanttAutoScroll(this.getGantt(),D.Forward,E);}.bind(this),f,this);}else if(this.ifAutoScrollToLeft()){window.setTimeout(function(){g.doGanttAutoScroll(this.getGantt(),D.Backward,E);}.bind(this),f,this);}else if(this.ifAutoScrollToDown()){window.setTimeout(function(){g.doGanttAutoScroll(this.getGantt(),D.Bottom,E);}.bind(this),f,this);}else if(this.ifAutoScrollToUp()){window.setTimeout(function(){g.doGanttAutoScroll(this.getGantt(),D.Top,E);}.bind(this),f,this);}else{this._bAutoScroll=false;}};
h.prototype.ifAutoScrollToRight=function(){var A=this.getAutoScrollPosition();this._bAutoScroll=A.iLocationX>A.oScrollAreaRect.left+A.iScrollAreaWidth-A.iScrollTriggerAreaWidth&&A.iLocationX<A.oScrollAreaRect.left+A.iScrollAreaWidth&&A.iScrollAreaScrollLeft+A.iScrollAreaWidth<A.oScrollArea.scrollWidth;return this._bAutoScroll;};
h.prototype.ifAutoScrollToLeft=function(){var A=this.getAutoScrollPosition();this._bAutoScroll=A.iLocationX<A.oScrollAreaRect.left+A.iScrollTriggerAreaWidth&&A.iLocationX>A.oScrollAreaRect.left&&A.iScrollAreaScrollLeft>0;return this._bAutoScroll;};
h.prototype.ifAutoScrollToDown=function(){var A=this.getAutoScrollPosition();this._bAutoScroll=A.iLocationY>A.oVisibleScrollAreaRect.top+A.iVisibleScrollAreaHeight-A.iScrollTriggerAreaHeight&&A.iLocationY<A.oVisibleScrollAreaRect.top+A.iVisibleScrollAreaHeight&&A.iScrollAreaScrollTop+A.iScrollAreaHeight-A.iBaseRowHeight<=A.iScrollHeight;return this._bAutoScroll;};
h.prototype.ifAutoScrollToUp=function(){var A=this.getAutoScrollPosition();this._bAutoScroll=A.iLocationY<A.oVisibleScrollAreaRect.top+A.iScrollTriggerAreaHeight&&A.iLocationY>A.oVisibleScrollAreaRect.top;return this._bAutoScroll;};
h.prototype.getAutoScrollPosition=function(){var r=C.getConfiguration().getRTL();var t=this.getGantt().getTable();var i=10,j=10,o=document.getElementById(this.getGantt().getId()+"-gantt"),S=q(o),k=o.getBoundingClientRect(),l=S.outerWidth(),p=S.outerHeight(),u=k,v=p,w=this.getGantt()._oExpandModel.getBaseRowHeight(),x=r?S.scrollLeftRTL():S.scrollLeft();var T=q(t.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar)),y=T.scrollTop(),z=T.get(0).scrollHeight;var A=b.getLatestCursorPosition().pageX,E=b.getLatestCursorPosition().pageY;return{iLocationX:A,iLocationY:E,oScrollAreaRect:k,oScrollArea:o,iScrollAreaWidth:l,iScrollTriggerAreaWidth:i,iScrollTriggerAreaHeight:j,iScrollAreaScrollLeft:x,oVisibleScrollAreaRect:u,iVisibleScrollAreaHeight:v,iScrollAreaScrollTop:y,iBaseRowHeight:w,iScrollHeight:z,iScrollAreaHeight:p};};
h.prototype.allowAutoScroll=function(){return this.ifAutoScrollToRight()||this.ifAutoScrollToLeft()||this.ifAutoScrollToDown()||this.ifAutoScrollToUp();};
return h;});
sap.ui.predefine('sap/gantt/simple/GanttPopoverExtension',["sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ui/core/Core","./GanttExtension","./GanttUtils","./CoordinateUtils"],function(q,K,C,G,a,b){"use strict";var _=".sapGanttPopover";var m="mousedown";var M=m+_;var e=["mousemove","mouseup","keydown"];var B=e.reduce(function(d,n){d[n]=n;return d;},{});var E=e.map(function(s){return s+_;});var P={dispatchEvent:function(o){var d=this._getPopoverExtension();if(o.type===B.mousemove){d.onMouseMove(o);}else if(o.type===B.mouseup){d.onMouseUp(o);}else if(o.type===B.keydown){d.onKeydown(o);}},entry:function(o){if(this.getShowShapeTimeOnDrag()){var d=this._getPopoverExtension();d.onMouseDown(o);}},addEventListeners:function(g){this.removeEventListeners(g);var s=q(g._getPopoverExtension().getDomRefs().ganttSvg);s.on(M,P.entry.bind(g));},removeEventListeners:function(g){var s=q(g._getPopoverExtension().getDomRefs().ganttSvg);s.off(M);},addPopoverEventListeners:function(g){this.removePopoverEventListeners(g);E.forEach(function(s){q(document).on(s,P.dispatchEvent.bind(g));});},removePopoverEventListeners:function(g){q(document).off(_);}};
var c=G.extend("sap.gantt.simple.GanttPopoverExtension",{
_init:function(g,s){this._initPopoverStates();return"PopoverExtension";},
_attachEvents:function(){var g=this.getGantt();P.addEventListeners(g);},
_detachEvents:function(){var g=this.getGantt();P.removeEventListeners(g);}
});
c.prototype._initPopoverStates=function(){this._iOffsetX=10;this._iOffsetY=32;this._bNeedReverse=false;};
c.prototype.onMouseMove=function(o){if(this.isDraggingOrResizing(o)){this._showPopover(o);}};
c.prototype.onMouseDown=function(o){P.addPopoverEventListeners(this.getGantt());};
c.prototype.onMouseUp=function(o){P.removePopoverEventListeners(this.getGantt());this._hidePopover(o);this._initPopoverStates();};
c.prototype.onKeydown=function(o){if(!this.isDraggingOrResizing(o)){return;}if(o.keyCode===K.ESCAPE){P.removePopoverEventListeners(this.getGantt());this._hidePopover(o);this._initPopoverStates();}};
c.prototype.isDraggingOrResizing=function(o){var d=this.getGantt()._getDragDropExtension();var r=this.getGantt()._getResizeExtension();return d.isDragging()||r.isResizing();};
c.prototype._buildPopover=function(o){var s=C.getLibraryResourceBundle("sap.gantt").getText("GNT_CURRENT_START");var d=C.getLibraryResourceBundle("sap.gantt").getText("GNT_CURRENT_END");var f=function(l,S){var g="<span class='sapUiTinyMarginEnd sapMLabel'>"+l+"</span>"+"<span class='sapMLabel "+S+"'></span>";return"<div class='sapUiTinyMargin'>"+g+"</div>";};this.oTimePopover=q("<div id='sapGanttPopoverWrapper'>"+f(s,"sapGanttPopoverStartTime")+f(d,"sapGanttPopoverEndTime")+"</div>");this.createAnchor();this._calcPopoverOffset();var $=q(document.getElementById("sapGanttPopoverAnchor"));$.append(this.oTimePopover);var p=this._getPopoverData(o);this._updateTime(p);};
c.prototype._updateTime=function(p){var r=C.getConfiguration().getRTL();var s=r?"marginRight":"marginLeft";var S={marginTop:p.offsetY+"px"};S[s]=p.offsetX+"px";var w=q(document.getElementById("sapGanttPopoverWrapper")).css(S);w.find(".sapGanttPopoverStartTime").html(p.startNewDate);w.find(".sapGanttPopoverEndTime").html(p.endNewDate);};
c.prototype._getDragDropOrResizingDom=function(){var d=this.getGantt()._getDragDropExtension();var r=this.getGantt()._getResizeExtension();if(d.isDragging()){return d.$ghost.get(0);}else if(r.isResizing()){var s=a.getShapesWithUid(this.getGantt().getId(),[r.origin.resizeFor]);if(s.length===1&&s[0]){return document.getElementById(s[0].getShapeUid()+"-selected");}}};
c.prototype.createAnchor=function(o){var $=q(document.getElementById("sapGanttPopoverAnchor"));if($.length===0){$=q("<div id='sapGanttPopoverAnchor'></div>");q(document.body).append($);}this._oTargetDom=$.get(0);};
c.prototype.moveAnchor=function(o){var p=b.getEventPosition(o),i=p.pageX,d=p.pageY,s=window.screen.width,S=window.screen.height;if(i<-this._iOffsetX){i=-this._iOffsetX;}else if(i>s+this._iOffsetX){i=s+this._iOffsetX;}var f=this._iOffsetY;if(this.oTimePopover){f+=this.oTimePopover.height();}if(d<-this._iOffsetY){d=-this._iOffsetY;}else if(d>S-f){d=S-f;}var l={left:i+"px",top:d+"px",visibility:"visible"};q(document.getElementById("sapGanttPopoverAnchor")).css(l);};
c.prototype.checkIfNeedReverse=function(o){var r=C.getConfiguration().getRTL();var p=b.getEventPosition(o);var w=this.oTimePopover.width()+10;if(r&&p.pageX<w||!r&&p.pageX+w>window.screen.width){this._bNeedReverse=true;}else{this._bNeedReverse=false;}};
c.prototype._showPopover=function(o){this.moveAnchor(o);if(this.oTimePopover){this.checkIfNeedReverse(o);this._calcPopoverOffset();var p=this._getPopoverData(o);this._updateTime(p);}else{this._buildPopover(o);}};
c.prototype._hidePopover=function(){if(this.oTimePopover){var $=q(document.getElementById("sapGanttPopoverAnchor"));$.css({"visibility":"hidden"});}};
c.prototype._getPopoverData=function(o){var d=this._getCurrentTime(o);var O=this._iOffsetX;if(this._bNeedReverse){O=-O-this.oTimePopover.width();}var p={offsetX:O,offsetY:this._iOffsetY};if(d){var f=a.getTimeFormaterBySmallInterval(this.getGantt());p.startNewDate=f.format(d.time);p.endNewDate=f.format(d.endTime);}return p;};
c.prototype._getCurrentTime=function(o){var d=this.getGantt()._getDragDropExtension();var r=this.getGantt()._getResizeExtension();if(d.isDragging()){return d._getGhostTime(o);}else if(r.isResizing()){return r._getResizeTime(o);}};
c.prototype._calcPopoverOffset=function(){this._iOffsetY=this._getOffsetY();};
c.prototype._getOffsetY=function(){var d=this._getDragDropOrResizingDom();var D=d&&d.getBoundingClientRect();var o=32;if(D){o=D.height+2;}return Math.ceil(o);};
c.prototype._updatePopoverWhenAutoScroll=function(o){if(this.getGantt().getShowShapeTimeOnDrag()){var d=this.getGantt()._getDragDropExtension();var r=this.getGantt()._getResizeExtension();if(d.isDragging()||r.isResizing()){this._showPopover(o);}}};
return c;});
sap.ui.predefine('sap/gantt/simple/GanttPrinting',["sap/gantt/library","sap/ui/thirdparty/jquery","sap/ui/core/Element","sap/ui/core/Core","sap/ui/core/format/NumberFormat","sap/m/Label","sap/m/Text","sap/m/Title","sap/m/Dialog","sap/m/Button","sap/m/Input","sap/m/FlexBox","sap/m/library","sap/m/FlexItemData","sap/m/ScrollContainer","sap/m/ComboBox","sap/m/RadioButton","sap/m/RadioButtonGroup","sap/m/CheckBox","sap/m/Slider","sap/m/ResponsiveScale","sap/m/StepInput","sap/m/DatePicker","sap/m/BusyDialog","sap/m/MessageStrip","sap/m/Switch","sap/m/Panel","sap/m/TextArea","sap/gantt/misc/Format","sap/gantt/simple/GanttChartContainer","sap/gantt/config/TimeHorizon","sap/gantt/axistime/FullScreenStrategy","sap/ui/core/Item","sap/ui/core/HTML","sap/ui/layout/VerticalLayout","sap/ui/layout/HorizontalLayout","sap/ui/layout/GridData","sap/ui/layout/form/SimpleForm","sap/ui/model/json/JSONModel","sap/ui/core/theming/Parameters","sap/ui/core/ResizeHandler","sap/gantt/thirdparty/jspdf","sap/gantt/thirdparty/html2canvas"],function(G,$,E,C,N,L,T,a,D,B,I,F,M,b,S,c,R,d,e,f,g,h,j,k,l,m,P,o,p,q,r,s,t,H,V,u,v,w,J,x,y,z,A){"use strict";var K=M.FlexDirection,O=G.simple.GanttChartWithTableDisplayType;A=window.html2canvas;z=window.jsPDF;
var Q=E.extend("sap.gantt.simple.GanttPrinting",{metadata:{associations:{ganttChart:{type:"sap.gantt.simple.GanttChartWithTable",multiple:false}}}});
Q._oPaperSizes={"A5":{width:Y(148),height:Y(210)},"A4":{width:Y(210),height:Y(297)},"A3":{width:Y(297),height:Y(420)},"A2":{width:Y(420),height:Y(594)},"A1":{width:Y(594),height:Y(841)},"A0":{width:Y(841),height:Y(1189)},"Letter":{width:_(8.5),height:_(11)},"Legal":{width:_(8.5),height:_(14)},"Tabloid":{width:_(11),height:_(17)},"Custom":{width:undefined,height:undefined}};var U="9px Arial, Helvetica, sans-serif";var W="12px Arial, Helvetica, sans-serif";var X="16384";
Q.prototype.init=function(){this._oRb=C.getLibraryResourceBundle("sap.gantt");var i={"multiplePage":true,"qualityWarning":false,"showOrientationMessage":false,"orientationMessage":this._oRb.getText("GNT_PRNTG_SINGLE_PAGE_LANDSCAPE"),"portrait":true,"paperSize":"A4","paperWidth":Q._oPaperSizes.A4.width,"paperHeight":Q._oPaperSizes.A4.height,"unit":"mm","repeatSelectionPanel":false,"scale":100,"duration":"all","startDate":new Date(),"endDate":new Date(),"showPageNumber":false,"showHeaderText":false,"headerText":"","showFooterText":false,"footerText":"","exportAll":true,"exportRange":"","exportAsJPEG":true,"compressionQuality":75,"previewPageNumber":1,"lastPageNumber":undefined,"marginType":"default","marginLocked":false,"marginTop":Y(5),"marginRight":Y(5),"marginBottom":Y(5),"marginLeft":Y(5),"cropMarks":false,"cropMarksWeight":0.25,"cropMarksOffset":Y(3)};this._oModel=new J(i);this._oGanttCanvas=undefined;this._iHeaderAndFooterHeight=Y(8);this._ganttChartContainer=new q();};
Q.prototype.export=function(){this._savePdf();};
Q.prototype.renderGanttClone=function(){if(C.getConfiguration().getRTL()){return Promise.resolve();}return new Promise(function(i){this._ganttChartClone.getTable().attachEventOnce("_rowsUpdated",i,this);this._ganttChartClone.invalidate();}.bind(this));};
Q.prototype.mergeCanvases=function(i){var c1=document.createElement('canvas'),d1=c1.getContext('2d'),e1=i[0].width,f1=[],g1=i.reduce(function(n,h1,i1,i){f1.push({cnv:h1,y:n});n+=i[i1].height;return n;},0);c1.width=e1;c1.height=g1;f1.forEach(function(n){d1.beginPath();d1.drawImage(n.cnv,0,n.y,e1,n.cnv.height);});if(c1.width>X||c1.height>X){this._oClonedGanttDiv.style.height=c1.height+"px";this._oClonedGanttDiv.style.width=c1.width+"px";return undefined;}return c1;};
Q.prototype.generateCanvasAsync=function(i){var n=0;var c1=this._getOriginalGanttChart().getTable()._getTotalRowCount()/this.iThreshold;this.bLast=c1>1?false:true;var d1=this;var e1=[];function f1(i){d1._oClonedGanttDiv.style.height=X+"px";var h1=i*d1.iThreshold;var i1=d1._getOriginalGanttChart().getTable()._getTotalRowCount();d1.iThreshold=Math.min(d1.iThreshold,i1-h1);d1.bLast=n+1>=c1?true:false;d1._ganttChartClone.getTable().setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Fixed);d1._ganttChartClone.getTable().setVisibleRowCount(d1.iThreshold);d1.bFirst=(i===0)?true:false;d1._ganttChartClone.getTable().setFirstVisibleRow(h1);if(C.getConfiguration().getRTL()){d1._ganttChartClone._bRenderGanttClone=true;}return new Promise(function(j1){this._ganttChartClone.getTable().attachEventOnce("_rowsUpdated",j1,d1);this._ganttChartClone.invalidate();}.bind(d1));}function g1(i){return f1(i).then(function(){return d1._expandAndCollapse();}).then(function(){d1._ganttChartClone._bExpandRows=true;return d1._expandRowSettings();}).then(function(){d1._ganttChartClone._bExpandRows=false;d1._setCloneDivHeight();document.getElementById(d1._ganttChartClone.getId()+"-sapGanttBackgroundTableContent").style.height=d1._iContentHeight;document.getElementById(d1._ganttChartClone.getTable().getId()+"-tableCCnt").style.height=d1._iContentHeight;if(d1.bLast&&!d1.bFirst){return d1._createGanttCanvas();}else{return Promise.resolve();}}).then(function(){return d1._createGanttCanvas();}).then(function(h1){return e1.push(h1);}).then(function(){if(i===0){d1._ganttChartClone.setShowGanttHeader(false);}n=n+1;if(n<c1){g1(n);}else{d1._oGanttCanvas=d1.mergeCanvases(e1);d1._updateDialogPreview();d1._oDialog.getContent()[0].setBusy(false);d1._oFlexBoxPreview.setBusy(false);d1._oButtonExport.setEnabled(true);}});}return g1(i);};
Q.prototype.open=function(){if(!this.getGanttChart()||!this._getOriginalGanttChart().isA("sap.gantt.simple.GanttChartWithTable")){throw new Error("Association 'ganttChart' of type 'sap.gantt.simple.GanttChartWithTable' is not set");}var i=this;this._createAndOpenDialog();this._oDialog.getContent()[0].setBusy(true);this._oButtonExport.setEnabled(false);if(this._ganttChartClone._enableOptimisation){this._ganttChartClone.setShowGanttHeader(true);return this._drawClonedGantt().then(function(){return i.generateCanvasAsync(0);}).catch(function(n){if(n&&n.bMaxCanvasSizeExceeded){i._updateDialogPreviewCanvas();i._oDialog.getContent()[0].setBusy(false);}});}else{if(C.getConfiguration().getRTL()){i._ganttChartClone._bRenderGanttClone=true;}return this._drawClonedGantt().then(function(){return i._expandAndCollapse();}).then(function(){i._ganttChartClone._bExpandRows=true;return i._expandRowSettings();}).then(function(){i._ganttChartClone._bExpandRows=false;i._setCloneDivHeightNonOptimised();document.getElementById(i._ganttChartClone.getId()+"-sapGanttBackgroundTableContent").style.height=i._iContentHeight;document.getElementById(i._ganttChartClone.getTable().getId()+"-tableCCnt").style.height=i._iContentHeight;return i._createGanttCanvas();}).then(function(n){i._oGanttCanvas=n;i._updateDialogPreview();i._oDialog.getContent()[0].setBusy(false);i._oButtonExport.setEnabled(true);}).catch(function(n){if(n&&n.bMaxCanvasSizeExceeded){i._updateDialogPreviewCanvas();i._oDialog.getContent()[0].setBusy(false);}});}};
Q.prototype.close=function(){this._ganttChartClone.destroy();this._ganttChartClone=null;this._ganttChartContainer.destroy();this._ganttChartContainer=null;document.body.removeChild(this._oClonedGanttDiv);y.deregister(this._sResizeHandlerId);this._oDialog.close();this._oDialog.destroy();};
Q.prototype.setGanttChart=function(i){this.setAssociation("ganttChart",i);this._ganttChartClone=i.clone();this._ganttChartClone._enableOptimisation=i.getPrintingBatchSize()>0?true:false;this.canvasScale=2;if(this._ganttChartClone._enableOptimisation){this._ganttChartClone.getTable().destroyExtension();var n=Math.max((i.getAxisTimeStrategy().getZoomLevel()),1);this.iThreshold=Math.min(Math.round(i.getPrintingBatchSize()/n),i.getTable()._getTotalRowCount());this.bFirst=true;this._ganttChartClone.getTable().setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Fixed);this._ganttChartClone.getTable().setVisibleRowCount(this.iThreshold);this._ganttChartClone.getTable().setThreshold(this.iThreshold);this._ganttChartClone.setParent(this._getOriginalGanttChart(),"originalGanttChart",true);}else{this._ganttChartContainer.setParent(this._getOriginalGanttChart(),"originalGanttChart",true);}this._addBackOriginalGanttRowBinding(this._ganttChartClone,i);this._originalHasRenderedShapes=i.getInnerGantt().hasRenderedShapes();this._ganttChartClone.mEventRegistry={};this._ganttChartClone.setHeight("100%");var c1=i._oSplitter._calculatedSizes[0];this._ganttChartClone.setSelectionPanelSize(c1.toString()+"px");var d1=i.getAxisTimeStrategy();if(!d1.isA("sap.gantt.axistime.FullScreenStrategy")){i._getScrollExtension()._updateVisibleHorizonForce();var e1=this._ganttChartClone.getAxisTimeStrategy();e1.setTotalHorizon(d1.getTotalHorizon());e1.setVisibleHorizon(d1.getTotalHorizon());}var f1=d1.getVisibleHorizon();var g1=this._getHorizonDates(f1);var h1=this._horizonWidthInSec(g1);this._fPixelsBySec=i.getVisibleWidth()/h1;this._ganttChartClone._bClonedGantt=true;if(!this._ganttChartClone._enableOptimisation){this._ganttChartContainer.addGanttChart(this._ganttChartClone);}return this;};
Q.prototype._expandAndCollapse=function(){var n=this._getOriginalGanttChart().getTable();if(!n.isA("sap.ui.table.TreeTable")){return new Promise(function(f1){this._ganttChartClone.getTable().attachEventOnce("_rowsUpdated",f1,this);this._ganttChartClone.invalidate();}.bind(this));}var c1=n.getBinding("rows"),d1=this._ganttChartClone.getTable().getBinding("rows"),e1=false;for(var i=0;i<c1.getLength();i++){if((d1.isExpanded(i)!==undefined)&&c1.isExpanded(i)&&!d1.isExpanded(i)){d1.expand(i);e1=true;}else if((d1.isExpanded(i)!==undefined)&&!c1.isExpanded(i)&&d1.isExpanded(i)){d1.collapse(i);e1=true;}}if(e1){return new Promise(function(f1){this._ganttChartClone.getTable().attachEventOnce("_rowsUpdated",f1,this);this._ganttChartClone.invalidate();}.bind(this));}else{return Promise.resolve();}};
Q.prototype._expandRowSettings=function(){var i=this._ganttChartClone.getShapeSchemes().find(function(n){return!n.getPrimary();});if(i){this._ganttChartClone.expand(i.getKey(),this._getOriginalGanttChart()._aExpandedIndices);}return new Promise(function(n){this._ganttChartClone.getTable().attachEventOnce("_rowsUpdated",n,this);this._ganttChartClone.invalidate();}.bind(this));};
Q.prototype._onResize=function(){var i=this._oHTMLDialogPreview.getDomRef();i.style.overflow="hidden";this._resizePrintingPreviewPage();i.style.overflow="visible";};
function Y(i){return i*3.78;}
function Z(i){return i/3.78;}
function _(i){return i/0.01042;}
function a1(i){return i*0.01042;}
Q.prototype._convertUnitToPx=function(i){var n=this._oModel.getProperty("/unit");if(!n){return undefined;}switch(n){case"mm":return Y(i);case"cm":return Y(i)*10;case"in":return _(i);default:return undefined;}};
Q.prototype._convertPxToUnit=function(i){var n=this._oModel.getProperty("/unit");if(!n){return undefined;}switch(n){case"mm":return Z(i);case"cm":return Z(i)/10;case"in":return a1(i);default:return undefined;}};
Q.prototype._onChangeUnitComboBox=function(){this._updatePaperSizeInputs();this._updateMarginInputs();};
Q.prototype._updatePaperSizeInputs=function(){var i=this._oModel.getProperty("/paperWidth"),n=this._oModel.getProperty("/paperHeight");this._setPaperSizeInputs(i,n);};
Q.prototype._setPaperSizeInputs=function(i,n){if(this._oInputPaperWidth){this._oInputPaperWidth.setValue(this._convertPxToUnit(i));}if(this._oInputPaperHeight){this._oInputPaperHeight.setValue(this._convertPxToUnit(n));}};
Q.prototype._setPaperSizesToModel=function(i,n){this._oModel.setProperty("/paperWidth",i);this._oModel.setProperty("/paperHeight",n);};
Q.prototype._updatePaperSizeValues=function(){var i=this._oModel.getProperty("/paperSize"),n=this._oModel.getProperty("/portrait"),c1,d1;if(!i||i==="Custom"){return;}var e1=Q._oPaperSizes[i];if(n){c1=e1.width;d1=e1.height;}else{c1=e1.height;d1=e1.width;}this._setPaperSizeInputs(c1,d1);this._setPaperSizesToModel(c1,d1);if(i==="Letter"||i==="Legal"||i==="Tabloid"){this._oComboBoxUnit.setSelectedKey("in");}else{this._oComboBoxUnit.setSelectedKey("mm");}this._onChangeUnitComboBox();this._updateDialogPreview();};
Q.prototype._updatePaperOrientation=function(i){var n=this._oModel.getProperty("/paperWidth"),c1=this._oModel.getProperty("/paperHeight");if(c1>n){this._oModel.setProperty("/portrait",true);this._radioGroupOrientation.setSelectedIndex(0);}else{this._oModel.setProperty("/portrait",false);this._radioGroupOrientation.setSelectedIndex(1);}};
Q.prototype._onChangePaperSizeInput=function(i){var n=i.getSource();var c1=this._convertUnitToPx(N.getFloatInstance().parse(n.getValue()));if(n===this._oInputPaperWidth){this._oModel.setProperty("/paperWidth",c1);}else{this._oModel.setProperty("/paperHeight",c1);}this._oComboBoxPaperSizes.setSelectedKey("Custom");this._updatePaperOrientation();this._updateDialogPreview();};
Q.prototype._onChangeCompressionSlider=function(i){var n=i.getSource();var c1=n.getValue();this._setCompressionComboBoxItem(c1);};
Q.prototype._setCompressionComboBoxItem=function(n){if(n===100){this._oComboBoxCompression.setSelectedKey("maximum");}else if(n>=75){this._oComboBoxCompression.setSelectedKey("high");}else if(n>=50){this._oComboBoxCompression.setSelectedKey("medium");}else{this._oComboBoxCompression.setSelectedKey("low");}};
Q.prototype._onChangeCompressionComboBox=function(i){var n=i.getSource().getSelectedKey();var c1={maximum:100,high:75,medium:50,low:25};this._oModel.setProperty("/compressionQuality",c1[n]);};
Q.prototype._onChangeOrientation=function(){var i=this._oModel.getProperty("/paperWidth"),n=this._oModel.getProperty("/paperHeight");this._setPaperSizeInputs(n,i);this._setPaperSizesToModel(n,i);this._updateDialogPreview();};
Q.prototype._onChangeExportTypes=function(){this._updateDialogPreview();};
Q.prototype._setMarginInputs=function(i,n,c1,d1){this._oInputMarginTop.setValue(this._convertPxToUnit(i));this._oInputMarginRight.setValue(this._convertPxToUnit(n));this._oInputMarginBottom.setValue(this._convertPxToUnit(c1));this._oInputMarginLeft.setValue(this._convertPxToUnit(d1));};
Q.prototype._setMarginsToModel=function(i,n,c1,d1){if(i!==undefined){this._oModel.setProperty("/marginTop",i);}if(n!==undefined){this._oModel.setProperty("/marginRight",n);}if(c1!==undefined){this._oModel.setProperty("/marginBottom",c1);}if(d1!==undefined){this._oModel.setProperty("/marginLeft",d1);}};
Q.prototype._onChangeMarginComboBox=function(i){var n=i.getSource().getSelectedKey();var c1=Y(5);if(n==="none"){c1=0;}this._setMarginsToModel(c1,c1,c1,c1);this._setMarginInputs(c1,c1,c1,c1);this._updateDialogPreview();};
Q.prototype._updateModelFromMarginInputs=function(){var i,n,c1,d1;if(this._oInputMarginTop.getValueState()!=="Error"){i=this._convertUnitToPx(this._oInputMarginTop.getValue());}if(this._oInputMarginRight.getValueState()!=="Error"){n=this._convertUnitToPx(this._oInputMarginRight.getValue());}if(this._oInputMarginBottom.getValueState()!=="Error"){c1=this._convertUnitToPx(this._oInputMarginBottom.getValue());}if(this._oInputMarginLeft.getValueState()!=="Error"){d1=this._convertUnitToPx(this._oInputMarginLeft.getValue());}this._setMarginsToModel(i,n,c1,d1);};
Q.prototype._updateMarginInputs=function(){var i=this._oModel.getProperty("/marginTop");var n=this._oModel.getProperty("/marginRight");var c1=this._oModel.getProperty("/marginBottom");var d1=this._oModel.getProperty("/marginLeft");this._setMarginInputs(i,n,c1,d1);};
Q.prototype._updateCropMarksOffsetInput=function(){var i=this._oModel.getProperty("/cropMarksOffset");this._oInputCropMarksOffset.setValue(this._convertPxToUnit(i));};
Q.prototype._onChangeMarginInput=function(i){var n=i.getSource();if(n.getValueState()==="Error"){return;}if(this._oModel.getProperty("/marginLocked")){var c1=this._convertUnitToPx(n.getValue());this._setMarginInputs(c1,c1,c1,c1);this._setMarginsToModel(c1,c1,c1,c1);}else{this._updateModelFromMarginInputs();}this._updateDialogPreview();};
Q.prototype._onChangeCropMarksInput=function(i){var n=i.getSource();var c1=this._convertUnitToPx(n.getValue());this._oInputCropMarksOffset.setValue(this._convertPxToUnit(c1));this._oModel.setProperty("/cropMarksOffset",c1);};
Q.prototype._allRange=function(){this._oModel.setProperty("/startDate",this._oDatePickerFrom.getMinDate());this._oModel.setProperty("/endDate",this._oDatePickerTo.getMaxDate());};
Q.prototype._getFirstDayOfNextWeek=function(i){var n=this._getOriginalGanttChart().getAxisTimeStrategy().getFirstDayOfWeek();var c1=(n+7-i.getDay())%7;return new Date(i.getFullYear(),i.getMonth(),i.getDate()+(c1===0?7:c1));};
Q.prototype._nextWeekRange=function(){var n=new Date();var i=this._getFirstDayOfNextWeek(n);this._oModel.setProperty("/startDate",this._validateDate(i));this._oModel.setProperty("/endDate",this._validateDate(new Date(i.getFullYear(),i.getMonth(),i.getDate()+7)));};
Q.prototype._getFirstDayOfNextMonth=function(i){return new Date(i.getFullYear(),i.getMonth()+1,1);};
Q.prototype._nextMonthRange=function(){var n=new Date();this._oModel.setProperty("/startDate",this._validateDate(this._getFirstDayOfNextMonth(n)));this._oModel.setProperty("/endDate",this._validateDate(new Date(n.getFullYear(),n.getMonth()+2,1)));};
Q.prototype._validateDate=function(i){var n=this._oDatePickerTo.getMaxDate(),c1=this._oDatePickerFrom.getMinDate();if(i.getTime()>n.getTime()){return n;}if(i.getTime()<c1.getTime()){return c1;}return i;};
Q.prototype._onChangeDurationComboBox=function(){var i=this._oModel.getProperty("/duration");switch(i){case"all":{this._allRange();}break;case"week":{this._nextWeekRange();}break;case"month":{this._nextMonthRange();}break;case"custom":default:return;}this._updateGanttCanvas();};
Q.prototype._onChangeDurationDatePicker=function(){this._oComboBoxDuration.setSelectedKey("custom");this._updateGanttCanvas();};
Q.prototype._setEnabledPreviousButtons=function(i){this._oButtonFirst.setEnabled(i);this._oButtonPrevious.setEnabled(i);};
Q.prototype._setEnabledNextButtons=function(i){this._oButtonNext.setEnabled(i);this._oButtonLast.setEnabled(i);};
Q.prototype._updatePageNumberButtons=function(){if(!this._oGanttCanvas){this._setEnabledNextButtons(false);this._setEnabledPreviousButtons(false);return;}var i=this._oModel.getProperty("/previewPageNumber"),n=this._oModel.getProperty("/lastPageNumber");if(!n){n=Number.MAX_SAFE_INTEGER;}if(i<=1){this._setEnabledPreviousButtons(false);}if(i>=n){this._setEnabledNextButtons(false);}if(i>1){this._setEnabledPreviousButtons(true);}if(i<n){this._setEnabledNextButtons(true);}};
Q.prototype._getHeaderHeight=function(){var i=this._oModel.getProperty("/showHeaderText");if(i){return this._iHeaderAndFooterHeight;}return 0;};
Q.prototype._isFooterMultiline=function(){if(!this._oModel.getProperty("/multiplePage")){return false;}var i=this._oModel.getProperty("/showPageNumber"),n=this._oModel.getProperty("/showFooterText");if(!n||!i){return false;}var c1=this._oModel.getProperty("/footerText"),d1=this._oModel.getProperty("/paperWidth"),e1;var f1=C.getConfiguration().getRTL();if(f1){e1=this._oModel.getProperty("/marginRight");}else{e1=this._oModel.getProperty("/marginLeft");}var g1=7;var h1=this._oGanttCanvas.getContext("2d");h1.font=U;var i1=h1.measureText(c1).width;if(d1/2>(e1+Y(4)+i1+Y(10)+g1)){return false;}else{return true;}};
Q.prototype._getFooterHeight=function(){var i=this._oModel.getProperty("/showPageNumber"),n=this._oModel.getProperty("/showFooterText");if(n&&i){return this._isFooterMultiline()?2*this._iHeaderAndFooterHeight:this._iHeaderAndFooterHeight;}if(n||i){return this._iHeaderAndFooterHeight;}return 0;};
Q.prototype._isShrinkableToOnePageByWidth=function(){var i=this._getPaperContentWidth()/this._getPaperContentHeight(),n=this._oGanttCanvas.width/this._oGanttCanvas.height;return i<=n;};
Q.prototype._getPaperContentWidth=function(){var i=this._oModel.getProperty("/paperWidth"),n=this._oModel.getProperty("/marginLeft"),c1=this._oModel.getProperty("/marginRight");return i-n-c1;};
Q.prototype._getPaperContentHeight=function(){var i=this._oModel.getProperty("/paperHeight"),n=this._oModel.getProperty("/marginTop"),c1=this._oModel.getProperty("/marginBottom");return i-n-this._getHeaderHeight()-c1-this._getFooterHeight();};
Q.prototype._getScale=function(){return(100/this._oModel.getProperty("/scale"))*2;};
Q.prototype._getCroppingWidth=function(){return this._getScale()*this._getPaperContentWidth();};
Q.prototype._getCroppingHeight=function(){return this._getScale()*this._getPaperContentHeight();};
Q.prototype._getPagesInARow=function(){return Math.ceil(this._oGanttCanvas.width/this._getCroppingWidth());};
Q.prototype._getPagesInAColumn=function(){return Math.ceil(this._oGanttCanvas.height/this._getCroppingHeight());};
Q.prototype._updateLastPageNumber=function(){if(!this._oGanttCanvas){return;}var i=this._getPagesInARow()*this._getPagesInAColumn();this._oModel.setProperty("/lastPageNumber",i);var n=this._oModel.getProperty("/previewPageNumber");if(n>i){this._oModel.setProperty("/previewPageNumber",i);}};
Q.prototype._onPressButtonFirst=function(){this._oModel.setProperty("/previewPageNumber",1);this._updatePageNumberButtons();this._updateDialogPreviewCanvas();};
Q.prototype._onPressButtonPrevious=function(){var i=this._oModel.getProperty("/previewPageNumber");this._oModel.setProperty("/previewPageNumber",i-1);this._updatePageNumberButtons();this._updateDialogPreviewCanvas();};
Q.prototype._onPressButtonNext=function(){var i=this._oModel.getProperty("/previewPageNumber");this._oModel.setProperty("/previewPageNumber",i+1);this._updatePageNumberButtons();this._updateDialogPreviewCanvas();};
Q.prototype._onPressButtonLast=function(){var i=this._oModel.getProperty("/lastPageNumber");if(!i){return;}this._oModel.setProperty("/previewPageNumber",i);this._updatePageNumberButtons();this._updateDialogPreviewCanvas();};
Q.prototype._getOriginalGanttChart=function(){return sap.ui.getCore().byId(this.getAssociation("ganttChart"));};
Q.prototype._setGanttCloneDivWidth=function(i){var n=this._getOriginalGanttChart(),c1=this._getHorizonDates(i),d1=this._horizonWidthInSec(c1),e1=Math.ceil(this._fPixelsBySec*d1);var f1=n.getDisplayType()===O.Both?n.getTable().getDomRef().offsetWidth:0;this._oClonedGanttDiv.style.width=(f1+e1+10).toString()+"px";};
Q.prototype._setGanttCloneDivHeight=function(){var i=this._getOriginalGanttChart().getTable();var n=i._getTotalRowCount(),c1=i._aRowHeights;var d1=c1.reduce(function(f1,g1){return f1+g1;});var e1=Math.ceil((d1/c1.length)*n);this._iGanttHeight=e1+102;this._oClonedGanttDiv.style.height=this._iGanttHeight.toString()+"px";};
Q.prototype._setCloneDivHeight=function(){var n=this.bFirst?document.getElementById(this._ganttChartClone.getId()+"-header-svg").height.baseVal.value:0;var c1=this._ganttChartClone.getTable().getVisibleRowCount();var d1=0;var e1=this.bLast?3:0;var f1=this._ganttChartClone.getTable().getRows()[0].getIndex();var g1=this._ganttChartClone.getTable().getFirstVisibleRow();var h1=Math.abs(f1-g1);var i1=this._ganttChartClone.getTable()._aRowHeights;for(var i=h1;i<c1+h1;i++){d1=d1+i1[i];}this._iContentHeight=d1+"px";this._oClonedGanttDiv.style.height=(d1+n+e1).toString()+"px";};
Q.prototype._setCloneDivHeightNonOptimised=function(){var n=document.getElementById(this._ganttChartClone.getId()+"-header-svg").height.baseVal.value;var c1=this._ganttChartClone.getTable()._getTotalRowCount();var d1=3;var e1=this._ganttChartClone.getTable()._aRowHeights;for(var i=0;i<c1;i++){var f1=e1[i]?e1[i]:0;d1=d1+f1;}this._iContentHeight=d1.toString()+"px";this._oClonedGanttDiv.style.height=(d1+n).toString()+"px";};
Q.prototype._createImgElementsFromSvgImages=function(){var n=this._ganttChartClone.$().find("svg.sapGanttChartSvg");if(!n.length){return;}var c1=this._ganttChartClone.$().find(".sapGanttChartCnt")[0];if(!c1){return;}c1.style.position="relative";var d1=n.find("image");for(var i=0;i<d1.length;i++){var e1=d1[i];var f1=document.createElement("img");f1.src=e1.getAttribute("xlink:href");f1.style.position="absolute";f1.style.top=e1.getAttribute("y")+"px";f1.style.left=e1.getAttribute("x")+"px";f1.style.width=e1.getAttribute("width")+"px";f1.style.height=e1.getAttribute("height")+"px";c1.appendChild(f1);}};
Q.prototype._createGanttCanvas=function(){this._setStyleToGanttChartSvg(this._ganttChartClone);this._createImgElementsFromSvgImages();return A(this._oClonedGanttDiv,{allowTaint:true,scale:this.canvasScale,logging:false});};
Q.prototype._updateGanttCanvas=function(){var i=this._oModel;var n=this._ganttChartClone.getAxisTimeStrategy();var c1=n.getVisibleHorizon().clone();var d1=n.getTotalHorizon().clone();c1.setStartTime(i.getProperty("/startDate"));c1.setEndTime(i.getProperty("/endDate"));d1.setStartTime(i.getProperty("/startDate"));d1.setEndTime(i.getProperty("/endDate"));this._oButtonExport.setEnabled(false);this._oFlexBoxPreview.setBusy(true);this._setGanttCloneDivWidth(d1);this._setGanttCloneDivHeight();if((this._oClonedGanttDiv.offsetWidth*this.canvasScale)>X||(this._oClonedGanttDiv.offsetHeight*this.canvasScale)>X){this._oClonedGanttDiv.style.height=(this._oClonedGanttDiv.offsetHeight*this.canvasScale)+"px";this._oClonedGanttDiv.style.width=(this._oClonedGanttDiv.offsetWidth*this.canvasScale)+"px";this._oGanttCanvas=undefined;this._updateDialogPreviewCanvas();this._oFlexBoxPreview.setBusy(false);return undefined;}n.setTotalHorizon(d1);n.setVisibleHorizon(c1);if(!this._ganttChartClone._enableOptimisation){this._ganttChartClone.invalidate();}this._ganttChartClone._bRenderGanttClone=true;if(this._ganttChartClone._enableOptimisation){var e1=this._getOriginalGanttChart();var f1=Math.max((e1.getAxisTimeStrategy().getZoomLevel()),1);this.iThreshold=Math.min(Math.round(e1.getPrintingBatchSize()/f1),e1.getTable()._getTotalRowCount());this._ganttChartClone.setShowGanttHeader(true);return this.renderGanttClone().then(function(){this._ganttChartClone._bRenderGanttClone=false;this.generateCanvasAsync(0);}.bind(this));}else{this._oClonedGanttDiv.style.height=(this._iGanttHeight*2)+"px";return this._ganttChartClone.getInnerGantt().resolveWhenReady(this._originalHasRenderedShapes).then(function(){this._ganttChartClone._bRenderGanttClone=false;this.renderGanttClone().then(function(){this._setCloneDivHeightNonOptimised();document.getElementById(this._ganttChartClone.getId()+"-sapGanttBackgroundTableContent").style.height=this._iContentHeight;document.getElementById(this._ganttChartClone.getTable().getId()+"-tableCCnt").style.height=this._iContentHeight;this._createGanttCanvas().then(function(g1){this._oGanttCanvas=g1;this._updateDialogPreview();this._oFlexBoxPreview.setBusy(false);}.bind(this)).catch(function(){this._oFlexBoxPreview.setBusy(false);}.bind(this));}.bind(this));}.bind(this)).catch(function(){this._oFlexBoxPreview.setBusy(false);}.bind(this));}};
Q.prototype._drawClonedGantt=function(){if(this._oClonedGanttDiv){return Promise.reject();}this._oClonedGanttDiv=document.createElement("div");this._oClonedGanttDiv.id="clonedGanttDiv";if(this._getOriginalGanttChart().$().closest(".sapUiSizeCompact").length>0){this._oClonedGanttDiv.classList.add("sapUiSizeCompact");}this._oClonedGanttDiv.style.position="absolute";this._oClonedGanttDiv.style.top="-17000px";this._oClonedGanttDiv.style.left="-17000px";document.body.appendChild(this._oClonedGanttDiv);this._setGanttCloneDivWidth(this._ganttChartClone.getAxisTimeStrategy().getTotalHorizon());this._setGanttCloneDivHeight();var i=this._oModel;var n=this._ganttChartClone.getAxisTimeStrategy();n.getVisibleHorizon().setStartTime(i.getProperty("/startDate"));n.getVisibleHorizon().setEndTime(i.getProperty("/endDate"));if(this._ganttChartClone._enableOptimisation){this._ganttChartClone.placeAt("clonedGanttDiv");}else{this._ganttChartContainer.placeAt("clonedGanttDiv");}this._addBackOriginalGanttRowBinding(this._ganttChartClone,this._getOriginalGanttChart());if((this._oClonedGanttDiv.offsetWidth*this.canvasScale)>X||(this._oClonedGanttDiv.offsetHeight*this.canvasScale)>X){this._oClonedGanttDiv.style.height=(this._oClonedGanttDiv.offsetHeight*this.canvasScale)+"px";this._oClonedGanttDiv.style.width=(this._oClonedGanttDiv.offsetWidth*this.canvasScale)+"px";return Promise.reject({bMaxCanvasSizeExceeded:true});}if(this._ganttChartClone._enableOptimisation){return new Promise(function(c1){this._ganttChartClone.getTable().attachEventOnce("_rowsUpdated",c1,this);this._ganttChartClone.invalidate();}.bind(this));}else{this._oClonedGanttDiv.style.height=(this._iGanttHeight*2)+"px";return this._ganttChartClone.getInnerGantt().resolveWhenReady(this._originalHasRenderedShapes);}};
Q.prototype._addBackOriginalGanttRowBinding=function(i,n){if(i.getTable().getBindingInfo("rows").binding==null){i.oPropagatedProperties=n._getPropertiesToPropagate();i.propagateProperties(true);}if(this._ganttChartClone._enableOptimisation){i.getTable().setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Fixed);i.getTable().setVisibleRowCount(this.iThreshold);i.getTable().setThreshold(this.iThreshold);}var c1=n.getTable().getBinding("rows"),d1=i.getTable().getBinding("rows");if(c1){if(c1.sCustomParams){d1.sCustomParams=c1.sCustomParams;}if(c1.aFilters&&c1.aFilters.length>0){d1.filter(c1.aFilters);}if(c1.aApplicationFilters&&c1.aApplicationFilters.length>0){d1.filter(c1.aApplicationFilters,sap.ui.model.FilterType.Application);}if(c1.aSorters&&c1.aSorters.length>0){d1.sort(c1.aSorters);}}};
Q.prototype._resizePrintingPreviewPage=function(){var i=this._oHTMLDialogPreview.getDomRef(),n=this._oHTMLDialogPreview.$().find(".sapGanttPrintingPreviewPageDiv")[0],c1=i.offsetHeight,d1=this._oModel.getProperty("/paperHeight"),e1=this._oModel.getProperty("/paperWidth"),f1=this._oModel.getProperty("/portrait"),g1,h1;if(f1){g1=c1/d1;h1=e1*g1;}else{g1=c1/e1;h1=c1;c1=d1*g1;}n.style.width=h1.toString()+"px";n.style.height=c1.toString()+"px";};
Q.prototype._updateSinglePageMessages=function(i,n){if(n>i){this._oModel.setProperty("/orientationMessage",this._oRb.getText("GNT_PRNTG_SINGLE_PAGE_PORTRAIT"));}else{this._oModel.setProperty("/orientationMessage",this._oRb.getText("GNT_PRNTG_SINGLE_PAGE_LANDSCAPE"));}if(this._getPagesInARow()>3||this._getPagesInAColumn()>3){this._oModel.setProperty("/qualityWarning",true);}else{this._oModel.setProperty("/qualityWarning",false);}if((n>=i&&this._oModel.getProperty("/portrait"))||(n<=i&&!this._oModel.getProperty("/portrait"))){this._oModel.setProperty("/showOrientationMessage",false);}else{this._oModel.setProperty("/showOrientationMessage",true);}};
Q.prototype._getCanvasOfPageN=function(i,n){var c1=this._oModel.getProperty("/lastPageNumber");if(i>c1){return null;}var d1=document.createElement("canvas");var e1=d1.getContext("2d");e1.imageSmoothingEnabled=false;var f1=this._getCroppingWidth(),g1=this._getCroppingHeight();var h1=this._getPagesInARow();var i1=this._oModel.getProperty("/paperWidth"),j1=this._oModel.getProperty("/paperHeight");var k1=this._oModel.getProperty("/marginTop"),l1=this._oModel.getProperty("/marginRight"),m1=this._oModel.getProperty("/marginBottom"),n1=this._oModel.getProperty("/marginLeft");var o1=(i-1)%h1,p1=Math.floor((i-1)/h1);d1.width=i1;d1.height=j1;if(!n){d1.style.height="100%";d1.style.width="auto";}e1.fillStyle="white";e1.fillRect(0,0,d1.width,d1.height);e1.fillStyle=x.get("sapUiBaseText");e1.textBaseline="middle";e1.font=U;var q1;var r1=C.getConfiguration().getRTL();if(r1){e1.textAlign="right";q1=i1-l1-Y(4);}else{e1.textAlign="left";q1=n1+Y(4);}var s1=this._oModel.getProperty("/showHeaderText");if(s1){var t1=this._oModel.getProperty("/headerText");e1.fillText(t1,q1,k1+(this._iHeaderAndFooterHeight/2));}if(this._oModel.getProperty("/showFooterText")){e1.fillText(this._oModel.getProperty("/footerText"),q1,j1-m1-(this._iHeaderAndFooterHeight/2)-(this._isFooterMultiline()?this._iHeaderAndFooterHeight:0));}var u1=this._oModel.getProperty("/showPageNumber"),v1=this._oModel.getProperty("/multiplePage");if(v1&&u1){e1.font=W;e1.textAlign="center";e1.fillText(i.toString(),i1/2,j1-m1-(this._iHeaderAndFooterHeight/2));}if(v1){var w1=o1*f1,x1=p1*g1,y1=0,z1=0;var A1=false;if((w1+f1)>this._oGanttCanvas.width){A1=true;f1=(this._oGanttCanvas.width-w1);z1=f1/this._getScale();}var B1=false;if((x1+g1)>this._oGanttCanvas.height){B1=true;g1=(this._oGanttCanvas.height-x1);y1=g1/this._getScale();}e1.drawImage(this._oGanttCanvas,w1,x1,f1,g1,n1,k1+this._getHeaderHeight(),A1?z1:this._getPaperContentWidth(),B1?y1:this._getPaperContentHeight());}else{var C1=this._getPaperContentWidth(),D1=this._getPaperContentHeight();var E1=this._isShrinkableToOnePageByWidth();var F1;if(E1){F1=C1/this._oGanttCanvas.width;D1=this._oGanttCanvas.height*F1;}else{F1=D1/this._oGanttCanvas.height;C1=this._oGanttCanvas.width*F1;}this._updateSinglePageMessages(C1,D1);var G1=C1/this._oGanttCanvas.width;if(G1<1){this._downScaleCanvas(this._oGanttCanvas,e1,G1,0,0,this._oGanttCanvas.width,this._oGanttCanvas.height,n1,k1+this._getHeaderHeight());}else{e1.drawImage(this._oGanttCanvas,0,0,this._oGanttCanvas.width,this._oGanttCanvas.height,n1,k1+this._getHeaderHeight(),C1,D1);}}return d1;};
Q.prototype._downScaleCanvas=function(i,n,c1,d1,e1,f1,g1,h1,i1){var j1=document.createElement('canvas');j1.width=f1;j1.height=g1;var k1=j1.getContext('2d');k1.drawImage(i,d1,e1,f1,g1);var l1=c1*c1;var m1=Math.floor(f1*c1);var n1=Math.floor(g1*c1);var o1=0,p1=0,q1=0;var r1=0,s1=0,t1=0,u1=0;var v1=0,w1=0;var x1=0,y1=0,z1=0;var A1=0,B1=0,C1=0;var D1=false,E1=false;var F1=j1.getContext('2d').getImageData(0,0,f1,g1).data;var G1=new Float32Array(3*m1*n1);var H1=0,I1=0,J1=0;for(p1=0;p1<g1;p1++){s1=p1*c1;w1=0|s1;t1=3*w1*m1;E1=(w1!==(0|(s1+c1)));if(E1){z1=(w1+1-s1);C1=(s1+c1-w1-1);}for(o1=0;o1<f1;o1++,q1+=4){r1=o1*c1;v1=0|r1;u1=t1+v1*3;D1=(v1!==(0|(r1+c1)));if(D1){y1=(v1+1-r1);B1=(r1+c1-v1-1);}H1=F1[q1];I1=F1[q1+1];J1=F1[q1+2];if(!D1&&!E1){G1[u1]+=H1*l1;G1[u1+1]+=I1*l1;G1[u1+2]+=J1*l1;}else if(!D1&&E1){x1=z1*c1;G1[u1]+=H1*x1;G1[u1+1]+=I1*x1;G1[u1+2]+=J1*x1;A1=C1*c1;G1[u1+3*m1]+=H1*A1;G1[u1+3*m1+1]+=I1*A1;G1[u1+3*m1+2]+=J1*A1;}else if(D1&&!E1){x1=y1*c1;G1[u1]+=H1*x1;G1[u1+1]+=I1*x1;G1[u1+2]+=J1*x1;A1=B1*c1;G1[u1+3]+=H1*A1;G1[u1+4]+=I1*A1;G1[u1+5]+=J1*A1;}else{x1=y1*z1;G1[u1]+=H1*x1;G1[u1+1]+=I1*x1;G1[u1+2]+=J1*x1;A1=B1*z1;G1[u1+3]+=H1*A1;G1[u1+4]+=I1*A1;G1[u1+5]+=J1*A1;A1=y1*C1;G1[u1+3*m1]+=H1*A1;G1[u1+3*m1+1]+=I1*A1;G1[u1+3*m1+2]+=J1*A1;A1=B1*C1;G1[u1+3*m1+3]+=H1*A1;G1[u1+3*m1+4]+=I1*A1;G1[u1+3*m1+5]+=J1*A1;}}}var K1=document.createElement('canvas');K1.width=m1;K1.height=n1;var L1=K1.getContext('2d');var M1=L1.getImageData(0,0,m1,n1);var N1=M1.data;var O1=0;for(q1=0,u1=0;O1<m1*n1;q1+=3,u1+=4,O1++){N1[u1]=0|(G1[q1]);N1[u1+1]=0|(G1[q1+1]);N1[u1+2]=0|(G1[q1+2]);N1[u1+3]=255;}n.putImageData(M1,h1,i1);return;};
function b1(i){while(i.firstChild){i.removeChild(i.firstChild);}}
Q.prototype._createPreviewErrorMessageStrip=function(i){return new l({text:this._oRb.getText(i?"GNT_PRNTG_ERROR_TOOHIGHCHART":"GNT_PRNTG_ERROR_BIGCHART"),showIcon:true,type:"Error"});};
Q.prototype._updateDialogPreviewCanvas=function(){var i=this._oHTMLDialogPreview.$().find(".sapGanttPrintingPreviewPageDiv");var n=i[0];if(this._oGanttCanvas){this._oButtonExport.setEnabled(true);var c1=this._oModel.getProperty("/multiplePage");if(c1){this._oModel.setProperty("/qualityWarning",false);this._oModel.setProperty("/showOrientationMessage",false);}var d1=this._getCanvasOfPageN(c1?this._oModel.getProperty("/previewPageNumber"):1,false);b1(n);this._resizePrintingPreviewPage();n.appendChild(d1);}else if(!this._oGanttCanvas&&(this._oClonedGanttDiv.offsetWidth>X||this._oClonedGanttDiv.offsetHeight>X)){this._oButtonExport.setEnabled(false);this._resizePrintingPreviewPage();this._oModel.setProperty("/qualityWarning",false);this._oModel.setProperty("/showOrientationMessage",false);if(!this._oHTMLDialogPreview.$().find("#"+this.getId()+"-previewErrorMessageStrip").length){b1(n);if(!this._oPreviewErrorMessageStrip){this._oPreviewErrorMessageStrip=this._createPreviewErrorMessageStrip(this._oClonedGanttDiv.offsetHeight>X);}var e1=document.createElement("div");e1.id=this.getId()+"-previewErrorMessageStrip";e1.style.width="80%";n.appendChild(e1);this._oPreviewErrorMessageStrip.placeAt(this.getId()+"-previewErrorMessageStrip");}}else{throw new Error("Gantt chart canvas does not exist.");}i.addClass("sapGanttPrintingPreviewPageDivBorder");};
Q.prototype._updateDialogPreview=function(){this._updateLastPageNumber();this._updatePageNumberButtons();this._updateDialogPreviewCanvas();};
Q.prototype._setStylesToDom=function(n){function c1(e1){var f1=getComputedStyle(e1);var i,g1,h1,i1;var j1=["height","width","min-height","min-width"];var k1="";for(i=0,g1=f1.length;i<g1;i++){h1=f1[i];if(!((e1 instanceof SVGElement)&&j1.indexOf(h1)>=0)){i1=f1.getPropertyValue(h1);k1+=h1+":"+i1+";";}}e1.setAttribute("style",k1);}function d1(i){c1(i);e1(i);function e1(f1){if(f1&&f1.hasChildNodes()){var g1=f1.firstChild;while(g1){if(g1.nodeType===1&&g1.nodeName!="SCRIPT"){c1(g1);e1(g1);}g1=g1.nextSibling;}}}}d1(n);};
Q.prototype._setStyleToGanttChartSvg=function(i){var n=i.$().find("svg.sapGanttChartSvg")[0];var c1=i.$().find("svg.sapGanttChartHeaderSvg")[0];if(n){this._setStylesToDom(n);}if(c1){this._setStylesToDom(c1);}};
Q.prototype._getHorizonDates=function(i){var n=i.getStartTime();var c1=i.getEndTime();return{"startTime":new Date(p.abapTimestampToDate(n)),"endTime":new Date(p.abapTimestampToDate(c1))};};
Q.prototype._horizonWidthInSec=function(i){if(i&&i.startTime&&i.endTime){return i.endTime.getTime()-i.startTime.getTime();}return 0;};
Q.prototype._pageToBeExported=function(){if(!this._oModel.getProperty("/multiplePage")){return[1];}var n=this._oModel.getProperty("/lastPageNumber"),c1=this._oModel.getProperty("/exportAll"),d1=[];if(c1){for(var i=1;i<=n;i++){d1.push(i);}return d1;}else{var e1=this._oModel.getProperty("/exportRange");e1=e1.replace(/\s/g,"");var f1=N.getIntegerInstance();var g1=e1.split(",");g1.forEach(function(h1){if(h1.indexOf("-")!==-1){var i1=h1.split("-");var j1=f1.parse(i1[0]);var k1=f1.parse(i1[1]);for(var i=j1;i<=k1;i++){d1.push(i);}}else{d1.push(f1.parse(h1));}});return d1;}};
Q.prototype._validateFields=function(){var i=true;i&=this._validateExportRangeInput();i&=(this._oInputMarginTop.getValueState()!=="Error");i&=(this._oInputMarginRight.getValueState()!=="Error");i&=(this._oInputMarginBottom.getValueState()!=="Error");i&=(this._oInputMarginLeft.getValueState()!=="Error");return i;};
Q.prototype._savePdf=function(){if(!this._validateFields()){return;}var n=this._oModel.getProperty("/portrait")?"p":"l",c1=this._oModel.getProperty("/paperWidth"),d1=this._oModel.getProperty("/paperHeight"),e1=this._oModel.getProperty("/exportAsJPEG"),f1=this._oModel.getProperty("/compressionQuality")/100,g1=this._oModel.getProperty("/paperSize");var h1=new z({orientation:n,unit:"px",format:g1==="Custom"?[c1*0.75,d1*0.75]:g1.toLowerCase()});var i1=this._pageToBeExported();for(var i=0;i<i1.length;i++){var j1=this._getCanvasOfPageN(i1[i],true);if(!j1){continue;}if(i!==0){h1.addPage();}if(e1){h1.addImage(j1.toDataURL("image/jpeg",f1),"JPEG",0,0);}else{h1.addImage(j1.toDataURL("image/png"),"PNG",0,0);}}var k1=new Date();h1.save("GanttChartExport-"+k1.toISOString()+".pdf");};
Q.prototype._createPaperComboBox=function(){this._oComboBoxPaperSizes=new c({selectedKey:"{setting>/paperSize}",change:this._updatePaperSizeValues.bind(this),items:[new t({key:"A5",text:"A5"}),new t({key:"A4",text:"A4"}),new t({key:"A3",text:"A3"}),new t({key:"A2",text:"A2"}),new t({key:"A1",text:"A1"}),new t({key:"A0",text:"A0"}),new t({key:"Letter",text:"Letter"}),new t({key:"Legal",text:"Legal"}),new t({key:"Tabloid",text:"Tabloid"}),new t({key:"Custom",text:"Custom"})]});return this._oComboBoxPaperSizes;};
Q.prototype._createPaperSizeFields=function(){this._oInputPaperWidth=new I({width:"20%",type:"Number",change:this._onChangePaperSizeInput.bind(this)});this._oInputPaperHeight=new I({width:"20%",type:"Number",change:this._onChangePaperSizeInput.bind(this)});this._updatePaperSizeInputs();return new F({renderType:"Bare",alignItems:"Center",justifyContent:"SpaceBetween",items:[this._oInputPaperWidth,new T({text:"×"}),this._oInputPaperHeight,this._oComboBoxUnit=new c({width:"50%",selectedKey:"{setting>/unit}",change:this._onChangeUnitComboBox.bind(this),items:[new t({key:"mm",text:this._oRb.getText("GNT_PRNTG_MILLIMETERS")}),new t({key:"cm",text:this._oRb.getText("GNT_PRNTG_CENTIMETERS")}),new t({key:"in",text:this._oRb.getText("GNT_PRNTG_INCHES")})]})]});};
Q.prototype._createDurationComboBox=function(){var i=this._getOriginalGanttChart().getAxisTimeStrategy(),n=i.getTotalHorizon(),c1=new Date(p.abapTimestampToDate(n.getEndTime())),d1=new Date();this._oComboBoxDuration=new c({selectedKey:"{setting>/duration}",change:this._onChangeDurationComboBox.bind(this),items:[new t({key:"all",text:this._oRb.getText("GNT_PRNTG_DURATION_ALL")}),new t({key:"week",enabled:this._getFirstDayOfNextWeek(d1).getTime()<c1.getTime(),text:this._oRb.getText("GNT_PRNTG_DURATION_NEXT_WEEK")}),new t({key:"month",enabled:this._getFirstDayOfNextMonth(d1).getTime()<c1.getTime(),text:this._oRb.getText("GNT_PRNTG_DURATION_NEXT_MONTH")}),new t({key:"custom",text:this._oRb.getText("GNT_PRNTG_DURATION_CUSTOM")})]});return this._oComboBoxDuration;};
Q.prototype._createDatePicker=function(){var i=this._getOriginalGanttChart().getAxisTimeStrategy();var n=i.getTotalHorizon();var c1=new Date(p.abapTimestampToDate(n.getStartTime()));var d1=new Date(p.abapTimestampToDate(n.getEndTime()));this._oModel.setProperty("/startDate",c1);this._oModel.setProperty("/endDate",d1);this._oDatePickerFrom=new j({width:"47%",minDate:c1,maxDate:"{setting>/endDate}",dateValue:"{setting>/startDate}",change:this._onChangeDurationDatePicker.bind(this),enabled:true});this._oDatePickerTo=new j({width:"47%",minDate:"{setting>/startDate}",maxDate:d1,dateValue:"{setting>/endDate}",change:this._onChangeDurationDatePicker.bind(this),enabled:true});return new F({renderType:"Bare",alignItems:"Center",justifyContent:"SpaceBetween",items:[this._oDatePickerFrom,new T({text:"~"}),this._oDatePickerTo]});};
Q.prototype._createScale=function(){return new f({min:50,max:200,step:1,width:"25rem",value:"{setting>/scale}",visible:"{setting>/multiplePage}",liveChange:this._updateDialogPreview.bind(this),showAdvancedTooltip:true,inputsAsTooltips:true});};
Q.prototype._validateExportRangeInput=function(){if(this._oModel.getProperty("/exportAll")){return true;}var i=this._oModel.getProperty("/exportRange").replace(/\s/g,"");if(/^((\d+),|(\d+-\d+),)*((\d+)|(\d+-\d+))+$/.test(i)){this._oInputRange.setValueState("None");return true;}this._oInputRange.setValueState("Error");this._oInputRange.setValueStateText(this._oRb.getText("GNT_PRNTG_PAGE_RANGE_ERROR"));return false;};
Q.prototype._createPageRange=function(){var i=function(n){var c1=n.getSource().getSelectedIndex();if(c1===0){this._oButtonExport.setEnabled(true);this._oInputRange.setValueState("None");}};return new F({renderType:"Bare",alignItems:"Center",visible:"{setting>/multiplePage}",justifyContent:"SpaceBetween",items:[new d({layoutData:new b({shrinkFactor:0,growFactor:1}),selectedIndex:this._oModel.getProperty("/exportAll")?0:1,columns:2,select:i.bind(this),buttons:[new R({id:"all",text:this._oRb.getText("GNT_PRNTG_PAGE_RANGE_ALL"),selected:"{setting>/exportAll}"}),new R({id:"range",text:this._oRb.getText("GNT_PRNTG_PAGE_RANGE_RANGE")+" "})]}),this._oInputRange=new I({layoutData:new b({growFactor:1}),value:"{setting>/exportRange}",change:this._validateExportRangeInput.bind(this),enabled:{path:"setting>/exportAll",formatter:function(n){return!n;}}}).addStyleClass("sapGanttPrintingPageRangeInput")]});};
Q.prototype._createLabelWithSwitch=function(i,n){return new F({renderType:"Bare",visible:"{setting>/multiplePage}",alignItems:"Center",items:[new L({text:i}),new m({state:n,change:this._updateDialogPreview.bind(this)}).addStyleClass("sapGanttPrintingSwitchPadding")]});};
Q.prototype._createCheckBoxWithInput=function(i,n,c1){return new F({renderType:"Bare",alignItems:"Start",justifyContent:"SpaceBetween",items:[new e({selected:n,text:i,select:this._updateDialogPreview.bind(this)}),new I({width:"65%",value:c1,enabled:n,change:this._updateDialogPreview.bind(this)})]});};
Q.prototype._createPanel=function(i,n){return new P({expandable:true,expanded:false,headerText:i,content:[new F({renderType:"Bare",direction:K.Column,items:[n]})]});};
Q.prototype._createCompressionSlider=function(){return new f({min:1,max:100,step:1,change:this._onChangeCompressionSlider.bind(this),value:{path:"setting>/compressionQuality",type:"sap.ui.model.type.Integer"},visible:"{setting>/exportAsJPEG}",showAdvancedTooltip:true,inputsAsTooltips:true});};
Q.prototype._createCompressionComboBox=function(){this._oComboBoxCompression=new c({visible:"{setting>/exportAsJPEG}",change:this._onChangeCompressionComboBox.bind(this),items:[new t({key:"maximum",text:this._oRb.getText("GNT_PRNTG_COMPRESSION_MAXIMUM")}),new t({key:"high",text:this._oRb.getText("GNT_PRNTG_COMPRESSION_HIGH")}),new t({key:"medium",text:this._oRb.getText("GNT_PRNTG_COMPRESSION_MEDIUM")}),new t({key:"low",text:this._oRb.getText("GNT_PRNTG_COMPRESSION_LOW")})]});var i=this._oModel.getProperty("/compressionQuality");this._setCompressionComboBoxItem(i);return this._oComboBoxCompression;};
Q.prototype._updateInputsStep=function(i){var n=0.1;if(i==="mm"){n=1;}return n;};
Q.prototype._createMargin=function(){function i(n){return Math.round(this._convertPxToUnit(n/3));}return[new L({text:this._oRb.getText("GNT_PRNTG_MARGIN")+":"}),new c({change:this._onChangeMarginComboBox.bind(this),selectedKey:"{setting>/marginType}",items:[new t({key:"default",text:this._oRb.getText("GNT_PRNTG_MARGIN_DEFAULT")}),new t({key:"none",text:this._oRb.getText("GNT_PRNTG_MARGIN_NONE")}),new t({key:"custom",text:this._oRb.getText("GNT_PRNTG_MARGIN_CUSTOM")})]}),new F({renderType:"Bare",alignItems:"Center",visible:{path:"setting>/marginType",formatter:function(n){return n==="custom";}},items:[new F({direction:K.Column,layoutData:new b({shrinkFactor:0,growFactor:0,baseSize:"8rem"}),items:[new L({text:this._oRb.getText("GNT_PRNTG_MARGIN_TOP")}),this._oInputMarginTop=new h({min:0,step:{path:"setting>/unit",formatter:this._updateInputsStep},displayValuePrecision:1,change:this._onChangeMarginInput.bind(this),value:this._convertPxToUnit(this._oModel.getProperty("/marginTop")),fieldWidth:"7rem",validationMode:"LiveChange",valueStateText:this._oRb.getText("GNT_PRNTG_MARGIN_HEIGHT_ERROR"),max:{parts:[{path:"setting>/paperHeight"},{path:"setting>/unit"}],formatter:i.bind(this)},description:"{setting>/unit}"}).addStyleClass("sapGanttPrintingBottomMargin"),new L({text:this._oRb.getText("GNT_PRNTG_MARGIN_LEFT")}),this._oInputMarginLeft=new h({min:0,step:{path:"setting>/unit",formatter:this._updateInputsStep},displayValuePrecision:1,change:this._onChangeMarginInput.bind(this),value:this._convertPxToUnit(this._oModel.getProperty("/marginLeft")),fieldWidth:"7rem",validationMode:"LiveChange",valueStateText:this._oRb.getText("GNT_PRNTG_MARGIN_WIDTH_ERROR"),max:{parts:[{path:"setting>/paperWidth"},{path:"setting>/unit"}],formatter:i.bind(this)},description:"{setting>/unit}"})]}),new F({direction:K.Column,layoutData:new b({shrinkFactor:0,growFactor:0,baseSize:"8rem"}),items:[new L({text:this._oRb.getText("GNT_PRNTG_MARGIN_BOTTOM")}),this._oInputMarginBottom=new h({min:0,step:{path:"setting>/unit",formatter:this._updateInputsStep},displayValuePrecision:1,change:this._onChangeMarginInput.bind(this),value:this._convertPxToUnit(this._oModel.getProperty("/marginBottom")),fieldWidth:"7rem",validationMode:"LiveChange",valueStateText:this._oRb.getText("GNT_PRNTG_MARGIN_HEIGHT_ERROR"),max:{parts:[{path:"setting>/paperHeight"},{path:"setting>/unit"}],formatter:i.bind(this)},description:"{setting>/unit}"}).addStyleClass("sapGanttPrintingBottomMargin"),new L({text:this._oRb.getText("GNT_PRNTG_MARGIN_RIGHT")}),this._oInputMarginRight=new h({min:0,step:{path:"setting>/unit",formatter:this._updateInputsStep},displayValuePrecision:1,change:this._onChangeMarginInput.bind(this),value:this._convertPxToUnit(this._oModel.getProperty("/marginRight")),fieldWidth:"7rem",validationMode:"LiveChange",valueStateText:this._oRb.getText("GNT_PRNTG_MARGIN_WIDTH_ERROR"),max:{parts:[{path:"setting>/paperWidth"},{path:"setting>/unit"}],formatter:i.bind(this)},description:"{setting>/unit}"})]}).addStyleClass("sapGanttPrintingLeftMargin"),new B({icon:{path:"setting>/marginLocked",formatter:function(n){if(n){return"sap-icon://chain-link";}return"sap-icon://broken-link";}},press:function(){var n=this._oModel.getProperty("/marginLocked");this._oModel.setProperty("/marginLocked",!n);}.bind(this),type:"Transparent"}).addStyleClass("sapGanttPrintingLockButton sapGanttPrintingLeftMargin")]}).addStyleClass("sapGanttPrintingTopMargin sapGanttPrintingTopMargin")];};
Q.prototype._createCropMarks=function(){return[new m({state:"{setting>/cropMarks}"}),new F({renderType:"Bare",visible:"{setting>/cropMarks}",items:[new F({direction:K.Column,layoutData:new b({shrinkFactor:0,growFactor:0,baseSize:"8rem"}),items:[new L({text:"Weight:"}),new h({min:0,step:0.05,displayValuePrecision:2,value:"{setting>/cropMarksWeight}",fieldWidth:"7rem",description:"pt"})]}),new F({direction:K.Column,layoutData:new b({shrinkFactor:0,growFactor:0,baseSize:"8rem"}),items:[new L({text:"Offset:"}),this._oInputCropMarksOffset=new h({min:0,step:{path:"setting>/unit",formatter:this._updateInputsStep},displayValuePrecision:1,change:this._onChangeCropMarksInput.bind(this),value:this._convertPxToUnit(this._oModel.getProperty("/cropMarksOffset")),fieldWidth:"7rem",description:"{setting>/unit}"})]}).addStyleClass("sapGanttPrintingLeftMargin")]}).addStyleClass("sapGanttPrintingTopMargin")];};
Q.prototype._createCompression=function(){var i=this._oModel.getProperty("/exportAsJPEG");return[new L({text:this._oRb.getText("GNT_PRNTG_EXPORT_TYPES")}),new d({columns:2,selectedIndex:i?0:1,buttons:[new R({id:"jpeg",text:"JPEG",selected:"{setting>/exportAsJPEG}"}),new R({id:"png",text:"PNG"})]}).addStyleClass("sapGanttPrintingBottomMargin"),new L({text:this._oRb.getText("GNT_PRNTG_COMPRESSION_QUALITY"),visible:"{setting>/exportAsJPEG}"}),this._createCompressionComboBox(),this._createCompressionSlider().addStyleClass("sapGanttPrintingTopMargin sapGanttPrintingBottomMargin"),new l({text:this._oRb.getText("GNT_PRNTG_COMPRESSION_PNG_WARNING"),showIcon:true,type:"Warning",visible:{path:"setting>/exportAsJPEG",type:"sap.ui.model.type.Boolean",formatter:function(i){return!i;}}}).addStyleClass("sapGanttPrintingBottomMargin")];};
Q.prototype._createOptionsForm=function(){return new F({renderType:"Bare",direction:K.Column,items:[new L({text:this._oRb.getText("GNT_PRNTG_EXPORT_TYPES")}),this._radioGroupPage=new d({columns:2,selectedIndex:this._oModel.getProperty("/multiplePage")?0:1,select:this._onChangeExportTypes.bind(this),buttons:[new R({id:"Multiple",text:this._oRb.getText("GNT_PRNTG_MULTIPLE_PAGE"),selected:"{setting>/multiplePage}"}),new R({id:"Single",text:this._oRb.getText("GNT_PRNTG_SINGLE_PAGE")})]}).addStyleClass("sapGanttPrintingBottomMargin"),new L({text:this._oRb.getText("GNT_PRNTG_ORIENTATION")}),this._radioGroupOrientation=new d({columns:2,selectedIndex:this._oModel.getProperty("/portrait")?0:1,select:this._onChangeOrientation.bind(this),buttons:[new R({id:"Portrait",text:this._oRb.getText("GNT_PRNTG_PORTRAIT"),selected:"{setting>/portrait}"}),new R({id:"Landscape",text:this._oRb.getText("GNT_PRNTG_LANDSCAPE")})]}).addStyleClass("sapGanttPrintingBottomMargin"),new l({text:"{setting>/orientationMessage}",type:"Information",showIcon:true,visible:"{setting>/showOrientationMessage}"}).addStyleClass("sapGanttPrintingSinglePageMessage"),new L({text:this._oRb.getText("GNT_PRNTG_PAPER_SIZE")}),this._createPaperComboBox(),this._createPaperSizeFields().addStyleClass("sapGanttPrintingBottomMargin"),new l({text:this._oRb.getText("GNT_PRNTG_SINGLE_PAGE_QUALITY"),type:"Information",showIcon:true,visible:"{setting>/qualityWarning}"}).addStyleClass("sapGanttPrintingSinglePageMessage"),new L({text:this._oRb.getText("GNT_PRNTG_DURATION")}),this._createDurationComboBox(),this._createDatePicker().addStyleClass("sapGanttPrintingBottomMargin"),new L({text:this._oRb.getText("GNT_PRNTG_SCALE"),visible:"{setting>/multiplePage}"}),this._createScale().addStyleClass("sapGanttPrintingBottomMargin"),new L({text:this._oRb.getText("GNT_PRNTG_PAGE_RANGE"),visible:"{setting>/multiplePage}"}),this._createPageRange().addStyleClass("sapGanttPrintingBottomMargin"),new L({text:this._oRb.getText("GNT_PRNTG_HEADER_AND_FOOTER")}),this._createCheckBoxWithInput(this._oRb.getText("GNT_PRNTG_HEADER"),"{setting>/showHeaderText}","{setting>/headerText}"),this._createCheckBoxWithInput(this._oRb.getText("GNT_PRNTG_FOOTER"),"{setting>/showFooterText}","{setting>/footerText}").addStyleClass("sapGanttPrintingBottomMargin"),this._createLabelWithSwitch(this._oRb.getText("GNT_PRNTG_SHOW_PAGE_NUMBER"),"{setting>/showPageNumber}").addStyleClass("sapGanttPrintingBottomMargin"),this._createPanel(this._oRb.getText("GNT_PRNTG_MARGIN"),this._createMargin()),this._createPanel(this._oRb.getText("GNT_PRNTG_COMPRESSION"),this._createCompression())]});};
Q.prototype._createDialogContent=function(){var i=new F({renderType:"Bare",fitContainer:true,items:[this._oFlexBoxPreview=new F({renderType:"Bare",layoutData:new b({shrinkFactor:1,growFactor:1,baseSize:"auto"}),direction:K.Column,items:[new F({renderType:"Bare",layoutData:new b({shrinkFactor:0,growFactor:0,baseSize:"3.5rem"})}),this._oHTMLDialogPreview=new H({content:"<div class=\"sapGanttPrintingPreviewContentDiv\"><div class=\"sapGanttPrintingPreviewPageDiv\"></div></div>"}),new F({renderType:"Bare",justifyContent:"Center",alignItems:"Center",layoutData:new b({shrinkFactor:0,growFactor:0,baseSize:"6rem"}),items:[this._oButtonFirst=new B({icon:"sap-icon://close-command-field",visible:"{setting>/multiplePage}",press:this._onPressButtonFirst.bind(this),type:"Transparent"}).addStyleClass("sapGanttPrintingPreviewIconMarginRight"),this._oButtonPrevious=new B({icon:"sap-icon://navigation-left-arrow",visible:"{setting>/multiplePage}",press:this._onPressButtonPrevious.bind(this),type:"Transparent"}),new T({textAlign:"Center",visible:"{setting>/multiplePage}",width:"7.25rem",text:{parts:[{path:"setting>/previewPageNumber"},{path:"setting>/lastPageNumber"}],formatter:function(n,c1){return c1?this._oRb.getText("GNT_PRNTG_OF",[n,c1]):n.toString();}.bind(this)}}).addStyleClass("sapGanttPrintingPreviewText"),this._oButtonNext=new B({icon:"sap-icon://navigation-right-arrow",visible:"{setting>/multiplePage}",press:this._onPressButtonNext.bind(this),type:"Transparent"}).addStyleClass("sapGanttPrintingPreviewIconMarginRight"),this._oButtonLast=new B({icon:"sap-icon://open-command-field",visible:"{setting>/multiplePage}",press:this._onPressButtonLast.bind(this),type:"Transparent"})]}).addStyleClass("sapGanttPrintingPreviewFooter")]}).addStyleClass("sapGanttPrintingPreviewContent"),new S({horizontal:false,vertical:true,layoutData:new b({shrinkFactor:0,growFactor:0,baseSize:"27rem"}),content:[this._createOptionsForm().addStyleClass("sapGanttPrintingDialogSettings")]})]});this._updatePageNumberButtons();return i;};
Q.prototype._createAndOpenDialog=function(){this._oDialog=new D({title:this._oRb.getText("GNT_PRNTG_PDF_EXPORT_TITLE"),contentWidth:"100%",contentHeight:"100%",horizontalScrolling:false,verticalScrolling:false,content:[this._createDialogContent()],buttons:[this._oButtonExport=new B({text:this._oRb.getText("GNT_PRNTG_EXPORT"),type:M.ButtonType.Emphasized,press:this.export.bind(this)}),new B({text:this._oRb.getText("GNT_PRNTG_CANCEL"),press:function(){this.close();}.bind(this)})]}).addStyleClass("sapGanttPrintingDialog");this._oDialog.onsapescape=function(i){this.close();i.preventDefault();i.stopPropagation();}.bind(this);this._oDialog.setModel(this._oModel,"setting");this._oDialog.open();this._sResizeHandlerId=y.register(this._oDialog,this._onResize.bind(this));};
return Q;});
sap.ui.predefine('sap/gantt/simple/GanttResizeExtension',["sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/events/KeyCodes","sap/ui/core/Core","./GanttExtension","./CoordinateUtils","./GanttUtils","sap/gantt/misc/Utility"],function(q,L,K,C,G,a,b,U){"use strict";
var c=G.extend("sap.gantt.simple.GanttResizeExtension",{_init:function(g,s){this._initResizeStatus();return"ResizeExtension";}});
var _=".sapGanttResizing";var D={color:"#596468",strokeWidth:1,strokeDasharray:"5, 1"};var R={None:0,LeftResize:1,RightResize:2};var v=function($,d){return parseFloat($.attr(d),10);};
c.prototype.getSelectionSettings=function(){if(!this.mSelectionSettings){var m=this.getGantt().getShapeSelectionSettings();if(q.isEmptyObject(m)){return D;}var d=q.extend(true,{},D);for(var s in d){if(m[s]){d[s]=m[s];}}this.mSelectionSettings=d;}return this.mSelectionSettings;};
c.prototype.getSelectionInlineStyle=function(){var s=this.getSelectionSettings();var S={fill:"transparent",stroke:s.color,"stroke-width":s.strokeWidth,"stroke-dasharray":s.strokeDasharray};return Object.keys(S).reduce(function(d,e){d+=(e+":"+S[e]+";");return d;},"");};
c.prototype.initDomSelector=function(){this.mDoms={};};
c.prototype.updateDomSelector=function(e){if(e){this.origin.shapeUid=q(e.target).parents("g").attr(b.SELECT_FOR_DATASET_KEY);}var r='g['+b.SELECT_FOR_DATASET_KEY+'="'+this.origin.shapeUid+'"]';var s={leftLine:r+" .leftLine",rightLine:r+" .rightLine",topLine:r+" .topLine",bottomLine:r+" .bottomLine",leftLineTrigger:r+" line.leftTrigger",rightLineTrigger:r+" line.rightTrigger",leftRectTrigger:r+" rect.leftTrigger",rightRectTrigger:r+" rect.rightTrigger",resizeRectCover:r+" rect.resizeCover"};for(var k in s){if(s.hasOwnProperty(k)){this.mDoms[k]=q(s[k]);}}};
c.prototype.getSvgElement=function(){var $=q(document.getElementById(this.getGantt().getId()));if($.length===0){L.warning("can not find gantt chart, use gantt chart instance sId as the key is required");}return $.find("svg.sapGanttChartSvg").get(0);};
c.prototype._getShapeSelectionRootNode=function(){var s=this.getSvgElement(),$=q(s).find("g.sapGanttChartSelection");return d3.select($.get(0));};
c.prototype.toggleOutline=function(e){if(!e.getSelected()){this.removeOutline(e);return;}this.setFrame(e.getDomRef().getBBox());var d=e.getConnectable(),r=e.getResizable();if(d||r){this.renderResizerOutline(e);}else{this.renderPlainOutline(e);}};
c.prototype.clearAllOutline=function(s){this._getShapeSelectionRootNode().selectAll("*").remove();};
c.prototype.renderPlainOutline=function(e){var d=e.getDomRef();if(d){var r=!!e.getRlsAnchors;var B=U.getShapeBias(e);var E=r?e.getD():this.determineOutlineByFrame(d.getBBox(),B);var s=this._getShapeSelectionRootNode();var p=r?this.createOutlineRlsNode(e,E):this.createOutlinePathNode(e,E);s.node().appendChild(p);}};
c.prototype.createOutlineRlsNode=function(e,o){var g=document.createElementNS(d3.ns.prefix.svg,"g");var l=document.createElementNS(d3.ns.prefix.svg,"path");var A=document.createElementNS(d3.ns.prefix.svg,"path");g.setAttribute("id",e.getShapeUid()+"-selected");g.setAttribute("aria-hidden","false");g.setAttribute("class","resizeContainer sapGanttSelectedPath");g.setAttribute("style",e.getSelectedStyle());l.setAttribute("d",o);A.setAttribute("d",e.getArrowPathD(o));g.appendChild(l);g.appendChild(A);return g;};
c.prototype.createOutlinePathNode=function(e,o){var p=document.createElementNS(d3.ns.prefix.svg,"path");p.setAttribute("id",e.getShapeUid()+"-selected");p.setAttribute("aria-hidden","false");p.setAttribute("class","resizeContainer sapGanttSelectedPath");var s=e.getSelectedStyle?e.getSelectedStyle():this.getSelectionInlineStyle();p.setAttribute("style",s);p.setAttribute("d",o);return p;};
c.prototype.determineOutlineByFrame=function(r,B){var x=r.x,y=r.y,w=r.width,h=r.height,d=x+w,e=y+h;var s=this.getSelectionSettings().strokeWidth,H=s/2;x=x-H+B.x;y=y-H+B.y;d=d+H+B.x;e=e+H+B.y;var f=["M",x,y,"L",d,y,"L",d,e,"L",x,e,"z"].join(" ").trim();return f;};
c.prototype.removeOutline=function(e){var r=document.getElementById(e.getShapeUid()+"-selected");if(r){q(r).remove();}};
c.prototype.renderResizerOutline=function(e){this.removeOutline(e);var d=e.getConnectable(),r=e.getResizable();var p=this.getOutlineLines(e);var s=this.createResizeContainer(e);this.renderSelectionBorders(p,s);if(r){this.renderResizeTriggerAndCover(p,s);this.attachMousedownEvent();}if(d){this.renderShapeConnectTrigger(e,s);this.getGantt()._getConnectExtension().attachShapeConnectEvents();}if(this.isResizing()){this.updateDomSelector();this.updateOriginShapeFrame();this.attachResizeEvents();}};
c.prototype.showShapeConnectTrigger=function(e){var E=this.getGantt()._getConnectExtension();var s=E.getRlsStartShape().shapeUid;return E.isShapeConnecting()?s===e.getShapeUid():true;};
c.prototype.renderSelectionBorders=function(p,g){g.selectAll(".border").data(p.border).enter().append("line").each(function(d){d3.select(this).attr(d);}).attr("class",function(d){return"border "+d.class+"Line";});};
c.prototype.renderResizeTriggerAndCover=function(p,g){g.selectAll(".lineTrigger").data(p.indicator).enter().append("line").each(function(d){d3.select(this).attr(d);}).attr("class",function(d){return"resizeTrigger lineTrigger "+d.class+"Trigger";}).attr({opacity:0,"stroke-width":3,style:"cursor: ew-resize"});var m=this.getResizeRectCoverAttrs();g.append("rect").attr(m);};
c.prototype.createResizeContainer=function(e){var s=this._getShapeSelectionRootNode();var g=s.append("g").classed("resizeContainer",true).attr("id",e.getShapeUid()+"-selected").attr(b.SELECT_FOR_DATASET_KEY,e.getShapeUid());return g;};
c.prototype.renderShapeConnectTrigger=function(e,g){var s=this.showShapeConnectTrigger(e);var r=this.getConnectSquaresData(s,e);g.selectAll(".rectTrigger").data(r.slice()).enter().append("rect").each(function(d){d3.select(this).attr(d);}).attr("class",function(d){return"shapeConnectTrigger rectTrigger "+d.class+"Trigger";}).attr({stroke:"#000","stroke-width":1});};
c.prototype.attachMousedownEvent=function(){var $=q(document.getElementById(this.getGantt().getId()+"-svg"));var d=$.find(".resizeTrigger");d.off(_);d.bind("mousedown"+_,q.proxy(this.beforeResizing,this));};
c.prototype.attachResizeEvents=function(){this._removeDragEvents();var $=q(document);$.bind("mousemove"+_,q.proxy(this.onResizing,this));$.bind("mouseup"+_,q.proxy(this.endResizing,this));$.bind("keydown"+_,q.proxy(this.onKeydown,this));};
c.prototype._removeDragEvents=function(){var $=q(document);$.off(_);};
c.prototype.beforeResizing=function(e){var $=q(e.target),s=$.parents("g").attr(b.SELECT_FOR_DATASET_KEY);var E=this._getShapeByUid(s);if(!E){return;}this.setFrame(E.getDomRef().getBBox());this.updateDomSelector(e);this.origin.eventTarget=e.target;this.updateOriginShapeFrame();this.origin.resizeFor=s;if($.hasClass("leftTrigger")){this.currentAction=R.LeftResize;}else{this.currentAction=R.RightResize;}this._updateResizingEffect(true);this.attachResizeEvents();};
c.prototype.updateOriginShapeFrame=function(){var f=this.getFrame();this.origin.minX=f.x;this.origin.maxX=f.x+f.width;};
c.prototype.onResizing=function(e){if(this._shallSkip(e)){return;}this._updateResizingEffect(true);var s=this.getSvgElement();var E=a.getEventSVGPoint(s,e).x;var p=this.getGantt()._getPointerExtension();E=E+p._getAutoScrollStep();if(this.currentAction===R.RightResize){this._updateRightPartDoms(E);}else if(this.currentAction===R.LeftResize){this._updateLeftPartDoms(E);}};
c.prototype._updateResizingEffect=function(r){var o=r?0.4:0;this.mDoms.resizeRectCover.attr("opacity",o);};
c.prototype.isResizing=function(){return this.currentAction===R.LeftResize||this.currentAction===R.RightResize;};
c.prototype._updateRightPartDoms=function(e){var n=function(x){if(x-this.origin.minX<=2*this.getMargin()){return this.origin.minX+2*this.getMargin();}return x;}.bind(this);var x=n(e);this.mDoms.rightLine.attr({x1:x,x2:x});this.mDoms.rightLineTrigger.attr({x1:x,x2:x});this.mDoms.topLine.attr({x2:x});this.mDoms.bottomLine.attr({x2:x});this.mDoms.rightRectTrigger.attr({x:x+b.SHAPE_CONNECT_INDICATOR_WIDTH/2-2});var N=x-this.origin.minX;this.mDoms.resizeRectCover.attr({width:N});};
c.prototype._updateLeftPartDoms=function(e){var n=function(x){var m=this.origin.maxX;var l=2*this.getMargin();if(m-x<=l){return m-l;}return x;}.bind(this);var x=n(e);this.mDoms.leftLine.attr({x1:x,x2:x});this.mDoms.leftLineTrigger.attr({x1:x,x2:x});this.mDoms.topLine.attr({x1:x});this.mDoms.bottomLine.attr({x1:x});this.mDoms.leftRectTrigger.attr({x:x-this.getMargin()-b.SHAPE_CONNECT_INDICATOR_WIDTH-2});var r=Math.abs(x-v(this.mDoms.rightLineTrigger,"x1"))-2;this.mDoms.resizeRectCover.attr({x:x+this.getMargin(),width:r<0?0:r});};
c.prototype.onKeydown=function(e){if(e.keyCode===K.ESCAPE){if(this.isResizing()){this._updateLeftPartDoms(this.origin.minX-this.getMargin());this._updateRightPartDoms(this.origin.maxX+this.getMargin());this._updateResizingEffect(false);this._initResizeStatus();}this._removeDragEvents();}};
c.prototype.endResizing=function(e){this._removeDragEvents();if(this._shallSkip(e)){return;}var m=v(this.mDoms.leftLine,"x1")+this.getMargin(),d=v(this.mDoms.rightLine,"x1")-this.getMargin();var s=this._getShapeByUid(this.origin.resizeFor),g=this.getGantt();if(s){this.renderResizerOutline(s);this._fireShapeResizeEvent(g,s,m,d);}this._initResizeStatus();};
c.prototype._getShapeByUid=function(s){var S=b.getShapesWithUid(this.getGantt().getId(),[s]);if(S.length>0){return S[0];}};
c.prototype._fireShapeResizeEvent=function(g,s,m,d){var n=m===this.origin.minX?s.getTime():g.getAxisTime().viewToTime(m),N=d===this.origin.maxX?s.getEndTime():g.getAxisTime().viewToTime(d);if(C.getConfiguration().getRTL()){var t=N;N=n;n=t;}g.fireShapeResize({shape:s,shapeUid:s.getShapeUid(),rowObject:s.getParent(),oldTime:[s.getTime(),s.getEndTime()],newTime:[n,N]});};
c.prototype._initResizeStatus=function(){this.currentAction=R.None;this.origin={minX:-1,maxX:-1,eventTarget:null,resizeFor:null};this.mElementFrame=null;this.iOutlineMargin=0;this.initDomSelector();};
c.prototype.setFrame=function(f){this.mElementFrame=f;};
c.prototype.getFrame=function(){return this.mElementFrame;};
c.prototype.setMargin=function(m){this.iOutlineMargin=m;};
c.prototype.getMargin=function(){return this.iOutlineMargin;};
c.prototype._shallSkip=function(e){if(!this.isResizing()){return true;}if(this.origin.eventTarget&&!q(this.origin.eventTarget).hasClass("resizeTrigger")){return true;}return false;};
c.prototype.getConnectSquaresData=function(s,e){var f=this.getFrame(),x=f.x,y=f.y,w=f.width,h=f.height;var m=this.getMargin();var r=s?b.SHAPE_CONNECT_INDICATOR_WIDTH:0;var d={width:r,height:r,stroke:"#000","stroke-width":1};var B=U.getShapeBias(e);var l=x-m-r-2+B.x,i=y+(h/2)-(r/2)+B.y;var g=(x+w+m)+2+B.x,j=i;return[q.extend({x:l,y:i,"class":"left"},d),q.extend({x:g,y:j,"class":"right"},d)];};
c.prototype.getResizeRectCoverAttrs=function(){var f=this.getFrame(),m=this.getMargin(),s=this.getSelectionSettings().strokeWidth;var d={stroke:"none","stroke-width":0,fill:"red","class":"resizeCover",opacity:0,style:"pointer-events: none;"};var o=(2*m)-(2*s);return q.extend({x:f.x-m+s,y:f.y-m+s,width:f.width+o,height:f.height+o},d);};
c.prototype.getOutlineLines=function(e){var f=this.getFrame(),x=f.x,y=f.y,w=f.width,h=f.height;var m=this.getMargin();var s=this.getSelectionSettings();var d={"stroke-dasharray":s.strokeDasharray,fill:"transparent",stroke:s.color,"stroke-width":s.strokeWidth};var B=U.getShapeBias(e);var p={minX:x-m+B.x,minY:y-m+B.y,maxX:x+w+m+B.x,maxY:y+h+m+B.y};var P={top:{x1:p.minX,y1:p.minY,x2:p.maxX,y2:p.minY},right:{x1:p.maxX,y1:p.minY,x2:p.maxX,y2:p.maxY},bottom:{x1:p.minX,y1:p.maxY,x2:p.maxX,y2:p.maxY},left:{x1:p.minX,y1:p.minY,x2:p.minX,y2:p.maxY}};var g=["top","right","bottom","left"];var l=g.map(function(j){return q.extend(P[j],{"class":j},d);});var i=q.extend(true,P);var I=["left","right"].map(function(j){return q.extend(i[j],{"class":j},d);});return{border:l,indicator:I};};
c.prototype._getResizeTime=function(e){var m=v(this.mDoms.leftLine,"x1")+this.getMargin(),d=v(this.mDoms.rightLine,"x1")-this.getMargin();if(isNaN(m)||isNaN(d)){return null;}var g=this.getGantt();var s=g.getAxisTime().viewToTime(m),f=g.getAxisTime().viewToTime(d),t;var r=C.getConfiguration().getRTL();if(r){t=f;f=s;s=t;}return{time:s,endTime:f};};
return c;});
sap.ui.predefine('sap/gantt/simple/GanttRowSettings',["sap/base/util/uid","sap/ui/table/RowSettings","./AggregationUtils","./RenderUtils","sap/gantt/misc/Utility"],function(u,T,A,R,U){"use strict";
var G=T.extend("sap.gantt.simple.GanttRowSettings",{metadata:{library:"sap.gantt",properties:{rowId:{type:"string"}},defaultAggregation:"shapes1",aggregations:{calendars:{type:"sap.gantt.simple.BaseCalendar",multiple:true,singularName:"calendars"},relationships:{type:"sap.gantt.simple.Relationship",multiple:true,singularName:"relationship"},shapes1:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape1"},shapes2:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape2"},shapes3:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape3"},shapes4:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape4"},shapes5:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape5"}}}});
G.prototype.getAllExpandableShapes=function(){var a=[];this._mapAllShapes(function(s){if(s.length>0&&s[0].getExpandable()){a.push(s);}});return[].concat.apply([],a);};
G.prototype._mapAllShapes=function(t){var a=A.getNonLazyAggregations(this);Object.keys(a).map(function(n){if(a.hasOwnProperty(n)){var o=a[n];t(this[o._sGetter]());}}.bind(this));};
G.prototype.getParentGantt=function(){return A.getParentControlOf("sap.gantt.simple.GanttChartWithTable",this);};
G.prototype.getParentRow=function(){return A.getParentControlOf("sap.ui.table.Row",this);};
G.prototype.getShapeUid=function(s){var S=s.getShapeId();if(!S){S=u();s.setProperty("shapeId",S,true);}var p=s.getParent(),n=s.sParentAggregationName,e=false;if(p!=null){e=A.isLazy(p,n);}var i;if(e){i=p.indexOfAggregation(n,this);}var a=s.getScheme(),r=this.getRowUid(a,i);var b=this.getShapeBindingContextPath(s);var c=r+"|DATA:"+b+"["+S+"]";return c;};
G.prototype.getShapeBindingContextPath=function(s){var m=this.getBindingModelName();var b=s.getBindingContext(m);if(b==null){b=this.getBindingContextFromParent(s);}if(b){return b.getPath();}return"";};
G.prototype.getBindingModelName=function(){var b=this._getRow().getParent().getBindingInfo("rows");return b.model;};
G.prototype.getBindingContextFromParent=function(s,m){var p=s.getParent();var b;while(p){b=p.getBindingContext(m);if(b){return b;}else{p=p.getParent();}}return b;};
G.prototype.getRowUid=function(s,i){var r=this.getRowId();if(r==null){return null;}var a=s,b=i;if(!a){a=this.getParentGantt().getPrimaryShapeScheme().getKey();}b=b===undefined?0:b;return"PATH:"+r+"|SCHEME:"+a+"["+b+"]";};
G.prototype.renderElement=function(r,g){R.renderInlineShapes(r,this,g);};
G.prototype.invalidate=function(o){return this._invalidateInnerGanttIfNeeded();};
G.prototype._invalidateInnerGanttIfNeeded=function(){var r=this._getRow();U.safeCall(r,["getParent","getParent","getInnerGantt","invalidate"]);return this;};
return G;});
sap.ui.predefine('sap/gantt/simple/GanttScrollExtension',["sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/Device","../misc/Format","../config/TimeHorizon","./GanttExtension","./RenderUtils"],function(q,C,D,F,T,G,R){"use strict";var s=function($,v){var r=C.getConfiguration().getRTL();var b=r?"scrollLeftRTL":"scrollLeft";if(typeof v==="number"){$[b](v);}return $[b]();};var n=".sapGanttScroll";var S="scroll"+n;var H={onHSBScroll:function(e){this._getScrollExtension().updateVisibleHorizonIfNecessary();},onMouseWheelScrolling:function(e){var i=0;if('detail'in e){i=e.detail;}if('wheelDelta'in e){i=e.wheelDelta/120;}if('wheelDeltaY'in e){i=e.wheelDeltaY/120;}var b=Math.abs(i)>=1;var h=e.deltaX;var v=e.deltaY;if(b){h=e.deltaY;v=e.deltaX;}var c=Math.abs(h)>Math.abs(v);var o=this._getScrollExtension(),d=c&&e.shiftKey;var f=c?h:v,g=f>0,j=false;if(f===0){return;}if(d){var k=o.getGanttHsb();if(g){j=k.scrollLeft===k.scrollWidth-k.offsetWidth;}else{j=k.scrollLeft===0;}if(!j){k.scrollLeft=k.scrollLeft+f;}e.preventDefault();e.stopPropagation();}},getEventListenerTargets:function(g){var e=[g.getDomRef("svg"),g.getDomRef("header-svg")];return e.filter(function(E){return E!=null;});},onTouchStart:function(e){if(e.type==="touchstart"||e.pointerType==="touch"){var o=this._getScrollExtension(),h=o.getGanttHsb();var t=e.touches?e.touches[0]:e;o._mTouchSessionData={initialPageX:t.pageX,initialPageY:t.pageY,initialScrollLeft:h?h.scrollLeft:0,initialScrolledToEnd:null};}},onTouchMoveHorizontalScrolling:function(e){if(e.type==="touchmove"||e.pointerType==="touch"){var o=this._getScrollExtension();var t=o._mTouchSessionData;var b=e.touches?e.touches[0]:e;var i=(b.pageX-t.initialPageX);var c=(b.pageY-t.initialPageY);var d=false;var f=false;var h=Math.abs(i)>Math.abs(c);if(!t||!h){return;}var g=o.getGanttHsb();if(i<0){d=g.scrollLeft===g.scrollWidth-g.offsetWidth;}else{d=g.scrollLeft===0;}if(!t.initialScrolledToEnd){t.initialScrolledToEnd=d;}if(!d&&!t.initialScrolledToEnd){g.scrollLeft=t.initialScrollLeft-i;f=true;}if(f){e.preventDefault();}}},addEventListeners:function(g){var e=g._getScrollExtension();this.removeEventListeners(g);q(e.getGanttHsb()).on(S,this.onHSBScroll.bind(g));var E=this.getEventListenerTargets(g);e._mTouchEventListener=this.addTouchEventListener(E,g);e._mMouseWheelEventListener=this.addMouseWheelEventListener(E,g);},removeEventListeners:function(g){var e=g._getScrollExtension();q(e.getGanttHsb()).off(n);H.removeScrollEventListeners(g);},addMouseWheelEventListener:function(e,g){var o=H.onMouseWheelScrolling.bind(g);for(var i=0;i<e.length;i++){e[i].addEventListener("wheel",o);}return{wheel:o};},addTouchEventListener:function(e,g){var o=H.onTouchStart.bind(g);var O=H.onTouchMoveHorizontalScrolling.bind(g);var l={};for(var i=0;i<e.length;i++){if(D.support.pointer&&D.system.desktop){e[i].addEventListener("pointerdown",o);e[i].addEventListener("pointermove",O,D.browser.chrome?{passive:true}:false);}else if(D.support.touch){e[i].addEventListener("touchstart",o);e[i].addEventListener("touchmove",O);}}if(D.support.pointer&&D.system.desktop){l={pointerdown:o,pointermove:O};}else if(D.support.touch){l={touchstart:o,touchmove:O};}return l;},removeScrollEventListeners:function(g){var o=g._getScrollExtension();var e=H.getEventListenerTargets(g);function r(t,E){for(var b in E){var l=E[b];if(l){t.removeEventListener(b,l);}}}for(var i=0;i<e.length;i++){r(e[i],o._mTouchEventListener);r(e[i],o._mMouseWheelEventListener);}delete o._mTouchEventListener;delete o._mMouseWheelEventListener;}};
var a=G.extend("sap.gantt.GanttScrollExtension",{
_init:function(g,m){this.oGanttHsb=null;this._bSuppressSetVisibleHorizon=false;this.mOffsetWidth=null;return"ScrollExtension";},
_attachEvents:function(){var g=this.getGantt();H.addEventListeners(g);},
_detachEvents:function(){var g=this.getGantt();H.removeEventListeners(g);},
destroy:function(){this._detachEvents();this._delegate=null;this.oGanttHsb=null;this.mOffsetWidth=null;G.prototype.destroy.apply(this,arguments);}
});
a.prototype.updateVisibleHorizonIfNecessary=function(){if(!this._bSuppressSetVisibleHorizon){this._updateVisibleHorizonForce();}this._bSuppressSetVisibleHorizon=false;};
a.prototype._updateVisibleHorizonForce=function(){var t=this._scrollLeftToVisibleHorizon();this.getGantt()._updateVisibleHorizon(t,"horizontalScroll",this.getVisibleWidth());};
a.prototype.jumpToVisibleHorizon=function(r){var t=this.getGantt().getAxisTimeStrategy().getVisibleHorizon();this.getGantt()._updateVisibleHorizon(t,r?r:"horizontalScroll",this.getVisibleWidth());};
a.prototype._getGanttHsbScrollLeft=function(){return s(q(this.getGanttHsb()));};
a.prototype.getContentWidth=function(){var g=this.getGantt();var A=g.getAxisTime(),r=A.getViewRange();return Math.abs(Math.ceil(r[1])-Math.ceil(r[0]));};
a.prototype.updateGanttScrollWidth=function(){var g=this.getGantt();g.getSyncedControl().setInnerWidth(g.getContentWidth()+"px");};
a.prototype.getVisibleWidth=function(){return q(document.getElementById(this.getGantt().getId()+"-gantt")).width();};
a.prototype.scrollGanttChartToVisibleHorizon=function(){var b=this._visibleHorizonToScrollLeft();var r=C.getConfiguration().getRTL();var c=b-this.mOffsetWidth.svgOffset;var d=this.getDomRefs(),$=q(d.gantt),e=q(d.header);if(Math.abs(s($)-c)>0){if(r&&D.browser.msie){c+=$.get(0).scrollWidth-R.getGanttRenderWidth(this.getGantt());}var h=this.getGanttHsb();if(h){if(s(q(h))===0&&!(D.browser.msie&&r)){s($,0);s(e,0);}else{s($,c);var f=0;if(r&&D.browser.msie){var o=this.getDomRefs();f=o.header.scrollWidth-o.gantt.scrollWidth;}s(e,c+f);}}}this.getGantt()._getConnectExtension().updateShapeConnectEffect(this);};
a.prototype.clearOffsetWidth=function(){this.mOffsetWidth=null;this.getGantt().getAxisTime().setViewOffset(0);};
a.prototype.needRerenderGantt=function(r,b){if(this.mOffsetWidth===null){this.updateGanttScrollWidth();}if(b!=="initialRender"&&this.mOffsetWidth&&this.doesSvgScrollWithinBuffer()&&!this.getGantt().getSyncedControl().getRowsHeightChanged()){this._scrollTableToVisibleHorizon(true);this.scrollGanttChartToVisibleHorizon();this.getGantt().getSyncedControl().scrollContentIfNecessary();return false;}this._scrollTableToVisibleHorizon(true);this.updateSvgOffsetWidth();if(r){r.apply(this.getGantt());}this.scrollGanttChartToVisibleHorizon();this.getGantt().getSyncedControl().scrollContentIfNecessary();return true;};
a.prototype._scrollTableToVisibleHorizon=function(b){var $=q(this.getGanttHsb()),c=s($);var e=this._visibleHorizonToScrollLeft();if(Math.abs(c-e)>1){this._bSuppressSetVisibleHorizon=b;s($,e);}};
a.prototype.updateSvgOffsetWidth=function(){var o=this.calcSvgLatestOffsetWidth();this.getGantt().getAxisTime().setViewOffset(o.svgOffset);this.getGantt().iGanttRenderedWidth=o.svgWidth;this.mOffsetWidth={svgWidth:o.svgWidth,svgOffset:o.svgOffset};};
a.prototype.doesSvgScrollWithinBuffer=function(){var v=this.getVisibleWidth(),c=this.getContentWidth(),i=this._visibleHorizonToScrollLeft();if(this.mOffsetWidth===null){return false;}var b=this.mOffsetWidth.svgOffset,d=this.mOffsetWidth.svgWidth;var I=(v>=c)||(i-b>=0&&d>=i-b+v);return I;};
a.prototype.calcSvgLatestOffsetWidth=function(){var c=this.getContentWidth(),v=this.getVisibleWidth();var i=this._getGanttHsbScrollLeft()||0;var b=R.getGanttRenderWidth(this.getGantt());var o=i-(v*R.RENDER_EXTEND_FACTOR);if(o<0){b+=o;o=0;}if(o+b>c){b=c-o;}return{svgWidth:b,svgOffset:o};};
a.prototype._visibleHorizonToScrollLeft=function(){var t=this.getGantt().getAxisTimeStrategy().getVisibleHorizon();var r=C.getConfiguration().getRTL(),b=t.getStartTime();var i=this.getGantt().getAxisTime().timeToView(F.abapTimestampToDate(b),true);if(r){i=i-this.getVisibleWidth();}if(i<0){i=0;}return i;};
a.prototype._scrollLeftToVisibleHorizon=function(){var r=C.getConfiguration().getRTL(),A=this.getGantt().getAxisTime();var i=this._getGanttHsbScrollLeft();var o=A.viewToTime(i,true),e;if(r){e=A.viewToTime(i,true);o=undefined;}return new T({startTime:o,endTime:e});};
a.prototype.getGanttHsb=function(){var g=this.getGantt();if(g){this.oGanttHsb=g.getDomRef("hsb");}return this.oGanttHsb;};
return a;});
sap.ui.predefine('sap/gantt/simple/GanttSyncedControl',["sap/gantt/library","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Core","./GanttUtils"],function(l,C,D,a,G){"use strict";
var b=C.extend("sap.gantt.simple.GanttSyncedControl",{
metadata:{library:"sap.gantt",properties:{innerWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"}}},
renderer:function(r,c){var g=c.getParent().getParent();r.write("<div class='sapGanttBackground'");r.writeControlData(c);r.write(">");r.write("<div class='sapGanttBackgroundFlexContainer'>");r.write("<div class='sapGanttBackgroundContainer sapGanttBackgroundScrollbar'>");r.write("<div");r.addClass("sapGanttBackgroundTable");r.writeClasses();r.write(">");c.renderGanttHeaderPlaceholder(r,g);c.renderGanttBodyPlaceholder(r,g);c.renderHorizontalScrollbarContainer(r);r.write("</div>");r.write("</div>");c.renderVerticalScrollbarContainer(r,c);r.write("</div>");r.write("</div>");}
});
b.prototype.init=function(){this.oSyncInterface=null;this.state={rows:[],innerVerticalScrollPosition:0,horizontalScrollPosition:0,layout:{top:0,headerHeight:0,contentHeight:0}};this._bRowsHeightChanged=false;this._bAllowContentScroll=true;};
b.prototype.onAfterRendering=function(){var d=this.getDomRefs();var g=this.getParent().getParent();if(this.oSyncInterface){var r=a.createRenderManager();this.oSyncInterface.renderHorizontalScrollbar(r,g.getId()+"-hsb",g.getContentWidth());r.flush(d.hsbContainer);}if(this.oSyncInterface&&d.content&&d.vsbContainerContent){this.oSyncInterface.registerVerticalScrolling({wheelAreas:[d.content],touchAreas:[d.content]});this.oSyncInterface.placeVerticalScrollbarAt(d.vsbContainerContent);}this.updateScrollPositions();};
b.prototype.renderGanttHeaderPlaceholder=function(r,g){r.write("<div");r.writeAttribute("data-sap-ui-related",g.getId());if(!g.getShowGanttHeader()){g.getTable().destroyExtension();g.getTable().setColumnHeaderVisible(false);}else{g.getTable().setColumnHeaderVisible(true);}r.addClass("sapGanttChartWithTableHeader");r.writeClasses();r.write(">");r.write("</div>");};
b.prototype.renderGanttBodyPlaceholder=function(r,g){r.write("<div id='"+g.getId()+"-sapGanttBackgroundTableContent' class='sapGanttBackgroundTableContent' style='height:"+this.state.layout.contentHeight+"px'>");r.write("<div");r.writeAttribute("id",g.getId()+"-gantt");r.writeAttribute("data-sap-ui-related",g.getId());r.addClass("sapGanttChartContentBody");r.addClass("sapGanttBackgroundSVG");r.writeClasses();r.write(">");this.renderGanttChartCnt(r,g);r.write("</div>");r.write("</div>");};
b.prototype.renderVerticalScrollbarContainer=function(r,c){r.write("<div class='sapGanttBackgroundVScrollContainer'>");r.write("<div class='sapGanttBackgroundVScrollContentArea' style='margin-top:"+(c.state.layout.top+c.state.layout.headerHeight)+"px'></div>");r.write("</div>");};
b.prototype.syncWith=function(t){var e=t.getParent()._oExpandModel;t._enableSynchronization().then(function(s){this.oSyncInterface=s;s.rowCount=function(c){var o=this.state.rows.length;var i;if(o<c){for(i=0;i<c-o;i++){this.state.rows.push({height:0,selected:false,hovered:false});}}else if(o>c){for(i=o-1;i>=c;i--){this.state.rows.pop();}}}.bind(this);s.rowSelection=function(i,S){if(this.state.rows[i]){this.state.rows[i].selected=S;G.updateGanttRows(this,this.state.rows,i);}}.bind(this);s.rowHover=function(i,h){if(this.state.rows[i]){this.state.rows[i].hovered=h;G.updateGanttRows(this,this.state.rows,i);}}.bind(this);s.rowHeights=function(h){for(var i=0;i<=h.length-1;i++){h[i]=e.getRowHeightByIndex(t,i,h[i]);}var g=this.getParent().getParent();if(g.getDisplayType()===l.simple.GanttChartWithTableDisplayType.Chart){return h;}this.setRowsHeightChanged(false);h.forEach(function(H,I){if(!this.state.rows[I]){this.state.rows[I]={};}if(this.state.rows[I].height!==H){this.setRowsHeightChanged(true);}this.state.rows[I].height=H;}.bind(this));if(this.getRowsHeightChanged()&&g.getDisplayType()!==l.simple.GanttChartWithTableDisplayType.Table){g.getInnerGantt().invalidate();}return h;}.bind(this);s.innerVerticalScrollPosition=function(S){this.state.innerVerticalScrollPosition=S;this.updateScrollPositions();}.bind(this);s.layout=function(L){this.state.layout=L;this.updateLayout();}.bind(this);this.invalidate();}.bind(this));};
b.prototype.renderHorizontalScrollbarContainer=function(r){r.write("<div class='sapGanttHSBContainer'>");r.write("</div>");};
b.prototype.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg");r.writeAttribute("id",g.getId()+"-svg-psdef");r.writeAttribute("aria-hidden","true");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
b.prototype.renderGanttChartCnt=function(r,g){r.write("<div id='"+g.getId()+"-cnt'");r.addClass("sapGanttChartCnt");r.writeClasses();r.addStyle("height","100%");r.addStyle("width","100%");r.write(">");r.write("</div>");};
b.prototype.setInnerWidth=function(w){this.setProperty("innerWidth",w,true);this._toggleHSBVisibility(w);return this;};
b.prototype._toggleHSBVisibility=function(w){var d=this.getDomRefs();if(d.hsb==null||d.hsbContent==null){return;}var s=parseFloat(w)>jQuery(d.contentContainer).width();if(s){d.hsbContent.style.height=null;d.hsbContent.style.width=w;}else{d.hsbContent.style.cssText=null;if(D.browser.msie){d.hsbContent.style.width=0;}}};
b.prototype.addEventListeners=function(){this.addScrollEventListeners();};
b.prototype.addScrollEventListeners=function(){var t=this;this.oHSb.addEventListener("scroll",function(e){t.state.horizontalScrollPosition=e.target.scrollLeft;});};
b.prototype.updateLayout=function(){var d=this.getDomRefs();if(d){d.header.style.height=(this.state.layout.top+this.state.layout.headerHeight)+"px";d.contentContainer.style.height=this.state.layout.contentHeight+"px";d.vsbContainerContent.style.marginTop=(this.state.layout.top+this.state.layout.headerHeight)+"px";}};
b.prototype.updateScrollPositions=function(){var d=this.getDomRefs();if(d&&this._bAllowContentScroll){d.content.scrollTop=this.state.innerVerticalScrollPosition;if(d.content.scrollTop!==this.state.innerVerticalScrollPosition){this._bAllowContentScroll=false;}}};
b.prototype.setAllowContentScroll=function(A){this._bAllowContentScroll=A;};
b.prototype.setRowsHeightChanged=function(r){this._bRowsHeightChanged=r;};
b.prototype.getRowsHeightChanged=function(r){return this._bRowsHeightChanged;};
b.prototype.scrollContentIfNecessary=function(){if(this._bAllowContentScroll===false){this._bAllowContentScroll=true;this.updateScrollPositions();}};
b.prototype.getDomRefs=function(){var d=this.getDomRef();if(!d){return null;}var h=d.querySelector(".sapGanttChartWithTableHeader"),c=d.querySelector(".sapGanttBackgroundTableContent"),o=c.querySelector(".sapGanttChartContentBody");var v=d.querySelector(".sapGanttBackgroundVScrollContainer"),V=v.querySelector(".sapGanttBackgroundVScrollContentArea");var H=d.querySelector(".sapGanttHSBContainer");var e=d.querySelector(".sapUiTableHSbExternal"),f=d.querySelector(".sapUiTableHSbContent");return{header:h,contentContainer:c,content:o,vsbContainer:v,vsbContainerContent:V,hsbContainer:H,hsb:e,hsbContent:f};};
b.prototype.getRowStates=function(){return this.state.rows;};
b.prototype.getRowHeights=function(){return this.state.rows.map(function(r){return r.height;});};
b.prototype.syncRowSelection=function(i){if(i>-1){var s=!this.state.rows[i].selected;this.oSyncInterface.syncRowSelection(i,s);}};
b.prototype.syncRowHover=function(i,h){if(i>-1){this.oSyncInterface.syncRowHover(i,h);}};
return b;});
sap.ui.predefine('sap/gantt/simple/GanttUtils',["sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/Core","sap/gantt/misc/Utility","sap/ui/core/format/DateFormat","sap/ui/core/Locale","sap/gantt/misc/Format"],function(q,L,C,U,D,a,F){"use strict";var c={};var G={SHAPE_ID_DATASET_KEY:"data-sap-gantt-shape-id",ROW_ID_DATASET_KEY:"data-sap-gantt-row-id",CONNECTABLE_DATASET_KEY:"data-sap-gantt-connectable",SELECT_FOR_DATASET_KEY:"sap-gantt-select-for",SHAPE_CONNECT_FOR_DATASET_KEY:"sap-gantt-shape-connect-for",SHAPE_CONNECT_INDICATOR_WIDTH:10,shapeElementById:function(s,g){var o=window.document.getElementById(g),S=o.querySelector("g.sapGanttChartShapes");var n=S.querySelectorAll("["+G.SHAPE_ID_DATASET_KEY+"='"+s+"']");var e=n[0];if(e){return q(e).control(0);}return null;},getValueX:function(s){var n;var p=s.getMetadata().getProperty("x");if(p){n=s.getProperty(p.name);if(n!==null&&n!==undefined){return n;}}var r=C.getConfiguration().getRTL(),t=r?(s.getEndTime()||s.getTime()):s.getTime();if(t){n=s.getXByTime(t);}if(!q.isNumeric(n)){L.warning("couldn't convert timestamp to x with value: "+t);}return n;},getRowInstance:function(e,t){var r=q(e.target).closest("rect.sapGanttBackgroundSVGRow").data("sapUiIndex");if(r!=null){return t.getRows()[r];}},getRowInstancefromShape:function(s){var r=s.getParentRowSettings();if(r!=null){return r.getParentRow();}},_get2dContext:function(f,s){if(!c.context){c.context=document.createElement('canvas').getContext("2d");}if(c.fontSize!==f||c.fontFamily!==s){c.context.font=f+"px "+s;c.fontSize=f;c.fontFamily=s;}return c.context;},getShapeTextWidth:function(t,f,s){return this._get2dContext(f,s).measureText(t).width;},getSelectedTableRowSettings:function(t,s){var A=t.getRows(),f=t.getFirstVisibleRow();if(A.length===0){return null;}var i=A[0].getIndex();var I=s-f;if(i!==f){I+=Math.abs(i-f);}if(!A[I]){return null;}return A[I].getAggregation("_settings");},updateGanttRows:function(d,r,i){var g=d.getParent().getParent();var $=q(document.getElementById(g.getId()+"-svg")),b=$.find("rect.sapGanttBackgroundSVGRow");b.eq(i).toggleClass("sapGanttBackgroundSVGRowSelected",r[i].selected);b.eq(i).toggleClass("sapGanttBackgroundSVGRowHovered",r[i].hovered);},getShapesWithUid:function(s,S){var e=function(b){var p=U.parseUid(b),d=p.shapeId;var f=["[id='",s,"']"," ["+G.SHAPE_ID_DATASET_KEY+"='",d,"']"].join("");return q(f).control().filter(function(o){return o.getShapeUid()===b;})[0];};var E=S.map(e);return E;},getTimeFormaterBySmallInterval:function(g){var A=g.getAxisTimeStrategy(),s=A.getTimeLineOption().smallInterval,u=s.unit;var o=A.getCalendarType(),b=A.getLocale()?A.getLocale():new a(C.getConfiguration().getLanguage().toLowerCase());var f="yyyyMMMddhhms";if(!(u===sap.gantt.config.TimeUnit.minute||u===sap.gantt.config.TimeUnit.hour)){f="yyyyMMMdd";}return D.getDateTimeInstance({format:f,style:s.style,calendarType:o},s.locale?new a(s.locale):b);}};return G;},true);
sap.ui.predefine('sap/gantt/simple/GanttZoomExtension',["sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/events/KeyCodes","sap/gantt/config/TimeHorizon","./GanttExtension","./CoordinateUtils","./AggregationUtils"],function(q,L,K,T,G,C,A){"use strict";var I=["mousedown","mousemove","mouseup","wheel","MozMousePixelScroll"];var B=I.reduce(function(e,d){e[d]=d;return e;},{});B.keydown="keydown";B.periodZoom="periodZoom";var n=".sapGanttZoom";var _=function(e){return e+n;};I=I.map(_);var P=B.periodZoom+n;var a=B.keydown+n;var Z={start:"zoomStart",zooming:"zooming",end:"zoomEnd"};var b={dispatch:function(e,p){var E=this._getZoomExtension(),o=e.originalEvent||e;if(E.isMouseWheelZoom(e)){var s=p&&p.suppressSyncEvent;E.performMouseWheelZooming(o,s);return;}if(p&&p.which){o.which=p.which;}E.performTimePeriodZooming(o);},addEventListeners:function(g){var e=g._getZoomExtension(),d=e.getDomRefs(),o=d.ganttSvg,f=d.gantt,h=d.headerSvg;var i=function(E,D){q(D).bind(E,b.dispatch.bind(g));};b.removeEventListeners(g);I.forEach(function(E){i(E,o);if(E.startsWith(B.wheel)){i(E,h);}});q(f).on(P,b.dispatch.bind(g));q(document).on(a,function(j){if(j.which===K.Z||j.which===K.ESCAPE){q(this).find(".sapGanttChartContentBody").trigger(P,{which:j.which});}});},removeEventListeners:function(g){var e=g._getZoomExtension(),d=e.getDomRefs(),o=d.ganttSvg,f=d.gantt,h=d.headerSvg;q(o).unbind(n);q(h).unbind(n);q(f).unbind(n);q(document).off(n);}};
var c=G.extend("sap.gantt.GanttZoomExtension",{
_init:function(g,s){this.bTimePeriodZoomMode=false;this.oZoomStartTime=null;this.iMouseWheelZoomDelayedCallId=undefined;this.iLastMouseWheelZoomTimeInMs=0;return"ZoomExtension";},
_attachEvents:function(){var g=this.getGantt();b.removeEventListeners(g);b.addEventListeners(g);},
_detachEvents:function(){var g=this.getGantt();b.removeEventListeners(g);}
});
c.prototype.isMouseWheelZoom=function(e){var d=e.shiftKey&&e.ctrlKey&&(e.type===B.wheel||e.type===B.MozMousePixelScroll);if(d){e.preventDefault();e.stopImmediatePropagation();e.stopPropagation();}return d;};
G.prototype.performMouseWheelZooming=function(e,s){var S=this._getWheelScrollDelta(e),i=this._getMousePositionX(e);this.decideMouseWheelZoom(e,S,i,s);};
c.prototype._getWheelScrollDelta=function(e){var s=e.deltaY||e.deltaX;if(s===0||s===undefined){s=e.detail;}var d=e.deltaMode===1?33:1;return s*d;};
c.prototype._getMousePositionX=function(e){return C.xPosOfSvgElement(e,q(this.getDomRefs().ganttSvg));};
c.prototype.decideMouseWheelZoom=function(o,s,m,S){var g=this.getGantt(),z=g.getAxisTimeStrategy();if(z.getMouseWheelZoomType()===sap.gantt.MouseWheelZoomType.None){return;}var d=s<0,e=!d;var i=z.getZoomLevel(),M=z.getZoomLevels()-1;if((e&&i>0)||(d&&i<M)){var t=(!this.iMouseWheelZoomDelayedCallId&&(Date.now()-this.iLastMouseWheelZoomTimeInMs>100))?0:700;if(t===0){this.onMouseWheelZooming(o,z,m,s,S);}else{this.iMouseWheelZoomDelayedCallId=this.iMouseWheelZoomDelayedCallId||window.setTimeout(this.onMouseWheelZooming.bind(this),t,o,z,m,s,S);}}};
c.prototype.onMouseWheelZooming=function(o,z,m,s,S){this.iLastMouseWheelZoomTimeInMs=Date.now();var t=z.getAxisTime().viewToTime(m);z.updateVisibleHorizonOnMouseWheelZoom(t,s,o,S);window.clearTimeout(this.iMouseWheelZoomDelayedCallId);delete this.iMouseWheelZoomDelayedCallId;};
c.prototype.performTimePeriodZooming=function(e){var p=this.getGantt()._getPointerExtension();var i=p.isPointerInGanttChart();var o=this.getGantt().getAxisTimeStrategy();if(!o.isTimePeriodZoomEnabled()){return;}if(i===false){return;}if(e.type===B.periodZoom){if(e.which===K.Z&&p.isPointerInGanttChart()){this.bTimePeriodZoomMode=!this.bTimePeriodZoomMode;}if(e.which===K.ESCAPE){this.bTimePeriodZoomMode=false;}this.updateCursorStyle(this.bTimePeriodZoomMode);}if(e.type===B.mousedown&&e.button===0){if(this.bTimePeriodZoomMode){this.handleZoomStart(e);this._fireTimePeriodZoomEvent({type:Z.start,zoomStartTime:this.oZoomStartTime,zoomEndTime:null,originalEvent:e});}}if(e.type===B.mousemove&&this.bTimePeriodZoomMode){var E=this.timeFromEvent(e);this.handleZooming(e);this._fireTimePeriodZoomEvent({type:Z.zooming,zoomStartTime:this.oZoomStartTime,zoomEndTime:E,originalEvent:e});}if(e.type===B.mouseup&&this.bTimePeriodZoomMode){this.bTimePeriodZoomMode=false;var E=this.timeFromEvent(e);this.handleZoomEnd(e);this._fireTimePeriodZoomEvent({type:Z.end,zoomStartTime:this.oZoomStartTime,zoomEndTime:E,originalEvent:e});}};
c.prototype.timeFromEvent=function(e){var $=q(this.getDomRefs().ganttSvg),p=C.xPosOfSvgElement(e,$);var o=this.getGantt()._getPointerExtension();p+=o._getAutoScrollStep();return this.getGantt().getAxisTime().viewToTime(p);};
c.prototype._fireTimePeriodZoomEvent=function(p){this.getGantt().fireEvent("_timePeriodZoomOperation",p);};
c.prototype.syncTimePeriodZoomOperation=function(e,t,o){var O=e.getParameter("originalEvent");var s=e.getParameter("type");switch(s){case Z.start:this.handleZoomStart(O);break;case Z.zooming:this.handleZooming(O);break;case Z.end:this.handleZoomEnd(O,true);break;default:L.debug("unknown time period zoom type");}};
c.prototype.handleZoomStart=function(e){this.oZoomStartTime=this.timeFromEvent(e);var s=this.getGantt().getAxisTime().timeToView(this.oZoomStartTime);this.updateCursorStyle(this.bTimePeriodZoomMode);this.createZoomingRectangle(s);};
c.prototype.handleZooming=function(e){this._isZooming=true;var s=this.oZoomStartTime;var E=this.timeFromEvent(e);var o=this.getGantt().getAxisTime(),S=o.timeToView(s),i=o.timeToView(E);this.updateCursorStyle(this.bTimePeriodZoomMode);if(i>S){this.updateZoomingRectangle(S,i);}else{this.updateZoomingRectangle(i,S);}};
c.prototype.isZoomingRectangleNotExisted=function(){var s=d3.select(this.getDomRefs().ganttSvg);return s.selectAll(".sapGanttChartTimePeriodZoomRectangle").size()===0;};
c.prototype.isTimeZooming=function(){return this._isZooming;};
c.prototype._handleAutoScroll=function(e){if(this.isTimeZooming()){if(this.isZoomingRectangleNotExisted()){var s=this.oZoomStartTime;var o=this.getGantt().getAxisTime(),S=o.timeToView(s);this.createZoomingRectangle(S);}this.handleZooming(e);}};
c.prototype.handleZoomEnd=function(e,s){this._isZooming=false;var E=this.timeFromEvent(e);this.updateCursorStyle(this.bTimePeriodZoomMode);this.destroyZoomingRectangle();var o=this.getGantt().getAxisTime(),S=o.timeToView(this.oZoomStartTime),i=o.timeToView(E);var O=5;if(Math.abs(i-S)>O){var d=this.oZoomStartTime,f=E;if(E.getTime()<d.getTime()){var t=d;d=E;f=t;}var g=new T({startTime:d,endTime:f});this.getGantt().syncVisibleHorizon(g,undefined,undefined,s?undefined:"timePeriodZooming");}};
c.prototype.updateCursorStyle=function(z){var s=z?"crosshair":"auto";this.getDomRefs().ganttSvg.style.cursor=s;this.getDomRefs().headerSvg.style.cursor=s;};
c.prototype.createZoomingRectangle=function(x){var s=d3.select(this.getDomRefs().ganttSvg);this.destroyZoomingRectangle();s.append("rect").classed("sapGanttChartTimePeriodZoomRectangle",true).attr("x",x).attr("y",0).attr("height",q(s.node()).height());};
c.prototype.updateZoomingRectangle=function(s,e){var S=d3.select(this.getDomRefs().ganttSvg);S.selectAll(".sapGanttChartTimePeriodZoomRectangle").attr("x",s).attr("width",e-s);};
c.prototype.destroyZoomingRectangle=function(){var s=d3.select(this.getDomRefs().ganttSvg);s.selectAll(".sapGanttChartTimePeriodZoomRectangle").remove();};
c.prototype.doBirdEye=function(r){var g=this.getGantt();var o=this.calculateBirdEyeRange(r);var d=new T(o);g.getAxisTimeStrategy()._setVisibleHorizon(d);};
c.prototype.calculateBirdEyeRange=function(r){var g=this.getGantt();var t=g.getTable();var R=t.getRows();var h;var s;var e;if(r!==undefined){h=this._getBirdEyeRangeOnRow(r);s=h.startTime;e=h.endTime;}else{for(var i=0;i<R.length;i++){h=this._getBirdEyeRangeOnRow(i);if(h.startTime&&h.endTime){var o=this._calculateBirdEyeTimeRange(s,e,h.startTime,h.endTime);s=o.startTime;e=o.endTime;}}}var d={startTime:s,endTime:e};return d;};
c.prototype._getBirdEyeRangeOnRow=function(r){var g=this.getGantt();var t=g.getTable();var o=t.getBindingInfo("rows"),m=o&&o.model;var R=t.getRows();var d=R[r];var e=d.getBindingContext(m);var s;var E;if(e){var f=d.getAggregation("_settings");var S=[];S=this._getShapeInRow(f,S);var h=this;S.forEach(function(k){if(k.getCountInBirdEye&&k.getCountInBirdEye()){var l=k.getTime();var p=k.getEndTime();var u=h._calculateBirdEyeTimeRange(s,E,l,p);s=u.startTime;E=u.endTime;}});}if(s&&E){var i=g.getVisibleWidth();var j=(E.getTime()-s.getTime())/i;s=new Date(s.getTime()-j*5);E=new Date(E.getTime()+j*5);}var H={startTime:s,endTime:E};return H;};
c.prototype._getShapeInRow=function(e,s){var m=A.getNonLazyAggregations(e);var t=this;Object.keys(m).forEach(function(N){var d=e.getAggregation(N);if(d){d=q.isArray(d)?d:[d];if(d.length>0){s=s.concat(d);d.forEach(function(o){s=t._getShapeInRow(o,s);});}}}.bind(e));return s;};
c.prototype._calculateBirdEyeTimeRange=function(e,l,o,d){if(!e||o.getTime()<e.getTime()){e=o;}if(!l||l.getTime()<d.getTime()){l=d;}return{startTime:e,endTime:l};};
return c;});
sap.ui.predefine('sap/gantt/simple/InnerGanttChart',["sap/ui/core/Core","sap/ui/core/Control","sap/ui/table/library","sap/ui/table/TableUtils","sap/gantt/simple/GanttExtension","sap/gantt/simple/InnerGanttChartRenderer"],function(C,a,t,T,G){"use strict";
var I=a.extend("sap.gantt.simple.InnerGanttChart",{metadata:{events:{ganttReady:{parameters:{hasRenderedShapes:{type:"boolean"},totalRenderedShapes:{type:"int"}}}}}});
I.prototype.getDomRef=function(s){var p=this.getParent(),d;if(s){d="-"+s;}else{d="-cnt";}if(p){return window.document.getElementById(p.getId()+d);}return null;};
I.prototype.invalidate=function(){this.getUIArea().addInvalidatedControl(this);};
I.prototype.hasRenderedShapes=function(){return this.$("svg").find(".sapGanttChartShapes").children().length>0;};
I.prototype.getTotalRenderedShapes=function(){return this.$("svg").find(".sapGanttChartShapes").children().length;};
I.prototype.resolveWhenReady=function(w){return new Promise(function(r){var h=function handleEvent(e){var g=this.getParent();if(g._enableOptimisation){g.getTable().setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Fixed);}if(w&&!e.getParameter("hasRenderedShapes")||(g.getTable().getVisibleRowCountMode()===t.VisibleRowCountMode.Auto&&g.getSyncedControl().getRowStates().length<(g.getTable().getVisibleRowCount()+T.getHeaderRowCount(g.getTable())))){this.attachEventOnce("ganttReady",h);}else{r();}}.bind(this);if(Object.keys(this.getUIArea().mInvalidatedControls).indexOf(this.getParent().getId())>-1){this.attachEventOnce("ganttReady",h);}else if((!w&&this.getDomRef("svg"))||(w&&this.hasRenderedShapes())){r();}else{this.attachEventOnce("ganttReady",h);}}.bind(this));};
I.prototype._updateRowsHoverState=function(){var g=this.getParent();setTimeout(function(){g.$("svg").find("rect.sapGanttBackgroundSVGRow:hover").each(function(){var e=g._getPointerExtension(),i=e._getRowIndexFromElement(this);g.getSyncedControl().syncRowHover(i,true);});g.$("svg").find("rect.sapGanttBackgroundSVGRow:not(:hover)").each(function(){var e=g._getPointerExtension(),i=e._getRowIndexFromElement(this);g.getSyncedControl().syncRowHover(i,false);});},0);};
I.prototype.onBeforeRendering=function(e){if(!this.getParent()._bPreventInitialRender||this.getParent()._bRenderGanttClone){this.getParent().jumpToVisibleHorizon("initialRender");}};
I.prototype.onAfterRendering=function(e){var g=this.getParent();g._syncContainerGanttCharts("initialRender",e);var r=C.createRenderManager();this.getRenderer().renderRelationships(r,g);r.destroy();g._updateShapeSelections(g.getSelectedShapeUid(),[]);g._getConnectExtension().updateShapeConnectEffect(g);this._updateRowsHoverState();G.attachEvents(g);this.fireGanttReady({hasRenderedShapes:this.hasRenderedShapes(),totalRenderedShapes:this.getTotalRenderedShapes()});};
return I;},true);
sap.ui.predefine('sap/gantt/simple/InnerGanttChartRenderer',["sap/ui/Device","sap/ui/core/Core","sap/gantt/simple/BaseLine","sap/gantt/simple/RenderUtils","sap/gantt/simple/GanttExtension","sap/gantt/simple/Relationship","sap/gantt/misc/Format","sap/gantt/misc/Utility"],function(D,C,B,R,G,a,F,U){"use strict";var I={};
I.render=function(r,c){var g=c.getParent();this.renderGanttChart(r,g);g.getSyncedControl().scrollContentIfNecessary();};
I.renderGanttChart=function(r,g){r.write("<div id='"+g.getId()+"-cnt'");r.addClass("sapGanttChartCnt");r.writeClasses();r.addStyle("height","100%");r.addStyle("width","100%");r.writeStyles();r.write(">");this.rerenderAllShapes(r,g);r.write("</div>");};
I.renderImmediately=function(g){var r=C.createRenderManager();this.renderGanttChart(r,g);var o=window.document.getElementById(g.getId()+"-cnt");r.flush(o,true,false);this.renderRelationships(r,g);g._updateShapeSelections(g.getSelectedShapeUid(),[]);G.attachEvents(g);r.destroy();};
I.rerenderAllShapes=function(r,g){var b=g.getSyncedControl().getRowStates();if(b.length===0){return;}g.getAggregation("_header").renderElement();var A=b.reduce(function(h,c){return h+c.height;},0);r.write("<svg id='"+g.getId()+"-svg'");r.addClass("sapGanttChartSvg");r.writeClasses();r.writeAttribute("height",A+"px");var i=R.getGanttRenderWidth(g);r.writeAttribute("width",i+"px");r.write(">");this.renderGanttBackgrounds(r,g,b);this.renderCalendarShapes(r,g);this.renderExpandedRowBackground(r,g);this.renderVerticalLines(r,g,A);this.renderNowLineBody(r,g);var f=[this.renderRlsContainer,this.renderAllShapesInRows,this.renderAssistedContainer];if(g.getEnableAdhocLine()){var l=g.getAdhocLineLayer();if(l===sap.gantt.AdhocLineLayer.Bottom){f.splice(0,0,this.renderAdhocLines);}else{f.push(this.renderAdhocLines);}}f.forEach(function(c){c.apply(I,[r,g]);});r.write("</svg>");r.write("<svg");r.writeAttribute("id",g.getId()+"-svgDefs");r.class("sapGanttChartSvgDefs");r.writeClasses();r.addStyle("position","absolute");r.addStyle("width","0");r.addStyle("height","0");r.writeStyles();r.write(">");this.renderHelperDefs(r,g.getId(),g);this.renderCalendarPattern(r,g);r.write("</svg>");if(!g._bPreventInitialRender){g._bPreventInitialRender=true;}};
I.renderHelperDefs=function(r,i,g){r.write("<defs>");var l=i+"-helperDef-linePattern";r.write("<pattern id='"+l+"' width='2' height='2' x='0' y='0' patternUnits='userSpaceOnUse'>");r.write("<line x1='1' x2='1' y1='0' y2='2' stroke-width='1' stroke='white' shape-rendering='crispEdges' />");r.write("</pattern>");r.write("</defs>");var s=g?g.getSvgDefs():null;if(s){r.unsafeHtml(s._getDefString(g._bClonedGantt));}};
I.renderGanttBackgrounds=function(r,g,b){r.write("<g");r.writeAttribute("id",g.getId()+"-bg");r.write(">");this.renderRowBackgrounds(r,g,b);this.renderRowBorders(r,g,b);r.write("</g>");};
I.renderRowBackgrounds=function(r,g,b){var n=0;r.write("<g class='rowBackgrounds'");r.write(">");b.forEach(function(o,i){r.write("<rect");r.writeAttribute("y",n);r.writeAttribute("width","100%");r.writeAttribute("height",o.height);r.writeAttribute("data-sap-ui-index",i);r.addClass("sapGanttBackgroundSVGRow");if(o.selected){r.addClass("sapGanttBackgroundSVGRowSelected");}if(o.hovered){r.addClass("sapGanttBackgroundSVGRowHovered");}r.writeClasses();r.write("/>");n+=o.height;});r.write("</g>");};
I.renderRowBorders=function(r,g,b){r.write("<g class='rowBorders'");r.write(">");var n=0;b.forEach(function(o,i){var c=(n+o.height)-0.5;r.write("<line");r.writeAttribute("x1",0);r.writeAttribute("x2","100%");r.writeAttribute("y1",c);r.writeAttribute("y2",c);r.writeAttribute("style","pointer-events:none");r.addClass("sapGanttBackgroundSVGRowBorder");r.writeClasses();r.write("/>");n+=o.height;});r.write("</g>");};
I.renderAdhocLines=function(r,g){var A=g.getAdhocLines();var t=g.getRenderedTimeRange(),m=t[0],M=t[1];A=A.filter(function(v){var d=F.abapTimestampToDate(v.getTimeStamp());return d>=m&&d<=M;});if(A.length===0){return;}r.write("<g");r.writeAttribute("class","sapGanttChartAdhocLine");r.write(">");var o=g.getAxisTime();A.map(function(b){var x=o.timeToView(F.abapTimestampToDate(b.getTimeStamp()));return new B({x1:x,y1:0,x2:x,y2:"100%",stroke:b.getStroke(),strokeWidth:b.getStrokeWidth(),strokeDasharray:b.getStrokeDasharray(),strokeOpacity:b.getStrokeOpacity(),tooltip:b.getDescription()}).setProperty("childElement",true);}).forEach(function(l){l.renderElement(r,l);});r.write("</g>");};
I.renderVerticalLines=function(r,g,c){if(g.getEnableVerticalLine()){var b=R.getGanttRenderWidth(g),A=g.getAxisTime();var z=A.getZoomStrategy();var t=A.getTickTimeIntervalLabel(z.getTimeLineOption(),null,[0,b]);var T=t[1];var p="";for(var i=0;i<T.length;i++){p+=" M"+" "+(T[i].value-1/2)+" 0"+" v "+c;}if(p){r.write("<path");r.addClass("sapGanttChartVerticalLine");r.writeClasses();r.writeAttribute("d",p);r.write("/>");}}};
I.renderAssistedContainer=function(r,g){r.write("<g");r.writeAttribute("class","sapGanttChartSelection");r.write(">");r.write("</g>");r.write("<g");r.writeAttribute("class","sapGanttChartShapeConnect");r.write(">");r.write("</g>");};
I.renderNowLineBody=function(r,g){var n=g.getAxisTime().getNowLabel(g.getNowLineInUTC())[0].value;if(g.getEnableNowLine()===false||isNaN(n)){return;}r.write("<g class='sapGanttNowLineBodySvgLine'");r.write(">");var s=new B({x1:n,y1:0,x2:n,y2:"100%",strokeWidth:1}).setProperty("childElement",true);s.renderElement(r,s);r.write("</g>");};
I.renderRlsContainer=function(r,g){r.write("<g");r.writeAttribute("class","sapGanttChartRls");r.write(">");r.write("</g>");};
I.renderAllShapesInRows=function(r,g){if(!jQuery(document.getElementById(g.getId()+"-gantt"))){return;}r.write("<g");r.writeAttribute("id",g.getId()+"-shapes");r.writeAttribute("class","sapGanttChartShapes");r.write(">");this._eachVisibleRowSettings(g,function(o){o.renderElement(r,g);});r.write("</g>");};
I._eachVisibleRowSettings=function(g,c){var A=g.getTable().getRows();var b=g.getTable().getBindingInfo("rows"),m=b&&b.model;for(var i=0;i<A.length;i++){var r=A[i];var o=r.getBindingContext(m);if(o&&r.getIndex()!==-1){var d=r.getAggregation("_settings");if(c){c(d);}}}};
I.renderRelationships=function(r,g){var o=window.document.getElementById(g.getId()+"-svg");var b=jQuery(o).children("g.sapGanttChartRls").get(0);if(o==null||b==null){return;}var s=Object.create(null);if(D.browser.msie){var t=jQuery("<div>").attr("id",g.getId()+"-rls").get(0);var T=window.document.getElementById("sap-ui-preserve").appendChild(t);r.write("<svg>");this._eachVisibleRowSettings(g,this._renderVisibleRowRelationships.bind(this,r,g,s));this._renderNonVisibleRowRelationships(r,g,s);r.write("</svg>");r.flush(T,true,false);jQuery(b).append(jQuery(T).children());jQuery(T).remove();}else{this._eachVisibleRowSettings(g,this._renderVisibleRowRelationships.bind(this,r,g,s));this._renderNonVisibleRowRelationships(r,g,s);r.flush(b,true,false);}};
I._renderVisibleRowRelationships=function(r,g,s,o){o.getRelationships().forEach(function(b){var S=b.getShapeId();var c=o.getShapeUid(b);if(!s[S]){s[S]=true;b.setProperty("shapeUid",c,true);b.renderElement(r,b,g.getId());}});};
I._renderNonVisibleRowRelationships=function(r,g,s){var o=U.safeCall(g,["getTable","getRowSettingsTemplate","getBindingInfo"],null,["relationships"]);if(!o){return;}var S=o.template.getBindingInfo("shapeId");if(!S){return;}var b=S.parts[0].path,m=g.getTable().getModel(o.model);var f=function(c,d){if(!s[c]){s[c]=true;var h=o.factory();h.setModel(m,o.model);h.bindObject({path:d,model:o.model});h.renderElement(r,h,g.getId());h.destroy();}};if(m.isA("sap.ui.model.json.JSONModel")){var e=m.mContexts;Object.keys(e).forEach(function(E){if(E.indexOf(o.path)>0){f(e[E].getProperty(b),E[0]==="/"?E:"/"+E);}});}else{var e=m.getProperty("/");Object.keys(e).forEach(function(E){if(E.startsWith(o.path)){f(e[E][b],E[0]==="/"?E:"/"+E);}});}};
I.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg");r.writeAttribute("id",g.getId()+"-svg-psdef");r.writeAttribute("aria-hidden","true");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
I.renderCalendarPattern=function(r,g){var p=g.getCalendarDef(),s=g.getId(),i=g.iGanttRenderedWidth;if(p&&p.getDefNode()&&p.getDefNode().defNodes&&i>0){var d=p.getDefNode();var b=s+"-calendardefs";r.write("<defs");r.writeAttribute("id",b);r.write(">");for(var c=0;c<d.defNodes.length;c++){var n=d.defNodes[c];r.write("<pattern");r.writeAttribute("id",n.id);r.addClass("calendarPattern");r.writeClasses();r.writeAttribute("patternUnits","userSpaceOnUse");r.writeAttribute("x",0);r.writeAttribute("y",0);r.writeAttribute("width",i);r.writeAttribute("height",32);r.write(">");for(var e=0;e<n.timeIntervals.length;e++){var t=n.timeIntervals[e];r.write("<rect");r.writeAttribute("x",t.x);r.writeAttribute("y",t.y);r.writeAttribute("width",t.width);r.writeAttribute("height",32);r.writeAttribute("fill",t.fill);r.write("/>");}r.write("</pattern>");}r.write("</defs>");}};
I.renderCalendarShapes=function(r,g){r.write("<g");r.addClass("sapGanttChartCalendar");r.writeClasses();r.write(">");var b=g.getSyncedControl().getRowStates();this._eachVisibleRowSettings(g,function(o){var p=R.calcRowDomPosition(o,b);o.getCalendars().forEach(function(c){c.setProperty("rowYCenter",p.rowYCenter,true);c._iBaseRowHeight=p.rowHeight;if(c.getVisible()){c.renderElement(r,c);}});});r.write("</g>");};
I.renderExpandedRowBackground=function(r,g){var b=g.getExpandedBackgroundData();if(jQuery.isEmptyObject(b)){return;}g._oExpandModel.refreshRowYAxis(g.getTable());var e=Array.prototype.concat.apply([],b);var w=g.iGanttRenderedWidth;r.write("<g");r.addClass("sapGanttChartRowBackground");r.writeClasses();r.write(">");for(var i=0;i<e.length;i++){var d=e[i];r.write("<g");r.addClass("expandedRow");r.writeClasses();r.write(">");r.write("<rect");r.writeAttribute("x",d.x);r.writeAttribute("y",d.y);r.writeAttribute("height",d.rowHeight-1);r.writeAttribute("width","100%");r.writeAttribute("class","sapGanttExpandChartCntBG");r.write(">");r.write("</rect>");r.write("<path");r.addClass("sapGanttExpandChartLine");r.writeClasses();r.writeAttribute("d","M0 "+(d.y-1)+" H"+(w-1));r.write("/>");r.write("</g>");}r.write("</g>");};
return I;},true);
sap.ui.predefine('sap/gantt/simple/LegendColumnConfig',["sap/ui/core/Element"],function(E){"use strict";
var L=E.extend("sap.gantt.simple.LegendColumnConfig",{metadata:{library:"sap.gantt",properties:{fill:{type:"string"},text:{type:"string"},fillFactory:{type:"function"}}}});
return L;},true);
sap.ui.predefine('sap/gantt/simple/LegendContainer',["sap/ui/core/Control","sap/ui/core/Core","sap/m/NavContainer","sap/m/Page","sap/m/List","sap/m/StandardListItem","../control/AssociateContainer"],function(C,a,N,P,L,S,A){"use strict";
var b=C.extend("sap.gantt.simple.LegendContainer",{metadata:{properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"}},defaultAggregation:"legends",aggregations:{legends:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"legend"}}}});
b.prototype.init=function(){this.initNavContainer();this._sCurrentPageTitle=null;this.oRb=a.getLibraryResourceBundle("sap.gantt");};
b.prototype.initNavContainer=function(){if(this._oNavContainer){return;}this._oNavContainer=new N({autoFocus:false,afterNavigate:function(e){this._sCurrentPageTitle=e.getParameter("to").getTitle();}.bind(this)});};
b.prototype.onBeforeRendering=function(e){this.initNavContainer();this._updateNavContainerSize();if(this._bInited){return;}this._addInitialPageIfNecessary();this._addLegendsToNavContainer();this._bInited=true;};
b.prototype._updateNavContainerSize=function(){this._oNavContainer.setWidth(this.getWidth());this._oNavContainer.setHeight(this.getHeight());};
b.prototype._addLegendsToNavContainer=function(){this.getLegends().forEach(function(l,_,c){var p=new P({title:l.getTitle(),backgroundDesign:sap.m.PageBackgroundDesign.Solid,enableScrolling:true,showNavButton:c.length>1,content:new A({content:l}),navButtonPress:function(e){this.getParent().backToTop();}});this._oNavContainer.addPage(p);}.bind(this));};
b.prototype._addInitialPageIfNecessary=function(){var l=this.getLegends();if(l.length>1){var n=l.map(function(o){return new S({title:o.getTitle(),type:sap.m.ListType.Navigation,press:this._onInitialPageItemPress.bind(this)});}.bind(this));var i=new P({title:this.oRb.getText("LEGEND_TITLE"),content:[new L({items:n})]});this._oNavContainer.addPage(i);this._oNavContainer.setInitialPage(i);}};
b.prototype._onInitialPageItemPress=function(e){var p=e.getSource().getTitle();this._navToByPageTitle(p);};
b.prototype._navToByPageTitle=function(p){if(!p){return;}this._oNavContainer.setAutoFocus(true);var c=this._oNavContainer.getPages();for(var i=0;i<c.length;i++){if(p==c[i].getTitle()){this._oNavContainer.to(c[i]);break;}}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/LegendContainerRenderer',[],function(){"use strict";var L={};
L.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLegend");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");r.renderControl(c._oNavContainer);r.write("</div>");};
return L;},true);
sap.ui.predefine('sap/gantt/simple/LegendRowConfig',["sap/ui/core/Element"],function(E){"use strict";
var L=E.extend("sap.gantt.simple.LegendRowConfig",{metadata:{library:"sap.gantt",properties:{shapeClass:{type:"string"},shapeName:{type:"string"},stroke:{type:"string"},strokeWidth:{type:"float"},text:{type:"string"}}}});
return L;},true);
sap.ui.predefine('sap/gantt/simple/ListLegend',["sap/ui/core/Control","sap/gantt/library"],function(C,l){"use strict";
var L=C.extend("sap.gantt.simple.ListLegend",{metadata:{library:"sap.gantt",properties:{title:{type:"string",group:"Data",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.gantt.simple.ListLegendItem",multiple:true,singularName:"item"}}}});
L.prototype.forceInvalidation=L.prototype.invalidate;
L.prototype.invalidate=function(s){if(s==this){}else if(!s){this.forceInvalidation();}else if(s instanceof sap.gantt.simple.ListLegendItem){}};
return L;},true);
sap.ui.predefine('sap/gantt/simple/ListLegendItem',['sap/ui/core/Element',"sap/m/CheckBox"],function(E,C){"use strict";
var L=E.extend("sap.gantt.simple.ListLegendItem",{metadata:{library:"sap.gantt",properties:{legendName:{type:"string"},interactive:{type:"boolean",defaultValue:false},selected:{type:"boolean",defaultValue:true}},defaultAggregation:"shape",aggregations:{shape:{type:"sap.gantt.simple.BaseShape",group:"Misc",multiple:false,defaultValue:null},_checkbox:{type:"sap.m.CheckBox",multiple:false,visibility:"hidden"}},events:{interactiveChange:{parameters:{legendName:{type:"string"},value:{type:"boolean"}}}}}});
L.prototype.init=function(){var c=new C({selected:this.getSelected()}).attachSelect(this._onInteractiveChange,this);this.setAggregation("_checkbox",c);this._getInteractiveCheckBox().setVisible(this.getInteractive());};
L.prototype.setInteractive=function(i){this.setProperty("interactive",i,true);this._getInteractiveCheckBox().setVisible(i);return this;};
L.prototype.setSelected=function(s){this.setProperty("selected",s,true);this.getAggregation("_checkbox").setSelected(s);return this;};
L.prototype._getInteractiveCheckBox=function(){return this.getAggregation("_checkbox");};
L.prototype._onInteractiveChange=function(e){this.fireInteractiveChange({legendName:this.getLegendName(),value:e.getParameter("selected")});this.setSelected(e.getParameter("selected"));};
return L;},true);
sap.ui.predefine('sap/gantt/simple/ListLegendRenderer',["sap/gantt/misc/Utility"],function(U){"use strict";var L={};var d=function(){var D=32;var s=U.findSapUiSizeClass();return U.scaleBySapUiSize(s,D);};
L.render=function(r,l){r.write("<div");r.writeControlData(l);r.write(">");var I=l.getItems();var h=I.some(function(o){return o.getInteractive();});for(var i=0;i<I.length;i++){this.renderLegendItem(r,I[i],h);}r.write("</div>");};
L.renderLegendItem=function(r,i,h){var s=i.getShape();var l=d(),a=l+"px";var H=l/2,w=H;this.normalizeShape(s,w,H);r.write("<div");r.writeElementData(i);r.writeAttributeEscaped("title",s.getTitle());r.addClass("sapGanttLLItem");r.writeClasses();r.addStyle("height",a);r.addStyle("line-height",a);var m="margin-"+(sap.ui.getCore().getConfiguration().getRTL()?"right":"left");if(h&&!i.getInteractive()){r.addStyle(m,a);}else if(!i.getInteractive()){r.addStyle(m,(w/2)+"px");}r.writeStyles();r.write(">");r.renderControl(i.getAggregation("_checkbox"));this.renderSvgPart(r,s,w);this.renderLegendText(r,s.getTitle());r.write("</div>");};
L.normalizeShape=function(s,w,h){var H=h/2;var S=s.getStrokeWidth()||0;var v={x:S,y:S,x1:S,y1:H+S,x2:w,y2:H,yBias:H,rowYCenter:H};if(s.getWidth){if(!s.getWidth()){v.width=w-2*S;}else{v.width=s.getWidth();}}if(s.getHeight){if(!s.getHeight()){v.height=h-2*S;}else{v.height=s.getHeight();}}if(s.isA("sap.gantt.simple.BaseCursor")){v.x+=s.getLength()/2;}if(s.isA("sap.gantt.simple.shapes.Shape")){s.setWidth(w);s.setHeight(h);s.setStartX(0);s.setRowYCenter(h);}else{Object.keys(v).forEach(function(p){var P=p.split("-").reduce(function(a,n){return a+n.charAt(0).toUpperCase()+n.slice(1);},"set");if(s[P]){s[P](v[p]);}});}};
L.renderSvgPart=function(r,s,w){r.write("<svg");r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);r.addClass("sapGanttLLSvg");r.writeClasses();r.addStyle("width",w+"px");r.writeStyles();r.write(">");s.renderElement(r,s);r.write("</svg>");};
L.renderLegendText=function(r,t){r.write("<div");r.addClass("sapGanttLLItemTxt");r.writeClasses();r.write(">");if(t){r.writeEscaped(t);}r.write("</div>");};
return L;},true);
sap.ui.predefine('sap/gantt/simple/Relationship',["sap/ui/Device","sap/ui/core/Core","sap/ui/core/IconPool","./GanttUtils","./RenderUtils","./BasePath","sap/ui/core/theming/Parameters"],function(D,C,I,G,R,B,P){"use strict";var A=6,L=20,a=15,b={"FinishToFinish":0,"FinishToStart":1,"StartToFinish":2,"StartToStart":3};
var c=B.extend("sap.gantt.simple.Relationship",{metadata:{properties:{type:{type:"sap.gantt.simple.RelationshipType",group:"Appearance"},predecessor:{type:"string",group:"Data"},successor:{type:"string",group:"Data"},selectedStroke:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#FF0000"},selectedStrokeWidth:{type:"sap.gantt.SVGLength",defaultValue:2}}}});
c.prototype.applySettings=function(s){s=s||{};s.stroke=s.stroke||P.get("sapUiBaseText");s.strokeWidth=s.strokeWidth||1;B.prototype.applySettings.apply(this,arguments);};
c.prototype.renderElement=function(r,e,g){if(!e.getVisible()){return;}var m=this.getRelatedInRowShapes(g);if(!m.predecessor&&!m.successor){return;}var t=this.getProcessedType();var d=this.getRlsAnchors(t,m);var f=function(o){return jQuery.isNumeric(o.x)&&jQuery.isNumeric(o.y);};if(!f(d.predecessor)||!f(d.successor)){return;}var n=this.getBaseRowHeight(g);this.calcLinePathD(d,n,t);this.renderRelationship(r,d);};
c.prototype.getRlsAnchors=function(t,r){var p,s,o;var m=this.getShapeAnchors(r);if(r.predecessor&&r.successor){if(t===b.FinishToFinish){p=m.predecessor.tail;s=m.successor.tail;}else if(t===b.FinishToStart){p=m.predecessor.tail;s=m.successor.head;}else if(t===b.StartToFinish){p=m.predecessor.head;s=m.successor.tail;}else if(t===b.StartToStart){p=m.predecessor.head;s=m.successor.head;}}else if(r.predecessor&&!r.successor){if(t===b.FinishToFinish||t===b.FinishToStart){p=m.predecessor.tail;s={x:p.x+L,y:p.y};o={x:s.x,y:s.y+a/2};}else if(t===b.StartToFinish||t===b.StartToStart){p=m.predecessor.head;s={x:p.x-L,y:p.y};o={x:s.x-a,y:s.y+a/2};}}else if(!r.predecessor&&r.successor){if(t===b.FinishToFinish||t===b.StartToFinish){s=m.successor.tail;p={x:s.x+L,y:s.y};o={x:p.x,y:p.y+a/2};}else if(t===b.FinishToStart||t===b.StartToStart){s=m.successor.head;p={x:s.x-L,y:s.y};o={x:p.x-a,y:p.y+a/2};}}return{predecessor:p,successor:s,prompter:o};};
c.prototype.calcLinePathD=function(m,n,t){var x=m.predecessor.x,y=m.predecessor.y;var d=m.successor.x,e=m.successor.y;var f,g=[x,y,d,e];if(y===e){f=this.calcIRlsPathD;}else if(y!==e){if(t===b.FinishToFinish){f=this.calcURlsPathD;g.push(false);}else if(t===b.FinishToStart){if(x<=d){f=this.calcLRlsPathD;}else if(x>d){f=this.calcSRlsPathD;g.push(n);}}else if(t===b.StartToFinish){if(x<d){f=this.calcSRlsPathD;g.push(n);}else if(x>=d){f=this.calcLRlsPathD;}}else if(t===b.StartToStart){f=this.calcURlsPathD;g.push(true);}}if(f===this.calcLRlsPathD){g[2]=(x<d)?d+m.successor.dx:d-m.successor.dx;g[3]=(y<e)?e-m.successor.dy:e+m.successor.dy;}this.setProperty("d",f.apply(this,g),true);};
c.prototype.calcIRlsPathD=function(x,y,d,e){return this.getLinePathD([[x,y],[d,e]]);};
c.prototype.calcLRlsPathD=function(x,y,d,e){return this.getLinePathD([[x,y],[d,y],[d,e]]);};
c.prototype.calcURlsPathD=function(x,y,d,e,Y){var f=(x<d)?d+2*A:x+2*A;var g=(x<d)?x-2*A:d-2*A;var h=(!Y)?f:g;return this.getLinePathD([[x,y],[h,y],[h,e],[d,e]]);};
c.prototype.calcSRlsPathD=function(x,y,d,e,n){var f=(x<d)?x-A*2:x+A*2;var g=(y<e)?y+n/2:y-n/2;var h=(x<d)?d+A*2:d-A*2;return this.getLinePathD([[x,y],[f,y],[f,g],[h,g],[h,e],[d,e]]);};
c.prototype.getArrowPathD=function(p){var t=function(v){return Number(v);};var d=p.match(/-?\d+(\.\d+)?/g).map(t);var x=d[d.length/2-2];var y=d[d.length/2-1];var e=d[d.length/2+0];var f=d[d.length/2+1];var r=[[e,f]];if(x==e){if(y>f){r.push([e+A/2,f+A]);r.push([e-A/2,f+A]);}else if(y<f){r.push([e-A/2,f-A]);r.push([e+A/2,f-A]);}}else if(x!=e){if(x>e){r.push([e+A,f-A/2]);r.push([e+A,f+A/2]);}else if(x<e){r.push([e-A,f+A/2]);r.push([e-A,f-A/2]);}}return d3.svg.line().interpolate("linear-closed")(r);};
c.prototype.getShapeAnchors=function(r){var m={predecessor:null,successor:null};Object.keys(r).forEach(function(k){var s=r[k];if(s==null){return;}if(s.getShapeAnchors){m[k]=s.getShapeAnchors();}else{var o=s.getDomRef().getBBox();m[k]={head:{x:o.x,y:o.y+o.height/2,dx:0,dy:o.height/2},tail:{x:o.x+o.width,y:o.y+o.height/2,dx:0,dy:o.height/2}};}});return m;};
c.prototype.renderRelationship=function(r,m){r.write("<g");this.writeElementData(r);R.renderAttributes(r,this,["style"]);r.write(">");R.renderTooltip(r,this);r.write("<path");r.writeAttribute("d",this.getD());r.write("/>");r.write("<path");r.writeAttribute("d",this.getArrowPathD(this.getD()));r.write("/>");if(m.prompter){r.write("<text");r.writeAttribute("x",m.prompter.x);r.writeAttribute("y",m.prompter.y);r.writeAttribute("font-size",a);r.writeAttribute("font-family","SAP-icons");r.writeAttribute("text-anchor",(C.getConfiguration().getRTL()&&!D.browser.msie&&!D.browser.edge)?"end":"start");r.writeAttribute("stroke-width",0);r.write(">");r.write(I.getIconInfo("chain-link").content);r.write("</text>");}r.write("</g>");};
c.prototype.getStyle=function(){return this.getInlineStyle({"fill":this.getStroke(),"stroke":this.getStroke(),"stroke-width":this.getStrokeWidth(),"stroke-dasharray":this.getStrokeDasharray(),"opacity":this.getStrokeOpacity()});};
c.prototype.getLinePathD=function(p){p=p.concat(p.slice(1,-1).reverse());return d3.svg.line().interpolate("linear-closed")(p);};
c.prototype.getSelectedStyle=function(){return this.getInlineStyle({"fill":this.getSelectedStroke(),"stroke":this.getSelectedStroke(),"stroke-width":this.getSelectedStrokeWidth(),"stroke-dasharray":this.getStrokeDasharray(),"pointer-events":"none"});};
c.prototype.getBaseRowHeight=function(g){return C.byId(g).getTable()._getDefaultRowHeight();};
c.prototype.getProcessedType=function(){var t=this.getProperty("type");var i=C.getConfiguration().getRTL();return i?3-b[t]:b[t];};
c.prototype.getRelatedInRowShapes=function(g){return{predecessor:G.shapeElementById(this.getPredecessor(),g+"-svg"),successor:G.shapeElementById(this.getSuccessor(),g+"-svg")};};
return c;},true);
sap.ui.predefine('sap/gantt/simple/RenderUtils',["./BaseText","./AggregationUtils","./GanttUtils"],function(B,A,G){"use strict";var R={RENDER_EXTEND_FACTOR:0.382,getGanttRenderWidth:function(g){var v=jQuery(document.getElementById(g.getId()+"-gantt")).width();return v*(1+2*R.RENDER_EXTEND_FACTOR);},renderAttributes:function(r,e,a){var p=a.map(function(b){var P=b.split("-").reduce(function(c,n){return c+n.charAt(0).toUpperCase()+n.slice(1);},"get");return{name:b,value:e[P]()};});p.forEach(function(o){if(o.value||o.value===0){if(o.name==="style"){var s=o.value.split(";");s.forEach(function(S){S=S.trim();if(S!=""){var b=S.split(/:(.*)/);if(b[0]==="fill"&&(b[1].indexOf(" ")!=-1)){b[1]=encodeURI(b[1]);}r.addStyle(b[0],b[1]);}});r.writeStyles();}else{r.writeAttribute(o.name,o.value);}}});},renderTooltip:function(r,e){if(e.getTooltip()){r.write("<title>");r.write(e.getTooltip());r.write("</title>");}},updateShapeSelections:function(g,s,d){if(g._getResizeExtension==null){return;}var r=g._getResizeExtension();var c=g.getId();var D=G.getShapesWithUid(c,d);D.forEach(function(E){if(E){if(E.isA("sap.gantt.simple.shapes.Shape")){E.setSelected(false);}else{E.setProperty("selected",false,true);}}});r.clearAllOutline(c);var e=G.getShapesWithUid(c,s);e.forEach(function(E){if(E){if(E.isA("sap.gantt.simple.shapes.Shape")){E.setSelected(true);}else{E.setProperty("selected",true,true);r.toggleOutline(E);}g.getSelection().updateTime(E.getShapeUid(),{time:E.getTime(),endTime:E.getEndTime()});}});},renderElementTitle:function(r,e){if(e.getShowTitle==null||!e.getShowTitle()){return;}var t=e.getTitle();if(t){var h=0,E=0;if(e.getWidth){E=e.getWidth();}if(e.getHeadWidth){h=e.getHeadWidth();E-=h;}if(e.getTailWidth){E-=e.getTailWidth();}var l=2+h,d=12;var T={x:e.getX()+l,y:e.getRowYCenter()+d/2,text:t,fill:"#000",showEllipsis:true,truncateWidth:E};var o=new B(T).addStyleClass("sapGanttTextNoPointerEvents");o.setProperty("childElement",true,true);o.renderElement(r,o);}},renderInlineShapes:function(r,o,g){var t=o.getId()+"-top";var s=o.getId()+"-row";r.write("<g");r.writeElementData(o);r.addClass(t);r.writeClasses();r.write(">");r.write("<g");r.writeAttribute(G.ROW_ID_DATASET_KEY,o.getRowId()||"");r.addClass(s);r.writeClasses();r.write(">");this.renderMainRowAllShapes(r,o,g);r.write("</g>");r.write("</g>");},renderMainRowAllShapes:function(r,o,g){var a=g.getSyncedControl().getRowStates();var p=this.calcRowDomPosition(o,a),m=p.rowYCenter,i=p.rowHeight;var b=A.getNonLazyAggregations(o);var s=Object.keys(b).filter(function(n){return n!=="calendars"&&n!=="relationships";}).map(function(n){return o.getAggregation(n)||[];}.bind(o));var c=o.getRowUid(),S=g.oSelection,e=g._oExpandModel,d=g.getAxisTime(),h=e.isRowExpanded(c);s.forEach(function(f,I){f.forEach(function(j){if(g.isShapeVisible(j)){R.renderMainRowShape(r,j,{expandModel:e,selectionModel:S,axisTime:d,rowSetting:o,rowUid:c,rowExpanded:h,mainRowYCenter:m,rowHeight:i});}});});},renderMainRowShape:function(r,s,o){this.setSpecialProperties(s,o);s.renderElement(r,s,null);if(o.rowExpanded){this.renderExpandShapesIfNecessary(r,s,o);}},setSpecialProperties:function(s,o){var e=o.expandModel,r=o.rowUid,S=o.rowSetting.getShapeUid(s);s._iBaseRowHeight=o.rowHeight;s.mAxisTime=o.axisTime;s.setProperty("shapeUid",S,true);s.setProperty("selected",o.selectionModel.existed(S),true);s.setProperty("rowYCenter",e.getRowYCenterByUid(r,o.mainRowYCenter,s.getScheme(),0),true);},isValidD:function(d){return!!d&&d.indexOf("NaN")===-1&&d.indexOf("undefined")===-1&&d.indexOf("null")===-1;},renderExpandShapesIfNecessary:function(r,m,o){var f=function(s){if(!s||s.length===0){return;}var e=s;if(jQuery.isArray(s)===false){e=[s];}e.forEach(function(S,i){S.setProperty("rowYCenter",o.expandModel.getRowYCenterByUid(o.rowUid,null,S.getScheme(),i),true);S._iBaseRowHeight=o.expandModel.getExpandShapeHeightByUid(o.rowUid,S.getScheme(),o.iRowHeight);S.setProperty("shapeUid",o.rowSetting.getShapeUid(S),true);S.renderElement(r,S);});};var a=A.getLazyAggregations(m);Object.keys(a).forEach(function(n){var s=m.getAggregation(n);f(s);});},calcRowDomPosition:function(r,a){var o=r._getRow(),t=o.getParent(),i=t.indexOfRow(o);var b=a[i].height;var c=0;for(var I=0;I<=i;I++){c+=a[I].height;}c-=b/2;return{rowYCenter:c,rowHeight:b};}};return R;},true);
sap.ui.predefine('sap/gantt/simple/SelectionModel',["sap/gantt/library","sap/ui/base/EventProvider"],function(l,E){"use strict";var S=l.SelectionMode;
var a=E.extend("sap.gantt.simple.SelectionModel",{constructor:function(s){E.apply(this,arguments);this.sSelectionMode=s||S.Single;this.mSelected={"uid":{}};}});
a.prototype.getSelectionMode=function(){return this.sSelectionMode;};
a.prototype.setSelectionMode=function(s){this.sSelectionMode=s||S.Single;return this;};
a.prototype.update=function(u,p){var s=this.getSelectionMode();if(s==="None"){return;}if(u==null){if(s===S.Single||s===S.Multiple||s===S.MultiWithKeyboard&&!p.ctrl){this.clear(false);}return;}if(p.selected&&!this.mSelected.uid[u]){var d=Object.keys(this.mSelected.uid);if(this.sSelectionMode===S.Single){this.mSelected.uid={};}else if(this.sSelectionMode===S.MultiWithKeyboard){if(p.ctrl){d=[];}else{this.mSelected.uid={};}}else if(this.sSelectionMode===S.Multiple){d=[];}this._updateSelectedShape(u,p);this._fireSelectionChanged(d);}else if(!p.selected&&this.mSelected.uid[u]){delete this.mSelected.uid[u];this._fireSelectionChanged([u]);}};
a.prototype.updateTime=function(u,p){if(this.mSelected.uid[u]){this.mSelected.uid[u].time=p.time;this.mSelected.uid[u].endTime=p.endTime;}};
a.prototype._updateSelectedShape=function(u,p){this.mSelected.uid[u]={shapeUid:u,draggable:p.draggable,time:p.time,endTime:p.endTime};};
a.prototype._fireSelectionChanged=function(d,s){var p={shapeUid:Object.keys(this.mSelected.uid),deselectedUid:d,silent:!!s};if(p.shapeUid.length>0||p.deselectedUid.length>0){this.fireSelectionChanged(p);}};
a.prototype.existed=function(u){return!!this.mSelected.uid[u];};
a.prototype.clear=function(f){var u=this.allUid();this.mSelected.uid={};this._fireSelectionChanged(u,f);};
a.prototype.allUid=function(){return Object.keys(this.mSelected.uid);};
a.prototype.numberOfSelectedDraggableShapes=function(){var d=this.allSelectedDraggableUid();return d.length;};
a.prototype.allSelectedDraggableUid=function(){var t=this;var d=Object.keys(this.mSelected.uid).filter(function(u){return t.mSelected.uid[u].draggable;});return d;};
a.prototype.getSelectedShapeDataByUid=function(u){return this.mSelected.uid[u];};
a.prototype.attachSelectionChanged=function(d,f,L){this.attachEvent("selectionChanged",d,f,L);};
a.prototype.detachSelectionChanged=function(f,L){this.detachEvent("selectionChanged",f,L);};
a.prototype.fireSelectionChanged=function(A){this.fireEvent("selectionChanged",A);return this;};
return a;},true);
sap.ui.predefine('sap/gantt/simple/ShapeScheme',['sap/ui/core/Element'],function(E){"use strict";
var S=E.extend("sap.gantt.simple.ShapeScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},primary:{type:"boolean",defaultValue:false},rowSpan:{type:"int",defaultValue:1}}}});
return S;},true);
sap.ui.predefine('sap/gantt/simple/TitlePropagator',['./BaseShape'],function(B){"use strict";var T=function(d){if(!(this instanceof B)){throw new Error("TitlePropagator only supports subclasses of BaseShape");}if(d===undefined){d=true;}this.getShowTitle=function(){return this.getProperty("showTitle");};this.setShowTitle=function(s){return this.setProperty("showTitle",s);};this.getMetadata().addProperty("showTitle",{type:"boolean",group:"Appearance",defaultValue:!!d});this.getMetadata().addPublicMethods('getShowTitle');this.getMetadata().addPublicMethods('setShowTitle');this.getTitle=function(){return this.getProperty("title");};this.setTitle=function(t){return this.setProperty("title",t);};this.getMetadata().addProperty("title",{type:"string",group:"Appearance",defaultValue:null});this.getMetadata().addPublicMethods("getTitle");this.getMetadata().addPublicMethods('setTitle');};return T;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationBarChart',["sap/ui/thirdparty/jquery","./UtilizationChart","./BaseRectangle"],function(q,U,B){"use strict";
var a=U.extend("sap.gantt.simple.UtilizationBarChart",{metadata:{properties:{consumptionColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"lightgray"}},defaultAggregation:"periods",aggregations:{periods:{type:"sap.gantt.simple.UtilizationPeriod",group:"Data"}}}});
a.prototype.applySettings=function(s,S){s=s||{};s.remainCapacityColor=s.remainCapacityColor||"#fff";U.prototype.applySettings.call(this,s,S);this._createDefaultDefs();};
a.prototype.renderElement=function(r,e){r.write("<g class='sapGanttUtilizationBar'");r.writeElementData(this);r.write(">");var x=this.getX(),h=this.getHeight(),y=this.getRowYCenter()-(h/2),w=this.getWidth();var p={x:x,y:y,width:w,height:h};this.renderBackgroundDefs(r);this.renderUBCBackground(r,p);var f=this.filterPeriods();if(f.length>0){this._iMaxAllowedSupply=this._getMaxAllowedSupply(f);this.renderOverConsumptionPolygon(r,p,f);this.renderRemainConsumptionPolygon(r,p,f);this.renderConsumptionPolygon(r,p,f);this.renderConsumptionPath(r,p,f);this.renderTooltips(r,p,f);}r.write("</g>");};
a.prototype.filterPeriods=function(){var A=this.getPeriods();var g=this.getGanttChartBase(),t=g.getRenderedTimeRange(),m=t[0],M=t[1];return A.filter(function(i,I,b){var f=I===0||I===b.length-1;if(f){return true;}else{return i.getFrom()>=m&&i.getFrom()<=M;}});};
a.prototype.renderUBCBackground=function(r,p){var f=this.getFill();if(!f){f="url(#"+this.getId()+"-defaultBgPattern)";}var A=q.extend({id:this.getId()+"-ubcBg",fill:f},p);this.renderRectangleWithAttributes(r,A);};
a.prototype.renderOverConsumptionPolygon=function(r,p,f){r.write("<polygon");r.writeAttribute("id",this.getId()+"-ubcOCP");r.writeAttribute("points",this.getPolygonPoints(p,function(i,m){var R=p.height,M=p.y+R;return M-((i.getDemand()/m)*R);},f));r.writeAttribute("fill",this.getOverConsumptionColor());r.write("/>");};
a.prototype.renderConsumptionPath=function(r,p,f){r.write("<path");r.writeAttribute("id",this.getId()+"-ubcPath");r.writeAttribute("d",this.getDemandPathD(p,f));r.writeAttribute("fill","none");r.writeAttribute("stroke",this.getStroke()||"#000");r.writeAttribute("stroke-width",this.getStrokeWidth()||2);r.write("/>");};
a.prototype.renderRemainConsumptionPolygon=function(r,p,f){r.write("<polygon");r.writeAttribute("id",this.getId()+"-ubcRCP");r.writeAttribute("points",this.getPolygonPoints(p,function(i,m){var R=p.height,M=p.y+R;return M-((i.getSupply()/m)*R);},f));r.writeAttribute("fill",this.getRemainCapacityColor());r.write("/>");};
a.prototype.renderConsumptionPolygon=function(r,p,f){r.write("<polygon");r.writeAttribute("id",this.getId()+"-ubcCP");r.writeAttribute("points",this.getPolygonPoints(p,function(i,m){var R=p.height,M=p.y+R;var v=Math.min(i.getDemand(),i.getSupply());return M-((v/m)*R);},f));r.writeAttribute("fill",this.getConsumptionColor());r.write("/>");};
a.prototype.renderTooltips=function(r,p,f){var t=[];r.write("<g class='ubc-tooltips'>");for(var i=0;i<f.length;i++){var I=f[i];var n=f[i+1];if(n){var x=this.toX(I.getFrom()),X=this.toX(n.getFrom());t.push(new B({x:parseFloat(x),y:p.y,height:p.height,width:Math.abs(X-x),fill:"transparent",tooltip:I.getTooltip()}).setProperty("childElement",true));}}t.forEach(function(R){R.renderElement(r,R);});r.write("</g>");};
a.prototype._getMaxAllowedSupply=function(f){var m=Math.max.apply(null,f.map(function(i){return i.getSupply();}));var M=m*this.getOverConsumptionMargin()/100;return m+M;};
a.prototype.getPolygonPoints=function(p,c,f){var m=p.y+p.height;var P=function(x,y){return[x,y].join(",")+" ";};var r="";for(var i=0;i<f.length;i++){var I=f[i],F=i===0,l=i===f.length-1,n=f[l?f.length-1:i+1];var s=this.toX(I.getFrom()),e=this.toX(n.getFrom());if(F){r+=P(s,m);}var C=c(I,this._iMaxAllowedSupply);C=C.toFixed(1);r+=P(s,C);r+=P(e,C);if(l){r+=P(s,C);r+=P(s,m);}}return r;};
a.prototype.getDemandPathD=function(p,f){var r="";for(var i=0;i<f.length;i++){var I=f[i],l=i===f.length-1,n=f[l?f.length-1:i+1];var x=this.toX(I.getFrom()),b=this.toX(n.getFrom());var y=this.toY(I.getDemand(),p),c=this.toY(n.getDemand(),p);r+=" M "+x+" "+y+" L "+b+" "+y;r+=" M "+b+" "+y+" L "+b+" "+c;}return r;};
a.prototype.toY=function(d,p){var s=p.y,r=p.height,m=s+r;var y=m-((d/this._iMaxAllowedSupply)*r);y=y<s?s:y;return parseFloat(y.toFixed(1));};
a.prototype._createDefaultDefs=function(){if(this.getFill()){return;}this.mDefaultDefs=new sap.gantt.def.SvgDefs({defs:[new sap.gantt.def.pattern.BackSlashPattern({id:this.getId()+"-defaultBgPattern",tileWidth:5,tileHeight:9,backgroundColor:"#fff",stroke:"#ececec",strokeWidth:1})]});};
a.prototype.renderBackgroundDefs=function(r){if(this.getFill()==null&&this.mDefaultDefs){r.write(this.mDefaultDefs.getDefString());}};
return a;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationChart',["./BaseShape","./BaseRectangle","sap/gantt/misc/Format"],function(B,a,F){"use strict";
var U=B.extend("sap.gantt.simple.UtilizationChart",{metadata:{"abstract":true,properties:{height:{type:"sap.gantt.SVGLength",defaultValue:"inherit"},overConsumptionMargin:{type:"float",defaultValue:25.0},overConsumptionColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"red"},remainCapacityColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"lightgray"}}}});
U.prototype.getX=function(){return this.getXByTime(this.getTime());};
U.prototype.getWidth=function(){return Math.abs(this.getXByTime(this.getEndTime())-this.getX());};
U.prototype.getHeight=function(){return a.prototype.getHeight.apply(this);};
U.prototype.toX=function(t){return this.getAxisTime().timeToView(F.abapTimestampToDate(t));};
U.prototype.renderRectangleWithAttributes=function(r,A,t){r.write("<rect");Object.keys(A).forEach(function(n){r.writeAttribute(n,A[n]);});r.write(">");if(t){r.write("<title>");r.writeEscaped(t,true);r.write("</title>");}r.write("</rect>");};
return U;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationDimension',["sap/ui/core/Element"],function(E){"use strict";
var U=E.extend("sap.gantt.simple.UtilizationDimension",{metadata:{properties:{name:{type:"string"},dimensionColor:{type:"sap.gantt.ValueSVGPaintServer"}},defaultAggregation:"periods",aggregations:{periods:{type:"sap.gantt.simple.UtilizationPeriod"}}}});
return U;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationLineChart',["sap/ui/thirdparty/jquery","sap/ui/core/Core","./UtilizationChart","sap/gantt/def/pattern/BackSlashPattern"],function(q,C,U,B){"use strict";
var c=U.extend("sap.gantt.simple.UtilizationLineChart",{metadata:{properties:{showMiddleLine:{type:"boolean",defaultValue:true}},defaultAggregation:"dimensions",aggregations:{dimensions:{type:"sap.gantt.simple.UtilizationDimension",group:"Data"}},associations:{overConsumptionPattern:{type:"sap.gantt.def.DefBase",altTypes:["string"],multiple:false,group:"Appearance"}}}});
c.prototype.applySettings=function(s,S){s=s||{};U.prototype.applySettings.call(this,s,S);this._createDefaultDefs();};
c.prototype.renderElement=function(r,e){if(this.getDimensions().length===0){this.renderEmptyDomRefs(r,true);return;}this.renderEmptyDomRefs(r,false);var x=this.getX(),h=this.getHeight(),y=this.getRowYCenter()-h/2,w=this.getWidth();var p={x:x,y:y,width:w,height:h};this.renderDimensionClipPaths(r,p);this.renderDefaultDefs(r);this.renderULCBackground(r,p);this.renderMiddleLine(r,p);this.renderOverConsumptionBackground(r,p);this.renderOverConsumptionClipPath(r,p);this.renderDimensionPaths(r,p);this.renderTooltips(r,p);r.write("</g>");};
c.prototype.renderEmptyDomRefs=function(r,b){r.write("<g class='sapGanttUtilizationLine'");r.writeElementData(this);r.write(">");if(b){r.write("</g>");}};
c.prototype.renderDimensionClipPaths=function(r,p){var d=this.getDimensions();r.write("<defs>");for(var i=0;i<d.length;i++){r.write("<clipPath");r.writeAttribute("id",d[i].getId()+"-clipPath");r.write(">");this.renderDimensionPath(r,d[i],p.y,p.height);r.write("</clipPath>");}r.write("</defs>");};
c.prototype.renderULCBackground=function(r,p){var a=q.extend({id:this.getId()+"-ulcBg",fill:this.getFill()||"transparent",stroke:"none"},true,p);this.renderRectangleWithAttributes(r,a);};
c.prototype.getClipPathIdOfDimension=function(d){return"url(#"+d.getId()+"-clipPath)";};
c.prototype.renderOverConsumptionBackground=function(r,p){var m=q.extend({id:this.getId()+"-ulcOverConsumptionBg",fill:this._getOverageFillPattern()},true,p);m.height=this.getThresholdHeight(p.height);this.renderRectangleWithAttributes(r,m);};
c.prototype.renderOverConsumptionClipPath=function(r,p){var m=q.extend({},true,p);m.height=this.getThresholdHeight(p.height);var d=this.getDimensions();for(var i=0;i<d.length;i++){var a=q.extend({"clip-path":this.getClipPathIdOfDimension(d[i]),fill:this.getOverConsumptionColor()},true,m);this.renderRectangleWithAttributes(r,a);}};
c.prototype._getOverageFillPattern=function(){var p=this.getOverConsumptionPattern();if(p){p=C.byId(p).getRefString();}else{p="url(#"+this.getId()+"-defaultPattern"+")";}return p;};
c.prototype.getThresholdHeight=function(h){return(this.getOverConsumptionMargin()*h)/(100+this.getOverConsumptionMargin());};
c.prototype.renderMiddleLine=function(r,p){if(this.getShowMiddleLine()){var m=this.getMiddleLineY(p);r.write("<path");r.writeAttribute("id",this.getId()+"-middleLine");r.writeAttribute("d","M "+p.x+" "+m+" h "+p.width);r.addClass("sapGanttUtilizationMiddleLine");r.writeClasses();r.write("></path>");}};
c.prototype.getMiddleLineY=function(p){var t=this.getThresholdHeight(p.height);return(p.y+t)+(p.height-t)/2;};
c.prototype.renderDimensionPaths=function(r,p){var x=p.x,o=this.getThresholdHeight(p.height),y=p.y,w=p.width,h=p.height;var d=this.getDimensions();for(var i=0;i<d.length;i++){r.write("<g>");var D=d[i];this.renderDimensionPath(r,D,y,h,"ulcPath");var a={id:D.getId()+"-ulcRect",x:x,y:y+o,width:w,height:h-o,fill:this.getRemainCapacityColor(),"fill-opacity":0.5,"stroke-opacity":0.5,"clip-path":this.getClipPathIdOfDimension(D)};this.renderRectangleWithAttributes(r,a);r.write("</g>");}};
c.prototype.renderTooltips=function(r,p){var y=p.y,h=p.height;r.write("<g class='ulc-tooltips'>");var d=this.getAllDimensionPoints();d.forEach(function(P,i,a){var n=a[i+1]||P;var t=P.tooltip;var D=P.name!==n.name;if(D){t=P.tooltip+"\n"+n.tooltip;}var x=this.toX(P.from),l=a.length-1===i,X=this.toX(l?n.to:n.from),w=Math.abs(X-x);if(w>0){var m={opacity:0,fillOpacity:0,strokeOpacity:0};var A=q.extend({x:x,y:y,width:w,height:h},m);this.renderRectangleWithAttributes(r,A,t);}}.bind(this));r.write("</g>");};
c.prototype.getAllDimensionPoints=function(){var A=[];this.getDimensions().forEach(function(d){var n=d.getName();d.getPeriods().forEach(function(p,i,P){var t=p.getTooltip();if(!t){t=n+":"+p.getValue();}A.push({name:n,from:p.getFrom(),to:p.getTo(),tooltip:t});});});A.sort(function(a,b){return a.from-b.from;});return A;};
c.prototype.renderDimensionPath=function(r,D,R,a,I){var p=D.getPeriods();var d="";for(var i=0;i<p.length;i++){var f=(i===0),l=(i===p.length-1);var P=p[i];var x=this.toX(P.getFrom());var b=this.toX(P.getTo());var v=P.getValue();var m=this.getOverConsumptionMargin();if(v>(100+m)){v=100+m;}var y=R+a;var e=a*(v/(100+m));var g=y-e;d+=(f?" M "+x+" "+y:"")+" L "+x+" "+g+" L "+b+" "+g+(l?" L "+b+" "+y:"");}r.write("<path");if(I){r.writeAttribute("id",D.getId()+"-"+I);}r.writeAttribute("d",d);r.writeAttribute("fill","none");r.writeAttribute("stroke-width",2);r.writeAttribute("stroke",D.getDimensionColor());r.addClass("sapGanttUlcDimensionPath");r.writeClasses();r.write("/>");};
c.prototype._createDefaultDefs=function(){if(this.getOverConsumptionPattern()){return;}this.mDefaultDefs=new sap.gantt.def.SvgDefs({defs:[new B({id:this.getId()+"-defaultPattern",tileWidth:5,tileHeight:9,backgroundColor:"#fff",stroke:"#ececec",strokeWidth:1})]});};
c.prototype.renderDefaultDefs=function(r){if(this.mDefaultDefs){r.write(this.mDefaultDefs.getDefString());}};
c.prototype.destroy=function(){U.prototype.destroy.apply(this,arguments);if(this.mDefaultDefs){this.mDefaultDefs.destroy();}};
return c;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationPeriod',["sap/ui/core/Element"],function(E){"use strict";
var U=E.extend("sap.gantt.simple.UtilizationPeriod",{metadata:{properties:{from:{type:"object"},to:{type:"object"},value:{type:"float",group:"Data",defaultValue:0},supply:{type:"float",group:"Data",defaultValue:0},demand:{type:"float",group:"Data",defaultValue:0}}}});
return U;},true);
sap.ui.predefine('sap/gantt/simple/shapes/Shape',["sap/gantt/simple/BaseShape","sap/ui/thirdparty/jquery","sap/gantt/misc/Format","sap/ui/core/theming/Parameters"],function(B,q,F,P){"use strict";var D=12;
var S=B.extend("sap.gantt.simple.shapes.Shape",{metadata:{properties:{color:{type:"sap.gantt.PaletteColor",defaultValue:"sapUiLegend6"},height:{type:"sap.gantt.SVGLength",defaultValue:"auto"},width:{type:"sap.gantt.SVGLength",defaultValue:"auto"},startX:{type:"sap.gantt.SVGLength",defaultValue:"auto"},fill:{type:"sap.gantt.ValueSVGPaintServer"},fillOpacity:{type:"float",defaultValue:1.0},stroke:{type:"sap.gantt.ValueSVGPaintServer"},opacity:{type:"float",defaultValue:1.0},selectable:{type:"boolean",defaultValue:true},hoverable:{type:"boolean",defaultValue:true}}}});
S.prototype.init=function(){B.prototype.init.call(this);this._bHover=false;this._bIgnoreHover=false;};
S.prototype.getSelectable=function(){return true;};
S.prototype.getHoverable=function(){return true;};
S.prototype.getRowPadding=function(){var h=this.getHeight();if(h==="auto"||h==="inherit"){return D;}else{return 0;}};
S.prototype.getPixelHeight=function(){var h=this.getHeight();if(h==="auto"||h==="inherit"){return this._iBaseRowHeight||0;}return Number(h);};
S.prototype.getTranslatedColor=function(){return P.get(this.getColor());};
S.prototype.getHoverBackgroundColor=function(){return P.get("sapUiButtonHoverBackground");};
S.prototype.getHoverColor=function(){return P.get("sapUiButtonHoverBorderColor");};
S.prototype.getSelectedColor=function(){return P.get("sapUiButtonActiveBackground");};
S.prototype.getPixelWidth=function(){var w=this.getWidth();if(w!=="auto"){return Number(w);}var a=this.getAxisTime();if(!a){return 0;}var s=a.timeToView(F.abapTimestampToDate(this.getTime())),e=a.timeToView(F.abapTimestampToDate(this.getEndTime()));if(q.isNumeric(s)&&q.isNumeric(e)){return Math.abs(e-s);}else{return 0;}};
S.prototype.getXStart=function(){var s=this.getProperty("startX");if(s!=="auto"){return Number(s);}var a=this.getAxisTime();if(!a){return 0;}var r=sap.ui.getCore().getConfiguration().getRTL();return Number(a.timeToView(F.abapTimestampToDate(r?(this.getEndTime()||this.getTime()):this.getTime())));};
S.prototype.getXEnd=function(){if(this.getProperty("startX")!=="auto"){return this.getXStart()+this.getPixelWidth();}var a=this.getAxisTime();if(!a){return 0;}var r=sap.ui.getCore().getConfiguration().getRTL();return Number(a.timeToView(F.abapTimestampToDate(r?(this.getTime()||this.getEndTime()):this.getEndTime())));};
S.prototype.renderElement=function(r){throw new Error("This function must be overridden in implementing classes.");};
S.prototype.renderContent=function(r){throw new Error("This function must be overridden in implementing classes.");};
S.prototype.generateArcRadius=function(f,s){return Math.min(3,Math.min(f,s));};
S.prototype.getHoverState=function(){return this._bHover;};
S.prototype.hoverStateChange=function(h){if(this.getHoverState()!==h&&!this._bIgnoreHover){this._bHover=h;this.rerenderShape();}};
S.prototype.setSelected=function(v){this.setProperty("selected",v,true);if(this.getHoverState()){this._bHover=false;this._bIgnoreHover=true;}this.rerenderShape();};
S.prototype.onmouseover=function(e){if(!this.getHoverable()){return;}B.prototype.onmouseover.call(this,e);this.hoverStateChange(true);};
S.prototype.onmouseout=function(e){if(!this.getHoverable()){return;}B.prototype.onmouseout.call(this,e);this._bIgnoreHover=false;this.hoverStateChange(false);};
S.prototype.rerenderShape=function(){var d=this.getDomRef();if(d){var r=sap.ui.getCore().createRenderManager();this.renderContent(r);r.flush(d);r.destroy();}else{this.invalidate();}};
return S;});
sap.ui.predefine('sap/gantt/simple/shapes/Task',["./Shape","sap/gantt/library","sap/gantt/simple/InnerGanttChartRenderer"],function(S,l,I){"use strict";var T=l.simple.shapes.TaskType;var C=10;
function g(s){var o=Object.assign({},s);o.iStartX-=1;o.iEndX+=1;o.iHeight+=2;return o;}
var a=S.extend("sap.gantt.simple.shapes.Task",{metadata:{properties:{type:{type:"sap.gantt.simple.shapes.TaskType",defaultValue:T.Normal},utilizationDown:{type:"boolean",defaultValue:true},title:{type:"string",defaultValue:null}}}});
a.prototype._generateRectD=function(s){var c=this.getRowYCenter(),d="";d+="M "+s.iStartX+" "+c;var u=s.iHeight/2,L=s.iEndX-s.iStartX,r=this.generateArcRadius(u,L);d+=" l 0 "+(-u+r);d+=" a "+r+" "+r+" 0 0 1 "+r+" "+(-r);L-=r;var R=this.generateArcRadius(L-r,u);L-=R;d+=" l "+L+" 0";d+=" a "+R+" "+R+" 0 0 1 "+R+" "+R;d+=" l 0 "+(2*u-R-r);d+=" a "+R+" "+R+" 0 0 1 "+(-R)+" "+R;d+=" l "+(-L)+" 0";d+=" a "+r+" "+r+" 0 0 1 "+(-r)+" "+(-r);d+=" Z";return d;};
a.prototype._renderOverlappingRectangle=function(r,s){var d=this._generateRectD(g(s));r.write("<path class=\"sapGanttShapeOverlappingBorder\" d=\""+d+"\" />");};
a.prototype.renderNoramlTask=function(r,s){this._renderOverlappingRectangle(r,s);var d=this._generateRectD(s);r.write("<path d=\""+d+"\" ");if(this.getHoverState()){r.write("fill=\""+this.getHoverBackgroundColor()+"\" stroke-width=\"1\" stroke=\""+this.getHoverColor()+"\"");}else if(this.getSelected()){r.write("fill=\""+this.getSelectedColor()+"\"");}else{r.write("fill=\""+this.getTranslatedColor()+"\"");}r.write(" />");};
a.prototype._generateSummaryD=function(s,f){var c=this.getRowYCenter(),d="",L=f?7:5;d+="M "+s.iStartX+" "+c;var u=s.iHeight/2,i=s.iEndX-s.iStartX,r=this.generateArcRadius(u,i);d+=" l 0 "+(-u+r);d+=" a "+r+" "+r+" 0 0 1 "+r+" "+(-r);i-=r;var R=this.generateArcRadius(i-r,u);i-=R;d+=" l "+i+" 0";d+=" a "+R+" "+R+" 0 0 1 "+R+" "+R;d+=" l 0 "+(2*u-R-3);d+=" a 3 5 0 0 1 -"+L+" 0";d+=" l 0 "+(-2*u+R+L);d+=" l "+(-i+2*L-r-R)+" 0";d+=" l 0 "+(2*u-r-L);d+=" a 3 5 0 0 1 -"+L+" 0";d+=" Z";return d;};
a.prototype.renderSummaryTaskExpanded=function(r,s){if(Math.abs(s.iEndX-s.iStartX)<=C){this.renderNoramlTask(r,s);}else{var d;if(!s.bFromCollapsed){d=this._generateSummaryD(g(s),true);r.write("<path class=\"sapGanttShapeOverlappingBorder\" d=\""+d+"\" />");}d=this._generateSummaryD(s);r.write("<path d=\""+d+"\"");if(this.getHoverState()){r.write("fill=\""+this.getHoverBackgroundColor()+"\" stroke-width=\"1\" stroke=\""+this.getHoverColor()+"\"");}else if(this.getSelected()){r.write(" fill=\""+this.getSelectedColor()+"\"");if(s.bFromCollapsed){r.write(" stroke-width=\"1.0001\" stroke=\"white\" shape-rendering=\"crispEdges\"");}}else{r.write(" fill=\""+this.getTranslatedColor()+"\"");}r.write(" />");}};
a.prototype.renderSummaryTaskCollapsed=function(r,s){if(Math.abs(s.iEndX-s.iStartX)<=C){this.renderNoramlTask(r,s);}else{this._renderOverlappingRectangle(r,s);var d=this._generateRectD(s);r.write("<path d=\""+d+"\"");if(this.getHoverState()){r.write("fill=\""+this.getHoverBackgroundColor()+"\" stroke-width=\"1\" stroke=\""+this.getHoverColor()+"\"");}else if(this.getSelected()){r.write(" fill=\""+this.getSelectedColor()+"\"");}else{r.write(" fill=\""+this.getTranslatedColor()+"\" fill-opacity=\"0.7\"");}r.write(" />");this.renderSummaryTaskExpanded(r,Object.assign({},s,{bFromCollapsed:true}));}};
a.prototype.renderErrorTask=function(r,s){this._renderOverlappingRectangle(r,s);var m=this.getId()+"-mask",d=this._generateRectD(s),b,f,p;if(this.getGanttChartBase()){p=this.getGanttChartBase().getId()+"-helperDef-linePattern";}else{I.renderHelperDefs(r,this.getId());p=this.getId()+"-helperDef-linePattern";}if(this.getHoverState()){b=this.getHoverColor();f=this.getHoverBackgroundColor();}else if(this.getSelected()){b=f=this.getSelectedColor();}else{b=f=this.getTranslatedColor();}r.write("<mask id=\""+m+"\">");r.write("<path d=\""+d+"\" stroke=\"white\" stroke-width=\"1\" fill=\"url(#"+p+")\" />");r.write("</mask>");r.write("<path d=\""+d+"\" stroke=\""+b+"\" stroke-width=\"1\" fill=\""+f+"\" mask=\"url(#"+m+")\" />");};
a.prototype.renderContent=function(r){var s={iHeight:this.getPixelHeight()-this.getRowPadding(),iStartX:this.getXStart(),iEndX:this.getXEnd()};switch(this.getType()){case T.Normal:this.renderNoramlTask(r,s);break;case T.Error:this.renderErrorTask(r,s);break;case T.SummaryCollapsed:this.renderSummaryTaskCollapsed(r,s);break;case T.SummaryExpanded:this.renderSummaryTaskExpanded(r,s);break;default:throw new Error("Unknown type of Task: "+this.getType());}};
a.prototype.renderElement=function(r){r.write("<g");this.writeElementData(r);r.write(" pointer-events=\"bounding-box\">");this.renderContent(r);r.write("</g>");};
return a;});
sap.ui.require.preload({
	"sap/gantt/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.gantt","type":"library","embeds":[],"applicationVersion":{"version":"1.71.38"},"title":"UI5 library: sap.gantt","description":"UI5 library: sap.gantt","ach":"CA-UI5-CTR-GNT","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"jspdf","packagedWithMySelf":true,"version":"0.0.0"},{"name":"html2canvas","packagedWithMySelf":true,"version":"0.0.0"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_fiori_3_dark","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.71","libs":{"sap.ui.core":{"minVersion":"1.71.59"},"sap.ui.layout":{"minVersion":"1.71.59"},"sap.ui.table":{"minVersion":"1.71.59"},"sap.m":{"minVersion":"1.71.59"}}},"library":{"i18n":"messagebundle.properties","content":{"controls":["sap.gantt.control.Toolbar","sap.gantt.GanttChart","sap.gantt.GanttChartWithTable","sap.gantt.GanttChartContainer","sap.gantt.axistime.ProportionZoomStrategy","sap.gantt.legend.LegendContainer","sap.gantt.legend.ListLegend","sap.gantt.legend.DimensionLegend","sap.gantt.simple.GanttChartWithTable","sap.gantt.simple.ContainerToolbar","sap.gantt.simple.GanttChartContainer","sap.gantt.simple.ContainerToolbarPlaceholder","sap.gantt.simple.shapes.Shape","sap.gantt.simple.shapes.Task"],"elements":["sap.gantt.config.TimeHorizon","sap.gantt.config.TimeAxis","sap.gantt.config.ToolbarGroup","sap.gantt.config.Mode","sap.gantt.config.ModeGroup","sap.gantt.config.LayoutGroup","sap.gantt.config.ExpandChart","sap.gantt.config.ExpandChartGroup","sap.gantt.config.TimeZoomGroup","sap.gantt.config.BirdEyeGroup","sap.gantt.config.ToolbarScheme","sap.gantt.config.Hierarchy","sap.gantt.config.HierarchyColumn","sap.gantt.config.ColumnAttribute","sap.gantt.config.GanttChartLayout","sap.gantt.config.ContainerLayout","sap.gantt.config.SettingItem","sap.gantt.config.SettingGroup","sap.gantt.config.ObjectType","sap.gantt.config.ChartScheme","sap.gantt.config.Locale","sap.gantt.config.Shape","sap.gantt.def.SvgDefs","sap.gantt.axistime.AxisTimeStrategyBase","sap.gantt.AdhocLine","sap.gantt.simple.GanttRowSettings","sap.gantt.simple.BaseCalendar","sap.gantt.simple.BaseChevron","sap.gantt.simple.BaseDiamond","sap.gantt.simple.BaseGroup","sap.gantt.simple.BaseImage","sap.gantt.simple.BaseLine","sap.gantt.simple.BasePath","sap.gantt.simple.BaseRectangle","sap.gantt.simple.BaseShape","sap.gantt.simple.BaseText","sap.gantt.simple.BaseCursor","sap.gantt.simple.BaseConditionalShape","sap.gantt.simple.UtilizationBarChart","sap.gantt.simple.UtilizationLineChart","sap.gantt.simple.UtilizationChart","sap.gantt.simple.UtilizationDimension","sap.gantt.simple.UtilizationPeriod"],"types":["sap.gantt.control.ToolbarType","sap.gantt.SelectionMode","sap.gantt.shape.ShapeCategory","sap.gantt.def.filter.MorphologyOperator","sap.gantt.def.filter.ColorMatrixValue","sap.gantt.shape.ext.rls.RelationshipType","sap.gantt.config.ZoomControlType","sap.gantt.config.BirdEyeRange","sap.gantt.GenericArray","sap.gantt.dragdrop.GhostAlignment","sap.gantt.simple.GanttChartWithTableDisplayType","sap.gantt.simple.ContainerToolbarPlaceholderType","sap.gantt.simple.VisibleHorizonUpdateType"],"interfaces":["sap.gantt.GanttChartBase"]}}}}',
	"sap/gantt/legend/ListLegend.js":function(){sap.gantt.legend=sap.gantt.legend||{};sap.gantt.legend.ListLegendItemCheckbox={NoShow:"noShow",Checked:"checked",Unchecked:"unchecked"};sap.ui.define(["./LegendBase","sap/m/CheckBox","sap/gantt/drawer/Legend"],function(L,C,a){"use strict";
var b=L.extend("sap.gantt.legend.ListLegend",{metadata:{properties:{shapes:{type:"sap.gantt.config.Shape[]"}},events:{checkBoxChange:{parameters:{legendType:{type:"string"},value:{type:"boolean"}}}}}});
b.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oListLegendDrawer=new a();this._aCheckBoxes=[];};
b.prototype.onAfterRendering=function(){for(var i=0;i<this._aShapeInstance.length;i++){var s=this._aShapeInstance[i];var S=d3.select("#"+this.getId()+"-svg-"+i);var c=S.selectAll("."+s.getId()).data([i]);this._oListLegendDrawer._drawPerTag(c,s);}};
b.prototype.setShapes=function(s){var t=this;this.setProperty("shapes",s);function c(){var h=false;for(var i=0;i<t._aShapeInstance.length;i++){var S=t._aShapeInstance[i].mShapeConfig.getSwitchOfCheckBox();if(S==sap.gantt.legend.ListLegendItemCheckbox.Checked||S==sap.gantt.legend.ListLegendItemCheckbox.Unchecked){h=true;break;}}if(h){for(var j=0;j<t._aShapeInstance.length;j++){var o=t._aShapeInstance[j];var d=o.mShapeConfig.getSwitchOfCheckBox();var f=new C({selected:(d==sap.gantt.legend.ListLegendItemCheckbox.Checked)?true:false,enabled:(d==sap.gantt.legend.ListLegendItemCheckbox.NoShow)?false:true}).data("key",(o.mShapeConfig.getKey&&o.mShapeConfig.getKey())?o.mShapeConfig.getKey():o.getLegend()).setTooltip(o.getLegend()).attachSelect(t._onCheckBoxChange,t);t._aCheckBoxes.push(f);}}}if(s&&s.length>0){this._aCheckBoxes=[];try{t._aShapeInstance=t._instantShapeSync(s);c();}catch(e){t._instantShapeAsync(s).then(function(S){t._aShapeInstance=S;c();});}}return this;};
b.prototype._onCheckBoxChange=function(e){var s=e.getSource();s.rerender();this.fireCheckBoxChange({legendType:s.data("key"),value:e.getParameter("selected")});};
return b;},true);
},
/*!
 * html2canvas 1.0.0-alpha.12 <https://html2canvas.hertzen.com>
 * Copyright (c) 2018 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
	"sap/gantt/thirdparty/html2canvas.js":function(){(function webpackUniversalModuleDefinition(r,f){if(typeof exports==='object'&&typeof module==='object')module.exports=f();else if(typeof define==='function'&&define.amd)define([],f);else if(typeof exports==='object')exports["html2canvas"]=f();else r["html2canvas"]=f();})(this,function(){return(function(m){var i={};function _(a){if(i[a]){return i[a].exports;}var b=i[a]={i:a,l:false,exports:{}};m[a].call(b.exports,b,b.exports,_);b.l=true;return b.exports;}_.m=m;_.c=i;_.d=function(e,n,g){if(!_.o(e,n)){Object.defineProperty(e,n,{configurable:false,enumerable:true,get:g});}};_.n=function(a){var g=a&&a.__esModule?function getDefault(){return a['default'];}:function getModuleExports(){return a;};_.d(g,'a',g);return g;};_.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p);};_.p="";return _(_.s=27);})([(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var c=function(){function s(a,i){var b=[];var g=true;var r=false;var t=undefined;try{for(var u=a[Symbol.iterator](),v;!(g=(v=u.next()).done);g=true){b.push(v.value);if(i&&b.length===i)break;}}catch(w){r=true;t=w;}finally{try{if(!g&&u["return"])u["return"]();}finally{if(r)throw t;}}return b;}return function(a,i){if(Array.isArray(a)){return a;}else if(Symbol.iterator in Object(a)){return s(a,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var d=function(){function a(t,b){for(var i=0;i<b.length;i++){var g=b[i];g.enumerable=g.enumerable||false;g.configurable=true;if("value"in g)g.writable=true;Object.defineProperty(t,g.key,g);}}return function(b,g,s){if(g)a(b.prototype,g);if(s)a(b,s);return b;};}();function f(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function");}}var H=/^#([a-f0-9]{3})$/i;var h=function h(v){var a=v.match(H);if(a){return[parseInt(a[1][0]+a[1][0],16),parseInt(a[1][1]+a[1][1],16),parseInt(a[1][2]+a[1][2],16),null];}return false;};var j=/^#([a-f0-9]{6})$/i;var k=function k(v){var a=v.match(j);if(a){return[parseInt(a[1].substring(0,2),16),parseInt(a[1].substring(2,4),16),parseInt(a[1].substring(4,6),16),null];}return false;};var R=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;var l=function l(v){var a=v.match(R);if(a){return[Number(a[1]),Number(a[2]),Number(a[3]),null];}return false;};var n=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;var o=function o(v){var a=v.match(n);if(a&&a.length>4){return[Number(a[1]),Number(a[2]),Number(a[3]),Number(a[4])];}return false;};var p=function p(a){return[Math.min(a[0],255),Math.min(a[1],255),Math.min(a[2],255),a.length>3?a[3]:null];};var q=function q(a){var b=N[a.toLowerCase()];return b?b:false;};var C=function(){function C(v){f(this,C);var i=Array.isArray(v)?p(v):h(v)||l(v)||o(v)||q(v)||k(v)||[0,0,0,null],s=c(i,4),r=s[0],g=s[1],b=s[2],a=s[3];this.r=r;this.g=g;this.b=b;this.a=a;}d(C,[{key:'isTransparent',value:function isTransparent(){return this.a===0;}},{key:'toString',value:function toString(){return this.a!==null&&this.a!==1?'rgba('+this.r+','+this.g+','+this.b+','+this.a+')':'rgb('+this.r+','+this.g+','+this.b+')';}}]);return C;}();e.default=C;var N={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};var T=e.TRANSPARENT=new C([0,0,0,0]);}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=function(){function h(t,p){for(var i=0;i<p.length;i++){var j=p[i];j.enumerable=j.enumerable||false;j.configurable=true;if("value"in j)j.writable=true;Object.defineProperty(t,j.key,j);}}return function(C,p,s){if(p)h(C.prototype,p);if(s)h(C,s);return C;};}();function b(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var L=/([\d.]+)(px|r?em|%)/i;var c=e.LENGTH_TYPE={PX:0,PERCENTAGE:1};var d=function(){function d(v){b(this,d);this.type=v.substr(v.length-1)==='%'?c.PERCENTAGE:c.PX;var p=parseFloat(v);if(true&&isNaN(p)){console.error('Invalid value given for Length: "'+v+'"');}this.value=isNaN(p)?0:p;}a(d,[{key:'isPercentage',value:function isPercentage(){return this.type===c.PERCENTAGE;}},{key:'getAbsoluteValue',value:function getAbsoluteValue(p){return this.isPercentage()?p*(this.value/100):this.value;}}],[{key:'create',value:function create(v){return new d(v);}}]);return d;}();e.default=d;var g=function g(h){var p=h.parent;return p?g(p):parseFloat(h.style.font.fontSize);};var f=e.calculateLengthFromValueWithUnit=function f(h,v,u){switch(u){case'px':case'%':return new d(v+u);case'em':case'rem':var l=new d(v);l.value*=u==='em'?parseFloat(h.style.font.fontSize):g(h);return l;default:return new d('0');}};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseBoundCurves=e.calculatePaddingBoxPath=e.calculateBorderBoxPath=e.parsePathForBorder=e.parseDocumentSize=e.calculateContentBox=e.calculatePaddingBox=e.parseBounds=e.Bounds=undefined;var a=function(){function h(w,x){for(var i=0;i<x.length;i++){var y=x[i];y.enumerable=y.enumerable||false;y.configurable=true;if("value"in y)y.writable=true;Object.defineProperty(w,y.key,y);}}return function(i,w,x){if(w)h(i.prototype,w);if(x)h(i,x);return i;};}();var b=_(7);var c=g(b);var d=_(32);var f=g(d);function g(h){return h&&h.__esModule?h:{default:h};}function j(i,h){if(!(i instanceof h)){throw new TypeError("Cannot call a class as a function");}}var T=0;var R=1;var B=2;var L=3;var H=0;var V=1;var k=e.Bounds=function(){function k(x,y,w,h){j(this,k);this.left=x;this.top=y;this.width=w;this.height=h;}a(k,null,[{key:'fromClientRect',value:function fromClientRect(h,i,w){return new k(h.left+i,h.top+w,h.width,h.height);}}]);return k;}();var p=e.parseBounds=function p(h,i,w){return k.fromClientRect(h.getBoundingClientRect(),i,w);};var l=e.calculatePaddingBox=function l(h,i){return new k(h.left+i[L].borderWidth,h.top+i[T].borderWidth,h.width-(i[R].borderWidth+i[L].borderWidth),h.height-(i[T].borderWidth+i[B].borderWidth));};var n=e.calculateContentBox=function n(h,i,w){var x=i[T].value;var y=i[R].value;var z=i[B].value;var A=i[L].value;return new k(h.left+A+w[L].borderWidth,h.top+x+w[T].borderWidth,h.width-(w[R].borderWidth+w[L].borderWidth+A+y),h.height-(w[T].borderWidth+w[B].borderWidth+x+z));};var o=e.parseDocumentSize=function o(h){var i=h.body;var w=h.documentElement;if(!i||!w){throw new Error(true?'Unable to get document size':'');}var x=Math.max(Math.max(i.scrollWidth,w.scrollWidth),Math.max(i.offsetWidth,w.offsetWidth),Math.max(i.clientWidth,w.clientWidth));var y=Math.max(Math.max(i.scrollHeight,w.scrollHeight),Math.max(i.offsetHeight,w.offsetHeight),Math.max(i.clientHeight,w.clientHeight));return new k(0,0,x,y);};var q=e.parsePathForBorder=function q(h,i){switch(i){case T:return r(h.topLeftOuter,h.topLeftInner,h.topRightOuter,h.topRightInner);case R:return r(h.topRightOuter,h.topRightInner,h.bottomRightOuter,h.bottomRightInner);case B:return r(h.bottomRightOuter,h.bottomRightInner,h.bottomLeftOuter,h.bottomLeftInner);case L:default:return r(h.bottomLeftOuter,h.bottomLeftInner,h.topLeftOuter,h.topLeftInner);}};var r=function r(h,i,w,x){var y=[];if(h instanceof f.default){y.push(h.subdivide(0.5,false));}else{y.push(h);}if(w instanceof f.default){y.push(w.subdivide(0.5,true));}else{y.push(w);}if(x instanceof f.default){y.push(x.subdivide(0.5,true).reverse());}else{y.push(x);}if(i instanceof f.default){y.push(i.subdivide(0.5,false).reverse());}else{y.push(i);}return y;};var s=e.calculateBorderBoxPath=function s(h){return[h.topLeftOuter,h.topRightOuter,h.bottomRightOuter,h.bottomLeftOuter];};var t=e.calculatePaddingBoxPath=function t(h){return[h.topLeftInner,h.topRightInner,h.bottomRightInner,h.bottomLeftInner];};var u=e.parseBoundCurves=function u(h,i,w){var x=w[C.TOP_LEFT][H].getAbsoluteValue(h.width);var y=w[C.TOP_LEFT][V].getAbsoluteValue(h.height);var z=w[C.TOP_RIGHT][H].getAbsoluteValue(h.width);var A=w[C.TOP_RIGHT][V].getAbsoluteValue(h.height);var D=w[C.BOTTOM_RIGHT][H].getAbsoluteValue(h.width);var E=w[C.BOTTOM_RIGHT][V].getAbsoluteValue(h.height);var F=w[C.BOTTOM_LEFT][H].getAbsoluteValue(h.width);var G=w[C.BOTTOM_LEFT][V].getAbsoluteValue(h.height);var I=[];I.push((x+z)/h.width);I.push((F+D)/h.width);I.push((y+G)/h.height);I.push((A+E)/h.height);var J=Math.max.apply(Math,I);if(J>1){x/=J;y/=J;z/=J;A/=J;D/=J;E/=J;F/=J;G/=J;}var K=h.width-z;var M=h.height-E;var N=h.width-D;var O=h.height-G;return{topLeftOuter:x>0||y>0?v(h.left,h.top,x,y,C.TOP_LEFT):new c.default(h.left,h.top),topLeftInner:x>0||y>0?v(h.left+i[L].borderWidth,h.top+i[T].borderWidth,Math.max(0,x-i[L].borderWidth),Math.max(0,y-i[T].borderWidth),C.TOP_LEFT):new c.default(h.left+i[L].borderWidth,h.top+i[T].borderWidth),topRightOuter:z>0||A>0?v(h.left+K,h.top,z,A,C.TOP_RIGHT):new c.default(h.left+h.width,h.top),topRightInner:z>0||A>0?v(h.left+Math.min(K,h.width+i[L].borderWidth),h.top+i[T].borderWidth,K>h.width+i[L].borderWidth?0:z-i[L].borderWidth,A-i[T].borderWidth,C.TOP_RIGHT):new c.default(h.left+h.width-i[R].borderWidth,h.top+i[T].borderWidth),bottomRightOuter:D>0||E>0?v(h.left+N,h.top+M,D,E,C.BOTTOM_RIGHT):new c.default(h.left+h.width,h.top+h.height),bottomRightInner:D>0||E>0?v(h.left+Math.min(N,h.width-i[L].borderWidth),h.top+Math.min(M,h.height+i[T].borderWidth),Math.max(0,D-i[R].borderWidth),E-i[B].borderWidth,C.BOTTOM_RIGHT):new c.default(h.left+h.width-i[R].borderWidth,h.top+h.height-i[B].borderWidth),bottomLeftOuter:F>0||G>0?v(h.left,h.top+O,F,G,C.BOTTOM_LEFT):new c.default(h.left,h.top+h.height),bottomLeftInner:F>0||G>0?v(h.left+i[L].borderWidth,h.top+O,Math.max(0,F-i[L].borderWidth),G-i[B].borderWidth,C.BOTTOM_LEFT):new c.default(h.left+i[L].borderWidth,h.top+h.height-i[B].borderWidth)};};var C={TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3};var v=function v(x,y,h,i,w){var z=4*((Math.sqrt(2)-1)/3);var A=h*z;var D=i*z;var E=x+h;var F=y+i;switch(w){case C.TOP_LEFT:return new f.default(new c.default(x,F),new c.default(x,F-D),new c.default(E-A,y),new c.default(E,y));case C.TOP_RIGHT:return new f.default(new c.default(x,y),new c.default(x+A,y),new c.default(E,F-D),new c.default(E,F));case C.BOTTOM_RIGHT:return new f.default(new c.default(E,y),new c.default(E,y+D),new c.default(x+A,F),new c.default(x,F));case C.BOTTOM_LEFT:default:return new f.default(new c.default(E,F),new c.default(E-A,F),new c.default(x,y+D),new c.default(x,y));}};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var c=e.contains=function c(b,v){return(b&v)!==0;};var d=e.distance=function d(a,b){return Math.sqrt(a*a+b*b);};var f=e.copyCSSStyles=function f(s,t,I){for(var i=s.length;i>=0;i--){var p=s.item(i);if(p!=='content'){if(I){if(p!=='top'&&p!=='left'){t.style.setProperty(p,s.getPropertyValue(p));}}else{t.style.setProperty(p,s.getPropertyValue(p));}}}return t;};var S=e.SMALL_IMAGE='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseBackgroundImage=e.parseBackground=e.calculateBackgroundRepeatPath=e.calculateBackgroundPosition=e.calculateBackgroungPositioningArea=e.calculateBackgroungPaintingArea=e.calculateGradientBackgroundSize=e.calculateBackgroundSize=e.BACKGROUND_ORIGIN=e.BACKGROUND_CLIP=e.BACKGROUND_SIZE=e.BACKGROUND_REPEAT=undefined;var a=_(0);var b=n(a);var d=_(1);var f=n(d);var g=_(31);var h=n(g);var i=_(7);var j=n(i);var k=_(2);var l=_(17);function n(c){return c&&c.__esModule?c:{default:c};}function o(c,K){if(!(c instanceof K)){throw new TypeError("Cannot call a class as a function");}}var B=e.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3};var p=e.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3};var q=e.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2};var r=e.BACKGROUND_ORIGIN=q;var A='auto';var s=function s(c){o(this,s);switch(c){case'contain':this.size=p.CONTAIN;break;case'cover':this.size=p.COVER;break;case'auto':this.size=p.AUTO;break;default:this.value=new f.default(c);}};var t=e.calculateBackgroundSize=function t(c,K,L){var M=0;var N=0;var O=c.size;if(O[0].size===p.CONTAIN||O[0].size===p.COVER){var P=L.width/L.height;var Q=K.width/K.height;return P<Q!==(O[0].size===p.COVER)?new h.default(L.width,L.width/Q):new h.default(L.height*Q,L.height);}if(O[0].value){M=O[0].value.getAbsoluteValue(L.width);}if(O[0].size===p.AUTO&&O[1].size===p.AUTO){N=K.height;}else if(O[1].size===p.AUTO){N=M/K.width*K.height;}else if(O[1].value){N=O[1].value.getAbsoluteValue(L.height);}if(O[0].size===p.AUTO){M=N/K.height*K.width;}return new h.default(M,N);};var u=e.calculateGradientBackgroundSize=function u(c,K){var L=c.size;var M=L[0].value?L[0].value.getAbsoluteValue(K.width):K.width;var N=L[1].value?L[1].value.getAbsoluteValue(K.height):L[0].value?M:K.height;return new h.default(M,N);};var v=new s(A);var w=e.calculateBackgroungPaintingArea=function w(c,K){switch(K){case q.BORDER_BOX:return(0,k.calculateBorderBoxPath)(c);case q.PADDING_BOX:default:return(0,k.calculatePaddingBoxPath)(c);}};var x=e.calculateBackgroungPositioningArea=function x(c,K,L,M){var N=(0,k.calculatePaddingBox)(K,M);switch(c){case r.BORDER_BOX:return K;case r.CONTENT_BOX:var O=L[l.PADDING_SIDES.LEFT].getAbsoluteValue(K.width);var P=L[l.PADDING_SIDES.RIGHT].getAbsoluteValue(K.width);var Q=L[l.PADDING_SIDES.TOP].getAbsoluteValue(K.width);var R=L[l.PADDING_SIDES.BOTTOM].getAbsoluteValue(K.width);return new k.Bounds(N.left+O,N.top+Q,N.width-O-P,N.height-Q-R);case r.PADDING_BOX:default:return N;}};var y=e.calculateBackgroundPosition=function y(c,K,L){return new j.default(c[0].getAbsoluteValue(L.width-K.width),c[1].getAbsoluteValue(L.height-K.height));};var z=e.calculateBackgroundRepeatPath=function z(c,K,L,M,N){var O=c.repeat;switch(O){case B.REPEAT_X:return[new j.default(Math.round(N.left),Math.round(M.top+K.y)),new j.default(Math.round(N.left+N.width),Math.round(M.top+K.y)),new j.default(Math.round(N.left+N.width),Math.round(L.height+M.top+K.y)),new j.default(Math.round(N.left),Math.round(L.height+M.top+K.y))];case B.REPEAT_Y:return[new j.default(Math.round(M.left+K.x),Math.round(N.top)),new j.default(Math.round(M.left+K.x+L.width),Math.round(N.top)),new j.default(Math.round(M.left+K.x+L.width),Math.round(N.height+N.top)),new j.default(Math.round(M.left+K.x),Math.round(N.height+N.top))];case B.NO_REPEAT:return[new j.default(Math.round(M.left+K.x),Math.round(M.top+K.y)),new j.default(Math.round(M.left+K.x+L.width),Math.round(M.top+K.y)),new j.default(Math.round(M.left+K.x+L.width),Math.round(M.top+K.y+L.height)),new j.default(Math.round(M.left+K.x),Math.round(M.top+K.y+L.height))];default:return[new j.default(Math.round(N.left),Math.round(N.top)),new j.default(Math.round(N.left+N.width),Math.round(N.top)),new j.default(Math.round(N.left+N.width),Math.round(N.height+N.top)),new j.default(Math.round(N.left),Math.round(N.height+N.top))];}};var C=e.parseBackground=function C(c,K){return{backgroundColor:new b.default(c.backgroundColor),backgroundImage:G(c,K),backgroundClip:D(c.backgroundClip),backgroundOrigin:E(c.backgroundOrigin)};};var D=function D(c){switch(c){case'padding-box':return q.PADDING_BOX;case'content-box':return q.CONTENT_BOX;}return q.BORDER_BOX;};var E=function E(c){switch(c){case'padding-box':return r.PADDING_BOX;case'content-box':return r.CONTENT_BOX;}return r.BORDER_BOX;};var F=function F(c){switch(c.trim()){case'no-repeat':return B.NO_REPEAT;case'repeat-x':case'repeat no-repeat':return B.REPEAT_X;case'repeat-y':case'no-repeat repeat':return B.REPEAT_Y;case'repeat':return B.REPEAT;}if(true){console.error('Invalid background-repeat value "'+c+'"');}return B.REPEAT;};var G=function G(c,K){var L=J(c.backgroundImage).map(function(P){if(P.method==='url'){var Q=K.loadImage(P.args[0]);P.args=Q?[Q]:[];}return P;});var M=c.backgroundPosition.split(',');var N=c.backgroundRepeat.split(',');var O=c.backgroundSize.split(',');return L.map(function(P,Q){var R=(O[Q]||A).trim().split(' ').map(H);var S=(M[Q]||A).trim().split(' ').map(I);return{source:P,repeat:F(typeof N[Q]==='string'?N[Q]:N[0]),size:R.length<2?[R[0],v]:[R[0],R[1]],position:S.length<2?[S[0],S[0]]:[S[0],S[1]]};});};var H=function H(c){return c==='auto'?v:new s(c);};var I=function I(c){switch(c){case'bottom':case'right':return new f.default('100%');case'left':case'top':return new f.default('0%');case'auto':return new f.default('0');}return new f.default(c);};var J=e.parseBackgroundImage=function J(K){var L=/^\s$/;var M=[];var N=[];var O='';var P=null;var Q='';var R=0;var S=0;var T=function T(){var c='';if(O){if(Q.substr(0,1)==='"'){Q=Q.substr(1,Q.length-2);}if(Q){N.push(Q.trim());}var U=O.indexOf('-',1)+1;if(O.substr(0,1)==='-'&&U>0){c=O.substr(0,U).toLowerCase();O=O.substr(U);}O=O.toLowerCase();if(O!=='none'){M.push({prefix:c,method:O,args:N});}}N=[];O=Q='';};K.split('').forEach(function(c){if(R===0&&L.test(c)){return;}switch(c){case'"':if(!P){P=c;}else if(P===c){P=null;}break;case'(':if(P){break;}else if(R===0){R=1;return;}else{S++;}break;case')':if(P){break;}else if(R===1){if(S===0){R=0;T();return;}else{S--;}}break;case',':if(P){break;}else if(R===0){T();return;}else if(R===1){if(S===0&&!O.match(/^url$/i)){N.push(Q.trim());Q='';return;}}break;}if(R===0){O+=c;}else{Q+=c;}});T();return M;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var P=e.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=function(){function s(K,L){for(var i=0;i<L.length;i++){var M=L[i];M.enumerable=M.enumerable||false;M.configurable=true;if("value"in M)M.writable=true;Object.defineProperty(K,M.key,M);}}return function(i,K,L){if(K)s(i.prototype,K);if(L)s(i,L);return i;};}();var b=_(0);var c=G(b);var d=_(3);var f=_(4);var g=_(12);var h=_(33);var j=_(34);var k=_(35);var l=_(36);var n=_(37);var o=_(38);var p=_(8);var q=_(39);var r=_(40);var t=_(18);var u=_(17);var v=_(19);var w=_(11);var x=_(41);var y=_(20);var z=_(42);var A=_(43);var B=_(44);var C=_(45);var D=_(2);var E=_(21);var F=_(14);function G(i){return i&&i.__esModule?i:{default:i};}function H(i,s){if(!(i instanceof s)){throw new TypeError("Cannot call a class as a function");}}var I=['INPUT','TEXTAREA','SELECT'];var N=function(){function N(i,K,L,M){var O=this;H(this,N);this.parent=K;this.tagName=i.tagName;this.index=M;this.childNodes=[];this.listItems=[];if(typeof i.start==='number'){this.listStart=i.start;}var P=i.ownerDocument.defaultView;var Q=P.pageXOffset;var R=P.pageYOffset;var S=P.getComputedStyle(i,null);var T=(0,j.parseDisplay)(S.display);var U=i.type==='radio'||i.type==='checkbox';var V=(0,v.parsePosition)(S.position);this.style={background:U?E.INPUT_BACKGROUND:(0,f.parseBackground)(S,L),border:U?E.INPUT_BORDERS:(0,g.parseBorder)(S),borderRadius:(i instanceof P.HTMLInputElement||i instanceof HTMLInputElement)&&U?(0,E.getInputBorderRadius)(i):(0,h.parseBorderRadius)(S),color:U?E.INPUT_COLOR:new c.default(S.color),display:T,float:(0,k.parseCSSFloat)(S.float),font:(0,l.parseFont)(S),letterSpacing:(0,n.parseLetterSpacing)(S.letterSpacing),listStyle:T===j.DISPLAY.LIST_ITEM?(0,p.parseListStyle)(S):null,lineBreak:(0,o.parseLineBreak)(S.lineBreak),margin:(0,q.parseMargin)(S),opacity:parseFloat(S.opacity),overflow:I.indexOf(i.tagName)===-1?(0,r.parseOverflow)(S.overflow):r.OVERFLOW.HIDDEN,overflowWrap:(0,t.parseOverflowWrap)(S.overflowWrap?S.overflowWrap:S.wordWrap),padding:(0,u.parsePadding)(S),position:V,textDecoration:(0,w.parseTextDecoration)(S),textShadow:(0,x.parseTextShadow)(S.textShadow),textTransform:(0,y.parseTextTransform)(S.textTransform),transform:(0,z.parseTransform)(S),visibility:(0,A.parseVisibility)(S.visibility),wordBreak:(0,B.parseWordBreak)(S.wordBreak),zIndex:(0,C.parseZIndex)(V!==v.POSITION.STATIC?S.zIndex:'auto')};if(this.isTransformed()){i.style.transform='matrix(1,0,0,1,0,0)';}if(T===j.DISPLAY.LIST_ITEM){var W=(0,F.getListOwner)(this);if(W){var X=W.listItems.length;W.listItems.push(this);this.listIndex=i.hasAttribute('value')&&typeof i.value==='number'?i.value:X===0?typeof W.listStart==='number'?W.listStart:1:W.listItems[X-1].listIndex+1;}}if(i.tagName==='IMG'){i.addEventListener('load',function(){O.bounds=(0,D.parseBounds)(i,Q,R);O.curvedBounds=(0,D.parseBoundCurves)(O.bounds,O.style.border,O.style.borderRadius);});}this.image=J(i,L);this.bounds=U?(0,E.reformatInputBounds)((0,D.parseBounds)(i,Q,R)):(0,D.parseBounds)(i,Q,R);this.curvedBounds=(0,D.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius);if(true){this.name=''+i.tagName.toLowerCase()+(i.id?'#'+i.id:'')+i.className.toString().split(' ').map(function(s){return s.length?'.'+s:'';}).join('');}}a(N,[{key:'getClipPaths',value:function getClipPaths(){var i=this.parent?this.parent.getClipPaths():[];var s=this.style.overflow!==r.OVERFLOW.VISIBLE;return s?i.concat([(0,D.calculatePaddingBoxPath)(this.curvedBounds)]):i;}},{key:'isInFlow',value:function isInFlow(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned();}},{key:'isVisible',value:function isVisible(){return!(0,d.contains)(this.style.display,j.DISPLAY.NONE)&&this.style.opacity>0&&this.style.visibility===A.VISIBILITY.VISIBLE;}},{key:'isAbsolutelyPositioned',value:function isAbsolutelyPositioned(){return this.style.position!==v.POSITION.STATIC&&this.style.position!==v.POSITION.RELATIVE;}},{key:'isPositioned',value:function isPositioned(){return this.style.position!==v.POSITION.STATIC;}},{key:'isFloating',value:function isFloating(){return this.style.float!==k.FLOAT.NONE;}},{key:'isRootElement',value:function isRootElement(){return this.parent===null;}},{key:'isTransformed',value:function isTransformed(){return this.style.transform!==null;}},{key:'isPositionedWithZIndex',value:function isPositionedWithZIndex(){return this.isPositioned()&&!this.style.zIndex.auto;}},{key:'isInlineLevel',value:function isInlineLevel(){return(0,d.contains)(this.style.display,j.DISPLAY.INLINE)||(0,d.contains)(this.style.display,j.DISPLAY.INLINE_BLOCK)||(0,d.contains)(this.style.display,j.DISPLAY.INLINE_FLEX)||(0,d.contains)(this.style.display,j.DISPLAY.INLINE_GRID)||(0,d.contains)(this.style.display,j.DISPLAY.INLINE_LIST_ITEM)||(0,d.contains)(this.style.display,j.DISPLAY.INLINE_TABLE);}},{key:'isInlineBlockOrInlineTable',value:function isInlineBlockOrInlineTable(){return(0,d.contains)(this.style.display,j.DISPLAY.INLINE_BLOCK)||(0,d.contains)(this.style.display,j.DISPLAY.INLINE_TABLE);}}]);return N;}();e.default=N;var J=function J(i,K){if(i instanceof i.ownerDocument.defaultView.SVGSVGElement||i instanceof SVGSVGElement){var s=new XMLSerializer();return K.loadImage('data:image/svg+xml,'+encodeURIComponent(s.serializeToString(i)));}switch(i.tagName){case'IMG':var L=i;return K.loadImage(L.currentSrc||L.src);case'CANVAS':var M=i;return K.loadCanvas(M);case'IFRAME':var O=i.getAttribute('data-html2canvas-internal-iframe-key');if(O){return O;}break;}return null;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=_(5);function b(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var V=function V(x,y){b(this,V);this.type=a.PATH.VECTOR;this.x=x;this.y=y;if(true){if(isNaN(x)){console.error('Invalid x value given for Vector');}if(isNaN(y)){console.error('Invalid y value given for Vector');}}};e.default=V;}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseListStyle=e.parseListStyleType=e.LIST_STYLE_TYPE=e.LIST_STYLE_POSITION=undefined;var a=_(4);var L=e.LIST_STYLE_POSITION={INSIDE:0,OUTSIDE:1};var b=e.LIST_STYLE_TYPE={NONE:-1,DISC:0,CIRCLE:1,SQUARE:2,DECIMAL:3,CJK_DECIMAL:4,DECIMAL_LEADING_ZERO:5,LOWER_ROMAN:6,UPPER_ROMAN:7,LOWER_GREEK:8,LOWER_ALPHA:9,UPPER_ALPHA:10,ARABIC_INDIC:11,ARMENIAN:12,BENGALI:13,CAMBODIAN:14,CJK_EARTHLY_BRANCH:15,CJK_HEAVENLY_STEM:16,CJK_IDEOGRAPHIC:17,DEVANAGARI:18,ETHIOPIC_NUMERIC:19,GEORGIAN:20,GUJARATI:21,GURMUKHI:22,HEBREW:22,HIRAGANA:23,HIRAGANA_IROHA:24,JAPANESE_FORMAL:25,JAPANESE_INFORMAL:26,KANNADA:27,KATAKANA:28,KATAKANA_IROHA:29,KHMER:30,KOREAN_HANGUL_FORMAL:31,KOREAN_HANJA_FORMAL:32,KOREAN_HANJA_INFORMAL:33,LAO:34,LOWER_ARMENIAN:35,MALAYALAM:36,MONGOLIAN:37,MYANMAR:38,ORIYA:39,PERSIAN:40,SIMP_CHINESE_FORMAL:41,SIMP_CHINESE_INFORMAL:42,TAMIL:43,TELUGU:44,THAI:45,TIBETAN:46,TRAD_CHINESE_FORMAL:47,TRAD_CHINESE_INFORMAL:48,UPPER_ARMENIAN:49,DISCLOSURE_OPEN:50,DISCLOSURE_CLOSED:51};var p=e.parseListStyleType=function p(t){switch(t){case'disc':return b.DISC;case'circle':return b.CIRCLE;case'square':return b.SQUARE;case'decimal':return b.DECIMAL;case'cjk-decimal':return b.CJK_DECIMAL;case'decimal-leading-zero':return b.DECIMAL_LEADING_ZERO;case'lower-roman':return b.LOWER_ROMAN;case'upper-roman':return b.UPPER_ROMAN;case'lower-greek':return b.LOWER_GREEK;case'lower-alpha':return b.LOWER_ALPHA;case'upper-alpha':return b.UPPER_ALPHA;case'arabic-indic':return b.ARABIC_INDIC;case'armenian':return b.ARMENIAN;case'bengali':return b.BENGALI;case'cambodian':return b.CAMBODIAN;case'cjk-earthly-branch':return b.CJK_EARTHLY_BRANCH;case'cjk-heavenly-stem':return b.CJK_HEAVENLY_STEM;case'cjk-ideographic':return b.CJK_IDEOGRAPHIC;case'devanagari':return b.DEVANAGARI;case'ethiopic-numeric':return b.ETHIOPIC_NUMERIC;case'georgian':return b.GEORGIAN;case'gujarati':return b.GUJARATI;case'gurmukhi':return b.GURMUKHI;case'hebrew':return b.HEBREW;case'hiragana':return b.HIRAGANA;case'hiragana-iroha':return b.HIRAGANA_IROHA;case'japanese-formal':return b.JAPANESE_FORMAL;case'japanese-informal':return b.JAPANESE_INFORMAL;case'kannada':return b.KANNADA;case'katakana':return b.KATAKANA;case'katakana-iroha':return b.KATAKANA_IROHA;case'khmer':return b.KHMER;case'korean-hangul-formal':return b.KOREAN_HANGUL_FORMAL;case'korean-hanja-formal':return b.KOREAN_HANJA_FORMAL;case'korean-hanja-informal':return b.KOREAN_HANJA_INFORMAL;case'lao':return b.LAO;case'lower-armenian':return b.LOWER_ARMENIAN;case'malayalam':return b.MALAYALAM;case'mongolian':return b.MONGOLIAN;case'myanmar':return b.MYANMAR;case'oriya':return b.ORIYA;case'persian':return b.PERSIAN;case'simp-chinese-formal':return b.SIMP_CHINESE_FORMAL;case'simp-chinese-informal':return b.SIMP_CHINESE_INFORMAL;case'tamil':return b.TAMIL;case'telugu':return b.TELUGU;case'thai':return b.THAI;case'tibetan':return b.TIBETAN;case'trad-chinese-formal':return b.TRAD_CHINESE_FORMAL;case'trad-chinese-informal':return b.TRAD_CHINESE_INFORMAL;case'upper-armenian':return b.UPPER_ARMENIAN;case'disclosure-open':return b.DISCLOSURE_OPEN;case'disclosure-closed':return b.DISCLOSURE_CLOSED;case'none':default:return b.NONE;}};var c=e.parseListStyle=function c(s){var l=(0,a.parseBackgroundImage)(s.getPropertyValue('list-style-image'));return{listStyleType:p(s.getPropertyValue('list-style-type')),listStyleImage:l.length?l[0]:null,listStylePosition:d(s.getPropertyValue('list-style-position'))};};var d=function d(f){switch(f){case'inside':return L.INSIDE;case'outside':default:return L.OUTSIDE;}};}),(function(a,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var b=function(){function h(j,p){for(var i=0;i<p.length;i++){var k=p[i];k.enumerable=k.enumerable||false;k.configurable=true;if("value"in k)k.writable=true;Object.defineProperty(j,k.key,k);}}return function(i,p,s){if(p)h(i.prototype,p);if(s)h(i,s);return i;};}();var c=_(20);var d=_(22);function f(i,h){if(!(i instanceof h)){throw new TypeError("Cannot call a class as a function");}}var T=function(){function T(h,p,i){f(this,T);this.text=h;this.parent=p;this.bounds=i;}b(T,null,[{key:'fromTextNode',value:function fromTextNode(n,p){var h=t(n.data,p.style.textTransform);return new T(h,p,(0,d.parseTextBounds)(h,p,n));}}]);return T;}();e.default=T;var C=/(^|\s|:|-|\(|\))([a-z])/g;var t=function t(h,i){switch(i){case c.TEXT_TRANSFORM.LOWERCASE:return h.toLowerCase();case c.TEXT_TRANSFORM.CAPITALIZE:return h.replace(C,g);case c.TEXT_TRANSFORM.UPPERCASE:return h.toUpperCase();default:return h;}};function g(m,p,h){if(m.length>0){return p+h.toUpperCase();}return m;}}),(function(m,a,_){"use strict";Object.defineProperty(a,"__esModule",{value:true});var b=_(23);var t=function t(e){var T=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var j=e.createElement('boundtest');j.style.height=T+'px';j.style.display='block';e.body.appendChild(j);r.selectNode(j);var k=r.getBoundingClientRect();var l=Math.round(k.height);e.body.removeChild(j);if(l===T){return true;}}}return false;};var c=function c(j,s){var k=new Image();var l=j.createElement('canvas');var n=l.getContext('2d');return new Promise(function(r){k.src=s;var o=function o(){try{n.drawImage(k,0,0);l.toDataURL();}catch(e){return r(false);}return r(true);};k.onload=o;k.onerror=function(){return r(false);};if(k.complete===true){setTimeout(function(){o();},500);}});};var d=function d(){return typeof new Image().crossOrigin!=='undefined';};var f=function f(){return typeof new XMLHttpRequest().responseType==='string';};var g=function g(e){return e.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#Image','1.1')};var i=function i(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255;};var h=function h(j){var k=j.createElement('canvas');var s=100;k.width=s;k.height=s;var l=k.getContext('2d');l.fillStyle='rgb(0, 255, 0)';l.fillRect(0,0,s,s);var n=new Image();var o=k.toDataURL();n.src=o;var p=(0,b.createForeignObjectSVG)(s,s,0,0,n);l.fillStyle='red';l.fillRect(0,0,s,s);return(0,b.loadSerializedSVG)(p).then(function(n){l.drawImage(n,0,0);var e=l.getImageData(0,0,s,s).data;l.fillStyle='red';l.fillRect(0,0,s,s);var q=j.createElement('div');q.style.backgroundImage='url('+o+')';q.style.height=s+'px';return i(e)?(0,b.loadSerializedSVG)((0,b.createForeignObjectSVG)(s,s,0,0,q)):Promise.reject(false);}).then(function(n){l.drawImage(n,0,0);return i(l.getImageData(0,0,s,s).data);}).catch(function(e){return false;});};var F={get SUPPORT_RANGE_BOUNDS(){'use strict';var v=t(document);Object.defineProperty(F,'SUPPORT_RANGE_BOUNDS',{value:v});return v;},get SUPPORT_SVG_DRAWING(){'use strict';var v=g(document);Object.defineProperty(F,'SUPPORT_SVG_DRAWING',{value:v});return v;},get SUPPORT_BASE64_DRAWING(){'use strict';return function(s){var e=c(document,s);Object.defineProperty(F,'SUPPORT_BASE64_DRAWING',{value:function value(){return e;}});return e;};},get SUPPORT_FOREIGNOBJECT_DRAWING(){'use strict';var v=typeof Array.from==='function'&&typeof window.fetch==='function'?h(document):Promise.resolve(false);Object.defineProperty(F,'SUPPORT_FOREIGNOBJECT_DRAWING',{value:v});return v;},get SUPPORT_CORS_IMAGES(){'use strict';var v=d();Object.defineProperty(F,'SUPPORT_CORS_IMAGES',{value:v});return v;},get SUPPORT_RESPONSE_TYPE(){'use strict';var v=f();Object.defineProperty(F,'SUPPORT_RESPONSE_TYPE',{value:v});return v;},get SUPPORT_CORS_XHR(){'use strict';var v='withCredentials'in new XMLHttpRequest();Object.defineProperty(F,'SUPPORT_CORS_XHR',{value:v});return v;}};a.default=F;}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseTextDecoration=e.TEXT_DECORATION_LINE=e.TEXT_DECORATION=e.TEXT_DECORATION_STYLE=undefined;var a=_(0);var b=c(a);function c(o){return o&&o.__esModule?o:{default:o};}var T=e.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4};var d=e.TEXT_DECORATION={NONE:null};var f=e.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4};var p=function p(l){switch(l){case'underline':return f.UNDERLINE;case'overline':return f.OVERLINE;case'line-through':return f.LINE_THROUGH;}return f.BLINK;};var g=function g(l){if(l==='none'){return null;}return l.split(' ').map(p);};var h=function h(s){switch(s){case'double':return T.DOUBLE;case'dotted':return T.DOTTED;case'dashed':return T.DASHED;case'wavy':return T.WAVY;}return T.SOLID;};var i=e.parseTextDecoration=function i(s){var t=g(s.textDecorationLine?s.textDecorationLine:s.textDecoration);if(t===null){return d.NONE;}var j=s.textDecorationColor?new b.default(s.textDecorationColor):null;var k=h(s.textDecorationStyle);return{textDecorationLine:t,textDecorationColor:j,textDecorationStyle:k};};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseBorder=e.BORDER_SIDES=e.BORDER_STYLE=undefined;var a=_(0);var b=c(a);function c(o){return o&&o.__esModule?o:{default:o};}var B=e.BORDER_STYLE={NONE:0,SOLID:1};var d=e.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3};var S=Object.keys(d).map(function(s){return s.toLowerCase();});var p=function p(s){switch(s){case'none':return B.NONE;}return B.SOLID;};var f=e.parseBorder=function f(s){return S.map(function(g){var h=new b.default(s.getPropertyValue('border-'+g+'-color'));var i=p(s.getPropertyValue('border-'+g+'-style'));var j=parseFloat(s.getPropertyValue('border-'+g+'-width'));return{borderColor:h,borderStyle:i,borderWidth:isNaN(j)?0:j};});};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var t=e.toCodePoints=function t(s){var g=[];var i=0;var h=s.length;while(i<h){var v=s.charCodeAt(i++);if(v>=0xd800&&v<=0xdbff&&i<h){var j=s.charCodeAt(i++);if((j&0xfc00)===0xdc00){g.push(((v&0x3ff)<<10)+(j&0x3ff)+0x10000);}else{g.push(v);i--;}}else{g.push(v);}}return g;};var f=e.fromCodePoint=function f(){if(String.fromCodePoint){return String.fromCodePoint.apply(String,arguments);}var g=arguments.length;if(!g){return'';}var h=[];var j=-1;var r='';while(++j<g){var k=arguments.length<=j?undefined:arguments[j];if(k<=0xffff){h.push(k);}else{k-=0x10000;h.push((k>>10)+0xd800,k%0x400+0xdc00);}if(j+1===g||h.length>0x4000){r+=String.fromCharCode.apply(String,h);h.length=0;}}return r;};var c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';var l=typeof Uint8Array==='undefined'?[]:new Uint8Array(256);for(var i=0;i<c.length;i++){l[c.charCodeAt(i)]=i;}var d=e.decode=function d(g){var h=g.length*0.75,j=g.length,i=void 0,p=0,k=void 0,n=void 0,o=void 0,q=void 0;if(g[g.length-1]==='='){h--;if(g[g.length-2]==='='){h--;}}var r=typeof ArrayBuffer!=='undefined'&&typeof Uint8Array!=='undefined'&&typeof Uint8Array.prototype.slice!=='undefined'?new ArrayBuffer(h):new Array(h);var s=Array.isArray(r)?r:new Uint8Array(r);for(i=0;i<j;i+=4){k=l[g.charCodeAt(i)];n=l[g.charCodeAt(i+1)];o=l[g.charCodeAt(i+2)];q=l[g.charCodeAt(i+3)];s[p++]=k<<2|n>>4;s[p++]=(n&15)<<4|o>>2;s[p++]=(o&3)<<6|q&63;}return r;};var a=e.polyUint16Array=function a(g){var h=g.length;var j=[];for(var k=0;k<h;k+=2){j.push(g[k+1]<<8|g[k]);}return j;};var b=e.polyUint32Array=function b(g){var h=g.length;var j=[];for(var k=0;k<h;k+=4){j.push(g[k+3]<<24|g[k+2]<<16|g[k+1]<<8|g[k]);}return j;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.createCounterText=e.inlineListItemElement=e.getListOwner=undefined;var a=_(3);var b=_(6);var c=i(b);var d=_(9);var f=i(d);var g=_(8);var h=_(24);function i(y){return y&&y.__esModule?y:{default:y};}var M=7;var j=['OL','UL','MENU'];var k=e.getListOwner=function k(y){var z=y.parent;if(!z){return null;}do{var B=j.indexOf(z.tagName)!==-1;if(B){return z;}z=z.parent;}while(z);return y.parent;};var l=e.inlineListItemElement=function l(y,z,B){var D=z.style.listStyle;if(!D){return;}var E=y.ownerDocument.defaultView.getComputedStyle(y,null);var F=y.ownerDocument.createElement('html2canvaswrapper');(0,a.copyCSSStyles)(E,F);F.style.position='absolute';F.style.bottom='auto';F.style.display='block';F.style.letterSpacing='normal';switch(D.listStylePosition){case g.LIST_STYLE_POSITION.OUTSIDE:F.style.left='auto';F.style.right=y.ownerDocument.defaultView.innerWidth-z.bounds.left-z.style.margin[1].getAbsoluteValue(z.bounds.width)+M+'px';F.style.textAlign='right';break;case g.LIST_STYLE_POSITION.INSIDE:F.style.left=z.bounds.left-z.style.margin[3].getAbsoluteValue(z.bounds.width)+'px';F.style.right='auto';F.style.textAlign='left';break;}var I=void 0;var L=z.style.margin[0].getAbsoluteValue(z.bounds.width);var N=D.listStyleImage;if(N){if(N.method==='url'){var O=y.ownerDocument.createElement('img');O.src=N.args[0];F.style.top=z.bounds.top-L+'px';F.style.width='auto';F.style.height='auto';F.appendChild(O);}else{var P=parseFloat(z.style.font.fontSize)*0.5;F.style.top=z.bounds.top-L+z.bounds.height-1.5*P+'px';F.style.width=P+'px';F.style.height=P+'px';F.style.backgroundImage=E.listStyleImage;}}else if(typeof z.listIndex==='number'){I=y.ownerDocument.createTextNode(x(z.listIndex,D.listStyleType,true));F.appendChild(I);F.style.top=z.bounds.top-L+'px';}var Q=y.ownerDocument.body;Q.appendChild(F);if(I){z.childNodes.push(f.default.fromTextNode(I,z));Q.removeChild(F);}else{z.childNodes.push(new c.default(F,z,B,0));}};var R={integers:[1000,900,500,400,100,90,50,40,10,9,5,4,1],values:['M','CM','D','CD','C','XC','L','XL','X','IX','V','IV','I']};var A={integers:[9000,8000,7000,6000,5000,4000,3000,2000,1000,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:['Ք','Փ','Ւ','Ց','Ր','Տ','Վ','Ս','Ռ','Ջ','Պ','Չ','Ո','Շ','Ն','Յ','Մ','Ճ','Ղ','Ձ','Հ','Կ','Ծ','Խ','Լ','Ի','Ժ','Թ','Ը','Է','Զ','Ե','Դ','Գ','Բ','Ա']};var H={integers:[10000,9000,8000,7000,6000,5000,4000,3000,2000,1000,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:['י׳','ט׳','ח׳','ז׳','ו׳','ה׳','ד׳','ג׳','ב׳','א׳','ת','ש','ר','ק','צ','פ','ע','ס','נ','מ','ל','כ','יט','יח','יז','טז','טו','י','ט','ח','ז','ו','ה','ד','ג','ב','א']};var G={integers:[10000,9000,8000,7000,6000,5000,4000,3000,2000,1000,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:['ჵ','ჰ','ჯ','ჴ','ხ','ჭ','წ','ძ','ც','ჩ','შ','ყ','ღ','ქ','ფ','ჳ','ტ','ს','რ','ჟ','პ','ო','ჲ','ნ','მ','ლ','კ','ი','თ','ჱ','ზ','ვ','ე','დ','გ','ბ','ა']};var n=function n(y,z,B,D,E,F){if(y<z||y>B){return x(y,E,F.length>0);}return D.integers.reduce(function(I,L,N){while(y>=L){y-=L;I+=D.values[N];}return I;},'')+F;};var o=function o(y,z,B,D){var E='';do{if(!B){y--;}E=D(y)+E;y/=z;}while(y*z>=z);return E;};var p=function p(y,z,B,D,E){var F=B-z+1;return(y<0?'-':'')+(o(Math.abs(y),F,D,function(I){return(0,h.fromCodePoint)(Math.floor(I%F)+z);})+E);};var q=function q(y,z){var B=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'. ';var D=z.length;return o(Math.abs(y),D,false,function(E){return z[Math.floor(E%D)];})+B;};var C=1<<0;var r=1<<1;var s=1<<2;var t=1<<3;var u=function u(y,z,B,D,E,F){if(y<-9999||y>9999){return x(y,g.LIST_STYLE_TYPE.CJK_DECIMAL,E.length>0);}var I=Math.abs(y);var L=E;if(I===0){return z[0]+L;}for(var N=0;I>0&&N<=4;N++){var O=I%10;if(O===0&&(0,a.contains)(F,C)&&L!==''){L=z[O]+L;}else if(O>1||O===1&&N===0||O===1&&N===1&&(0,a.contains)(F,r)||O===1&&N===1&&(0,a.contains)(F,s)&&y>100||O===1&&N>1&&(0,a.contains)(F,t)){L=z[O]+(N>0?B[N-1]:'')+L;}else if(O===1&&N>0){L=B[N-1]+L;}I=Math.floor(I/10);}return(y<0?D:'')+L;};var v='十百千萬';var w='拾佰仟萬';var J='マイナス';var K='마이너스 ';var x=e.createCounterText=function x(y,z,B){var D=B?'. ':'';var E=B?'、':'';var F=B?', ':'';switch(z){case g.LIST_STYLE_TYPE.DISC:return'•';case g.LIST_STYLE_TYPE.CIRCLE:return'◦';case g.LIST_STYLE_TYPE.SQUARE:return'◾';case g.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var I=p(y,48,57,true,D);return I.length<4?'0'+I:I;case g.LIST_STYLE_TYPE.CJK_DECIMAL:return q(y,'〇一二三四五六七八九',E);case g.LIST_STYLE_TYPE.LOWER_ROMAN:return n(y,1,3999,R,g.LIST_STYLE_TYPE.DECIMAL,D).toLowerCase();case g.LIST_STYLE_TYPE.UPPER_ROMAN:return n(y,1,3999,R,g.LIST_STYLE_TYPE.DECIMAL,D);case g.LIST_STYLE_TYPE.LOWER_GREEK:return p(y,945,969,false,D);case g.LIST_STYLE_TYPE.LOWER_ALPHA:return p(y,97,122,false,D);case g.LIST_STYLE_TYPE.UPPER_ALPHA:return p(y,65,90,false,D);case g.LIST_STYLE_TYPE.ARABIC_INDIC:return p(y,1632,1641,true,D);case g.LIST_STYLE_TYPE.ARMENIAN:case g.LIST_STYLE_TYPE.UPPER_ARMENIAN:return n(y,1,9999,A,g.LIST_STYLE_TYPE.DECIMAL,D);case g.LIST_STYLE_TYPE.LOWER_ARMENIAN:return n(y,1,9999,A,g.LIST_STYLE_TYPE.DECIMAL,D).toLowerCase();case g.LIST_STYLE_TYPE.BENGALI:return p(y,2534,2543,true,D);case g.LIST_STYLE_TYPE.CAMBODIAN:case g.LIST_STYLE_TYPE.KHMER:return p(y,6112,6121,true,D);case g.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return q(y,'子丑寅卯辰巳午未申酉戌亥',E);case g.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return q(y,'甲乙丙丁戊己庚辛壬癸',E);case g.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case g.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return u(y,'零一二三四五六七八九',v,'負',E,r|s|t);case g.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return u(y,'零壹貳參肆伍陸柒捌玖',w,'負',E,C|r|s|t);case g.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return u(y,'零一二三四五六七八九',v,'负',E,r|s|t);case g.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return u(y,'零壹贰叁肆伍陆柒捌玖',w,'负',E,C|r|s|t);case g.LIST_STYLE_TYPE.JAPANESE_INFORMAL:return u(y,'〇一二三四五六七八九','十百千万',J,E,0);case g.LIST_STYLE_TYPE.JAPANESE_FORMAL:return u(y,'零壱弐参四伍六七八九','拾百千万',J,E,C|r|s);case g.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return u(y,'영일이삼사오육칠팔구','십백천만',K,F,C|r|s);case g.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return u(y,'零一二三四五六七八九','十百千萬',K,F,0);case g.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return u(y,'零壹貳參四五六七八九','拾百千',K,F,C|r|s);case g.LIST_STYLE_TYPE.DEVANAGARI:return p(y,0x966,0x96f,true,D);case g.LIST_STYLE_TYPE.GEORGIAN:return n(y,1,19999,G,g.LIST_STYLE_TYPE.DECIMAL,D);case g.LIST_STYLE_TYPE.GUJARATI:return p(y,0xae6,0xaef,true,D);case g.LIST_STYLE_TYPE.GURMUKHI:return p(y,0xa66,0xa6f,true,D);case g.LIST_STYLE_TYPE.HEBREW:return n(y,1,10999,H,g.LIST_STYLE_TYPE.DECIMAL,D);case g.LIST_STYLE_TYPE.HIRAGANA:return q(y,'あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん');case g.LIST_STYLE_TYPE.HIRAGANA_IROHA:return q(y,'いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす');case g.LIST_STYLE_TYPE.KANNADA:return p(y,0xce6,0xcef,true,D);case g.LIST_STYLE_TYPE.KATAKANA:return q(y,'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン',E);case g.LIST_STYLE_TYPE.KATAKANA_IROHA:return q(y,'イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス',E);case g.LIST_STYLE_TYPE.LAO:return p(y,0xed0,0xed9,true,D);case g.LIST_STYLE_TYPE.MONGOLIAN:return p(y,0x1810,0x1819,true,D);case g.LIST_STYLE_TYPE.MYANMAR:return p(y,0x1040,0x1049,true,D);case g.LIST_STYLE_TYPE.ORIYA:return p(y,0xb66,0xb6f,true,D);case g.LIST_STYLE_TYPE.PERSIAN:return p(y,0x6f0,0x6f9,true,D);case g.LIST_STYLE_TYPE.TAMIL:return p(y,0xbe6,0xbef,true,D);case g.LIST_STYLE_TYPE.TELUGU:return p(y,0xc66,0xc6f,true,D);case g.LIST_STYLE_TYPE.THAI:return p(y,0xe50,0xe59,true,D);case g.LIST_STYLE_TYPE.TIBETAN:return p(y,0xf20,0xf29,true,D);case g.LIST_STYLE_TYPE.DECIMAL:default:return p(y,48,57,true,D);}};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=function(){function f(t,p){for(var i=0;i<p.length;i++){var h=p[i];h.enumerable=h.enumerable||false;h.configurable=true;if("value"in h)h.writable=true;Object.defineProperty(t,h.key,h);}}return function(h,p,s){if(p)f(h.prototype,p);if(s)f(h,s);return h;};}();var b=_(5);var c=_(11);function d(i,f){if(!(i instanceof f)){throw new TypeError("Cannot call a class as a function");}}var g=function g(h,i){var j=Math.max.apply(null,h.colorStops.map(function(k){return k.stop;}));var f=1/Math.max(1,j);h.colorStops.forEach(function(k){i.addColorStop(f*k.stop,k.color.toString());});};var C=function(){function C(f){d(this,C);this.canvas=f?f:document.createElement('canvas');}a(C,[{key:'render',value:function render(o){this.ctx=this.canvas.getContext('2d');this.options=o;this.canvas.width=Math.floor(o.width*o.scale);this.canvas.height=Math.floor(o.height*o.scale);this.canvas.style.width=o.width+'px';this.canvas.style.height=o.height+'px';this.ctx.scale(this.options.scale,this.options.scale);this.ctx.translate(-o.x,-o.y);this.ctx.textBaseline='bottom';o.logger.log('Canvas renderer initialized ('+o.width+'x'+o.height+' at '+o.x+','+o.y+') with scale '+this.options.scale);}},{key:'clip',value:function clip(f,h){var i=this;if(f.length){this.ctx.save();f.forEach(function(p){i.path(p);i.ctx.clip();});}h();if(f.length){this.ctx.restore();}}},{key:'drawImage',value:function drawImage(i,s,f){this.ctx.drawImage(i,s.left,s.top,s.width,s.height,f.left,f.top,f.width,f.height);}},{key:'drawShape',value:function drawShape(p,f){this.path(p);this.ctx.fillStyle=f.toString();this.ctx.fill();}},{key:'fill',value:function fill(f){this.ctx.fillStyle=f.toString();this.ctx.fill();}},{key:'getTarget',value:function getTarget(){this.canvas.getContext('2d').setTransform(1,0,0,1,0,0);return Promise.resolve(this.canvas);}},{key:'path',value:function path(f){var h=this;this.ctx.beginPath();if(Array.isArray(f)){f.forEach(function(p,i){var s=p.type===b.PATH.VECTOR?p:p.start;if(i===0){h.ctx.moveTo(s.x,s.y);}else{h.ctx.lineTo(s.x,s.y);}if(p.type===b.PATH.BEZIER_CURVE){h.ctx.bezierCurveTo(p.startControl.x,p.startControl.y,p.endControl.x,p.endControl.y,p.end.x,p.end.y);}});}else{this.ctx.arc(f.x+f.radius,f.y+f.radius,f.radius,0,Math.PI*2,true);}this.ctx.closePath();}},{key:'rectangle',value:function rectangle(x,y,w,h,f){this.ctx.fillStyle=f.toString();this.ctx.fillRect(x,y,w,h);}},{key:'renderLinearGradient',value:function renderLinearGradient(f,h){var l=this.ctx.createLinearGradient(f.left+h.direction.x1,f.top+h.direction.y1,f.left+h.direction.x0,f.top+h.direction.y0);g(h,l);this.ctx.fillStyle=l;this.ctx.fillRect(f.left,f.top,f.width,f.height);}},{key:'renderRadialGradient',value:function renderRadialGradient(h,i){var j=this;var x=h.left+i.center.x;var y=h.top+i.center.y;var r=this.ctx.createRadialGradient(x,y,0,x,y,i.radius.x);if(!r){return;}g(i,r);this.ctx.fillStyle=r;if(i.radius.x!==i.radius.y){var k=h.left+0.5*h.width;var l=h.top+0.5*h.height;var f=i.radius.y/i.radius.x;var n=1/f;this.transform(k,l,[1,0,0,f,0,0],function(){return j.ctx.fillRect(h.left,n*(h.top-l)+l,h.width,h.height*n);});}else{this.ctx.fillRect(h.left,h.top,h.width,h.height);}}},{key:'renderRepeat',value:function renderRepeat(p,i,f,o,h){this.path(p);this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(i,f),'repeat');this.ctx.translate(o,h);this.ctx.fill();this.ctx.translate(-o,-h);}},{key:'renderTextNode',value:function renderTextNode(t,f,h,i,j){var k=this;this.ctx.font=[h.fontStyle,h.fontVariant,h.fontWeight,h.fontSize,h.fontFamily].join(' ');t.forEach(function(l){k.ctx.fillStyle=f.toString();if(j&&l.text.trim().length){j.slice(0).reverse().forEach(function(o){k.ctx.shadowColor=o.color.toString();k.ctx.shadowOffsetX=o.offsetX*k.options.scale;k.ctx.shadowOffsetY=o.offsetY*k.options.scale;k.ctx.shadowBlur=o.blur;k.ctx.fillText(l.text,l.bounds.left,l.bounds.top+l.bounds.height);});}else{k.ctx.fillText(l.text,l.bounds.left,l.bounds.top+l.bounds.height);}if(i!==null){var n=i.textDecorationColor||f;i.textDecorationLine.forEach(function(o){switch(o){case c.TEXT_DECORATION_LINE.UNDERLINE:var p=k.options.fontMetrics.getMetrics(h),q=p.baseline;k.rectangle(l.bounds.left,Math.round(l.bounds.top+q),l.bounds.width,1,n);break;case c.TEXT_DECORATION_LINE.OVERLINE:k.rectangle(l.bounds.left,Math.round(l.bounds.top),l.bounds.width,1,n);break;case c.TEXT_DECORATION_LINE.LINE_THROUGH:var r=k.options.fontMetrics.getMetrics(h),s=r.middle;k.rectangle(l.bounds.left,Math.ceil(l.bounds.top+s),l.bounds.width,1,n);break;}});}});}},{key:'resizeImage',value:function resizeImage(i,s){if(i.width===s.width&&i.height===s.height){return i;}var f=this.canvas.ownerDocument.createElement('canvas');f.width=s.width;f.height=s.height;var h=f.getContext('2d');h.drawImage(i,0,0,i.width,i.height,0,0,s.width,s.height);return f;}},{key:'setOpacity',value:function setOpacity(o){this.ctx.globalAlpha=o;}},{key:'transform',value:function transform(o,f,h,i){this.ctx.save();this.ctx.translate(o,f);this.ctx.transform(h[0],h[1],h[2],h[3],h[4],h[5]);this.ctx.translate(-o,-f);i();this.ctx.restore();}}]);return C;}();e.default=C;}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=function(){function d(t,p){for(var i=0;i<p.length;i++){var c=p[i];c.enumerable=c.enumerable||false;c.configurable=true;if("value"in c)c.writable=true;Object.defineProperty(t,c.key,c);}}return function(C,p,s){if(p)d(C.prototype,p);if(s)d(C,s);return C;};}();function b(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var L=function(){function L(c,i,s){b(this,L);this.enabled=typeof window!=='undefined'&&c;this.start=s?s:Date.now();this.id=i;}a(L,[{key:'child',value:function child(i){return new L(this.enabled,i,this.start);}},{key:'log',value:function log(){if(this.enabled&&window.console&&window.console.log){for(var c=arguments.length,d=Array(c),f=0;f<c;f++){d[f]=arguments[f];}Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+'ms',this.id?'html2canvas ('+this.id+'):':'html2canvas:'].concat([].slice.call(d,0)));}}},{key:'error',value:function error(){if(this.enabled&&window.console&&window.console.error){for(var c=arguments.length,d=Array(c),f=0;f<c;f++){d[f]=arguments[f];}Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+'ms',this.id?'html2canvas ('+this.id+'):':'html2canvas:'].concat([].slice.call(d,0)));}}}]);return L;}();e.default=L;}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parsePadding=e.PADDING_SIDES=undefined;var a=_(1);var b=c(a);function c(o){return o&&o.__esModule?o:{default:o};}var P=e.PADDING_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3};var S=['top','right','bottom','left'];var p=e.parsePadding=function p(s){return S.map(function(d){return new b.default(s.getPropertyValue('padding-'+d));});};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var O=e.OVERFLOW_WRAP={NORMAL:0,BREAK_WORD:1};var p=e.parseOverflowWrap=function p(o){switch(o){case'break-word':return O.BREAK_WORD;case'normal':default:return O.NORMAL;}};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var P=e.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};var p=e.parsePosition=function p(a){switch(a){case'relative':return P.RELATIVE;case'absolute':return P.ABSOLUTE;case'fixed':return P.FIXED;case'sticky':return P.STICKY;}return P.STATIC;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var T=e.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};var p=e.parseTextTransform=function p(t){switch(t){case'uppercase':return T.UPPERCASE;case'lowercase':return T.LOWERCASE;case'capitalize':return T.CAPITALIZE;}return T.NONE;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.reformatInputBounds=e.inlineSelectElement=e.inlineTextAreaElement=e.inlineInputElement=e.getInputBorderRadius=e.INPUT_BACKGROUND=e.INPUT_BORDERS=e.INPUT_COLOR=undefined;var a=_(9);var b=r(a);var c=_(4);var d=_(12);var f=_(50);var g=r(f);var h=_(7);var i=r(h);var j=_(0);var k=r(j);var l=_(1);var n=r(l);var o=_(2);var p=_(22);var q=_(3);function r(K){return K&&K.__esModule?K:{default:K};}var I=e.INPUT_COLOR=new k.default([42,42,42]);var s=new k.default([165,165,165]);var t=new k.default([222,222,222]);var u={borderWidth:1,borderColor:s,borderStyle:d.BORDER_STYLE.SOLID};var v=e.INPUT_BORDERS=[u,u,u,u];var w=e.INPUT_BACKGROUND={backgroundColor:t,backgroundImage:[],backgroundClip:c.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:c.BACKGROUND_ORIGIN.PADDING_BOX};var R=new n.default('50%');var x=[R,R];var y=[x,x,x,x];var C=new n.default('3px');var z=[C,C];var A=[z,z,z,z];var B=e.getInputBorderRadius=function B(K){return K.type==='radio'?y:A;};var D=e.inlineInputElement=function D(K,L){if(K.type==='radio'||K.type==='checkbox'){if(K.checked){var M=Math.min(L.bounds.width,L.bounds.height);L.childNodes.push(K.type==='checkbox'?[new i.default(L.bounds.left+M*0.39363,L.bounds.top+M*0.79),new i.default(L.bounds.left+M*0.16,L.bounds.top+M*0.5549),new i.default(L.bounds.left+M*0.27347,L.bounds.top+M*0.44071),new i.default(L.bounds.left+M*0.39694,L.bounds.top+M*0.5649),new i.default(L.bounds.left+M*0.72983,L.bounds.top+M*0.23),new i.default(L.bounds.left+M*0.84,L.bounds.top+M*0.34085),new i.default(L.bounds.left+M*0.39363,L.bounds.top+M*0.79)]:new g.default(L.bounds.left+M/4,L.bounds.top+M/4,M/4));}}else{H(J(K),K,L,false);}};var E=e.inlineTextAreaElement=function E(K,L){H(K.value,K,L,true);};var F=e.inlineSelectElement=function F(K,L){var M=K.options[K.selectedIndex||0];H(M?M.text||'':'',K,L,false);};var G=e.reformatInputBounds=function G(K){if(K.width>K.height){K.left+=(K.width-K.height)/2;K.width=K.height;}else if(K.width<K.height){K.top+=(K.height-K.width)/2;K.height=K.width;}return K;};var H=function H(K,L,M,N){var O=L.ownerDocument.body;if(K.length>0&&O){var P=L.ownerDocument.createElement('html2canvaswrapper');(0,q.copyCSSStyles)(L.ownerDocument.defaultView.getComputedStyle(L,null),P,true);P.style.position='absolute';P.style.left=M.bounds.left+'px';P.style.top=M.bounds.top+'px';if(!N){P.style.whiteSpace='nowrap';}var Q=L.ownerDocument.createTextNode(K);P.appendChild(Q);O.appendChild(P);M.childNodes.push(b.default.fromTextNode(Q,M));O.removeChild(P);}};var J=function J(K){var L=K.type==='password'?new Array(K.value.length+1).join('\u2022'):K.value;return L.length===0?K.placeholder||'':L;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseTextBounds=e.TextBounds=undefined;var a=_(2);var b=_(11);var c=_(10);var d=g(c);var f=_(24);function g(o){return o&&o.__esModule?o:{default:o};}function h(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var T=e.TextBounds=function T(t,i){h(this,T);this.text=t;this.bounds=i;};var p=e.parseTextBounds=function p(v,l,n){var o=l.style.letterSpacing!==0;var t=o?(0,f.toCodePoints)(v).map(function(i){return(0,f.fromCodePoint)(i);}):(0,f.breakWords)(v,l);var q=t.length;var r=n.parentNode?n.parentNode.ownerDocument.defaultView:null;var s=r?r.pageXOffset:0;var u=r?r.pageYOffset:0;var w=[];var x=0;for(var i=0;i<q;i++){var y=t[i];if(l.style.textDecoration!==b.TEXT_DECORATION.NONE||y.trim().length>0){if(d.default.SUPPORT_RANGE_BOUNDS){w.push(new T(y,k(n,x,y.length,s,u)));}else{var z=n.splitText(y.length);w.push(new T(y,j(n,s,u)));n=z;}}else if(!d.default.SUPPORT_RANGE_BOUNDS){n=n.splitText(y.length);}x+=y.length;}return w;};var j=function j(n,s,i){var w=n.ownerDocument.createElement('html2canvaswrapper');w.appendChild(n.cloneNode(true));var l=n.parentNode;if(l){l.replaceChild(w,n);var o=(0,a.parseBounds)(w,s,i);if(w.firstChild){l.replaceChild(w.firstChild,w);}return o;}return new a.Bounds(0,0,0,0);};var k=function k(n,o,l,s,i){var r=n.ownerDocument.createRange();r.setStart(n,o);r.setEnd(n,o+l);return a.Bounds.fromClientRect(r.getBoundingClientRect(),s,i);};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=function(){function d(t,p){for(var i=0;i<p.length;i++){var f=p[i];f.enumerable=f.enumerable||false;f.configurable=true;if("value"in f)f.writable=true;Object.defineProperty(t,f.key,f);}}return function(C,p,s){if(p)d(C.prototype,p);if(s)d(C,s);return C;};}();function b(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var F=function(){function F(d){b(this,F);this.element=d;}a(F,[{key:'render',value:function render(o){var d=this;this.options=o;this.canvas=document.createElement('canvas');this.ctx=this.canvas.getContext('2d');this.canvas.width=Math.floor(o.width)*o.scale;this.canvas.height=Math.floor(o.height)*o.scale;this.canvas.style.width=o.width+'px';this.canvas.style.height=o.height+'px';o.logger.log('ForeignObject renderer initialized ('+o.width+'x'+o.height+' at '+o.x+','+o.y+') with scale '+o.scale);var s=c(Math.max(o.windowWidth,o.width)*o.scale,Math.max(o.windowHeight,o.height)*o.scale,o.scrollX*o.scale,o.scrollY*o.scale,this.element);return l(s).then(function(i){if(o.backgroundColor){d.ctx.fillStyle=o.backgroundColor.toString();d.ctx.fillRect(0,0,o.width*o.scale,o.height*o.scale);}d.ctx.drawImage(i,-o.x*o.scale,-o.y*o.scale);return d.canvas;});}}]);return F;}();e.default=F;var c=e.createForeignObjectSVG=function c(w,h,x,y,n){var d='http://www.w3.org/2000/svg';var s=document.createElementNS(d,'svg');var f=document.createElementNS(d,'foreignObject');s.setAttributeNS(null,'width',w);s.setAttributeNS(null,'height',h);f.setAttributeNS(null,'width','100%');f.setAttributeNS(null,'height','100%');f.setAttributeNS(null,'x',x);f.setAttributeNS(null,'y',y);f.setAttributeNS(null,'externalResourcesRequired','true');s.appendChild(f);f.appendChild(n);return s;};var l=e.loadSerializedSVG=function l(s){return new Promise(function(r,d){var i=new Image();i.onload=function(){return r(i);};i.onerror=d;i.src='data:image/svg+xml;charset=utf-8,'+encodeURIComponent(new XMLSerializer().serializeToString(s));});};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.breakWords=e.fromCodePoint=e.toCodePoints=undefined;var a=_(46);Object.defineProperty(e,'toCodePoints',{enumerable:true,get:function get(){return a.toCodePoints;}});Object.defineProperty(e,'fromCodePoint',{enumerable:true,get:function get(){return a.fromCodePoint;}});var b=_(18);var c=e.breakWords=function c(s,p){var d=(0,a.LineBreaker)(s,{lineBreak:p.style.lineBreak,wordBreak:p.style.overflowWrap===b.OVERFLOW_WRAP.BREAK_WORD?'break-word':p.style.wordBreak});var w=[];var f=void 0;while(!(f=d.next()).done){w.push(f.value.slice());}return w;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.FontMetrics=undefined;var a=function(){function d(t,p){for(var i=0;i<p.length;i++){var f=p[i];f.enumerable=f.enumerable||false;f.configurable=true;if("value"in f)f.writable=true;Object.defineProperty(t,f.key,f);}}return function(C,p,s){if(p)d(C.prototype,p);if(s)d(C,s);return C;};}();var b=_(3);function c(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var S='Hidden Text';var F=e.FontMetrics=function(){function F(d){c(this,F);this._data={};this._document=d;}a(F,[{key:'_parseMetrics',value:function _parseMetrics(f){var d=this._document.createElement('div');var i=this._document.createElement('img');var s=this._document.createElement('span');var g=this._document.body;if(!g){throw new Error(true?'No document found for font metrics':'');}d.style.visibility='hidden';d.style.fontFamily=f.fontFamily;d.style.fontSize=f.fontSize;d.style.margin='0';d.style.padding='0';g.appendChild(d);i.src=b.SMALL_IMAGE;i.width=1;i.height=1;i.style.margin='0';i.style.padding='0';i.style.verticalAlign='baseline';s.style.fontFamily=f.fontFamily;s.style.fontSize=f.fontSize;s.style.margin='0';s.style.padding='0';s.appendChild(this._document.createTextNode(S));d.appendChild(s);d.appendChild(i);var h=i.offsetTop-s.offsetTop+2;d.removeChild(s);d.appendChild(this._document.createTextNode(S));d.style.lineHeight='normal';i.style.verticalAlign='super';var j=i.offsetTop-d.offsetTop+2;g.removeChild(d);return{baseline:h,middle:j};}},{key:'getMetrics',value:function getMetrics(f){var k=f.fontFamily+' '+f.fontSize;if(this._data[k]===undefined){this._data[k]=this._parseMetrics(f);}return this._data[k];}}]);return F;}();}),(function(m,a,_){"use strict";Object.defineProperty(a,"__esModule",{value:true});a.Proxy=undefined;var b=_(10);var c=d(b);function d(o){return o&&o.__esModule?o:{default:o};}var P=a.Proxy=function P(s,o){if(!o.proxy){return Promise.reject(true?'No proxy defined':null);}var p=o.proxy;return new Promise(function(r,f){var g=c.default.SUPPORT_CORS_XHR&&c.default.SUPPORT_RESPONSE_TYPE?'blob':'text';var x=c.default.SUPPORT_CORS_XHR?new XMLHttpRequest():new XDomainRequest();x.onload=function(){if(x instanceof XMLHttpRequest){if(x.status===200){if(g==='text'){r(x.response);}else{var h=new FileReader();h.addEventListener('load',function(){return r(h.result);},false);h.addEventListener('error',function(e){return f(e);},false);h.readAsDataURL(x.response);}}else{f(true?'Failed to proxy resource '+s.substring(0,256)+' with status code '+x.status:'');}}else{r(x.responseText);}};x.onerror=f;x.open('GET',p+'?url='+encodeURIComponent(s)+'&responseType='+g);if(g!=='text'&&x instanceof XMLHttpRequest){x.responseType=g;}if(o.imageTimeout){var t=o.imageTimeout;x.timeout=t;x.ontimeout=function(){return f(true?'Timed out ('+t+'ms) proxying '+s.substring(0,256):'');};}x.send();});};}),(function(m,a,_){"use strict";var b=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var e in s){if(Object.prototype.hasOwnProperty.call(s,e)){t[e]=s[e];}}}return t;};var c=_(15);var d=j(c);var f=_(16);var g=j(f);var h=_(28);function j(o){return o&&o.__esModule?o:{default:o};}var k=function k(i,l){var n=l||{};var o=new g.default(typeof n.logging==='boolean'?n.logging:true);o.log('html2canvas '+"1.0.0-alpha.12");if(true&&typeof n.onrendered==='function'){o.error('onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value');}var p=i.ownerDocument;if(!p){return Promise.reject('Provided element is not within a Document');}var q=p.defaultView;var r={async:true,allowTaint:false,backgroundColor:'#ffffff',imageTimeout:15000,logging:true,proxy:null,removeContainer:true,foreignObjectRendering:false,scale:q.devicePixelRatio||1,target:new d.default(n.canvas),useCORS:false,windowWidth:q.innerWidth,windowHeight:q.innerHeight,scrollX:q.pageXOffset,scrollY:q.pageYOffset};var s=(0,h.renderElement)(i,b({},r,n),o);if(true){return s.catch(function(e){o.error(e);throw e;});}return s;};k.CanvasRenderer=d.default;m.exports=k;}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.renderElement=undefined;var a=function(){function u(v,i){var w=[];var x=true;var y=false;var z=undefined;try{for(var A=v[Symbol.iterator](),B;!(x=(B=A.next()).done);x=true){w.push(B.value);if(i&&w.length===i)break;}}catch(C){y=true;z=C;}finally{try{if(!x&&A["return"])A["return"]();}finally{if(y)throw z;}}return w;}return function(v,i){if(Array.isArray(v)){return v;}else if(Symbol.iterator in Object(v)){return u(v,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var b=_(16);var c=s(b);var d=_(29);var f=_(51);var g=s(f);var h=_(23);var j=s(h);var k=_(10);var l=s(k);var n=_(2);var o=_(54);var p=_(25);var q=_(0);var r=s(q);function s(i){return i&&i.__esModule?i:{default:i};}var t=e.renderElement=function t(i,u,v){var w=i.ownerDocument;var x=new n.Bounds(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight);var y=w.documentElement?new r.default(getComputedStyle(w.documentElement).backgroundColor):q.TRANSPARENT;var z=w.body?new r.default(getComputedStyle(w.body).backgroundColor):q.TRANSPARENT;var A=i===w.documentElement?y.isTransparent()?z.isTransparent()?u.backgroundColor?new r.default(u.backgroundColor):null:z:y:u.backgroundColor?new r.default(u.backgroundColor):null;return(u.foreignObjectRendering?l.default.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(false)).then(function(B){return B?function(C){if(true){v.log('Document cloned, using foreignObject rendering');}return C.inlineFonts(w).then(function(){return C.resourceLoader.ready();}).then(function(){var D=new j.default(C.documentElement);var E=w.defaultView;var F=E.pageXOffset;var G=E.pageYOffset;var H=i.tagName==='HTML'||i.tagName==='BODY';var I=H?(0,n.parseDocumentSize)(w):(0,n.parseBounds)(i,F,G),J=I.width,K=I.height,L=I.left,M=I.top;return D.render({backgroundColor:A,logger:v,scale:u.scale,x:typeof u.x==='number'?u.x:L,y:typeof u.y==='number'?u.y:M,width:typeof u.width==='number'?u.width:Math.ceil(J),height:typeof u.height==='number'?u.height:Math.ceil(K),windowWidth:u.windowWidth,windowHeight:u.windowHeight,scrollX:u.scrollX,scrollY:u.scrollY});});}(new o.DocumentCloner(i,u,v,true,t)):(0,o.cloneWindow)(w,x,i,u,v,t).then(function(C){var D=a(C,3),E=D[0],F=D[1],G=D[2];if(true){v.log('Document cloned, using computed rendering');}var H=(0,d.NodeParser)(F,G,v);var I=F.ownerDocument;if(A===H.container.style.background.backgroundColor){H.container.style.background.backgroundColor=q.TRANSPARENT;}return G.ready().then(function(J){var K=new p.FontMetrics(I);if(true){v.log('Starting renderer');}var L=I.defaultView;var M=L.pageXOffset;var N=L.pageYOffset;var O=F.tagName==='HTML'||F.tagName==='BODY';var P=O?(0,n.parseDocumentSize)(w):(0,n.parseBounds)(F,M,N),Q=P.width,R=P.height,S=P.left,T=P.top;var U={backgroundColor:A,fontMetrics:K,imageStore:J,logger:v,scale:u.scale,x:typeof u.x==='number'?u.x:S,y:typeof u.y==='number'?u.y:T,width:typeof u.width==='number'?u.width:Math.ceil(Q),height:typeof u.height==='number'?u.height:Math.ceil(R)};if(Array.isArray(u.target)){return Promise.all(u.target.map(function(X){var V=new g.default(X,U);return V.render(H);}));}else{var V=new g.default(u.target,U);var W=V.render(H);if(u.removeContainer===true){if(E.parentNode){E.parentNode.removeChild(E);}else if(true){v.log('Cannot detach cloned iframe as it is not in the DOM anymore');}}return W;}});});});};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.NodeParser=undefined;var a=_(30);var b=k(a);var c=_(6);var d=k(c);var f=_(9);var g=k(f);var h=_(21);var i=_(14);var j=_(8);function k(q){return q&&q.__esModule?q:{default:q};}var N=e.NodeParser=function N(q,r,s){if(true){s.log('Starting node parsing');}var t=0;var u=new d.default(q,null,r,t++);var v=new b.default(u,null,true);p(q,u,v,r,t);if(true){s.log('Finished parsing node tree');}return v;};var I=['SCRIPT','HEAD','TITLE','OBJECT','BR','OPTION'];var p=function p(q,r,s,t,u){if(true&&u>50000){throw new Error('Recursion error while parsing node tree');}for(var v=q.firstChild,w;v;v=w){w=v.nextSibling;var x=v.ownerDocument.defaultView;if(v instanceof x.Text||v instanceof Text||x.parent&&v instanceof x.parent.Text){if(v.data.trim().length>0){r.childNodes.push(g.default.fromTextNode(v,r));}}else if(v instanceof x.HTMLElement||v instanceof HTMLElement||x.parent&&v instanceof x.parent.HTMLElement){if(I.indexOf(v.nodeName)===-1){var y=new d.default(v,r,t,u++);if(y.isVisible()){if(v.tagName==='INPUT'){(0,h.inlineInputElement)(v,y);}else if(v.tagName==='TEXTAREA'){(0,h.inlineTextAreaElement)(v,y);}else if(v.tagName==='SELECT'){(0,h.inlineSelectElement)(v,y);}else if(y.style.listStyle&&y.style.listStyle.listStyleType!==j.LIST_STYLE_TYPE.NONE){(0,i.inlineListItemElement)(v,y,t);}var S=v.tagName!=='TEXTAREA';var z=l(y,v);if(z||n(y)){var A=z||y.isPositioned()?s.getRealParentStackingContext():s;var B=new b.default(y,A,z);A.contexts.push(B);if(S){p(v,y,B,t,u);}}else{s.children.push(y);if(S){p(v,y,s,t,u);}}}}}else if(v instanceof x.SVGSVGElement||v instanceof SVGSVGElement||x.parent&&v instanceof x.parent.SVGSVGElement){var C=new d.default(v,r,t,u++);var D=l(C,v);if(D||n(C)){var E=D||C.isPositioned()?s.getRealParentStackingContext():s;var F=new b.default(C,E,D);E.contexts.push(F);}else{s.children.push(C);}}}};var l=function l(q,r){return q.isRootElement()||q.isPositionedWithZIndex()||q.style.opacity<1||q.isTransformed()||o(q,r);};var n=function n(q){return q.isPositioned()||q.isFloating();};var o=function o(q,r){return r.nodeName==='BODY'&&q.parent instanceof d.default&&q.parent.style.background.backgroundColor.isTransparent();};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=function(){function h(t,p){for(var i=0;i<p.length;i++){var j=p[i];j.enumerable=j.enumerable||false;j.configurable=true;if("value"in j)j.writable=true;Object.defineProperty(t,j.key,j);}}return function(C,p,s){if(p)h(C.prototype,p);if(s)h(C,s);return C;};}();var b=_(6);var c=f(b);var d=_(19);function f(o){return o&&o.__esModule?o:{default:o};}function g(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var S=function(){function S(h,p,t){g(this,S);this.container=h;this.parent=p;this.contexts=[];this.children=[];this.treatAsRealStackingContext=t;}a(S,[{key:'getOpacity',value:function getOpacity(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity;}},{key:'getRealParentStackingContext',value:function getRealParentStackingContext(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext();}}]);return S;}();e.default=S;}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});function a(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var S=function S(w,h){a(this,S);this.width=w;this.height=h;};e.default=S;}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var c=function(){function a(t,p){for(var i=0;i<p.length;i++){var b=p[i];b.enumerable=b.enumerable||false;b.configurable=true;if("value"in b)b.writable=true;Object.defineProperty(t,b.key,b);}}return function(C,p,s){if(p)a(C.prototype,p);if(s)a(C,s);return C;};}();var d=_(5);var f=_(7);var g=h(f);function h(o){return o&&o.__esModule?o:{default:o};}function j(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var l=function l(a,b,t){return new g.default(a.x+(b.x-a.x)*t,a.y+(b.y-a.y)*t);};var B=function(){function B(s,a,b,i){j(this,B);this.type=d.PATH.BEZIER_CURVE;this.start=s;this.startControl=a;this.endControl=b;this.end=i;}c(B,[{key:'subdivide',value:function subdivide(t,a){var b=l(this.start,this.startControl,t);var i=l(this.startControl,this.endControl,t);var k=l(this.endControl,this.end,t);var n=l(b,i,t);var o=l(i,k,t);var p=l(n,o,t);return a?new B(this.start,b,n,p):new B(p,o,k,this.end);}},{key:'reverse',value:function reverse(){return new B(this.end,this.endControl,this.startControl,this.start);}}]);return B;}();e.default=B;}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseBorderRadius=undefined;var a=function(){function s(f,i){var g=[];var h=true;var j=false;var k=undefined;try{for(var l=f[Symbol.iterator](),n;!(h=(n=l.next()).done);h=true){g.push(n.value);if(i&&g.length===i)break;}}catch(o){j=true;k=o;}finally{try{if(!h&&l["return"])l["return"]();}finally{if(j)throw k;}}return g;}return function(f,i){if(Array.isArray(f)){return f;}else if(Symbol.iterator in Object(f)){return s(f,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var b=_(1);var c=d(b);function d(o){return o&&o.__esModule?o:{default:o};}var S=['top-left','top-right','bottom-right','bottom-left'];var p=e.parseBorderRadius=function p(s){return S.map(function(f){var v=s.getPropertyValue('border-'+f+'-radius');var g=v.split(' ').map(c.default.create),h=a(g,2),i=h[0],j=h[1];return typeof j==='undefined'?[i,i]:[i,j];});};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var D=e.DISPLAY={NONE:1<<0,BLOCK:1<<1,INLINE:1<<2,RUN_IN:1<<3,FLOW:1<<4,FLOW_ROOT:1<<5,TABLE:1<<6,FLEX:1<<7,GRID:1<<8,RUBY:1<<9,SUBGRID:1<<10,LIST_ITEM:1<<11,TABLE_ROW_GROUP:1<<12,TABLE_HEADER_GROUP:1<<13,TABLE_FOOTER_GROUP:1<<14,TABLE_ROW:1<<15,TABLE_CELL:1<<16,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29};var p=function p(d){switch(d){case'block':return D.BLOCK;case'inline':return D.INLINE;case'run-in':return D.RUN_IN;case'flow':return D.FLOW;case'flow-root':return D.FLOW_ROOT;case'table':return D.TABLE;case'flex':return D.FLEX;case'grid':return D.GRID;case'ruby':return D.RUBY;case'subgrid':return D.SUBGRID;case'list-item':return D.LIST_ITEM;case'table-row-group':return D.TABLE_ROW_GROUP;case'table-header-group':return D.TABLE_HEADER_GROUP;case'table-footer-group':return D.TABLE_FOOTER_GROUP;case'table-row':return D.TABLE_ROW;case'table-cell':return D.TABLE_CELL;case'table-column-group':return D.TABLE_COLUMN_GROUP;case'table-column':return D.TABLE_COLUMN;case'table-caption':return D.TABLE_CAPTION;case'ruby-base':return D.RUBY_BASE;case'ruby-text':return D.RUBY_TEXT;case'ruby-base-container':return D.RUBY_BASE_CONTAINER;case'ruby-text-container':return D.RUBY_TEXT_CONTAINER;case'contents':return D.CONTENTS;case'inline-block':return D.INLINE_BLOCK;case'inline-list-item':return D.INLINE_LIST_ITEM;case'inline-table':return D.INLINE_TABLE;case'inline-flex':return D.INLINE_FLEX;case'inline-grid':return D.INLINE_GRID;}return D.NONE;};var s=function s(b,d){return b|p(d);};var a=e.parseDisplay=function a(d){return d.split(' ').reduce(s,0);};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var F=e.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};var p=e.parseCSSFloat=function p(f){switch(f){case'left':return F.LEFT;case'right':return F.RIGHT;case'inline-start':return F.INLINE_START;case'inline-end':return F.INLINE_END;}return F.NONE;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var p=function p(w){switch(w){case'normal':return 400;case'bold':return 700;}var v=parseInt(w,10);return isNaN(v)?400:v;};var a=e.parseFont=function a(s){var f=s.fontFamily;var b=s.fontSize;var c=s.fontStyle;var d=s.fontVariant;var g=p(s.fontWeight);return{fontFamily:f,fontSize:b,fontStyle:c,fontVariant:d,fontWeight:g};};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var p=e.parseLetterSpacing=function p(l){if(l==='normal'){return 0;}var v=parseFloat(l);return isNaN(v)?0:v;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var L=e.LINE_BREAK={NORMAL:'normal',STRICT:'strict'};var p=e.parseLineBreak=function p(w){switch(w){case'strict':return L.STRICT;case'normal':default:return L.NORMAL;}};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseMargin=undefined;var a=_(1);var b=c(a);function c(o){return o&&o.__esModule?o:{default:o};}var S=['top','right','bottom','left'];var p=e.parseMargin=function p(s){return S.map(function(d){return new b.default(s.getPropertyValue('margin-'+d));});};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var O=e.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};var p=e.parseOverflow=function p(o){switch(o){case'hidden':return O.HIDDEN;case'scroll':return O.SCROLL;case'auto':return O.AUTO;case'visible':default:return O.VISIBLE;}};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseTextShadow=undefined;var a=_(0);var b=d(a);function d(o){return o&&o.__esModule?o:{default:o};}var N=/^([+-]|\d|\.)$/i;var p=e.parseTextShadow=function p(t){if(t==='none'||typeof t!=='string'){return null;}var f='';var g=false;var v=[];var s=[];var n=0;var h=null;var j=function j(){if(f.length){if(g){v.push(parseFloat(f));}else{h=new b.default(f);}}g=false;f='';};var k=function k(){if(v.length&&h!==null){s.push({color:h,offsetX:v[0]||0,offsetY:v[1]||0,blur:v[2]||0});}v.splice(0,v.length);h=null;};for(var i=0;i<t.length;i++){var c=t[i];switch(c){case'(':f+=c;n++;break;case')':f+=c;n--;break;case',':if(n===0){j();k();}else{f+=c;}break;case' ':if(n===0){j();}else{f+=c;}break;default:if(f.length===0&&N.test(c)){g=true;}f+=c;}}j();k();if(s.length===0){return null;}return s;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseTransform=undefined;var a=_(1);var b=c(a);function c(o){return o&&o.__esModule?o:{default:o};}var t=function t(s){return parseFloat(s.trim());};var M=/(matrix|matrix3d)\((.+)\)/;var p=e.parseTransform=function p(s){var g=f(s.transform||s.webkitTransform||s.mozTransform||s.msTransform||s.oTransform);if(g===null){return null;}return{transform:g,transformOrigin:d(s.transformOrigin||s.webkitTransformOrigin||s.mozTransformOrigin||s.msTransformOrigin||s.oTransformOrigin)};};var d=function d(o){if(typeof o!=='string'){var v=new b.default('0');return[v,v];}var g=o.split(' ').map(b.default.create);return[g[0],g[1]];};var f=function f(g){if(g==='none'||typeof g!=='string'){return null;}var h=g.match(M);if(h){if(h[1]==='matrix'){var i=h[2].split(',').map(t);return[i[0],i[1],i[2],i[3],i[4],i[5]];}else{var j=h[2].split(',').map(t);return[j[0],j[1],j[4],j[5],j[12],j[13]];}}return null;};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var V=e.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};var p=e.parseVisibility=function p(v){switch(v){case'hidden':return V.HIDDEN;case'collapse':return V.COLLAPSE;case'visible':default:return V.VISIBLE;}};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var W=e.WORD_BREAK={NORMAL:'normal',BREAK_ALL:'break-all',KEEP_ALL:'keep-all'};var p=e.parseWordBreak=function p(w){switch(w){case'break-all':return W.BREAK_ALL;case'keep-all':return W.KEEP_ALL;case'normal':default:return W.NORMAL;}};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var p=e.parseZIndex=function p(z){var a=z==='auto';return{auto:a,order:a?0:parseInt(z,10)};};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=_(13);Object.defineProperty(e,'toCodePoints',{enumerable:true,get:function get(){return a.toCodePoints;}});Object.defineProperty(e,'fromCodePoint',{enumerable:true,get:function get(){return a.fromCodePoint;}});var b=_(47);Object.defineProperty(e,'LineBreaker',{enumerable:true,get:function get(){return b.LineBreaker;}});}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LineBreaker=e.inlineBreakOpportunities=e.lineBreakAtIndex=e.codePointsToCharacterClasses=e.UnicodeTrie=e.BREAK_ALLOWED=e.BREAK_NOT_ALLOWED=e.BREAK_MANDATORY=e.classes=e.LETTER_NUMBER_MODIFIER=undefined;var c=function(){function a(b,n){for(var i=0;i<n.length;i++){var a1=n[i];a1.enumerable=a1.enumerable||false;a1.configurable=true;if("value"in a1)a1.writable=true;Object.defineProperty(b,a1.key,a1);}}return function(b,i,n){if(i)a(b.prototype,i);if(n)a(b,n);return b;};}();var d=function(){function a(b,i){var n=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=b[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){n.push(_s.value);if(i&&n.length===i)break;}}catch(f1){_d=true;_e=f1;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return n;}return function(b,i){if(Array.isArray(b)){return b;}else if(Symbol.iterator in Object(b)){return a(b,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var f=_(48);var g=_(49);var h=k(g);var j=_(13);function k(a){return a&&a.__esModule?a:{default:a};}function l(a){if(Array.isArray(a)){for(var i=0,b=Array(a.length);i<a.length;i++){b[i]=a[i];}return b;}else{return Array.from(a);}}function o(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function");}}var L=e.LETTER_NUMBER_MODIFIER=50;var B=1;var C=2;var p=3;var q=4;var N=5;var S=6;var W=7;var Z=8;var G=9;var r=10;var s=11;var t=12;var u=13;var v=14;var H=15;var w=16;var x=17;var y=18;var E=19;var I=20;var z=21;var O=22;var Q=23;var A=24;var D=25;var P=26;var F=27;var J=28;var K=29;var M=30;var R=31;var T=32;var U=33;var V=34;var X=35;var Y=36;var $=37;var JL=38;var JV=39;var JT=40;var RI=41;var SA=42;var XX=43;var g1=e.classes={BK:B,CR:C,LF:p,CM:q,NL:N,SG:S,WJ:W,ZW:Z,GL:G,SP:r,ZWJ:s,B2:t,BA:u,BB:v,HY:H,CB:w,CL:x,CP:y,EX:E,IN:I,NS:z,OP:O,QU:Q,IS:A,NU:D,PO:P,PR:F,SY:J,AI:K,AL:M,CJ:R,EB:T,EM:U,H2:V,H3:X,HL:Y,ID:$,JL:JL,JV:JV,JT:JT,RI:RI,SA:SA,XX:XX};var h1=e.BREAK_MANDATORY='!';var i1=e.BREAK_NOT_ALLOWED='×';var j1=e.BREAK_ALLOWED='÷';var k1=e.UnicodeTrie=(0,f.createTrieFromBase64)(h.default);var l1=[M,Y];var m1=[B,C,p,N];var n1=[r,Z];var o1=[F,P];var p1=m1.concat(n1);var q1=[JL,JV,JT,V,X];var r1=[H,u];var s1=e.codePointsToCharacterClasses=function s1(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'strict';var i=[];var n=[];var a1=[];a.forEach(function(b1,c1){var d1=k1.get(b1);if(d1>L){a1.push(true);d1-=L;}else{a1.push(false);}if(['normal','auto','loose'].indexOf(b)!==-1){if([0x2010,0x2013,0x301c,0x30a0].indexOf(b1)!==-1){n.push(c1);return i.push(w);}}if(d1===q||d1===s){if(c1===0){n.push(c1);return i.push(M);}var e1=i[c1-1];if(p1.indexOf(e1)===-1){n.push(n[c1-1]);return i.push(e1);}n.push(c1);return i.push(M);}n.push(c1);if(d1===R){return i.push(b==='strict'?z:$);}if(d1===SA){return i.push(M);}if(d1===K){return i.push(M);}if(d1===XX){if(b1>=0x20000&&b1<=0x2fffd||b1>=0x30000&&b1<=0x3fffd){return i.push($);}else{return i.push(M);}}i.push(d1);});return[n,i,a1];};var t1=function t1(a,b,a1,b1){var c1=b1[a1];if(Array.isArray(a)?a.indexOf(c1)!==-1:a===c1){var i=a1;while(i<=b1.length){i++;var d1=b1[i];if(d1===b){return true;}if(d1!==r){break;}}}if(c1===r){var _i=a1;while(_i>0){_i--;var f1=b1[_i];if(Array.isArray(a)?a.indexOf(f1)!==-1:a===f1){var n=a1;while(n<=b1.length){n++;var B1=b1[n];if(B1===b){return true;}if(B1!==r){break;}}}if(f1!==r){break;}}}return false;};var u1=function u1(a,b){var i=a;while(i>=0){var n=b[i];if(n===r){i--;}else{return n;}}return 0;};var v1=function v1(a,b,n,a1,b1){if(n[a1]===0){return i1;}var c1=a1-1;if(Array.isArray(b1)&&b1[c1]===true){return i1;}var d1=c1-1;var e1=c1+1;var f1=b[c1];var B1=d1>=0?b[d1]:0;var C1=b[e1];if(f1===C&&C1===p){return i1;}if(m1.indexOf(f1)!==-1){return h1;}if(m1.indexOf(C1)!==-1){return i1;}if(n1.indexOf(C1)!==-1){return i1;}if(u1(c1,b)===Z){return j1;}if(k1.get(a[c1])===s&&(C1===$||C1===T||C1===U)){return i1;}if(f1===W||C1===W){return i1;}if(f1===G){return i1;}if([r,u,H].indexOf(f1)===-1&&C1===G){return i1;}if([x,y,E,A,J].indexOf(C1)!==-1){return i1;}if(u1(c1,b)===O){return i1;}if(t1(Q,O,c1,b)){return i1;}if(t1([x,y],z,c1,b)){return i1;}if(t1(t,t,c1,b)){return i1;}if(f1===r){return j1;}if(f1===Q||C1===Q){return i1;}if(C1===w||f1===w){return j1;}if([u,H,z].indexOf(C1)!==-1||f1===v){return i1;}if(B1===Y&&r1.indexOf(f1)!==-1){return i1;}if(f1===J&&C1===Y){return i1;}if(C1===I&&l1.concat(I,E,D,$,T,U).indexOf(f1)!==-1){return i1;}if(l1.indexOf(C1)!==-1&&f1===D||l1.indexOf(f1)!==-1&&C1===D){return i1;}if(f1===F&&[$,T,U].indexOf(C1)!==-1||[$,T,U].indexOf(f1)!==-1&&C1===P){return i1;}if(l1.indexOf(f1)!==-1&&o1.indexOf(C1)!==-1||o1.indexOf(f1)!==-1&&l1.indexOf(C1)!==-1){return i1;}if([F,P].indexOf(f1)!==-1&&(C1===D||[O,H].indexOf(C1)!==-1&&b[e1+1]===D)||[O,H].indexOf(f1)!==-1&&C1===D||f1===D&&[D,J,A].indexOf(C1)!==-1){return i1;}if([D,J,A,x,y].indexOf(C1)!==-1){var D1=c1;while(D1>=0){var E1=b[D1];if(E1===D){return i1;}else if([J,A].indexOf(E1)!==-1){D1--;}else{break;}}}if([F,P].indexOf(C1)!==-1){var F1=[x,y].indexOf(f1)!==-1?d1:c1;while(F1>=0){var G1=b[F1];if(G1===D){return i1;}else if([J,A].indexOf(G1)!==-1){F1--;}else{break;}}}if(JL===f1&&[JL,JV,V,X].indexOf(C1)!==-1||[JV,V].indexOf(f1)!==-1&&[JV,JT].indexOf(C1)!==-1||[JT,X].indexOf(f1)!==-1&&C1===JT){return i1;}if(q1.indexOf(f1)!==-1&&[I,P].indexOf(C1)!==-1||q1.indexOf(C1)!==-1&&f1===F){return i1;}if(l1.indexOf(f1)!==-1&&l1.indexOf(C1)!==-1){return i1;}if(f1===A&&l1.indexOf(C1)!==-1){return i1;}if(l1.concat(D).indexOf(f1)!==-1&&C1===O||l1.concat(D).indexOf(C1)!==-1&&f1===y){return i1;}if(f1===RI&&C1===RI){var i=n[c1];var H1=1;while(i>0){i--;if(b[i]===RI){H1++;}else{break;}}if(H1%2!==0){return i1;}}if(f1===T&&C1===U){return i1;}return j1;};var w1=e.lineBreakAtIndex=function w1(a,i){if(i===0){return i1;}if(i>=a.length){return h1;}var b=s1(a),n=d(b,2),a1=n[0],b1=n[1];return v1(a,b1,a1,i);};var x1=function x1(a,b){if(!b){b={lineBreak:'normal',wordBreak:'normal'};}var n=s1(a,b.lineBreak),a1=d(n,3),b1=a1[0],c1=a1[1],d1=a1[2];if(b.wordBreak==='break-all'||b.wordBreak==='break-word'){c1=c1.map(function(i){return[D,M,SA].indexOf(i)!==-1?$:i;});}var e1=b.wordBreak==='keep-all'?d1.map(function(d1,i){return d1&&a[i]>=0x4e00&&a[i]<=0x9fff;}):null;return[b1,c1,e1];};var y1=e.inlineBreakOpportunities=function y1(a,b){var n=(0,j.toCodePoints)(a);var a1=i1;var b1=x1(n,b),c1=d(b1,3),d1=c1[0],e1=c1[1],f1=c1[2];n.forEach(function(B1,i){a1+=(0,j.fromCodePoint)(B1)+(i>=n.length-1?h1:v1(n,e1,d1,i+1,f1));});return a1;};var z1=function(){function z1(a,b,i,n){o(this,z1);this._codePoints=a;this.required=b===h1;this.start=i;this.end=n;}c(z1,[{key:'slice',value:function slice(){return j.fromCodePoint.apply(undefined,l(this._codePoints.slice(this.start,this.end)));}}]);return z1;}();var A1=e.LineBreaker=function A1(a,b){var i=(0,j.toCodePoints)(a);var n=x1(i,b),a1=d(n,3),b1=a1[0],c1=a1[1],d1=a1[2];var e1=i.length;var f1=0;var B1=0;return{next:function next(){if(B1>=e1){return{done:true};}var C1=i1;while(B1<e1&&(C1=v1(i,c1,b1,++B1,d1))===i1){}if(C1!==i1||B1===e1){var D1=new z1(i,C1,f1,B1);f1=B1;return{value:D1,done:false};}return{done:true};}};};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Trie=e.createTrieFromBase64=e.UTRIE2_INDEX_2_MASK=e.UTRIE2_INDEX_2_BLOCK_LENGTH=e.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=e.UTRIE2_INDEX_1_OFFSET=e.UTRIE2_UTF8_2B_INDEX_2_LENGTH=e.UTRIE2_UTF8_2B_INDEX_2_OFFSET=e.UTRIE2_INDEX_2_BMP_LENGTH=e.UTRIE2_LSCP_INDEX_2_LENGTH=e.UTRIE2_DATA_MASK=e.UTRIE2_DATA_BLOCK_LENGTH=e.UTRIE2_LSCP_INDEX_2_OFFSET=e.UTRIE2_SHIFT_1_2=e.UTRIE2_INDEX_SHIFT=e.UTRIE2_SHIFT_1=e.UTRIE2_SHIFT_2=undefined;var a=function(){function v(w,x){for(var i=0;i<x.length;i++){var y=x[i];y.enumerable=y.enumerable||false;y.configurable=true;if("value"in y)y.writable=true;Object.defineProperty(w,y.key,y);}}return function(C,i,w){if(i)v(C.prototype,i);if(w)v(C,w);return C;};}();var b=_(13);function c(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var U=e.UTRIE2_SHIFT_2=5;var d=e.UTRIE2_SHIFT_1=6+5;var f=e.UTRIE2_INDEX_SHIFT=2;var g=e.UTRIE2_SHIFT_1_2=d-U;var h=e.UTRIE2_LSCP_INDEX_2_OFFSET=0x10000>>U;var j=e.UTRIE2_DATA_BLOCK_LENGTH=1<<U;var k=e.UTRIE2_DATA_MASK=j-1;var l=e.UTRIE2_LSCP_INDEX_2_LENGTH=0x400>>U;var n=e.UTRIE2_INDEX_2_BMP_LENGTH=h+l;var o=e.UTRIE2_UTF8_2B_INDEX_2_OFFSET=n;var p=e.UTRIE2_UTF8_2B_INDEX_2_LENGTH=0x800>>6;var q=e.UTRIE2_INDEX_1_OFFSET=o+p;var r=e.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=0x10000>>d;var s=e.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<g;var t=e.UTRIE2_INDEX_2_MASK=s-1;var u=e.createTrieFromBase64=function u(i){var v=(0,b.decode)(i);var w=Array.isArray(v)?(0,b.polyUint32Array)(v):new Uint32Array(v);var x=Array.isArray(v)?(0,b.polyUint16Array)(v):new Uint16Array(v);var y=24;var z=x.slice(y/2,w[4]/2);var A=w[5]===2?x.slice((y+w[4])/2):w.slice(Math.ceil((y+w[4])/4));return new T(w[0],w[1],w[2],w[3],z,A);};var T=e.Trie=function(){function T(i,v,w,x,y,z){c(this,T);this.initialValue=i;this.errorValue=v;this.highStart=w;this.highValueIndex=x;this.index=y;this.data=z;}a(T,[{key:'get',value:function get(i){var v=void 0;if(i>=0){if(i<0x0d800||i>0x0dbff&&i<=0x0ffff){v=this.index[i>>U];v=(v<<f)+(i&k);return this.data[v];}if(i<=0xffff){v=this.index[h+(i-0xd800>>U)];v=(v<<f)+(i&k);return this.data[v];}if(i<this.highStart){v=q-r+(i>>d);v=this.index[v];v+=i>>U&t;v=this.index[v];v=(v<<f)+(i&k);return this.data[v];}if(i<=0x10ffff){return this.data[this.highValueIndex];}}return this.errorValue;}}]);return T;}();}),(function(m,e,_){"use strict";m.exports='KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var a=_(5);function b(i,c){if(!(i instanceof c)){throw new TypeError("Cannot call a class as a function");}}var C=function C(x,y,r){b(this,C);this.type=a.PATH.CIRCLE;this.x=x;this.y=y;this.radius=r;if(true){if(isNaN(x)){console.error('Invalid x value given for Circle');}if(isNaN(y)){console.error('Invalid y value given for Circle');}if(isNaN(r)){console.error('Invalid radius value given for Circle');}}};e.default=C;}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var c=function(){function a(b,i){var t=[];var u=true;var v=false;var w=undefined;try{for(var x=b[Symbol.iterator](),y;!(u=(y=x.next()).done);u=true){t.push(y.value);if(i&&t.length===i)break;}}catch(z){v=true;w=z;}finally{try{if(!u&&x["return"])x["return"]();}finally{if(v)throw w;}}return t;}return function(b,i){if(Array.isArray(b)){return b;}else if(Symbol.iterator in Object(b)){return a(b,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var d=function(){function a(t,b){for(var i=0;i<b.length;i++){var u=b[i];u.enumerable=u.enumerable||false;u.configurable=true;if("value"in u)u.writable=true;Object.defineProperty(t,u.key,u);}}return function(C,b,i){if(b)a(C.prototype,b);if(i)a(C,i);return C;};}();var f=_(2);var g=_(25);var h=_(52);var j=_(9);var k=o(j);var l=_(4);var n=_(12);function o(a){return a&&a.__esModule?a:{default:a};}function p(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var R=function(){function R(t,a){p(this,R);this.target=t;this.options=a;t.render(a);}d(R,[{key:'renderNode',value:function renderNode(a){if(a.isVisible()){this.renderNodeBackgroundAndBorders(a);this.renderNodeContent(a);}}},{key:'renderNodeContent',value:function renderNodeContent(a){var b=this;var i=function i(){if(a.childNodes.length){a.childNodes.forEach(function(y){if(y instanceof k.default){var z=y.parent.style;b.target.renderTextNode(y.bounds,z.color,z.font,z.textDecoration,z.textShadow);}else{b.target.drawShape(y,a.style.color);}});}if(a.image){var u=b.options.imageStore.get(a.image);if(u){var v=(0,f.calculateContentBox)(a.bounds,a.style.padding,a.style.border);var w=typeof u.width==='number'&&u.width>0?u.width:v.width;var x=typeof u.height==='number'&&u.height>0?u.height:v.height;if(w>0&&x>0){b.target.clip([(0,f.calculatePaddingBoxPath)(a.curvedBounds)],function(){b.target.drawImage(u,new f.Bounds(0,0,w,x),v);});}}}};var t=a.getClipPaths();if(t.length){this.target.clip(t,i);}else{i();}}},{key:'renderNodeBackgroundAndBorders',value:function renderNodeBackgroundAndBorders(a){var b=this;var H=!a.style.background.backgroundColor.isTransparent()||a.style.background.backgroundImage.length;var i=a.style.border.some(function(v){return v.borderStyle!==n.BORDER_STYLE.NONE&&!v.borderColor.isTransparent();});var t=function t(){var v=(0,l.calculateBackgroungPaintingArea)(a.curvedBounds,a.style.background.backgroundClip);if(H){b.target.clip([v],function(){if(!a.style.background.backgroundColor.isTransparent()){b.target.fill(a.style.background.backgroundColor);}b.renderBackgroundImage(a);});}a.style.border.forEach(function(w,x){if(w.borderStyle!==n.BORDER_STYLE.NONE&&!w.borderColor.isTransparent()){b.renderBorder(w,x,a.curvedBounds);}});};if(H||i){var u=a.parent?a.parent.getClipPaths():[];if(u.length){this.target.clip(u,t);}else{t();}}}},{key:'renderBackgroundImage',value:function renderBackgroundImage(a){var b=this;a.style.background.backgroundImage.slice(0).reverse().forEach(function(i){if(i.source.method==='url'&&i.source.args.length){b.renderBackgroundRepeat(a,i);}else if(/gradient/i.test(i.source.method)){b.renderBackgroundGradient(a,i);}});}},{key:'renderBackgroundRepeat',value:function renderBackgroundRepeat(a,b){var i=this.options.imageStore.get(b.source.args[0]);if(i){var t=(0,l.calculateBackgroungPositioningArea)(a.style.background.backgroundOrigin,a.bounds,a.style.padding,a.style.border);var u=(0,l.calculateBackgroundSize)(b,i,t);var v=(0,l.calculateBackgroundPosition)(b.position,u,t);var w=(0,l.calculateBackgroundRepeatPath)(b,v,u,t,a.bounds);var x=Math.round(t.left+v.x);var y=Math.round(t.top+v.y);this.target.renderRepeat(w,i,u,x,y);}}},{key:'renderBackgroundGradient',value:function renderBackgroundGradient(a,b){var i=(0,l.calculateBackgroungPositioningArea)(a.style.background.backgroundOrigin,a.bounds,a.style.padding,a.style.border);var t=(0,l.calculateGradientBackgroundSize)(b,i);var u=(0,l.calculateBackgroundPosition)(b.position,t,i);var v=new f.Bounds(Math.round(i.left+u.x),Math.round(i.top+u.y),t.width,t.height);var w=(0,h.parseGradient)(a,b.source,v);if(w){switch(w.type){case h.GRADIENT_TYPE.LINEAR_GRADIENT:this.target.renderLinearGradient(v,w);break;case h.GRADIENT_TYPE.RADIAL_GRADIENT:this.target.renderRadialGradient(v,w);break;}}}},{key:'renderBorder',value:function renderBorder(b,a,i){this.target.drawShape((0,f.parsePathForBorder)(i,a),b.borderColor);}},{key:'renderStack',value:function renderStack(a){var b=this;if(a.container.isVisible()){var i=a.getOpacity();if(i!==this._opacity){this.target.setOpacity(a.getOpacity());this._opacity=i;}var t=a.container.style.transform;if(t!==null){this.target.transform(a.container.bounds.left+t.transformOrigin[0].value,a.container.bounds.top+t.transformOrigin[1].value,t.transform,function(){return b.renderStackContent(a);});}else{this.renderStackContent(a);}}}},{key:'renderStackContent',value:function renderStackContent(a){var b=q(a),i=c(b,5),t=i[0],z=i[1],u=i[2],v=i[3],w=i[4];var x=s(a),y=c(x,2),A=y[0],B=y[1];this.renderNodeBackgroundAndBorders(a.container);t.sort(r).forEach(this.renderStack,this);this.renderNodeContent(a.container);B.forEach(this.renderNode,this);v.forEach(this.renderStack,this);w.forEach(this.renderStack,this);A.forEach(this.renderNode,this);z.forEach(this.renderStack,this);u.sort(r).forEach(this.renderStack,this);}},{key:'render',value:function render(a){var b=this;if(this.options.backgroundColor){this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor);}this.renderStack(a);var t=this.target.getTarget();if(true){return t.then(function(i){b.options.logger.log('Render completed');return i;});}return t;}}]);return R;}();e.default=R;var s=function s(a){var b=[];var t=[];var u=a.children.length;for(var i=0;i<u;i++){var v=a.children[i];if(v.isInlineLevel()){b.push(v);}else{t.push(v);}}return[b,t];};var q=function q(a){var b=[];var z=[];var t=[];var u=[];var v=[];var w=a.contexts.length;for(var i=0;i<w;i++){var x=a.contexts[i];if(x.container.isPositioned()||x.container.style.opacity<1||x.container.isTransformed()){if(x.container.style.zIndex.order<0){b.push(x);}else if(x.container.style.zIndex.order>0){t.push(x);}else{z.push(x);}}else{if(x.container.isFloating()){u.push(x);}else{v.push(x);}}}return[b,z,t,u,v];};var r=function r(a,b){if(a.container.style.zIndex.order>b.container.style.zIndex.order){return 1;}else if(a.container.style.zIndex.order<b.container.style.zIndex.order){return-1;}return a.container.index>b.container.index?1:-1;};}),(function(a,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformWebkitRadialGradientArgs=e.parseGradient=e.RadialGradient=e.LinearGradient=e.RADIAL_GRADIENT_SHAPE=e.GRADIENT_TYPE=undefined;var b=function(){function s(c,i){var d=[];var m=true;var n=false;var v=undefined;try{for(var x=c[Symbol.iterator](),y;!(m=(y=x.next()).done);m=true){d.push(y.value);if(i&&d.length===i)break;}}catch(Q){n=true;v=Q;}finally{try{if(!m&&x["return"])x["return"]();}finally{if(n)throw v;}}return d;}return function(c,i){if(Array.isArray(c)){return c;}else if(Symbol.iterator in Object(c)){return s(c,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var f=_(6);var g=q(f);var h=_(53);var j=_(0);var k=q(j);var l=_(1);var o=q(l);var p=_(3);function q(c){return c&&c.__esModule?c:{default:c};}function r(i,c){if(!(i instanceof c)){throw new TypeError("Cannot call a class as a function");}}var S=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i;var P=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i;var E=/(px)|%|( 0)$/i;var F=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i;var R=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i;var G=e.GRADIENT_TYPE={LINEAR_GRADIENT:0,RADIAL_GRADIENT:1};var t=e.RADIAL_GRADIENT_SHAPE={CIRCLE:0,ELLIPSE:1};var L={left:new o.default('0%'),top:new o.default('0%'),center:new o.default('50%'),right:new o.default('100%'),bottom:new o.default('100%')};var u=e.LinearGradient=function u(c,d){r(this,u);this.type=G.LINEAR_GRADIENT;this.colorStops=c;this.direction=d;};var w=e.RadialGradient=function w(c,s,d,i){r(this,w);this.type=G.RADIAL_GRADIENT;this.colorStops=c;this.shape=s;this.center=d;this.radius=i;};var z=e.parseGradient=function z(c,d,i){var m=d.args,n=d.method,s=d.prefix;if(n==='linear-gradient'){return B(m,i,!!s);}else if(n==='gradient'&&m[0]==='linear'){return B(['to bottom'].concat(O(m.slice(3))),i,!!s);}else if(n==='radial-gradient'){return C(c,s==='-webkit-'?N(m):m,i);}else if(n==='gradient'&&m[0]==='radial'){return C(c,O(N(m.slice(1))),i);}};var A=function A(c,d,m){var s=[];for(var i=d;i<c.length;i++){var v=c[i];var x=E.test(v);var y=v.lastIndexOf(' ');var Q=new k.default(x?v.substring(0,y):v);var T=x?new o.default(v.substring(y+1)):i===d?new o.default('0%'):i===c.length-1?new o.default('100%'):null;s.push({color:Q,stop:T});}var U=s.map(function(a1){var b1=a1.color,c1=a1.stop;var d1=m===0?0:c1?c1.getAbsoluteValue(m)/m:null;return{color:b1,stop:d1};});var V=U[0].stop;for(var W=0;W<U.length;W++){if(V!==null){var X=U[W].stop;if(X===null){var n=W;while(U[n].stop===null){n++;}var Y=n-W+1;var Z=U[n].stop;var $=(Z-V)/Y;for(;W<n;W++){V=U[W].stop=V+$;}}else{V=X;}}}return U;};var B=function B(c,d,i){var m=(0,h.parseAngle)(c[0]);var n=S.test(c[0]);var s=n||m!==null||P.test(c[0]);var v=s?m!==null?D(i?m-Math.PI*0.5:m,d):n?I(c[0],d):J(c[0],d):D(Math.PI,d);var x=s?1:0;var y=Math.min((0,p.distance)(Math.abs(v.x0)+Math.abs(v.x1),Math.abs(v.y0)+Math.abs(v.y1)),d.width*2,d.height*2);return new u(A(c,x,y),v);};var C=function C(c,d,i){var m=d[0].match(R);var s=m&&(m[1]==='circle'||m[3]!==undefined&&m[5]===undefined)?t.CIRCLE:t.ELLIPSE;var n={};var v={};if(m){if(m[3]!==undefined){n.x=(0,l.calculateLengthFromValueWithUnit)(c,m[3],m[4]).getAbsoluteValue(i.width);}if(m[5]!==undefined){n.y=(0,l.calculateLengthFromValueWithUnit)(c,m[5],m[6]).getAbsoluteValue(i.height);}if(m[7]){v.x=L[m[7].toLowerCase()];}else if(m[8]!==undefined){v.x=(0,l.calculateLengthFromValueWithUnit)(c,m[8],m[9]);}if(m[10]){v.y=L[m[10].toLowerCase()];}else if(m[11]!==undefined){v.y=(0,l.calculateLengthFromValueWithUnit)(c,m[11],m[12]);}}var x={x:v.x===undefined?i.width/2:v.x.getAbsoluteValue(i.width),y:v.y===undefined?i.height/2:v.y.getAbsoluteValue(i.height)};var y=M(m&&m[2]||'farthest-corner',s,x,n,i);return new w(A(d,m?1:0,Math.min(y.x,y.y)),s,x,y);};var D=function D(c,d){var i=d.width;var m=d.height;var n=i*0.5;var s=m*0.5;var v=Math.abs(i*Math.sin(c))+Math.abs(m*Math.cos(c));var x=v/2;var y=n+Math.sin(c)*x;var Q=s-Math.cos(c)*x;var T=i-y;var U=m-Q;return{x0:y,x1:T,y0:Q,y1:U};};var H=function H(c){return Math.acos(c.width/2/((0,p.distance)(c.width,c.height)/2));};var I=function I(s,c){switch(s){case'bottom':case'to top':return D(0,c);case'left':case'to right':return D(Math.PI/2,c);case'right':case'to left':return D(3*Math.PI/2,c);case'top right':case'right top':case'to bottom left':case'to left bottom':return D(Math.PI+H(c),c);case'top left':case'left top':case'to bottom right':case'to right bottom':return D(Math.PI-H(c),c);case'bottom left':case'left bottom':case'to top right':case'to right top':return D(H(c),c);case'bottom right':case'right bottom':case'to top left':case'to left top':return D(2*Math.PI-H(c),c);case'top':case'to bottom':default:return D(Math.PI,c);}};var J=function J(c,d){var i=c.split(' ').map(parseFloat),m=b(i,2),n=m[0],s=m[1];var v=n/100*d.width/(s/100*d.height);return D(Math.atan(isNaN(v)?1:v)+Math.PI/2,d);};var K=function K(c,x,y,i){var m=[{x:0,y:0},{x:0,y:c.height},{x:c.width,y:0},{x:c.width,y:c.height}];return m.reduce(function(s,n){var d=(0,p.distance)(x-n.x,y-n.y);if(i?d<s.optimumDistance:d>s.optimumDistance){return{optimumCorner:n,optimumDistance:d};}return s;},{optimumDistance:i?Infinity:-Infinity,optimumCorner:null}).optimumCorner;};var M=function M(d,s,i,m,n){var x=i.x;var y=i.y;var v=0;var Q=0;switch(d){case'closest-side':if(s===t.CIRCLE){v=Q=Math.min(Math.abs(x),Math.abs(x-n.width),Math.abs(y),Math.abs(y-n.height));}else if(s===t.ELLIPSE){v=Math.min(Math.abs(x),Math.abs(x-n.width));Q=Math.min(Math.abs(y),Math.abs(y-n.height));}break;case'closest-corner':if(s===t.CIRCLE){v=Q=Math.min((0,p.distance)(x,y),(0,p.distance)(x,y-n.height),(0,p.distance)(x-n.width,y),(0,p.distance)(x-n.width,y-n.height));}else if(s===t.ELLIPSE){var c=Math.min(Math.abs(y),Math.abs(y-n.height))/Math.min(Math.abs(x),Math.abs(x-n.width));var T=K(n,x,y,true);v=(0,p.distance)(T.x-x,(T.y-y)/c);Q=c*v;}break;case'farthest-side':if(s===t.CIRCLE){v=Q=Math.max(Math.abs(x),Math.abs(x-n.width),Math.abs(y),Math.abs(y-n.height));}else if(s===t.ELLIPSE){v=Math.max(Math.abs(x),Math.abs(x-n.width));Q=Math.max(Math.abs(y),Math.abs(y-n.height));}break;case'farthest-corner':if(s===t.CIRCLE){v=Q=Math.max((0,p.distance)(x,y),(0,p.distance)(x,y-n.height),(0,p.distance)(x-n.width,y),(0,p.distance)(x-n.width,y-n.height));}else if(s===t.ELLIPSE){var U=Math.max(Math.abs(y),Math.abs(y-n.height))/Math.max(Math.abs(x),Math.abs(x-n.width));var V=K(n,x,y,false);v=(0,p.distance)(V.x-x,(V.y-y)/U);Q=U*v;}break;default:v=m.x||0;Q=m.y!==undefined?m.y:v;break;}return{x:v,y:Q};};var N=e.transformWebkitRadialGradientArgs=function N(c){var d='';var i='';var m='';var n='';var v=0;var x=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i;var y=/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i;var Q=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i;var T=c[v].match(x);if(T){v++;}var U=c[v].match(y);if(U){d=U[1]||'';m=U[2]||'';if(m==='contain'){m='closest-side';}else if(m==='cover'){m='farthest-corner';}v++;}var V=c[v].match(Q);if(V){v++;}var W=c[v].match(x);if(W){v++;}var X=c[v].match(Q);if(X){v++;}var Y=W||T;if(Y&&Y[1]){n=Y[1]+(/^\d+$/.test(Y[1])?'px':'');if(Y[2]){n+=' '+Y[2]+(/^\d+$/.test(Y[2])?'px':'');}}var Z=X||V;if(Z){i=Z[0];if(!Z[1]){i+='px';}}if(n&&!d&&!i&&!m){i=n;n='';}if(n){n='at '+n;}return[[d,m,i,n].filter(function(s){return!!s;}).join(' ')].concat(c.slice(v));};var O=function O(c){return c.map(function(d){return d.match(F);}).map(function(v,i){if(!v){return c[i];}switch(v[1]){case'from':return v[4]+' 0%';case'to':return v[4]+' 100%';case'color-stop':if(v[3]==='%'){return v[4]+' '+v[2];}return v[4]+' '+parseFloat(v[2])*100+'%';}});};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});var A=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;var p=e.parseAngle=function p(a){var b=a.match(A);if(b){var v=parseFloat(b[1]);switch(b[2].toLowerCase()){case'deg':return Math.PI*v/180;case'grad':return Math.PI/200*v;case'rad':return v;case'turn':return Math.PI*2*v;}}return null;};}),(function(m,b,_){"use strict";Object.defineProperty(b,"__esModule",{value:true});b.cloneWindow=b.DocumentCloner=undefined;var c=function(){function a(e,i){var x=[];var y=true;var Q=false;var R=undefined;try{for(var S=e[Symbol.iterator](),T;!(y=(T=S.next()).done);y=true){x.push(T.value);if(i&&x.length===i)break;}}catch(V){Q=true;R=V;}finally{try{if(!y&&S["return"])S["return"]();}finally{if(Q)throw R;}}return x;}return function(e,i){if(Array.isArray(e)){return e;}else if(Symbol.iterator in Object(e)){return a(e,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var d=function(){function a(e,x){for(var i=0;i<x.length;i++){var y=x[i];y.enumerable=y.enumerable||false;y.configurable=true;if("value"in y)y.writable=true;Object.defineProperty(e,y.key,y);}}return function(e,i,x){if(i)a(e.prototype,i);if(x)a(e,x);return e;};}();var f=_(2);var g=_(26);var h=_(55);var j=q(h);var k=_(3);var l=_(4);var n=_(15);var o=q(n);var p=_(56);function q(a){return a&&a.__esModule?a:{default:a};}function r(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function");}}var I='data-html2canvas-ignore';var D=b.DocumentCloner=function(){function D(e,a,i,x,y){r(this,D);this.referenceElement=e;this.scrolledElements=[];this.copyStyles=x;this.inlineImages=x;this.logger=i;this.options=a;this.renderer=y;this.resourceLoader=new j.default(a,i,window);this.pseudoContentData={counters:{},quoteDepth:0};this.documentElement=this.cloneNode(e.ownerDocument.documentElement);}d(D,[{key:'inlineAllImages',value:function inlineAllImages(a){var i=this;if(this.inlineImages&&a){var x=a.style;Promise.all((0,l.parseBackgroundImage)(x.backgroundImage).map(function(y){if(y.method==='url'){return i.resourceLoader.inlineImage(y.args[0]).then(function(e){return e&&typeof e.src==='string'?'url("'+e.src+'")':'none';}).catch(function(e){if(true){i.logger.log('Unable to load image',e);}});}return Promise.resolve(''+y.prefix+y.method+'('+y.args.join(',')+')');})).then(function(e){if(e.length>1){x.backgroundColor='';}x.backgroundImage=e.join(',');});if(a instanceof HTMLImageElement){this.resourceLoader.inlineImage(a.src).then(function(e){if(e&&a instanceof HTMLImageElement&&a.parentNode){var y=a.parentNode;var Q=(0,k.copyCSSStyles)(a.style,e.cloneNode(false));y.replaceChild(Q,a);}}).catch(function(e){if(true){i.logger.log('Unable to load image',e);}});}}}},{key:'inlineFonts',value:function inlineFonts(a){var i=this;return Promise.all(Array.from(a.styleSheets).map(function(x){if(x.href){return fetch(x.href).then(function(e){return e.text();}).then(function(e){return t(e,x.href);}).catch(function(e){if(true){i.logger.log('Unable to load stylesheet',e);}return[];});}return s(x,a);})).then(function(e){return e.reduce(function(x,y){return x.concat(y);},[]);}).then(function(e){return Promise.all(e.map(function(x){return fetch(x.formats[0].src).then(function(y){return y.blob();}).then(function(y){return new Promise(function(Q,R){var S=new FileReader();S.onerror=R;S.onload=function(){var T=S.result;Q(T);};S.readAsDataURL(y);});}).then(function(y){x.fontFace.setProperty('src','url("'+y+'")');return'@font-face {'+x.fontFace.cssText+' ';});}));}).then(function(e){var x=a.createElement('style');x.textContent=e.join('\n');i.documentElement.appendChild(x);});}},{key:'createElementClone',value:function createElementClone(a){var i=this;if(this.copyStyles&&a instanceof HTMLCanvasElement){var x=a.ownerDocument.createElement('img');try{x.src=a.toDataURL();return x;}catch(e){if(true){this.logger.log('Unable to clone canvas contents, canvas is tainted');}}}if(a instanceof HTMLIFrameElement){var y=a.cloneNode(false);var Q=H();y.setAttribute('data-html2canvas-internal-iframe-key',Q);var R=(0,f.parseBounds)(a,0,0),S=R.width,T=R.height;this.resourceLoader.cache[Q]=K(a,this.options).then(function(X){return i.renderer(X,{async:i.options.async,allowTaint:i.options.allowTaint,backgroundColor:'#ffffff',canvas:null,imageTimeout:i.options.imageTimeout,logging:i.options.logging,proxy:i.options.proxy,removeContainer:i.options.removeContainer,scale:i.options.scale,foreignObjectRendering:i.options.foreignObjectRendering,useCORS:i.options.useCORS,target:new o.default(),width:S,height:T,x:0,y:0,windowWidth:X.ownerDocument.defaultView.innerWidth,windowHeight:X.ownerDocument.defaultView.innerHeight,scrollX:X.ownerDocument.defaultView.pageXOffset,scrollY:X.ownerDocument.defaultView.pageYOffset},i.logger.child(Q));}).then(function(X){return new Promise(function(Y,Z){var $=document.createElement('img');$.onload=function(){return Y(X);};$.onerror=Z;$.src=X.toDataURL();if(y.parentNode){y.parentNode.replaceChild((0,k.copyCSSStyles)(a.ownerDocument.defaultView.getComputedStyle(a),$),y);}});});return y;}if(a instanceof HTMLStyleElement&&a.sheet&&a.sheet.cssRules){var V=[].slice.call(a.sheet.cssRules,0).reduce(function(V,X){try{if(X&&X.cssText){return V+X.cssText;}return V;}catch(Y){i.logger.log('Unable to access cssText property',X.name);return V;}},'');var W=a.cloneNode(false);W.textContent=V;return W;}return a.cloneNode(false);}},{key:'cloneNode',value:function cloneNode(a){var e=a.nodeType===Node.TEXT_NODE?document.createTextNode(a.nodeValue):this.createElementClone(a);var i=a.ownerDocument.defaultView;var x=a instanceof i.HTMLElement?i.getComputedStyle(a):null;var y=a instanceof i.HTMLElement?i.getComputedStyle(a,':before'):null;var Q=a instanceof i.HTMLElement?i.getComputedStyle(a,':after'):null;if(this.referenceElement===a&&e instanceof i.HTMLElement){this.clonedReferenceElement=e;}if(e instanceof i.HTMLBodyElement){E(e);}var R=(0,p.parseCounterReset)(x,this.pseudoContentData);var S=(0,p.resolvePseudoContent)(a,y,this.pseudoContentData);for(var T=a.firstChild;T;T=T.nextSibling){if(T.nodeType!==Node.ELEMENT_NODE||T.nodeName!=='SCRIPT'&&!T.hasAttribute(I)&&(typeof this.options.ignoreElements!=='function'||!this.options.ignoreElements(T))){if(!this.copyStyles||T.nodeName!=='STYLE'){e.appendChild(this.cloneNode(T));}}}var V=(0,p.resolvePseudoContent)(a,Q,this.pseudoContentData);(0,p.popCounters)(R,this.pseudoContentData);if(a instanceof i.HTMLElement&&e instanceof i.HTMLElement){if(y){this.inlineAllImages(w(a,e,y,S,P));}if(Q){this.inlineAllImages(w(a,e,Q,V,z));}if(x&&this.copyStyles&&!(a instanceof HTMLIFrameElement)){(0,k.copyCSSStyles)(x,e);}this.inlineAllImages(e);if(a.scrollTop!==0||a.scrollLeft!==0){this.scrolledElements.push([e,a.scrollLeft,a.scrollTop]);}switch(a.nodeName){case'CANVAS':if(!this.copyStyles){v(a,e);}break;case'TEXTAREA':case'SELECT':e.value=a.value;break;}}return e;}}]);return D;}();var s=function s(e,x){return(e.cssRules?Array.from(e.cssRules):[]).filter(function(a){return a.type===CSSRule.FONT_FACE_RULE;}).map(function(y){var Q=(0,l.parseBackgroundImage)(y.style.getPropertyValue('src'));var R=[];for(var i=0;i<Q.length;i++){if(Q[i].method==='url'&&Q[i+1]&&Q[i+1].method==='format'){var a=x.createElement('a');a.href=Q[i].args[0];if(x.body){x.body.appendChild(a);}var S={src:a.href,format:Q[i+1].args[0]};R.push(S);}}return{formats:R.filter(function(S){return(/^woff/i.test(S.format));}),fontFace:y.style};}).filter(function(a){return a.formats.length;});};var t=function t(a,e){var i=document.implementation.createHTMLDocument('');var x=document.createElement('base');x.href=e;var y=document.createElement('style');y.textContent=a;if(i.head){i.head.appendChild(x);}if(i.body){i.body.appendChild(y);}return y.sheet?s(y.sheet,i):[];};var u=function u(a,x,y){if(a.defaultView&&(x!==a.defaultView.pageXOffset||y!==a.defaultView.pageYOffset)){a.defaultView.scrollTo(x,y);}};var v=function v(a,i){try{if(i){i.width=a.width;i.height=a.height;var x=a.getContext('2d');var y=i.getContext('2d');if(x){y.putImageData(x.getImageData(0,0,a.width,a.height),0,0);}else{y.drawImage(a,0,0);}}}catch(e){}};var w=function w(a,e,x,y,Q){if(!x||!x.content||x.content==='none'||x.content==='-moz-alt-content'||x.display==='none'){return;}var R=e.ownerDocument.createElement('html2canvaspseudoelement');(0,k.copyCSSStyles)(x,R);if(y){var S=y.length;for(var i=0;i<S;i++){var T=y[i];switch(T.type){case p.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:var V=e.ownerDocument.createElement('img');V.src=(0,l.parseBackgroundImage)('url('+T.value+')')[0].args[0];V.style.opacity='1';R.appendChild(V);break;case p.PSEUDO_CONTENT_ITEM_TYPE.TEXT:R.appendChild(e.ownerDocument.createTextNode(T.value));break;}}}R.className=A+' '+B;e.className+=Q===P?' '+A:' '+B;if(Q===P){e.insertBefore(R,e.firstChild);}else{e.appendChild(R);}return R;};var U=/^url\((.+)\)$/i;var P=':before';var z=':after';var A='___html2canvas___pseudoelement_before';var B='___html2canvas___pseudoelement_after';var C='{\n    content: "" !important;\n    display: none !important;\n}';var E=function E(a){F(a,'.'+A+P+C+'\n         .'+B+z+C);};var F=function F(a,e){var i=a.ownerDocument.createElement('style');i.innerHTML=e;a.appendChild(i);};var G=function G(a){var e=c(a,3),i=e[0],x=e[1],y=e[2];i.scrollLeft=x;i.scrollTop=y;};var H=function H(){return Math.ceil(Date.now()+Math.random()*10000000).toString(16);};var J=/^data:text\/(.+);(base64)?,(.*)$/i;var K=function K(a,i){try{return Promise.resolve(a.contentWindow.document.documentElement);}catch(e){return i.proxy?(0,g.Proxy)(a.src,i).then(function(x){var y=x.match(J);if(!y){return Promise.reject();}return y[2]==='base64'?window.atob(decodeURIComponent(y[3])):decodeURIComponent(y[3]);}).then(function(x){return L(a.ownerDocument,(0,f.parseBounds)(a,0,0)).then(function(y){var N=y.contentWindow;var Q=N.document;Q.open();Q.write(x);var R=M(y).then(function(){return Q.documentElement;});Q.close();return R;});}):Promise.reject();}};var L=function L(a,e){var i=a.createElement('iframe');i.className='html2canvas-container';i.style.visibility='hidden';i.style.position='fixed';i.style.left='-10000px';i.style.top='0px';i.style.border='0';i.width=e.width.toString();i.height=e.height.toString();i.scrolling='no';i.setAttribute(I,'true');if(!a.body){return Promise.reject(true?'Body element not found in Document that is getting rendered':'');}a.body.appendChild(i);return Promise.resolve(i);};var M=function M(a){var N=a.contentWindow;var e=N.document;return new Promise(function(i,x){N.onload=a.onload=e.onreadystatechange=function(){var y=setInterval(function(){if(e.body.childNodes.length>0&&e.readyState==='complete'){clearInterval(y);i(a);}},50);};});};var N=b.cloneWindow=function N(a,e,i,x,y,Q){var R=new D(i,x,y,false,Q);var S=a.defaultView.pageXOffset;var T=a.defaultView.pageYOffset;return L(a,e).then(function(V){var N=V.contentWindow;var W=N.document;var X=M(V).then(function(){R.scrolledElements.forEach(G);N.scrollTo(e.left,e.top);if(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(N.scrollY!==e.top||N.scrollX!==e.left)){W.documentElement.style.top=-e.top+'px';W.documentElement.style.left=-e.left+'px';W.documentElement.style.position='absolute';}var Y=Promise.resolve([V,R.clonedReferenceElement,R.resourceLoader]);var Z=x.onclone;return R.clonedReferenceElement instanceof N.HTMLElement||R.clonedReferenceElement instanceof a.defaultView.HTMLElement||R.clonedReferenceElement instanceof HTMLElement?typeof Z==='function'?Promise.resolve().then(function(){return Z(W);}).then(function(){return Y;}):Y:Promise.reject(true?'Error finding the '+i.nodeName+' in the cloned document':'');});W.open();W.write(O(document.doctype)+'<html></html>');u(i.ownerDocument,S,T);W.replaceChild(W.adoptNode(R.documentElement),W.documentElement);W.close();return X;});};var O=function O(a){var e='';if(a){e+='<!DOCTYPE ';if(a.name){e+=a.name;}if(a.internalSubset){e+=a.internalSubset;}if(a.publicId){e+='"'+a.publicId+'"';}if(a.systemId){e+='"'+a.systemId+'"';}e+='>';}return e;};}),(function(m,a,_){"use strict";Object.defineProperty(a,"__esModule",{value:true});a.ResourceStore=undefined;var b=function(){function e(t,s){for(var i=0;i<s.length;i++){var u=s[i];u.enumerable=u.enumerable||false;u.configurable=true;if("value"in u)u.writable=true;Object.defineProperty(t,u.key,u);}}return function(C,i,s){if(i)e(C.prototype,i);if(s)e(C,s);return C;};}();var c=_(10);var d=g(c);var f=_(26);function g(e){return e&&e.__esModule?e:{default:e};}function h(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}var R=function(){function R(e,i,w){h(this,R);this.options=e;this._window=w;this.origin=this.getOrigin(w.location.href);this.cache={};this.logger=i;this._index=0;}b(R,[{key:'loadImage',value:function loadImage(s){var e=this;if(this.hasResourceInCache(s)){return s;}if(p(s)){this.cache[s]=r(s,this.options.imageTimeout||0);return s;}if(!q(s)||d.default.SUPPORT_SVG_DRAWING){if(this.options.allowTaint===true||n(s)||this.isSameOrigin(s)){return this.addImage(s,s,false);}else if(!this.isSameOrigin(s)){if(typeof this.options.proxy==='string'){this.cache[s]=(0,f.Proxy)(s,this.options).then(function(s){return r(s,e.options.imageTimeout||0);});return s;}else if(this.options.useCORS===true&&d.default.SUPPORT_CORS_IMAGES){return this.addImage(s,s,true);}}}}},{key:'inlineImage',value:function inlineImage(s){var e=this;if(n(s)){return r(s,this.options.imageTimeout||0);}if(this.hasResourceInCache(s)){return this.cache[s];}if(!this.isSameOrigin(s)&&typeof this.options.proxy==='string'){return this.cache[s]=(0,f.Proxy)(s,this.options).then(function(s){return r(s,e.options.imageTimeout||0);});}return this.xhrImage(s);}},{key:'xhrImage',value:function xhrImage(s){var i=this;this.cache[s]=new Promise(function(t,u){var x=new XMLHttpRequest();x.onreadystatechange=function(){if(x.readyState===4){if(x.status!==200){u('Failed to fetch image '+s.substring(0,256)+' with status code '+x.status);}else{var w=new FileReader();w.addEventListener('load',function(){var e=w.result;t(e);},false);w.addEventListener('error',function(e){return u(e);},false);w.readAsDataURL(x.response);}}};x.responseType='blob';if(i.options.imageTimeout){var v=i.options.imageTimeout;x.timeout=v;x.ontimeout=function(){return u(true?'Timed out ('+v+'ms) fetching '+s.substring(0,256):'');};}x.open('GET',s,true);x.send();}).then(function(s){return r(s,i.options.imageTimeout||0);});return this.cache[s];}},{key:'loadCanvas',value:function loadCanvas(e){var i=String(this._index++);this.cache[i]=Promise.resolve(e);return i;}},{key:'hasResourceInCache',value:function hasResourceInCache(e){return typeof this.cache[e]!=='undefined';}},{key:'addImage',value:function addImage(e,s,u){var i=this;if(true){this.logger.log('Added image '+e.substring(0,256));}var t=function t(v){return new Promise(function(w,x){var y=new Image();y.onload=function(){return w(y);};if(!v||u){y.crossOrigin='anonymous';}y.onerror=x;y.src=s;if(y.complete===true){setTimeout(function(){w(y);},500);}if(i.options.imageTimeout){var z=i.options.imageTimeout;setTimeout(function(){return x(true?'Timed out ('+z+'ms) fetching '+s.substring(0,256):'');},z);}});};this.cache[e]=o(s)&&!q(s)?d.default.SUPPORT_BASE64_DRAWING(s).then(t):t(true);return e;}},{key:'isSameOrigin',value:function isSameOrigin(u){return this.getOrigin(u)===this.origin;}},{key:'getOrigin',value:function getOrigin(u){var e=this._link||(this._link=this._window.document.createElement('a'));e.href=u;e.href=e.href;return e.protocol+e.hostname+e.port;}},{key:'ready',value:function ready(){var i=this;var s=Object.keys(this.cache);var v=s.map(function(t){return i.cache[t].catch(function(e){if(true){i.logger.log('Unable to load image',e);}return null;});});return Promise.all(v).then(function(e){if(true){i.logger.log('Finished loading '+e.length+' images',e);}return new j(s,e);});}}]);return R;}();a.default=R;var j=a.ResourceStore=function(){function j(e,i){h(this,j);this._keys=e;this._resources=i;}b(j,[{key:'get',value:function get(e){var i=this._keys.indexOf(e);return i===-1?null:this._resources[i];}}]);return j;}();var I=/^data:image\/svg\+xml/i;var k=/^data:image\/.*;base64,/i;var l=/^data:image\/.*/i;var n=function n(s){return l.test(s);};var o=function o(s){return k.test(s);};var p=function p(s){return s.substr(0,4)==='blob';};var q=function q(s){return s.substr(-3).toLowerCase()==='svg'||I.test(s);};var r=function r(s,t){return new Promise(function(e,i){var u=new Image();u.onload=function(){return e(u);};u.onerror=i;u.src=s;if(u.complete===true){setTimeout(function(){e(u);},500);}if(t){setTimeout(function(){return i(true?'Timed out ('+t+'ms) loading image':'');},t);}});};}),(function(m,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.parseContent=e.resolvePseudoContent=e.popCounters=e.parseCounterReset=e.TOKEN_TYPE=e.PSEUDO_CONTENT_ITEM_TYPE=undefined;var a=function(){function s(c,i){var l=[];var n=true;var o=false;var q=undefined;try{for(var t=c[Symbol.iterator](),u;!(n=(u=t.next()).done);n=true){l.push(u.value);if(i&&l.length===i)break;}}catch(v){o=true;q=v;}finally{try{if(!n&&t["return"])t["return"]();}finally{if(o)throw q;}}return l;}return function(c,i){if(Array.isArray(c)){return c;}else if(Symbol.iterator in Object(c)){return s(c,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var b=_(14);var d=_(8);var P=e.PSEUDO_CONTENT_ITEM_TYPE={TEXT:0,IMAGE:1};var T=e.TOKEN_TYPE={STRING:0,ATTRIBUTE:1,URL:2,COUNTER:3,COUNTERS:4,OPENQUOTE:5,CLOSEQUOTE:6};var p=e.parseCounterReset=function p(s,c){if(!s||!s.counterReset||s.counterReset==='none'){return[];}var l=[];var n=s.counterReset.split(/\s*,\s*/);var o=n.length;for(var i=0;i<o;i++){var q=n[i].split(/\s+/),t=a(q,2),u=t[0],v=t[1];l.push(u);var w=c.counters[u];if(!w){w=c.counters[u]=[];}w.push(parseInt(v||0,10));}return l;};var f=e.popCounters=function f(c,l){var n=c.length;for(var i=0;i<n;i++){l.counters[c[i]].pop();}};var r=e.resolvePseudoContent=function r(n,c,l){if(!c||!c.content||c.content==='none'||c.content==='-moz-alt-content'||c.display==='none'){return null;}var t=g(c.content);var o=t.length;var q=[];var s='';var u=c.counterIncrement;if(u&&u!=='none'){var v=u.split(/\s+/),w=a(v,2),x=w[0],y=w[1];var z=l.counters[x];if(z){z[z.length-1]+=y===undefined?1:parseInt(y,10);}}for(var i=0;i<o;i++){var A=t[i];switch(A.type){case T.STRING:s+=A.value||'';break;case T.ATTRIBUTE:if(n instanceof HTMLElement&&A.value){s+=n.getAttribute(A.value)||'';}break;case T.COUNTER:var B=l.counters[A.name||''];if(B){s+=k([B[B.length-1]],'',A.format);}break;case T.COUNTERS:var C=l.counters[A.name||''];if(C){s+=k(C,A.glue,A.format);}break;case T.OPENQUOTE:s+=j(c,true,l.quoteDepth);l.quoteDepth++;break;case T.CLOSEQUOTE:l.quoteDepth--;s+=j(c,false,l.quoteDepth);break;case T.URL:if(s){q.push({type:P.TEXT,value:s});s='';}q.push({type:P.IMAGE,value:A.value||''});break;}}if(s){q.push({type:P.TEXT,value:s});}return q;};var g=e.parseContent=function g(l,n){if(n&&n[l]){return n[l];}var t=[];var o=l.length;var q=false;var s=false;var u=false;var v='';var w='';var x=[];for(var i=0;i<o;i++){var c=l.charAt(i);switch(c){case"'":case'"':if(s){v+=c;}else{q=!q;if(!u&&!q){t.push({type:T.STRING,value:v});v='';}}break;case'\\':if(s){v+=c;s=false;}else{s=true;}break;case'(':if(q){v+=c;}else{u=true;w=v;v='';x=[];}break;case')':if(q){v+=c;}else if(u){if(v){x.push(v);}switch(w){case'attr':if(x.length>0){t.push({type:T.ATTRIBUTE,value:x[0]});}break;case'counter':if(x.length>0){var y={type:T.COUNTER,name:x[0]};if(x.length>1){y.format=x[1];}t.push(y);}break;case'counters':if(x.length>0){var z={type:T.COUNTERS,name:x[0]};if(x.length>1){z.glue=x[1];}if(x.length>2){z.format=x[2];}t.push(z);}break;case'url':if(x.length>0){t.push({type:T.URL,value:x[0]});}break;}u=false;v='';}break;case',':if(q){v+=c;}else if(u){x.push(v);v='';}break;case' ':case'\t':if(q){v+=c;}else if(v){h(t,v);v='';}break;default:v+=c;}if(c!=='\\'){s=false;}}if(v){h(t,v);}if(n){n[l]=t;}return t;};var h=function h(t,i){switch(i){case'open-quote':t.push({type:T.OPENQUOTE});break;case'close-quote':t.push({type:T.CLOSEQUOTE});break;}};var j=function j(s,i,q){var c=s.quotes?s.quotes.split(/\s+/):["'\"'","'\"'"];var l=q*2;if(l>=c.length){l=c.length-2;}if(!i){++l;}return c[l].replace(/^["']|["']$/g,'');};var k=function k(c,l,n){var o=c.length;var q='';for(var i=0;i<o;i++){if(i>0){q+=l||'';}q+=(0,b.createCounterText)(c[i],(0,d.parseListStyleType)(n||'decimal'),false);}return q;};})]);});
},
	"sap/gantt/thirdparty/jspdf.js":function(){
/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.789Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */
(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports):typeof define==='function'&&define.amd?define(['exports'],f):(g=g||self,f(g.jsPDF={}));}(this,(function($){'use strict';function _(o){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_=function(o){return typeof o;};}else{_=function(o){return o&&typeof Symbol==="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;};}return _(o);}var e1=function(){return"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this;}();function f1(){if(e1.console&&typeof e1.console.log==="function"){e1.console.log.apply(e1.console,arguments);}}function g1(s){if(e1.console){if(typeof e1.console.warn==="function"){e1.console.warn.apply(e1.console,arguments);}else{f1.call(null,arguments);}}}function h1(s){if(e1.console){if(typeof e1.console.error==="function"){e1.console.error.apply(e1.console,arguments);}else{f1(s);}}}var j1={log:f1,warn:g1,error:h1};function k1(b,o){if(typeof o==="undefined")o={autoBom:false};else if(_(o)!=="object"){j1.warn("Deprecated: Expected third argument to be a object");o={autoBom:!o};}if(o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)){return new Blob([String.fromCharCode(0xfeff),b],{type:b.type});}return b;}function l1(u,n,o){var a=new XMLHttpRequest();a.open("GET",u);a.responseType="blob";a.onload=function(){p1(a.response,n,o);};a.onerror=function(){j1.error("could not download file");};a.send();}function n1(u){var a=new XMLHttpRequest();a.open("HEAD",u,false);try{a.send();}catch(e){}return a.status>=200&&a.status<=299;}function o1(n){try{n.dispatchEvent(new MouseEvent("click"));}catch(e){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",true,true,window,0,0,0,80,20,false,false,false,false,0,null);n.dispatchEvent(a);}}var p1=e1.saveAs||((typeof window==="undefined"?"undefined":_(window))!=="object"||window!==e1?function p1(){}:typeof HTMLAnchorElement!=="undefined"&&"download"in HTMLAnchorElement.prototype?function p1(b,n,o){var U=e1.URL||e1.webkitURL;var a=document.createElement("a");n=n||b.name||"download";a.download=n;a.rel="noopener";if(typeof b==="string"){a.href=b;if(a.origin!==location.origin){n1(a.href)?l1(b,n,o):o1(a,a.target="_blank");}else{o1(a);}}else{a.href=U.createObjectURL(b);setTimeout(function(){U.revokeObjectURL(a.href);},4e4);setTimeout(function(){o1(a);},0);}}:"msSaveOrOpenBlob"in navigator?function p1(b,n,o){n=n||b.name||"download";if(typeof b==="string"){if(n1(b)){l1(b,n,o);}else{var a=document.createElement("a");a.href=b;a.target="_blank";setTimeout(function(){o1(a);});}}else{navigator.msSaveOrOpenBlob(k1(b,o),n);}}:function p1(b,n,o,p){p=p||open("","_blank");if(p){p.document.title=p.document.body.innerText="downloading...";}if(typeof b==="string")return l1(b,n,o);var f=b.type==="application/octet-stream";var a=/constructor/i.test(e1.HTMLElement)||e1.safari;var c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||f&&a)&&(typeof FileReader==="undefined"?"undefined":_(FileReader))==="object"){var r=new FileReader();r.onloadend=function(){var u=r.result;u=c?u:u.replace(/^data:[^;]*;/,"data:attachment/file;");if(p)p.location.href=u;else location=u;p=null;};r.readAsDataURL(b);}else{var U=e1.URL||e1.webkitURL;var u=U.createObjectURL(b);if(p)p.location=u;else location.href=u;p=null;setTimeout(function(){U.revokeObjectURL(u);},4e4);}});
/**
   * A class to parse color values
   * @author Stoyan Stefanov <sstoo@gmail.com>
   * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
   * @license Use it if you like it
   */
function r1(c){c=c||"";this.ok=false;if(c.charAt(0)=="#"){c=c.substr(1,6);}c=c.replace(/ /g,"");c=c.toLowerCase();var a;var s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};c=s[c]||c;var d=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function process(c4){return[parseInt(c4[1]),parseInt(c4[2]),parseInt(c4[3])];}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function process(c4){return[parseInt(c4[1],16),parseInt(c4[2],16),parseInt(c4[3],16)];}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function process(c4){return[parseInt(c4[1]+c4[1],16),parseInt(c4[2]+c4[2],16),parseInt(c4[3]+c4[3],16)];}}];for(var i=0;i<d.length;i++){var f=d[i].re;var p=d[i].process;var c4=f.exec(c);if(c4){a=p(c4);this.r=a[0];this.g=a[1];this.b=a[2];this.ok=true;}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r;this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g;this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")";};this.toHex=function(){var r=this.r.toString(16);var g=this.g.toString(16);var b=this.b.toString(16);if(r.length==1)r="0"+r;if(g.length==1)g="0"+g;if(b.length==1)b="0"+b;return"#"+r+g+b;};}var s1,t1;(function(){s1=e1.atob.bind(e1);t1=e1.btoa.bind(e1);return;})();
/**
   * @license
   * Joseph Myers does not specify a particular license for his work.
   *
   * Author: Joseph Myers
   * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
   *
   * Modified by: Owen Leong
   */
function u1(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a=ff(a,b,c,d,k[0],7,-680876936);d=ff(d,a,b,c,k[1],12,-389564586);c=ff(c,d,a,b,k[2],17,606105819);b=ff(b,c,d,a,k[3],22,-1044525330);a=ff(a,b,c,d,k[4],7,-176418897);d=ff(d,a,b,c,k[5],12,1200080426);c=ff(c,d,a,b,k[6],17,-1473231341);b=ff(b,c,d,a,k[7],22,-45705983);a=ff(a,b,c,d,k[8],7,1770035416);d=ff(d,a,b,c,k[9],12,-1958414417);c=ff(c,d,a,b,k[10],17,-42063);b=ff(b,c,d,a,k[11],22,-1990404162);a=ff(a,b,c,d,k[12],7,1804603682);d=ff(d,a,b,c,k[13],12,-40341101);c=ff(c,d,a,b,k[14],17,-1502002290);b=ff(b,c,d,a,k[15],22,1236535329);a=gg(a,b,c,d,k[1],5,-165796510);d=gg(d,a,b,c,k[6],9,-1069501632);c=gg(c,d,a,b,k[11],14,643717713);b=gg(b,c,d,a,k[0],20,-373897302);a=gg(a,b,c,d,k[5],5,-701558691);d=gg(d,a,b,c,k[10],9,38016083);c=gg(c,d,a,b,k[15],14,-660478335);b=gg(b,c,d,a,k[4],20,-405537848);a=gg(a,b,c,d,k[9],5,568446438);d=gg(d,a,b,c,k[14],9,-1019803690);c=gg(c,d,a,b,k[3],14,-187363961);b=gg(b,c,d,a,k[8],20,1163531501);a=gg(a,b,c,d,k[13],5,-1444681467);d=gg(d,a,b,c,k[2],9,-51403784);c=gg(c,d,a,b,k[7],14,1735328473);b=gg(b,c,d,a,k[12],20,-1926607734);a=hh(a,b,c,d,k[5],4,-378558);d=hh(d,a,b,c,k[8],11,-2022574463);c=hh(c,d,a,b,k[11],16,1839030562);b=hh(b,c,d,a,k[14],23,-35309556);a=hh(a,b,c,d,k[1],4,-1530992060);d=hh(d,a,b,c,k[4],11,1272893353);c=hh(c,d,a,b,k[7],16,-155497632);b=hh(b,c,d,a,k[10],23,-1094730640);a=hh(a,b,c,d,k[13],4,681279174);d=hh(d,a,b,c,k[0],11,-358537222);c=hh(c,d,a,b,k[3],16,-722521979);b=hh(b,c,d,a,k[6],23,76029189);a=hh(a,b,c,d,k[9],4,-640364487);d=hh(d,a,b,c,k[12],11,-421815835);c=hh(c,d,a,b,k[15],16,530742520);b=hh(b,c,d,a,k[2],23,-995338651);a=ii(a,b,c,d,k[0],6,-198630844);d=ii(d,a,b,c,k[7],10,1126891415);c=ii(c,d,a,b,k[14],15,-1416354905);b=ii(b,c,d,a,k[5],21,-57434055);a=ii(a,b,c,d,k[12],6,1700485571);d=ii(d,a,b,c,k[3],10,-1894986606);c=ii(c,d,a,b,k[10],15,-1051523);b=ii(b,c,d,a,k[1],21,-2054922799);a=ii(a,b,c,d,k[8],6,1873313359);d=ii(d,a,b,c,k[15],10,-30611744);c=ii(c,d,a,b,k[6],15,-1560198380);b=ii(b,c,d,a,k[13],21,1309151649);a=ii(a,b,c,d,k[4],6,-145523070);d=ii(d,a,b,c,k[11],10,-1120210379);c=ii(c,d,a,b,k[2],15,718787259);b=ii(b,c,d,a,k[9],21,-343485551);x[0]=K1(a,x[0]);x[1]=K1(b,x[1]);x[2]=K1(c,x[2]);x[3]=K1(d,x[3]);}function v1(q,a,b,x,s,t){a=K1(K1(a,q),K1(x,t));return K1(a<<s|a>>>32-s,b);}function ff(a,b,c,d,x,s,t){return v1(b&c|~b&d,a,b,x,s,t);}function gg(a,b,c,d,x,s,t){return v1(b&d|c&~d,a,b,x,s,t);}function hh(a,b,c,d,x,s,t){return v1(b^c^d,a,b,x,s,t);}function ii(a,b,c,d,x,s,t){return v1(c^(b|~d),a,b,x,s,t);}function A1(s){var n=s.length,a=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=s.length;i+=64){u1(a,B1(s.substring(i-64,i)));}s=s.substring(i-64);var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++){t[i>>2]|=s.charCodeAt(i)<<(i%4<<3);}t[i>>2]|=0x80<<(i%4<<3);if(i>55){u1(a,t);for(i=0;i<16;i++){t[i]=0;}}t[14]=n*8;u1(a,t);return a;}function B1(s){var m=[],i;for(i=0;i<64;i+=4){m[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);}return m;}var C1="0123456789abcdef".split("");function D1(n){var s="",j=0;for(;j<4;j++){s+=C1[n>>j*8+4&0x0f]+C1[n>>j*8&0x0f];}return s;}function E1(x){for(var i=0;i<x.length;i++){x[i]=D1(x[i]);}return x.join("");}function F1(n){return String.fromCharCode((n&0xff)>>0,(n&0xff00)>>8,(n&0xff0000)>>16,(n&0xff000000)>>24);}function G1(x){return x.map(F1).join("");}function H1(s){return G1(A1(s));}function I1(s){return E1(A1(s));}var J1=I1("hello")!="5d41402abc4b2a76b9719d911017c592";function K1(a,b){if(J1){var l=(a&0xffff)+(b&0xffff),m=(a>>16)+(b>>16)+(l>>16);return m<<16|l&0xffff;}else{return a+b&0xffffffff;}}
/**
   * @license
   * FPDF is released under a permissive license: there is no usage restriction.
   * You may embed it freely in your application (commercial or not), with or
   * without modifications.
   *
   * Reference: http://www.fpdf.org/en/script/script37.php
   */
function L1(s,n){return new Array(n+1).join(s);}function M1(c,d){var l,f;if(c!==l){var k=L1(c,(256/c.length>>0)+1);var s=[];for(var i=0;i<256;i++){s[i]=i;}var j=0;for(var i=0;i<256;i++){var t=s[i];j=(j+t+k.charCodeAt(i))%256;s[i]=s[j];s[j]=t;}l=c;f=s;}else{s=f;}var g=d.length;var a=0;var b=0;var o="";for(var i=0;i<g;i++){a=(a+1)%256;t=s[a];b=(b+t)%256;s[a]=s[b];s[b]=t;k=s[(s[a]+s[b])%256];o+=String.fromCharCode(d.charCodeAt(i)^k);}return o;}
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   * Author: Owen Leong (@owenl131)
   * Date: 15 Oct 2020
   * References:
   * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
   * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
   * http://www.fpdf.org/en/script/script37.php
   */
var N1={print:4,modify:8,copy:16,"annot-forms":32};function O1(p,u,o,f){this.v=1;this.r=2;var a=192;p.forEach(function(d){if(typeof N1.perm!=="undefined"){throw new Error("Invalid permission: "+d);}a+=N1[d];});this.padding="\x28\xBF\x4E\x5E\x4E\x75\x8A\x41\x64\x00\x4E\x56\xFF\xFA\x01\x08"+"\x2E\x2E\x00\xB6\xD0\x68\x3E\x80\x2F\x0C\xA9\xFE\x64\x53\x69\x7A";var b=(u+this.padding).substr(0,32);var c=(o+this.padding).substr(0,32);this.O=this.processOwnerPassword(b,c);this.P=-((a^255)+1);this.encryptionKey=H1(b+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(f)).substr(0,5);this.U=M1(this.encryptionKey,this.padding);}O1.prototype.lsbFirstWord=function(d){return String.fromCharCode(d>>0&0xff,d>>8&0xff,d>>16&0xff,d>>24&0xff);};O1.prototype.toHexString=function(b){return b.split("").map(function(a){return("0"+(a.charCodeAt(0)&0xff).toString(16)).slice(-2);}).join("");};O1.prototype.hexToBytes=function(E1){for(var b=[],c=0;c<E1.length;c+=2){b.push(String.fromCharCode(parseInt(E1.substr(c,2),16)));}return b.join("");};O1.prototype.processOwnerPassword=function(p,a){var k=H1(a).substr(0,5);return M1(k,p);};O1.prototype.encryptor=function(o,g){var k=H1(this.encryptionKey+String.fromCharCode(o&0xff,o>>8&0xff,o>>16&0xff,g&0xff,g>>8&0xff)).substr(0,10);return function(d){return M1(k,d);};};function P1(s){if(/[^\u0000-\u00ff]/.test(s)){throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");}var r="",a=s.length;for(var i=0;i<a;i++){var c=s.charCodeAt(i);if(c<0x21||c===0x23||c===0x25||c===0x28||c===0x29||c===0x2f||c===0x3c||c===0x3e||c===0x5b||c===0x5d||c===0x7b||c===0x7d||c>0x7e){
// "©"     169         a9       a9               #a9
var h=c.toString(16),p=("0"+h).slice(-2);r+="#"+p;}else{r+=s[i];}}return r;}function Q1(c){if(_(c)!=="object"){throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");}var t={};this.subscribe=function(a,b,o){o=o||false;if(typeof a!=="string"||typeof b!=="function"||typeof o!=="boolean"){throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");}if(!t.hasOwnProperty(a)){t[a]={};}var d=Math.random().toString(35);t[a][d]=[b,!!o];return d;};this.unsubscribe=function(a){for(var b in t){if(t[b][a]){delete t[b][a];if(Object.keys(t[b]).length===0){delete t[b];}return true;}}return false;};this.publish=function(a){if(t.hasOwnProperty(a)){var b=Array.prototype.slice.call(arguments,1),d=[];for(var f in t[a]){var s=t[a][f];try{s[0].apply(c,b);}catch(g){if(e1.console){j1.error("jsPDF PubSub Error",g.message,g);}}if(s[1])d.push(f);}if(d.length)d.forEach(this.unsubscribe);}};this.getTopics=function(){return t;};}function R1(a){if(!(this instanceof R1)){return new R1(a);}var s="opacity,stroke-opacity".split(",");for(var p in a){if(a.hasOwnProperty(p)&&s.indexOf(p)>=0){this[p]=a[p];}}this.id="";this.objectNumber=-1;}R1.prototype.equals=function equals(o){var a="id,objectNumber,equals";var p;if(!o||_(o)!==_(this))return false;var c=0;for(p in this){if(a.indexOf(p)>=0)continue;if(this.hasOwnProperty(p)&&!o.hasOwnProperty(p))return false;if(this[p]!==o[p])return false;c++;}for(p in o){if(o.hasOwnProperty(p)&&a.indexOf(p)<0)c--;}return c===0;};function S1(g,m){this.gState=g;this.matrix=m;this.id="";this.objectNumber=-1;}function T1(t,c,a,g,m){if(!(this instanceof T1)){return new T1(t,c,a,g,m);}this.type=t==="axial"?2:3;this.coords=c;this.colors=a;S1.call(this,g,m);}function U1(b,a,y,g,m){if(!(this instanceof U1)){return new U1(b,a,y,g,m);}this.boundingBox=b;this.xStep=a;this.yStep=y;this.stream="";this.cloneIndex=0;S1.call(this,g,m);}function V1(o){var g=typeof arguments[0]==="string"?arguments[0]:"p";var u=arguments[1];var q=arguments[2];var z=arguments[3];var A=[];var B=1.0;var C;var D=16;var E="S";var F=null;o=o||{};if(_(o)==="object"){g=o.orientation;u=o.unit||u;q=o.format||q;z=o.compress||o.compressPdf||z;F=o.encryption||null;if(F!==null){F.userPassword=F.userPassword||"";F.ownerPassword=F.ownerPassword||"";F.userPermissions=F.userPermissions||[];}B=typeof o.userUnit==="number"?Math.abs(o.userUnit):1.0;if(typeof o.precision!=="undefined"){C=o.precision;}if(typeof o.floatPrecision!=="undefined"){D=o.floatPrecision;}E=o.defaultPathOperation||"S";}A=o.filters||(z===true?["FlateEncode"]:A);u=u||"mm";g=(""+(g||"P")).toLowerCase();var G=o.putOnlyUsedFonts||false;var H={};var I={internal:{},__private__:{}};I.__private__.PubSub=Q1;var J="1.3";var K=I.__private__.getPdfVersion=function(){return J;};I.__private__.setPdfVersion=function(v){J=v;};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};I.__private__.getPageFormats=function(){return L;};var M=I.__private__.getPageFormat=function(v){return L[v];};q=q||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"};var O=N.COMPAT;function P(){this.saveGraphicsState();z3(new z5(X1,0,0,-X1,0,s7()*X1).toString()+" cm");this.setFontSize(this.getFontSize()/X1);E="n";O=N.ADVANCED;}function Q(){this.restoreGraphicsState();E="S";O=N.COMPAT;}var R=I.__private__.combineFontStyleAndFontWeight=function(f,a){if(f=="bold"&&a=="normal"||f=="bold"&&a==400||f=="normal"&&a=="italic"||f=="bold"&&a=="italic"){throw new Error("Invalid Combination of fontweight and fontstyle");}if(a){f=a==400||a==="normal"?f==="italic"?"italic":"normal":(a==700||a==="bold")&&f==="normal"?"bold":(a==700?"bold":a)+""+f;}return f;};I.advancedAPI=function(b){var d=O===N.COMPAT;if(d){P.call(this);}if(typeof b!=="function"){return this;}b(this);if(d){Q.call(this);}return this;};I.compatAPI=function(b){var d=O===N.ADVANCED;if(d){Q.call(this);}if(typeof b!=="function"){return this;}b(this);if(d){P.call(this);}return this;};I.isAdvancedAPI=function(){return O===N.ADVANCED;};var S=function S(m){if(O!==N.ADVANCED){throw new Error(m+" is only available in 'advanced' API mode. "+"You need to call advancedAPI() first.");}};var T=I.roundToPrecision=I.__private__.roundToPrecision=function(n,p){var t=C||p;if(isNaN(n)||isNaN(t)){throw new Error("Invalid argument passed to jsPDF.roundToPrecision");}return n.toFixed(t).replace(/0+$/,"");};var U;if(typeof D==="number"){U=I.hpf=I.__private__.hpf=function(n){if(isNaN(n)){throw new Error("Invalid argument passed to jsPDF.hpf");}return T(n,D);};}else if(D==="smart"){U=I.hpf=I.__private__.hpf=function(n){if(isNaN(n)){throw new Error("Invalid argument passed to jsPDF.hpf");}if(n>-1&&n<1){return T(n,16);}else{return T(n,5);}};}else{U=I.hpf=I.__private__.hpf=function(n){if(isNaN(n)){throw new Error("Invalid argument passed to jsPDF.hpf");}return T(n,16);};}var V=I.f2=I.__private__.f2=function(n){if(isNaN(n)){throw new Error("Invalid argument passed to jsPDF.f2");}return T(n,2);};var W=I.__private__.f3=function(n){if(isNaN(n)){throw new Error("Invalid argument passed to jsPDF.f3");}return T(n,3);};var e2=I.scale=I.__private__.scale=function(n){if(isNaN(n)){throw new Error("Invalid argument passed to jsPDF.scale");}if(O===N.COMPAT){return n*X1;}else if(O===N.ADVANCED){return n;}};var X=function X(y){if(O===N.COMPAT){return s7()-y;}else if(O===N.ADVANCED){return y;}};var Y=function Y(y){return e2(X(y));};I.__private__.setPrecision=I.setPrecision=function(v){if(typeof parseInt(v,10)==="number"){C=parseInt(v,10);}};var Z="00000000000000000000000000000000";var a1=I.__private__.getFileId=function(){return Z;};var b1=I.__private__.setFileId=function(v){if(typeof v!=="undefined"&&/^[a-fA-F0-9]{32}$/.test(v)){Z=v.toUpperCase();}else{Z=Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(Math.random()*16));}).join("");}if(F!==null){A6=new O1(F.userPermissions,F.userPassword,F.ownerPassword,Z);}return Z;};I.setFileId=function(v){b1(v);return this;};I.getFileId=function(){return a1();};var d1;var i1=I.__private__.convertDateToPDFDate=function(p){var r="";var t=p.getTimezoneOffset(),a=t<0?"+":"-",b=Math.floor(Math.abs(t/60)),c=Math.abs(t%60),d=[a,$1(b),"'",$1(c),"'"].join("");r=["D:",p.getFullYear(),$1(p.getMonth()+1),$1(p.getDate()),$1(p.getHours()),$1(p.getMinutes()),$1(p.getSeconds()),d].join("");return r;};var q1=I.__private__.convertPDFDateToDate=function(p){var y=parseInt(p.substr(2,4),10);var m=parseInt(p.substr(6,2),10)-1;var d=parseInt(p.substr(8,2),10);var h=parseInt(p.substr(10,2),10);var a=parseInt(p.substr(12,2),10);var s=parseInt(p.substr(14,2),10);var r=new Date(y,m,d,h,a,s,0);return r;};var w1=I.__private__.setCreationDate=function(d){var t;var r=/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/;if(typeof d==="undefined"){d=new Date();}if(d instanceof Date){t=i1(d);}else if(r.test(d)){t=d;}else{throw new Error("Invalid argument passed to jsPDF.setCreationDate");}d1=t;return d1;};var z1=I.__private__.getCreationDate=function(t){var r=d1;if(t==="jsDate"){r=q1(d1);}return r;};I.setCreationDate=function(d){w1(d);return this;};I.getCreationDate=function(t){return z1(t);};var $1=I.__private__.padd2=function(n){return("0"+parseInt(n)).slice(-2);};var _1=I.__private__.padd2Hex=function(h){h=h.toString();return("00"+h).substr(h.length);};var a2=0;var b2=[];var d2=[];var i2=0;var k2=[];var q2=[];var t2;var z2=false;var b3=d2;var d3=function d3(){a2=0;i2=0;d2=[];b2=[];k2=[];H5=E5();I5=E5();};I.__private__.setCustomOutputDestination=function(d){z2=true;b3=d;};var f3=function f3(d){if(!z2){b3=d;}};I.__private__.resetCustomOutputDestination=function(){z2=false;b3=d2;};var z3=I.__private__.out=function(s){s=s.toString();i2+=s.length+1;b3.push(s);return b3;};var H3=I.__private__.write=function(v){return z3(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "));};var O3=I.__private__.getArrayBuffer=function(d){var l=d.length,a=new ArrayBuffer(l),b=new Uint8Array(a);while(l--){b[l]=d.charCodeAt(l);}return a;};var P3=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];I.__private__.getStandardFonts=function(){return P3;};var R3=o.fontSize||16;I.__private__.setFontSize=I.setFontSize=function(s){if(O===N.ADVANCED){R3=s/X1;}else{R3=s;}return this;};var S3=I.__private__.getFontSize=I.getFontSize=function(){if(O===N.COMPAT){return R3;}else{return R3*X1;}};var b4=o.R2L||false;I.__private__.setR2L=I.setR2L=function(v){b4=v;return this;};I.__private__.getR2L=I.getR2L=function(){return b4;};var d4;var f4=I.__private__.setZoomMode=function(a){var v=[undefined,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(a)){d4=a;}else if(!isNaN(a)){d4=parseInt(a,10);}else if(v.indexOf(a)!==-1){d4=a;}else{throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+a+'" is not recognized.');}};I.__private__.getZoomMode=function(){return d4;};var m4;var n4=I.__private__.setPageMode=function(p){var v=[undefined,null,"UseNone","UseOutlines","UseThumbs","FullScreen"];if(v.indexOf(p)==-1){throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');}m4=p;};I.__private__.getPageMode=function(){return m4;};var s4;var z4=I.__private__.setLayoutMode=function(l){var v=[undefined,null,"continuous","single","twoleft","tworight","two"];if(v.indexOf(l)==-1){throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+l+'" is not recognized.');}s4=l;};I.__private__.getLayoutMode=function(){return s4;};I.__private__.setDisplayMode=I.setDisplayMode=function(a,l,p){f4(a);z4(l);n4(p);return this;};var b5={title:"",subject:"",author:"",keywords:"",creator:""};I.__private__.getDocumentProperty=function(k){if(Object.keys(b5).indexOf(k)===-1){throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");}return b5[k];};I.__private__.getDocumentProperties=function(){return b5;};I.__private__.setDocumentProperties=I.setProperties=I.setDocumentProperties=function(p){for(var a in b5){if(b5.hasOwnProperty(a)&&p[a]){b5[a]=p[a];}}return this;};I.__private__.setDocumentProperty=function(k,v){if(Object.keys(b5).indexOf(k)===-1){throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");}return b5[k]=v;};var d5={};var h5={};var i5;var j5=[];var k5={};var l5={};var m5={};var n5={};var o5=null;var X1;var p5=0;var q5=[];var r5=new Q1(I);var s5=o.hotfixes||[];var t5={};var u5={};var v5=[];var w5;var x5;var y5;var z5=function z5(s,a,b,c,t,d){if(!(this instanceof z5)){return new z5(s,a,b,c,t,d);}if(isNaN(s))s=1;if(isNaN(a))a=0;if(isNaN(b))b=0;if(isNaN(c))c=1;if(isNaN(t))t=0;if(isNaN(d))d=0;this._matrix=[s,a,b,c,t,d];};Object.defineProperty(z5.prototype,"sx",{get:function get(){return this._matrix[0];},set:function set(v){this._matrix[0]=v;}});Object.defineProperty(z5.prototype,"shy",{get:function get(){return this._matrix[1];},set:function set(v){this._matrix[1]=v;}});Object.defineProperty(z5.prototype,"shx",{get:function get(){return this._matrix[2];},set:function set(v){this._matrix[2]=v;}});Object.defineProperty(z5.prototype,"sy",{get:function get(){return this._matrix[3];},set:function set(v){this._matrix[3]=v;}});Object.defineProperty(z5.prototype,"tx",{get:function get(){return this._matrix[4];},set:function set(v){this._matrix[4]=v;}});Object.defineProperty(z5.prototype,"ty",{get:function get(){return this._matrix[5];},set:function set(v){this._matrix[5]=v;}});Object.defineProperty(z5.prototype,"a",{get:function get(){return this._matrix[0];},set:function set(v){this._matrix[0]=v;}});Object.defineProperty(z5.prototype,"b",{get:function get(){return this._matrix[1];},set:function set(v){this._matrix[1]=v;}});Object.defineProperty(z5.prototype,"c",{get:function get(){return this._matrix[2];},set:function set(v){this._matrix[2]=v;}});Object.defineProperty(z5.prototype,"d",{get:function get(){return this._matrix[3];},set:function set(v){this._matrix[3]=v;}});Object.defineProperty(z5.prototype,"e",{get:function get(){return this._matrix[4];},set:function set(v){this._matrix[4]=v;}});Object.defineProperty(z5.prototype,"f",{get:function get(){return this._matrix[5];},set:function set(v){this._matrix[5]=v;}});Object.defineProperty(z5.prototype,"rotation",{get:function get(){return Math.atan2(this.shx,this.sx);}});Object.defineProperty(z5.prototype,"scaleX",{get:function get(){return this.decompose().scale.sx;}});Object.defineProperty(z5.prototype,"scaleY",{get:function get(){return this.decompose().scale.sy;}});Object.defineProperty(z5.prototype,"isIdentity",{get:function get(){if(this.sx!==1){return false;}if(this.shy!==0){return false;}if(this.shx!==0){return false;}if(this.sy!==1){return false;}if(this.tx!==0){return false;}if(this.ty!==0){return false;}return true;}});z5.prototype.join=function(s){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(s);};z5.prototype.multiply=function(m){var s=m.sx*this.sx+m.shy*this.shx;var a=m.sx*this.shy+m.shy*this.sy;var b=m.shx*this.sx+m.sy*this.shx;var c=m.shx*this.shy+m.sy*this.sy;var t=m.tx*this.sx+m.ty*this.shx+this.tx;var d=m.tx*this.shy+m.ty*this.sy+this.ty;return new z5(s,a,b,c,t,d);};z5.prototype.decompose=function(){var a=this.sx;var b=this.shy;var c=this.shx;var d=this.sy;var e=this.tx;var f=this.ty;var s=Math.sqrt(a*a+b*b);a/=s;b/=s;var h=a*c+b*d;c-=a*h;d-=b*h;var j=Math.sqrt(c*c+d*d);c/=j;d/=j;h/=j;if(a*d<b*c){a=-a;b=-b;h=-h;s=-s;}return{scale:new z5(s,0,0,j,0,0),translate:new z5(1,0,0,1,e,f),rotate:new z5(a,b,-b,a,0,0),skew:new z5(1,0,h,1,0,0)};};z5.prototype.toString=function(p){return this.join(" ");};z5.prototype.inversed=function(){var a=this.sx,b=this.shy,c=this.shx,d=this.sy,e=this.tx,f=this.ty;var h=1/(a*d-b*c);var j=d*h;var k=-b*h;var l=-c*h;var m=a*h;var n=-j*e-l*f;var p=-k*e-m*f;return new z5(j,k,l,m,n,p);};z5.prototype.applyToPoint=function(p){var x=p.x*this.sx+p.y*this.shx+this.tx;var y=p.x*this.shy+p.y*this.sy+this.ty;return new k7(x,y);};z5.prototype.applyToRectangle=function(r){var p=this.applyToPoint(r);var a=this.applyToPoint(new k7(r.x+r.w,r.y+r.h));return new l7(p.x,p.y,a.x-p.x,a.y-p.y);};z5.prototype.clone=function(){var s=this.sx;var a=this.shy;var b=this.shx;var c=this.sy;var t=this.tx;var d=this.ty;return new z5(s,a,b,c,t,d);};I.Matrix=z5;var A5=I.matrixMult=function(m,a){return a.multiply(m);};var B5=new z5(1,0,0,1,0,0);I.unitMatrix=I.identityMatrix=B5;var C5=function C5(k,p){if(l5[k])return;var a=p instanceof T1?"Sh":"P";var b=a+(Object.keys(k5).length+1).toString(10);p.id=b;l5[k]=b;k5[b]=p;r5.publish("addPattern",p);};I.ShadingPattern=T1;I.TilingPattern=U1;I.addShadingPattern=function(k,p){S("addShadingPattern()");C5(k,p);return this;};I.beginTilingPattern=function(p){S("beginTilingPattern()");n7(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix);};I.endTilingPattern=function(k,p){S("endTilingPattern()");p.stream=q2[t2].join("\n");C5(k,p);r5.publish("endTilingPattern",p);v5.pop().restore();};var D5=I.__private__.newObject=function(){var a=E5();F5(a,true);return a;};var E5=I.__private__.newObjectDeferred=function(){a2++;b2[a2]=function(){return i2;};return a2;};var F5=function F5(a,d){d=typeof d==="boolean"?d:false;b2[a]=i2;if(d){z3(a+" 0 obj");}return a;};var G5=I.__private__.newAdditionalObject=function(){var a=E5();var b={objId:a,content:""};k2.push(b);return b;};var H5=E5();var I5=E5();var J5=I.__private__.decodeColorString=function(c){var a=c.split(" ");if(a.length===2&&(a[1]==="g"||a[1]==="G")){var f=parseFloat(a[0]);a=[f,f,f,"r"];}else if(a.length===5&&(a[4]==="k"||a[4]==="K")){var r=(1.0-a[0])*(1.0-a[3]);var b=(1.0-a[1])*(1.0-a[3]);var d=(1.0-a[2])*(1.0-a[3]);a=[r,b,d,"r"];}var h="#";for(var i=0;i<3;i++){h+=("0"+Math.floor(parseFloat(a[i])*255).toString(16)).slice(-2);}return h;};var K5=I.__private__.encodeColorString=function(o){var c;if(typeof o==="string"){o={ch1:o};}var a=o.ch1;var b=o.ch2;var d=o.ch3;var f=o.ch4;var l=o.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof a==="string"&&a.charAt(0)!=="#"){var r=new r1(a);if(r.ok){a=r.toHex();}else if(!/^\d*\.?\d*$/.test(a)){throw new Error('Invalid color "'+a+'" passed to jsPDF.encodeColorString.');}}if(typeof a==="string"&&/^#[0-9A-Fa-f]{3}$/.test(a)){a="#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}if(typeof a==="string"&&/^#[0-9A-Fa-f]{6}$/.test(a)){var E1=parseInt(a.substr(1),16);a=E1>>16&255;b=E1>>8&255;d=E1&255;}if(typeof b==="undefined"||typeof f==="undefined"&&a===b&&b===d){if(typeof a==="string"){c=a+" "+l[0];}else{switch(o.precision){case 2:c=V(a/255)+" "+l[0];break;case 3:default:c=W(a/255)+" "+l[0];}}}else if(typeof f==="undefined"||_(f)==="object"){if(f&&!isNaN(f.a)){if(f.a===0){c=["1.","1.","1.",l[1]].join(" ");return c;}}if(typeof a==="string"){c=[a,b,d,l[1]].join(" ");}else{switch(o.precision){case 2:c=[V(a/255),V(b/255),V(d/255),l[1]].join(" ");break;default:case 3:c=[W(a/255),W(b/255),W(d/255),l[1]].join(" ");}}}else{if(typeof a==="string"){c=[a,b,d,f,l[2]].join(" ");}else{switch(o.precision){case 2:c=[V(a),V(b),V(d),V(f),l[2]].join(" ");break;case 3:default:c=[W(a),W(b),W(d),W(f),l[2]].join(" ");}}}return c;};var L5=I.__private__.getFilters=function(){return A;};var M5=I.__private__.putStream=function(o){o=o||{};var d=o.data||"";var A=o.filters||L5();var a=o.alreadyAppliedFilters||[];var b=o.addLength1||false;var v=d.length;var c=o.objectId;var f=function f(d){return d;};if(F!==null&&typeof c=="undefined"){throw new Error("ObjectId must be passed to putStream for file encryption");}if(F!==null){f=A6.encryptor(c,0);}var p={};if(A===true){A=["FlateEncode"];}var h=o.additionalKeyValues||[];if(typeof V1.API.processDataByFilters!=="undefined"){p=V1.API.processDataByFilters(d,A);}else{p={data:d,reverseChain:[]};}var l=p.reverseChain+(Array.isArray(a)?a.join(" "):a.toString());if(p.data.length!==0){h.push({key:"Length",value:p.data.length});if(b===true){h.push({key:"Length1",value:v});}}if(l.length!=0){if(l.split("/").length-1===1){h.push({key:"Filter",value:l});}else{h.push({key:"Filter",value:"["+l+"]"});for(var j=0;j<h.length;j+=1){if(h[j].key==="DecodeParms"){var m=[];for(var i=0;i<p.reverseChain.split("/").length-1;i+=1){m.push("null");}m.push(h[j].value);h[j].value="["+m.join(" ")+"]";}}}}z3("<<");for(var k=0;k<h.length;k++){z3("/"+h[k].key+" "+h[k].value);}z3(">>");if(p.data.length!==0){z3("stream");z3(f(p.data));z3("endstream");}};var N5=I.__private__.putPage=function(p5){var p=p5.number;var d=p5.data;var a=p5.objId;var b=p5.contentsObjId;F5(a,true);z3("<</Type /Page");z3("/Parent "+p5.rootDictionaryObjId+" 0 R");z3("/Resources "+p5.resourceDictionaryObjId+" 0 R");z3("/MediaBox ["+parseFloat(U(p5.mediaBox.bottomLeftX))+" "+parseFloat(U(p5.mediaBox.bottomLeftY))+" "+U(p5.mediaBox.topRightX)+" "+U(p5.mediaBox.topRightY)+"]");if(p5.cropBox!==null){z3("/CropBox ["+U(p5.cropBox.bottomLeftX)+" "+U(p5.cropBox.bottomLeftY)+" "+U(p5.cropBox.topRightX)+" "+U(p5.cropBox.topRightY)+"]");}if(p5.bleedBox!==null){z3("/BleedBox ["+U(p5.bleedBox.bottomLeftX)+" "+U(p5.bleedBox.bottomLeftY)+" "+U(p5.bleedBox.topRightX)+" "+U(p5.bleedBox.topRightY)+"]");}if(p5.trimBox!==null){z3("/TrimBox ["+U(p5.trimBox.bottomLeftX)+" "+U(p5.trimBox.bottomLeftY)+" "+U(p5.trimBox.topRightX)+" "+U(p5.trimBox.topRightY)+"]");}if(p5.artBox!==null){z3("/ArtBox ["+U(p5.artBox.bottomLeftX)+" "+U(p5.artBox.bottomLeftY)+" "+U(p5.artBox.topRightX)+" "+U(p5.artBox.topRightY)+"]");}if(typeof p5.userUnit==="number"&&p5.userUnit!==1.0){z3("/UserUnit "+p5.userUnit);}r5.publish("putPage",{objId:a,pageContext:q5[p],pageNumber:p,page:d});z3("/Contents "+b+" 0 R");z3(">>");z3("endobj");var c=d.join("\n");if(O===N.ADVANCED){c+="\nQ";}F5(b,true);M5({data:c,filters:L5(),objectId:b});z3("endobj");return a;};var O5=I.__private__.putPages=function(){var n,i,p=[];for(n=1;n<=p5;n++){q5[n].objId=E5();q5[n].contentsObjId=E5();}for(n=1;n<=p5;n++){p.push(N5({number:n,data:q2[n],objId:q5[n].objId,contentsObjId:q5[n].contentsObjId,mediaBox:q5[n].mediaBox,cropBox:q5[n].cropBox,bleedBox:q5[n].bleedBox,trimBox:q5[n].trimBox,artBox:q5[n].artBox,userUnit:q5[n].userUnit,rootDictionaryObjId:H5,resourceDictionaryObjId:I5}));}F5(H5,true);z3("<</Type /Pages");var k="/Kids [";for(i=0;i<p5;i++){k+=p[i]+" 0 R ";}z3(k+"]");z3("/Count "+p5);z3(">>");z3("endobj");r5.publish("postPutPages");};var P5=function P5(f){r5.publish("putFont",{font:f,out:z3,newObject:D5,putStream:M5});if(f.isAlreadyPutted!==true){f.objectNumber=D5();z3("<<");z3("/Type /Font");z3("/BaseFont /"+P1(f.postScriptName));z3("/Subtype /Type1");if(typeof f.encoding==="string"){z3("/Encoding /"+f.encoding);}z3("/FirstChar 32");z3("/LastChar 255");z3(">>");z3("endobj");}};var Q5=function Q5(){for(var f in d5){if(d5.hasOwnProperty(f)){if(G===false||G===true&&H.hasOwnProperty(f)){P5(d5[f]);}}}};var R5=function R5(a){a.objectNumber=D5();var o=[];o.push({key:"Type",value:"/XObject"});o.push({key:"Subtype",value:"/Form"});o.push({key:"BBox",value:"["+[U(a.x),U(a.y),U(a.x+a.width),U(a.y+a.height)].join(" ")+"]"});o.push({key:"Matrix",value:"["+a.matrix.toString()+"]"});var s=a.pages[1].join("\n");M5({data:s,additionalKeyValues:o,objectId:a.objectNumber});z3("endobj");};var S5=function S5(){for(var a in t5){if(t5.hasOwnProperty(a)){R5(t5[a]);}}};var T5=function T5(c,n){var f=[];var t;var h=1.0/(n-1);for(t=0.0;t<1.0;t+=h){f.push(t);}f.push(1.0);if(c[0].offset!=0.0){var j={offset:0.0,color:c[0].color};c.unshift(j);}if(c[c.length-1].offset!=1.0){var k={offset:1.0,color:c[c.length-1].color};c.push(k);}var z3="";var l=0;for(var i=0;i<f.length;i++){t=f[i];while(t>c[l+1].offset){l++;}var a=c[l].offset;var b=c[l+1].offset;var d=(t-a)/(b-a);var m=c[l].color;var p=c[l+1].color;z3+=_1(Math.round((1-d)*m[0]+d*p[0]).toString(16))+_1(Math.round((1-d)*m[1]+d*p[1]).toString(16))+_1(Math.round((1-d)*m[2]+d*p[2]).toString(16));}return z3.trim();};var U5=function U5(p,n){n||(n=21);var f=D5();var s=T5(p.colors,n);var o=[];o.push({key:"FunctionType",value:"0"});o.push({key:"Domain",value:"[0.0 1.0]"});o.push({key:"Size",value:"["+n+"]"});o.push({key:"BitsPerSample",value:"8"});o.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"});o.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"});M5({data:s,additionalKeyValues:o,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:f});z3("endobj");p.objectNumber=D5();z3("<< /ShadingType "+p.type);z3("/ColorSpace /DeviceRGB");var c="/Coords ["+U(parseFloat(p.coords[0]))+" "+U(parseFloat(p.coords[1]))+" ";if(p.type===2){c+=U(parseFloat(p.coords[2]))+" "+U(parseFloat(p.coords[3]));}else{c+=U(parseFloat(p.coords[2]))+" "+U(parseFloat(p.coords[3]))+" "+U(parseFloat(p.coords[4]))+" "+U(parseFloat(p.coords[5]));}c+="]";z3(c);if(p.matrix){z3("/Matrix ["+p.matrix.toString()+"]");}z3("/Function "+f+" 0 R");z3("/Extend [true true]");z3(">>");z3("endobj");};var V5=function V5(p,d){var r=E5();var a=D5();d.push({resourcesOid:r,objectOid:a});p.objectNumber=a;var o=[];o.push({key:"Type",value:"/Pattern"});o.push({key:"PatternType",value:"1"});o.push({key:"PaintType",value:"1"});o.push({key:"TilingType",value:"1"});o.push({key:"BBox",value:"["+p.boundingBox.map(U).join(" ")+"]"});o.push({key:"XStep",value:U(p.xStep)});o.push({key:"YStep",value:U(p.yStep)});o.push({key:"Resources",value:r+" 0 R"});if(p.matrix){o.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});}M5({data:p.stream,additionalKeyValues:o,objectId:p.objectNumber});z3("endobj");};var W5=function W5(d){var p;for(p in k5){if(k5.hasOwnProperty(p)){if(k5[p]instanceof T1){U5(k5[p]);}else if(k5[p]instanceof U1){V5(k5[p],d);}}}};var X5=function X5(a){a.objectNumber=D5();z3("<<");for(var p in a){switch(p){case"opacity":z3("/ca "+V(a[p]));break;case"stroke-opacity":z3("/CA "+V(a[p]));break;}}z3(">>");z3("endobj");};var Y5=function Y5(){var a;for(a in m5){if(m5.hasOwnProperty(a)){X5(m5[a]);}}};var Z5=function Z5(){z3("/XObject <<");for(var a in t5){if(t5.hasOwnProperty(a)&&t5[a].objectNumber>=0){z3("/"+a+" "+t5[a].objectNumber+" 0 R");}}r5.publish("putXobjectDict");z3(">>");};var $5=function $5(){A6.oid=D5();z3("<<");z3("/Filter /Standard");z3("/V "+A6.v);z3("/R "+A6.r);z3("/U <"+A6.toHexString(A6.U)+">");z3("/O <"+A6.toHexString(A6.O)+">");z3("/P "+A6.P);z3(">>");z3("endobj");};var _5=function _5(){z3("/Font <<");for(var f in d5){if(d5.hasOwnProperty(f)){if(G===false||G===true&&H.hasOwnProperty(f)){z3("/"+f+" "+d5[f].objectNumber+" 0 R");}}}z3(">>");};var a6=function a6(){if(Object.keys(k5).length>0){z3("/Shading <<");for(var p in k5){if(k5.hasOwnProperty(p)&&k5[p]instanceof T1&&k5[p].objectNumber>=0){z3("/"+p+" "+k5[p].objectNumber+" 0 R");}}r5.publish("putShadingPatternDict");z3(">>");}};var b6=function b6(a){if(Object.keys(k5).length>0){z3("/Pattern <<");for(var p in k5){if(k5.hasOwnProperty(p)&&k5[p]instanceof I.TilingPattern&&k5[p].objectNumber>=0&&k5[p].objectNumber<a){z3("/"+p+" "+k5[p].objectNumber+" 0 R");}}r5.publish("putTilingPatternDict");z3(">>");}};var c6=function c6(){if(Object.keys(m5).length>0){var a;z3("/ExtGState <<");for(a in m5){if(m5.hasOwnProperty(a)&&m5[a].objectNumber>=0){z3("/"+a+" "+m5[a].objectNumber+" 0 R");}}r5.publish("putGStateDict");z3(">>");}};var d6=function d6(a){F5(a.resourcesOid,true);z3("<<");z3("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");_5();a6();b6(a.objectOid);c6();Z5();z3(">>");z3("endobj");};var e6=function e6(){var d=[];Q5();Y5();S5();W5(d);r5.publish("putResources");d.forEach(d6);d6({resourcesOid:I5,objectOid:Number.MAX_SAFE_INTEGER});r5.publish("postPutResources");};var f6=function f6(){r5.publish("putAdditionalObjects");for(var i=0;i<k2.length;i++){var a=k2[i];F5(a.objId,true);z3(a.content);z3("endobj");}r5.publish("postPutAdditionalObjects");};var g6=function g6(f){h5[f.fontName]=h5[f.fontName]||{};h5[f.fontName][f.fontStyle]=f.id;};var h6=function h6(p,f,a,b,c){var d={id:"F"+(Object.keys(d5).length+1).toString(10),postScriptName:p,fontName:f,fontStyle:a,encoding:b,isStandardFont:c||false,metadata:{}};r5.publish("addFont",{font:d,instance:this});d5[d.id]=d;g6(d);return d.id;};var i6=function i6(a){for(var i=0,l=P3.length;i<l;i++){var f=h6.call(this,a[i][0],a[i][1],a[i][2],P3[i][3],true);if(G===false){H[f]=true;}var p=a[i][0].split("-");g6({id:f,fontName:p[0],fontStyle:p[1]||""});}r5.publish("addFonts",{fonts:d5,dictionary:h5});};var j6=function __safeCall(f){f.foo=function __safeCallWrapper(){try{return f.apply(this,arguments);}catch(e){var s=e.stack||"";if(~s.indexOf(" at "))s=s.split(" at ")[1];var m="Error in function "+s.split("\n")[0].split("<")[0]+": "+e.message;if(e1.console){e1.console.error(m,e);if(e1.alert)alert(m);}else{throw new Error(m);}}};f.foo.bar=f;return f.foo;};var k6=function k6(t,f){var i,l,s,a,b,n,c,d,h;f=f||{};s=f.sourceEncoding||"Unicode";b=f.outputEncoding;if((f.autoencode||b)&&d5[i5].metadata&&d5[i5].metadata[s]&&d5[i5].metadata[s].encoding){a=d5[i5].metadata[s].encoding;if(!b&&d5[i5].encoding){b=d5[i5].encoding;}if(!b&&a.codePages){b=a.codePages[0];}if(typeof b==="string"){b=a[b];}if(b){c=false;n=[];for(i=0,l=t.length;i<l;i++){d=b[t.charCodeAt(i)];if(d){n.push(String.fromCharCode(d));}else{n.push(t[i]);}if(n[i].charCodeAt(0)>>8){c=true;}}t=n.join("");}}i=t.length;while(c===undefined&&i!==0){if(t.charCodeAt(i-1)>>8){c=true;}i--;}if(!c){return t;}n=f.noBOM?[]:[254,255];for(i=0,l=t.length;i<l;i++){d=t.charCodeAt(i);h=d>>8;if(h>>8){throw new Error("Character at position "+i+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");}n.push(h);n.push(d-(h<<8));}return String.fromCharCode.apply(undefined,n);};var Y1=I.__private__.pdfEscape=I.pdfEscape=function(t,f){return k6(t,f).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)");};var l6=I.__private__.beginPage=function(q){q2[++p5]=[];q5[p5]={objId:0,contentsObjId:0,userUnit:Number(B),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(q[0]),topRightY:Number(q[1])}};o6(p5);f3(q2[t2]);};var m6=function m6(p,a){var d,w,h;g=a||g;if(typeof p==="string"){d=M(p.toLowerCase());if(Array.isArray(d)){w=d[0];h=d[1];}}if(Array.isArray(p)){w=p[0]*X1;h=p[1]*X1;}if(isNaN(w)){w=q[0];h=q[1];}if(w>14400||h>14400){j1.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400");w=Math.min(14400,w);h=Math.min(14400,h);}q=[w,h];switch(g.substr(0,1)){case"l":if(h>w){q=[h,w];}break;case"p":if(w>h){q=[h,w];}break;}l6(q);U6(S6);z3(b7);if(h7!==0){z3(h7+" J");}if(i7!==0){z3(i7+" j");}r5.publish("addPage",{pageNumber:p5});};var n6=function n6(n){if(n>0&&n<=p5){q2.splice(n,1);q5.splice(n,1);p5--;if(t2>p5){t2=p5;}this.setPage(t2);}};var o6=function o6(n){if(n>0&&n<=p5){t2=n;}};var p6=I.__private__.getNumberOfPages=I.getNumberOfPages=function(){return q2.length-1;};var q6=function q6(f,a,o){var k=undefined,b;o=o||{};f=f!==undefined?f:d5[i5].fontName;a=a!==undefined?a:d5[i5].fontStyle;b=f.toLowerCase();if(h5[b]!==undefined&&h5[b][a]!==undefined){k=h5[b][a];}else if(h5[f]!==undefined&&h5[f][a]!==undefined){k=h5[f][a];}else{if(o.disableWarning===false){j1.warn("Unable to look up font label for font '"+f+"', '"+a+"'. Refer to getFontList() for available fonts.");}}if(!k&&!o.noFallback){k=h5["times"][a];if(k==null){k=h5["times"]["normal"];}}return k;};var r6=I.__private__.putInfo=function(){var a=D5();var b=function b(d){return d;};if(F!==null){b=A6.encryptor(a,0);}z3("<<");z3("/Producer ("+Y1(b("jsPDF "+V1.version))+")");for(var k in b5){if(b5.hasOwnProperty(k)&&b5[k]){z3("/"+k.substr(0,1).toUpperCase()+k.substr(1)+" ("+Y1(b(b5[k]))+")");}}z3("/CreationDate ("+Y1(b(d1))+")");z3(">>");z3("endobj");};var s6=I.__private__.putCatalog=function(o){o=o||{};var t=o.rootDictionaryObjId||H5;D5();z3("<<");z3("/Type /Catalog");z3("/Pages "+t+" 0 R");if(!d4)d4="fullwidth";switch(d4){case"fullwidth":z3("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z3("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z3("/OpenAction [3 0 R /Fit]");break;case"original":z3("/OpenAction [3 0 R /XYZ null null 1]");break;default:var p=""+d4;if(p.substr(p.length-1)==="%")d4=parseInt(d4)/100;if(typeof d4==="number"){z3("/OpenAction [3 0 R /XYZ null null "+V(d4)+"]");}}if(!s4)s4="continuous";switch(s4){case"continuous":z3("/PageLayout /OneColumn");break;case"single":z3("/PageLayout /SinglePage");break;case"two":case"twoleft":z3("/PageLayout /TwoColumnLeft");break;case"tworight":z3("/PageLayout /TwoColumnRight");break;}if(m4){z3("/PageMode /"+m4);}r5.publish("putCatalog");z3(">>");z3("endobj");};var t6=I.__private__.putTrailer=function(){z3("trailer");z3("<<");z3("/Size "+(a2+1));z3("/Root "+a2+" 0 R");z3("/Info "+(a2-1)+" 0 R");if(F!==null){z3("/Encrypt "+A6.oid+" 0 R");}z3("/ID [ <"+Z+"> <"+Z+"> ]");z3(">>");};var u6=I.__private__.putHeader=function(){z3("%PDF-"+J);z3("%\xBA\xDF\xAC\xE0");};var v6=I.__private__.putXRef=function(){var p="0000000000";z3("xref");z3("0 "+(a2+1));z3("0000000000 65535 f ");for(var i=1;i<=a2;i++){var a=b2[i];if(typeof a==="function"){z3((p+b2[i]()).slice(-10)+" 00000 n ");}else{if(typeof b2[i]!=="undefined"){z3((p+b2[i]).slice(-10)+" 00000 n ");}else{z3("0000000000 00000 n ");}}}};var w6=I.__private__.buildDocument=function(){d3();f3(d2);r5.publish("buildDocument");u6();O5();f6();e6();if(F!==null)$5();r6();s6();var a=i2;v6();t6();z3("startxref");z3(""+a);z3("%%EOF");f3(q2[t2]);return d2.join("\n");};var x6=I.__private__.getBlob=function(d){return new Blob([O3(d)],{type:"application/pdf"});};var y6=I.output=I.__private__.output=j6(function y6(t,o){o=o||{};if(typeof o==="string"){o={filename:o};}else{o.filename=o.filename||"generated.pdf";}switch(t){case undefined:return w6();case"save":I.save(o.filename);break;case"arraybuffer":return O3(w6());case"blob":return x6(w6());case"bloburi":case"bloburl":if(typeof e1.URL!=="undefined"&&typeof e1.URL.createObjectURL==="function"){return e1.URL&&e1.URL.createObjectURL(x6(w6()))||void 0;}else{j1.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");}break;case"datauristring":case"dataurlstring":var d="";var p=w6();try{d=t1(p);}catch(e){d=t1(unescape(encodeURIComponent(p)));}return"data:application/pdf;filename="+o.filename+";base64,"+d;case"pdfobjectnewwindow":if(Object.prototype.toString.call(e1)==="[object Window]"){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js";var b=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';if(o.pdfObjectUrl){a=o.pdfObjectUrl;b="";}var h="<html>"+'<style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+b+'></script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(o)+");</script></body></html>";var n=e1.open();if(n!==null){n.document.write(h);}return n;}else{throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");}case"pdfjsnewwindow":if(Object.prototype.toString.call(e1)==="[object Window]"){var c=o.pdfJsUrl||"examples/PDF.js/web/viewer.html";var f="<html>"+"<style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style>"+'<body><iframe id="pdfViewer" src="'+c+"?file=&downloadName="+o.filename+'" width="500px" height="400px" />'+"</body></html>";var j=e1.open();if(j!==null){j.document.write(f);var s=this;j.document.documentElement.querySelector("#pdfViewer").onload=function(){j.document.title=o.filename;j.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(s.output("bloburl"));};}return j;}else{throw new Error("The option pdfjsnewwindow just works in a browser-environment.");}case"dataurlnewwindow":if(Object.prototype.toString.call(e1)==="[object Window]"){var k="<html>"+"<style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style>"+"<body>"+'<iframe src="'+this.output("datauristring",o)+'"></iframe>'+"</body></html>";var l=e1.open();if(l!==null){l.document.write(k);l.document.title=o.filename;}if(l||typeof safari==="undefined")return l;}else{throw new Error("The option dataurlnewwindow just works in a browser-environment.");}break;case"datauri":case"dataurl":return e1.document.location.href=this.output("datauristring",o);default:return null;}});var z6=function z6(h){return Array.isArray(s5)===true&&s5.indexOf(h)>-1;};switch(u){case"pt":X1=1;break;case"mm":X1=72/25.4;break;case"cm":X1=72/2.54;break;case"in":X1=72;break;case"px":if(z6("px_scaling")==true){X1=72/96;}else{X1=96/72;}break;case"pc":X1=12;break;case"em":X1=12;break;case"ex":X1=6;break;default:if(typeof u==="number"){X1=u;}else{throw new Error("Invalid unit: "+u);}}var A6=null;w1();b1();var B6=function B6(a){if(F!==null){return A6.encryptor(a,0);}return function(d){return d;};};var C6=I.__private__.getPageInfo=I.getPageInfo=function(p){if(isNaN(p)||p%1!==0){throw new Error("Invalid argument passed to jsPDF.getPageInfo");}var a=q5[p].objId;return{objId:a,pageNumber:p,pageContext:q5[p]};};var D6=I.__private__.getPageInfoByObjId=function(a){if(isNaN(a)||a%1!==0){throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");}for(var p in q5){if(q5[p].objId===a){break;}}return C6(p);};var E6=I.__private__.getCurrentPageInfo=I.getCurrentPageInfo=function(){return{objId:q5[t2].objId,pageNumber:t2,pageContext:q5[t2]};};I.addPage=function(){m6.apply(this,arguments);return this;};I.setPage=function(){o6.apply(this,arguments);f3.call(this,q2[t2]);return this;};I.insertPage=function(b){this.addPage();this.movePage(t2,b);return this;};I.movePage=function(t,b){var a,c;if(t>b){a=q2[t];c=q5[t];for(var i=t;i>b;i--){q2[i]=q2[i-1];q5[i]=q5[i-1];}q2[b]=a;q5[b]=c;this.setPage(b);}else if(t<b){a=q2[t];c=q5[t];for(var j=t;j<b;j++){q2[j]=q2[j+1];q5[j]=q5[j+1];}q2[b]=a;q5[b]=c;this.setPage(b);}return this;};I.deletePage=function(){n6.apply(this,arguments);return this;};I.__private__.text=I.text=function(t,x,y,o,a){o=o||{};var b=o.scope||this;var p,d,f,k,m,n,r,w;if(typeof t==="number"&&typeof x==="number"&&(typeof y==="string"||Array.isArray(y))){var c1=y;y=x;x=t;t=c1;}var m1;if(arguments[3]instanceof z5===false){r=arguments[3];f=arguments[4];k=arguments[5];if(_(r)!=="object"||r===null){if(typeof f==="string"){k=f;f=null;}if(typeof r==="string"){k=r;r=null;}if(typeof r==="number"){f=r;r=null;}o={flags:r,angle:f,align:k};}}else{S("The transform parameter of text() with a Matrix value");m1=a;}if(isNaN(x)||isNaN(y)||typeof t==="undefined"||t===null){throw new Error("Invalid arguments passed to jsPDF.text");}if(t.length===0){return b;}var x1="";var y1=false;var m2=typeof o.lineHeightFactor==="number"?o.lineHeightFactor:V6;var X1=b.internal.scaleFactor;function x2(s){s=s.split("\t").join(Array(o.TabLen||9).join(" "));return Y1(s,r);}function y2(t){var v=t.concat();var d=[];var u7=v.length;var v7;while(u7--){v7=v.shift();if(typeof v7==="string"){d.push(v7);}else{if(Array.isArray(t)&&(v7.length===1||v7[1]===undefined&&v7[2]===undefined)){d.push(v7[0]);}else{d.push([v7[0],v7[1],v7[2]]);}}}return d;}function x3(t,v){var V7;if(typeof t==="string"){V7=v(t)[0];}else if(Array.isArray(t)){var sa=t.concat();var d=[];var u7=sa.length;var v7;var y4;while(u7--){v7=sa.shift();if(typeof v7==="string"){d.push(v(v7)[0]);}else if(Array.isArray(v7)&&typeof v7[0]==="string"){y4=v(v7[0],v7[1],v7[2]);d.push([y4[0],y4[1],y4[2]]);}}V7=d;}return V7;}var y3=false;var x4=true;if(typeof t==="string"){y3=true;}else if(Array.isArray(t)){var sa=t.concat();d=[];var u7=sa.length;var v7;while(u7--){v7=sa.shift();if(typeof v7!=="string"||Array.isArray(v7)&&typeof v7[0]!=="string"){x4=false;}}y3=x4;}if(y3===false){throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');}if(typeof t==="string"){if(t.match(/[\r?\n]/)){t=t.split(/\r\n|\r|\n/g);}else{t=[t];}}var w7=R3/b.internal.scaleFactor;var x7=w7*(m2-1);switch(o.baseline){case"bottom":y-=x7;break;case"top":y+=w7-x7;break;case"hanging":y+=w7-2*x7;break;case"middle":y+=w7/2-x7;break;}n=o.maxWidth||0;if(n>0){if(typeof t==="string"){t=b.splitTextToSize(t,n);}else if(Object.prototype.toString.call(t)==="[object Array]"){t=t.reduce(function(v,y4){return v.concat(b.splitTextToSize(y4,n));},[]);}}p={text:t,x:x,y:y,options:o,mutex:{pdfEscape:Y1,activeFontKey:i5,fonts:d5,activeFontSize:R3}};r5.publish("preProcessText",p);t=p.text;o=p.options;f=o.angle;if(m1 instanceof z5===false&&f&&typeof f==="number"){f*=Math.PI/180;if(o.rotationDirection===0){f=-f;}if(O===N.ADVANCED){f=-f;}var c=Math.cos(f);var s=Math.sin(f);m1=new z5(c,s,-s,c,0,0);}else if(f&&f instanceof z5){m1=f;}if(O===N.ADVANCED&&!m1){m1=B5;}m=o.charSpace||f7;if(typeof m!=="undefined"){x1+=U(e2(m))+" Tc\n";this.setCharSpace(this.getCharSpace()||0);}w=o.horizontalScale;if(typeof w!=="undefined"){x1+=U(w*100)+" Tz\n";}var y7=o.lang;var z7=-1;var A7=typeof o.renderingMode!=="undefined"?o.renderingMode:o.stroke;var B7=b.internal.getCurrentPageInfo().pageContext;switch(A7){case 0:case false:case"fill":z7=0;break;case 1:case true:case"stroke":z7=1;break;case 2:case"fillThenStroke":z7=2;break;case 3:case"invisible":z7=3;break;case 4:case"fillAndAddForClipping":z7=4;break;case 5:case"strokeAndAddPathForClipping":z7=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":z7=6;break;case 7:case"addToPathForClipping":z7=7;break;}var C7=typeof B7.usedRenderingMode!=="undefined"?B7.usedRenderingMode:-1;if(z7!==-1){x1+=z7+" Tr\n";}else if(C7!==-1){x1+="0 Tr\n";}if(z7!==-1){B7.usedRenderingMode=z7;}k=o.align||"left";var D7=R3*m2;var E7=b.internal.pageSize.getWidth();var F7=d5[i5];m=o.charSpace||f7;n=o.maxWidth||0;var G7;r=Object.assign({autoencode:true,noBOM:true},o.flags);var H7=[];if(Object.prototype.toString.call(t)==="[object Array]"){d=y2(t);var I7;if(k!=="left"){G7=d.map(function(v){return b.getStringUnitWidth(v,{font:F7,charSpace:m,fontSize:R3,doKerning:false})*R3/X1;});}var J7=0;var K7;if(k==="right"){x-=G7[0];t=[];u7=d.length;for(var i=0;i<u7;i++){if(i===0){K7=Z6(x);I7=$6(y);}else{K7=e2(J7-G7[i]);I7=-D7;}t.push([d[i],K7,I7]);J7=G7[i];}}else if(k==="center"){x-=G7[0]/2;t=[];u7=d.length;for(var j=0;j<u7;j++){if(j===0){K7=Z6(x);I7=$6(y);}else{K7=e2((J7-G7[j])/2);I7=-D7;}t.push([d[j],K7,I7]);J7=G7[j];}}else if(k==="left"){t=[];u7=d.length;for(var h=0;h<u7;h++){t.push(d[h]);}}else if(k==="justify"){t=[];u7=d.length;n=n!==0?n:E7;for(var l=0;l<u7;l++){I7=l===0?$6(y):-D7;K7=l===0?Z6(x):0;if(l<u7-1){H7.push(U(e2((n-G7[l])/(d[l].split(" ").length-1))));}else{H7.push(0);}t.push([d[l],K7,I7]);}}else{throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');}}var L7=typeof o.R2L==="boolean"?o.R2L:b4;if(L7===true){t=x3(t,function(t,Q7,R7){return[t.split("").reverse().join(""),Q7,R7];});}p={text:t,x:x,y:y,options:o,mutex:{pdfEscape:Y1,activeFontKey:i5,fonts:d5,activeFontSize:R3}};r5.publish("postProcessText",p);t=p.text;y1=p.mutex.isHex||false;var M7=d5[i5].encoding;if(M7==="WinAnsiEncoding"||M7==="StandardEncoding"){t=x3(t,function(t,Q7,R7){return[x2(t),Q7,R7];});}d=y2(t);t=[];var N7=0;var O7=1;var P7=Array.isArray(d[0])?O7:N7;var Q7;var R7;var d2;var S7="";var T7=function T7(v,y4,W7){var X7="";if(W7 instanceof z5){if(typeof o.angle==="number"){W7=A5(W7,new z5(1,0,0,1,v,y4));}else{W7=A5(new z5(1,0,0,1,v,y4),W7);}if(O===N.ADVANCED){W7=A5(new z5(1,0,0,-1,0,0),W7);}X7=W7.join(" ")+" Tm\n";}else{X7=U(v)+" "+U(y4)+" Td\n";}return X7;};for(var U7=0;U7<d.length;U7++){S7="";switch(P7){case O7:d2=(y1?"<":"(")+d[U7][0]+(y1?">":")");Q7=parseFloat(d[U7][1]);R7=parseFloat(d[U7][2]);break;case N7:d2=(y1?"<":"(")+d[U7]+(y1?">":")");Q7=Z6(x);R7=$6(y);break;}if(typeof H7!=="undefined"&&typeof H7[U7]!=="undefined"){S7=H7[U7]+" Tw\n";}if(U7===0){t.push(S7+T7(Q7,R7,m1)+d2);}else if(P7===N7){t.push(S7+d2);}else if(P7===O7){t.push(S7+T7(Q7,R7,m1)+d2);}}t=P7===N7?t.join(" Tj\nT* "):t.join(" Tj\n");t+=" Tj\n";var V7="BT\n/";V7+=i5+" "+R3+" Tf\n";V7+=U(R3*m2)+" TL\n";V7+=d7+"\n";V7+=x1;V7+=t;V7+="ET";z3(V7);H[i5]=true;return b;};var F6=I.__private__.clip=I.clip=function(r){if("evenodd"===r){z3("W*");}else{z3("W");}return this;};I.clipEvenOdd=function(){return F6("evenodd");};I.__private__.discardPath=I.discardPath=function(){z3("n");return this;};var G6=I.__private__.isValidStyle=function(s){var v=[undefined,null,"S","D","F","DF","FD","f","f*","B","B*","n"];var r=false;if(v.indexOf(s)!==-1){r=true;}return r;};I.__private__.setDefaultPathOperation=I.setDefaultPathOperation=function(a){if(G6(a)){E=a;}return this;};var H6=I.__private__.getStyle=I.getStyle=function(s){var a=E;switch(s){case"D":case"S":a="S";break;case"F":a="f";break;case"FD":case"DF":a="B";break;case"f":case"f*":case"B":case"B*":a=s;break;}return a;};var I6=I.close=function(){z3("h");return this;};I.stroke=function(){z3("S");return this;};I.fill=function(p){J6("f",p);return this;};I.fillEvenOdd=function(p){J6("f*",p);return this;};I.fillStroke=function(p){J6("B",p);return this;};I.fillStrokeEvenOdd=function(p){J6("B*",p);return this;};var J6=function J6(s,p){if(_(p)==="object"){M6(p,s);}else{z3(s);}};var K6=function K6(s){if(s===null||O===N.ADVANCED&&s===undefined){return;}s=H6(s);z3(s);};function L6(p,b,a,y,m){var c=new U1(b||this.boundingBox,a||this.xStep,y||this.yStep,this.gState,m||this.matrix);c.stream=this.stream;var k=p+"$$"+this.cloneIndex++ +"$$";C5(k,c);return c;}var M6=function M6(p,s){var a=l5[p.key];var b=k5[a];if(b instanceof T1){z3("q");z3(N6(s));if(b.gState){I.setGState(b.gState);}z3(p.matrix.toString()+" cm");z3("/"+a+" sh");z3("Q");}else if(b instanceof U1){var m=new z5(1,0,0,-1,0,s7());if(p.matrix){m=m.multiply(p.matrix||B5);a=L6.call(b,p.key,p.boundingBox,p.xStep,p.yStep,m).id;}z3("q");z3("/Pattern cs");z3("/"+a+" scn");if(b.gState){I.setGState(b.gState);}z3(s);z3("Q");}};var N6=function N6(s){switch(s){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n";}};var O6=I.moveTo=function(x,y){z3(U(e2(x))+" "+U(Y(y))+" m");return this;};var P6=I.lineTo=function(x,y){z3(U(e2(x))+" "+U(Y(y))+" l");return this;};var Q6=I.curveTo=function(a,y,b,c,d,f){z3([U(e2(a)),U(Y(y)),U(e2(b)),U(Y(c)),U(e2(d)),U(Y(f)),"c"].join(" "));return this;};I.__private__.line=I.line=function(a,y,b,c,s){if(isNaN(a)||isNaN(y)||isNaN(b)||isNaN(c)||!G6(s)){throw new Error("Invalid arguments passed to jsPDF.line");}if(O===N.COMPAT){return this.lines([[b-a,c-y]],a,y,[1,1],s||"S");}else{return this.lines([[b-a,c-y]],a,y,[1,1]).stroke();}};I.__private__.lines=I.lines=function(a,x,y,e2,s,c){var b,d,i,l,f,h,j,k,m,n,p,t;if(typeof a==="number"){t=y;y=x;x=a;a=t;}e2=e2||[1,1];c=c||false;if(isNaN(x)||isNaN(y)||!Array.isArray(a)||!Array.isArray(e2)||!G6(s)||typeof c!=="boolean"){throw new Error("Invalid arguments passed to jsPDF.lines");}O6(x,y);b=e2[0];d=e2[1];l=a.length;n=x;p=y;for(i=0;i<l;i++){f=a[i];if(f.length===2){n=f[0]*b+n;p=f[1]*d+p;P6(n,p);}else{h=f[0]*b+n;j=f[1]*d+p;k=f[2]*b+n;m=f[3]*d+p;n=f[4]*b+n;p=f[5]*d+p;Q6(h,j,k,m,n,p);}}if(c){I6();}K6(s);return this;};I.path=function(l){for(var i=0;i<l.length;i++){var a=l[i];var c=a.c;switch(a.op){case"m":O6(c[0],c[1]);break;case"l":P6(c[0],c[1]);break;case"c":Q6.apply(this,c);break;case"h":I6();break;}}return this;};I.__private__.rect=I.rect=function(x,y,w,h,s){if(isNaN(x)||isNaN(y)||isNaN(w)||isNaN(h)||!G6(s)){throw new Error("Invalid arguments passed to jsPDF.rect");}if(O===N.COMPAT){h=-h;}z3([U(e2(x)),U(Y(y)),U(e2(w)),U(e2(h)),"re"].join(" "));K6(s);return this;};I.__private__.triangle=I.triangle=function(a,y,b,c,d,f,s){if(isNaN(a)||isNaN(y)||isNaN(b)||isNaN(c)||isNaN(d)||isNaN(f)||!G6(s)){throw new Error("Invalid arguments passed to jsPDF.triangle");}this.lines([[b-a,c-y],[d-b,f-c],[a-d,y-f]],a,y,[1,1],s,true);return this;};I.__private__.roundedRect=I.roundedRect=function(x,y,w,h,r,a,s){if(isNaN(x)||isNaN(y)||isNaN(w)||isNaN(h)||isNaN(r)||isNaN(a)||!G6(s)){throw new Error("Invalid arguments passed to jsPDF.roundedRect");}var b=4/3*(Math.SQRT2-1);r=Math.min(r,w*0.5);a=Math.min(a,h*0.5);this.lines([[w-2*r,0],[r*b,0,r,a-a*b,r,a],[0,h-2*a],[0,a*b,-(r*b),a,-r,a],[-w+2*r,0],[-(r*b),0,-r,-(a*b),-r,-a],[0,-h+2*a],[0,-(a*b),r*b,-a,r,-a]],x+r,y,[1,1],s,true);return this;};I.__private__.ellipse=I.ellipse=function(x,y,r,a,s){if(isNaN(x)||isNaN(y)||isNaN(r)||isNaN(a)||!G6(s)){throw new Error("Invalid arguments passed to jsPDF.ellipse");}var l=4/3*(Math.SQRT2-1)*r,b=4/3*(Math.SQRT2-1)*a;O6(x+r,y);Q6(x+r,y-b,x+l,y-a,x,y-a);Q6(x-l,y-a,x-r,y-b,x-r,y);Q6(x-r,y+b,x-l,y+a,x,y+a);Q6(x+l,y+a,x+r,y+b,x+r,y);K6(s);return this;};I.__private__.circle=I.circle=function(x,y,r,s){if(isNaN(x)||isNaN(y)||isNaN(r)||!G6(s)){throw new Error("Invalid arguments passed to jsPDF.circle");}return this.ellipse(x,y,r,r,s);};I.setFont=function(f,a,b){if(b){a=R(a,b);}i5=q6(f,a,{disableWarning:false});return this;};var R6=I.__private__.getFont=I.getFont=function(){return d5[q6.apply(I,arguments)];};I.__private__.getFontList=I.getFontList=function(){var l={},f,a;for(f in h5){if(h5.hasOwnProperty(f)){l[f]=[];for(a in h5[f]){if(h5[f].hasOwnProperty(a)){l[f].push(a);}}}}return l;};I.addFont=function(p,f,a,b,c){var d=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];if(arguments[3]&&d.indexOf(arguments[3])!==-1){c=arguments[3];}else if(arguments[3]&&d.indexOf(arguments[3])==-1){a=R(a,b);}c=c||"Identity-H";return h6.call(this,p,f,a,c);};var S6=o.lineWidth||0.200025;var T6=I.__private__.getLineWidth=I.getLineWidth=function(){return S6;};var U6=I.__private__.setLineWidth=I.setLineWidth=function(w){S6=w;z3(U(e2(w))+" w");return this;};I.__private__.setLineDash=V1.API.setLineDash=V1.API.setLineDashPattern=function(d,a){d=d||[];a=a||0;if(isNaN(a)||!Array.isArray(d)){throw new Error("Invalid arguments passed to jsPDF.setLineDash");}d=d.map(function(x){return U(e2(x));}).join(" ");a=U(e2(a));z3("["+d+"] "+a+" d");return this;};var V6;var W6=I.__private__.getLineHeight=I.getLineHeight=function(){return R3*V6;};I.__private__.getLineHeight=I.getLineHeight=function(){return R3*V6;};var X6=I.__private__.setLineHeightFactor=I.setLineHeightFactor=function(v){v=v||1.15;if(typeof v==="number"){V6=v;}return this;};var Y6=I.__private__.getLineHeightFactor=I.getLineHeightFactor=function(){return V6;};X6(o.lineHeight);var Z6=I.__private__.getHorizontalCoordinate=function(v){return e2(v);};var $6=I.__private__.getVerticalCoordinate=function(v){if(O===N.ADVANCED){return v;}else{var p=q5[t2].mediaBox.topRightY-q5[t2].mediaBox.bottomLeftY;return p-e2(v);}};var _6=I.__private__.getHorizontalCoordinateString=I.getHorizontalCoordinateString=function(v){return U(Z6(v));};var a7=I.__private__.getVerticalCoordinateString=I.getVerticalCoordinateString=function(v){return U($6(v));};var b7=o.strokeColor||"0 G";I.__private__.getStrokeColor=I.getDrawColor=function(){return J5(b7);};I.__private__.setStrokeColor=I.setDrawColor=function(c,a,b,d){var o={ch1:c,ch2:a,ch3:b,ch4:d,pdfColorType:"draw",precision:2};b7=K5(o);z3(b7);return this;};var c7=o.fillColor||"0 g";I.__private__.getFillColor=I.getFillColor=function(){return J5(c7);};I.__private__.setFillColor=I.setFillColor=function(c,a,b,d){var o={ch1:c,ch2:a,ch3:b,ch4:d,pdfColorType:"fill",precision:2};c7=K5(o);z3(c7);return this;};var d7=o.textColor||"0 g";var e7=I.__private__.getTextColor=I.getTextColor=function(){return J5(d7);};I.__private__.setTextColor=I.setTextColor=function(c,a,b,d){var o={ch1:c,ch2:a,ch3:b,ch4:d,pdfColorType:"text",precision:3};d7=K5(o);return this;};var f7=o.charSpace;var g7=I.__private__.getCharSpace=I.getCharSpace=function(){return parseFloat(f7||0);};I.__private__.setCharSpace=I.setCharSpace=function(c){if(isNaN(c)){throw new Error("Invalid argument passed to jsPDF.setCharSpace");}f7=c;return this;};var h7=0;I.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};I.__private__.setLineCap=I.setLineCap=function(s){var a=I.CapJoinStyles[s];if(a===undefined){throw new Error("Line cap style of '"+s+"' is not recognized. See or extend .CapJoinStyles property for valid styles");}h7=a;z3(a+" J");return this;};var i7=0;I.__private__.setLineJoin=I.setLineJoin=function(s){var a=I.CapJoinStyles[s];if(a===undefined){throw new Error("Line join style of '"+s+"' is not recognized. See or extend .CapJoinStyles property for valid styles");}i7=a;z3(a+" j");return this;};I.__private__.setLineMiterLimit=I.__private__.setMiterLimit=I.setLineMiterLimit=I.setMiterLimit=function(l){l=l||0;if(isNaN(l)){throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");}z3(U(e2(l))+" M");return this;};I.GState=R1;I.setGState=function(a){if(typeof a==="string"){a=m5[n5[a]];}else{a=j7(null,a);}if(!a.equals(o5)){z3("/"+a.id+" gs");o5=a;}};var j7=function j7(k,a){if(k&&n5[k])return;var d=false;for(var s in m5){if(m5.hasOwnProperty(s)){if(m5[s].equals(a)){d=true;break;}}}if(d){a=m5[s];}else{var b="GS"+(Object.keys(m5).length+1).toString(10);m5[b]=a;a.id=b;}k&&(n5[k]=a.id);r5.publish("addGState",a);return a;};I.addGState=function(k,a){j7(k,a);return this;};I.saveGraphicsState=function(){z3("q");j5.push({key:i5,size:R3,color:d7});return this;};I.restoreGraphicsState=function(){z3("Q");var f=j5.pop();i5=f.key;R3=f.size;d7=f.color;o5=null;return this;};I.setCurrentTransformationMatrix=function(m){z3(m.toString()+" cm");return this;};I.comment=function(t){z3("#"+t);return this;};var k7=function k7(x,y){var a=x||0;Object.defineProperty(this,"x",{enumerable:true,get:function get(){return a;},set:function set(v){if(!isNaN(v)){a=parseFloat(v);}}});var b=y||0;Object.defineProperty(this,"y",{enumerable:true,get:function get(){return b;},set:function set(v){if(!isNaN(v)){b=parseFloat(v);}}});var c="pt";Object.defineProperty(this,"type",{enumerable:true,get:function get(){return c;},set:function set(v){c=v.toString();}});return this;};var l7=function l7(x,y,w,h){k7.call(this,x,y);this.type="rect";var a=w||0;Object.defineProperty(this,"w",{enumerable:true,get:function get(){return a;},set:function set(v){if(!isNaN(v)){a=parseFloat(v);}}});var b=h||0;Object.defineProperty(this,"h",{enumerable:true,get:function get(){return b;},set:function set(v){if(!isNaN(v)){b=parseFloat(v);}}});return this;};var m7=function m7(){this.page=p5;this.currentPage=t2;this.pages=q2.slice(0);this.pagesContext=q5.slice(0);this.x=w5;this.y=x5;this.matrix=y5;this.width=q7(t2);this.height=s7(t2);this.outputDestination=b3;this.id="";this.objectNumber=-1;};m7.prototype.restore=function(){p5=this.page;t2=this.currentPage;q5=this.pagesContext;q2=this.pages;w5=this.x;x5=this.y;y5=this.matrix;r7(t2,this.width);t7(t2,this.height);b3=this.outputDestination;};var n7=function n7(x,y,w,h,m){v5.push(new m7());p5=t2=0;q2=[];w5=x;x5=y;y5=m;l6([w,h]);};var o7=function o7(k){if(u5[k]){v5.pop().restore();return;}var n=new m7();var a="Xo"+(Object.keys(t5).length+1).toString(10);n.id=a;u5[k]=a;t5[a]=n;r5.publish("addFormObject",n);v5.pop().restore();};I.beginFormObject=function(x,y,w,h,m){n7(x,y,w,h,m);return this;};I.endFormObject=function(k){o7(k);return this;};I.doFormObject=function(k,m){var a=t5[u5[k]];z3("q");z3(m.toString()+" cm");z3("/"+a.id+" Do");z3("Q");return this;};I.getFormObject=function(k){var a=t5[u5[k]];return{x:a.x,y:a.y,width:a.width,height:a.height,matrix:a.matrix};};I.save=function(f,o){f=f||"generated.pdf";o=o||{};o.returnPromise=o.returnPromise||false;if(o.returnPromise===false){p1(x6(w6()),f);if(typeof p1.unload==="function"){if(e1.setTimeout){setTimeout(p1.unload,911);}}return this;}else{return new Promise(function(r,a){try{var b=p1(x6(w6()),f);if(typeof p1.unload==="function"){if(e1.setTimeout){setTimeout(p1.unload,911);}}r(b);}catch(e){a(e.message);}});}};for(var p7 in V1.API){if(V1.API.hasOwnProperty(p7)){if(p7==="events"&&V1.API.events.length){(function(r5,n){var a,h,i;for(i=n.length-1;i!==-1;i--){a=n[i][0];h=n[i][1];r5.subscribe.apply(r5,[a].concat(typeof h==="function"?[h]:h));}})(r5,V1.API.events);}else{I[p7]=V1.API[p7];}}}var q7=I.getPageWidth=function(p){p=p||t2;return(q5[p].mediaBox.topRightX-q5[p].mediaBox.bottomLeftX)/X1;};var r7=I.setPageWidth=function(p,v){q5[p].mediaBox.topRightX=v*X1+q5[p].mediaBox.bottomLeftX;};var s7=I.getPageHeight=function(p){p=p||t2;return(q5[p].mediaBox.topRightY-q5[p].mediaBox.bottomLeftY)/X1;};var t7=I.setPageHeight=function(p,v){q5[p].mediaBox.topRightY=v*X1+q5[p].mediaBox.bottomLeftY;};I.internal={pdfEscape:Y1,getStyle:H6,getFont:R6,getFontSize:S3,getCharSpace:g7,getTextColor:e7,getLineHeight:W6,getLineHeightFactor:Y6,getLineWidth:T6,write:H3,getHorizontalCoordinate:Z6,getVerticalCoordinate:$6,getCoordinateString:_6,getVerticalCoordinateString:a7,collections:{},newObject:D5,newAdditionalObject:G5,newObjectDeferred:E5,newObjectDeferredBegin:F5,getFilters:L5,putStream:M5,events:r5,scaleFactor:X1,pageSize:{getWidth:function getWidth(){return q7(t2);},setWidth:function setWidth(v){r7(t2,v);},getHeight:function getHeight(){return s7(t2);},setHeight:function setHeight(v){t7(t2,v);}},encryptionOptions:F,encryption:A6,getEncryptor:B6,output:y6,getNumberOfPages:p6,pages:q2,out:z3,f2:V,f3:W,getPageInfo:C6,getPageInfoByObjId:D6,getCurrentPageInfo:E6,getPDFVersion:K,Point:k7,Rectangle:l7,Matrix:z5,hasHotfix:z6};Object.defineProperty(I.internal.pageSize,"width",{get:function get(){return q7(t2);},set:function set(v){r7(t2,v);},enumerable:true,configurable:true});Object.defineProperty(I.internal.pageSize,"height",{get:function get(){return s7(t2);},set:function set(v){t7(t2,v);},enumerable:true,configurable:true});i6.call(I,P3);i5="F1";m6(q,g);r5.publish("initialized");return I;}V1.API={events:[]};V1.version="2.5.1";var W1=V1.API;var X1=1;var Y1=function Y1(v){return v.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)");};var Z1=function Z1(v){return v.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")");};var f2=function f2(n){return n.toFixed(2);};var f5=function f5(n){return n.toFixed(5);};W1.__acroform__={};var c2=function c2(c,p){c.prototype=Object.create(p.prototype);c.prototype.constructor=c;};var e2=function e2(x){return x*X1;};var g2=function g2(f){var a=new N2();var h=_2.internal.getHeight(f)||0;var w=_2.internal.getWidth(f)||0;a.BBox=[0,0,Number(f2(w)),Number(f2(h))];return a;};var h2=W1.__acroform__.setBit=function(n,b){n=n||0;b=b||0;if(isNaN(n)||isNaN(b)){throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");}var a=1<<b;n|=a;return n;};var j2=W1.__acroform__.clearBit=function(n,b){n=n||0;b=b||0;if(isNaN(n)||isNaN(b)){throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");}var a=1<<b;n&=~a;return n;};var l2=W1.__acroform__.getBit=function(n,b){if(isNaN(n)||isNaN(b)){throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");}return(n&1<<b)===0?0:1;};var n2=W1.__acroform__.getBitForPdf=function(n,b){if(isNaN(n)||isNaN(b)){throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");}return l2(n,b-1);};var o2=W1.__acroform__.setBitForPdf=function(n,b){if(isNaN(n)||isNaN(b)){throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");}return h2(n,b-1);};var p2=W1.__acroform__.clearBitForPdf=function(n,b){if(isNaN(n)||isNaN(b)){throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");}return j2(n,b-1);};var r2=W1.__acroform__.calculateCoordinates=function(a,s){var g=s.internal.getHorizontalCoordinate;var b=s.internal.getVerticalCoordinate;var x=a[0];var y=a[1];var w=a[2];var h=a[3];var c={};c.lowerLeft_X=g(x)||0;c.lowerLeft_Y=b(y+h)||0;c.upperRight_X=g(x+w)||0;c.upperRight_Y=b(y)||0;return[Number(f2(c.lowerLeft_X)),Number(f2(c.lowerLeft_Y)),Number(f2(c.upperRight_X)),Number(f2(c.upperRight_Y))];};var s2=function s2(f){if(f.appearanceStreamContent){return f.appearanceStreamContent;}if(!f.V&&!f.DV){return;}var s=[];var t=f._V||f.DV;var c=u2(f,t);var a=f.scope.internal.getFont(f.fontName,f.fontStyle).id;s.push("/Tx BMC");s.push("q");s.push("BT");s.push(f.scope.__private__.encodeColorString(f.color));s.push("/"+a+" "+f2(c.fontSize)+" Tf");s.push("1 0 0 1 0 0 Tm");s.push(c.text);s.push("ET");s.push("Q");s.push("EMC");var b=g2(f);b.scope=f.scope;b.stream=s.join("\n");return b;};var u2=function u2(f,t){var m=f.fontSize===0?f.maxFontSize:f.fontSize;var r={text:"",fontSize:""};t=t.substr(0,1)=="("?t.substr(1):t;t=t.substr(t.length-1)==")"?t.substr(0,t.length-1):t;var a=t.split(" ");if(f.multiline){a=a.map(function(E){return E.split("\n");});}else{a=a.map(function(E){return[E];});}var b=m;var l=2;var c=2;var h=_2.internal.getHeight(f)||0;h=h<0?-h:h;var w=_2.internal.getWidth(f)||0;w=w<0?-w:w;var d=function d(i,u,b){if(i+1<a.length){var E=u+" "+a[i+1][0];var T=v2(E,f,b).width;var F=w-2*c;return T<=F;}else{return false;}};b++;FontSize:while(b>0){t="";b--;var g=v2("3",f,b).height;var s=f.multiline?h-b:(h-g)/2;s+=l;var j;var k=s;var n=0,o=0;var p;var q=0;if(b<=0){b=12;t="(...) Tj\n";t+="% Width of Text: "+v2(t,f,b).width+", FieldWidth:"+w+"\n";break;}var u="";var v=0;Line:for(var i=0;i<a.length;i++){if(a.hasOwnProperty(i)){var y=false;if(a[i].length!==1&&q!==a[i].length-1){if((g+l)*(v+2)+l>h){continue FontSize;}u+=a[i][q];y=true;o=i;i--;}else{u+=a[i][q]+" ";u=u.substr(u.length-1)==" "?u.substr(0,u.length-1):u;var z=parseInt(i);var A=d(z,u,b);var B=i>=a.length-1;if(A&&!B){u+=" ";q=0;continue;}else if(!A&&!B){if(!f.multiline){continue FontSize;}else{if((g+l)*(v+2)+l>h){continue FontSize;}o=z;}}else if(B){o=z;}else{if(f.multiline&&(g+l)*(v+2)+l>h){continue FontSize;}}}var C="";for(var x=n;x<=o;x++){var D=a[x];if(f.multiline){if(x===o){C+=D[q]+" ";q=(q+1)%D.length;continue;}if(x===n){C+=D[D.length-1]+" ";continue;}}C+=D[0]+" ";}C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C;p=v2(C,f,b).width;switch(f.textAlign){case"right":j=w-p-c;break;case"center":j=(w-p)/2;break;case"left":default:j=c;break;}t+=f2(j)+" "+f2(k)+" Td\n";t+="("+Y1(C)+") Tj\n";t+=-f2(j)+" 0 Td\n";k=-(b+l);p=0;n=y?o:o+1;v++;u="";continue Line;}}break;}r.text=t;r.fontSize=b;return r;};var v2=function v2(t,f,a){var b=f.scope.internal.getFont(f.fontName,f.fontStyle);var w=f.scope.getStringUnitWidth(t,{font:b,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);var h=f.scope.getStringUnitWidth("3",{font:b,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5;return{height:h,width:w};};var w2={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:false,internal:null,isInitialized:false};var A2=function A2(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=undefined;var f=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in f){if(f.hasOwnProperty(i)){var a=f[i];a.objId=undefined;if(a.hasAnnotation){C2(a,s);}}}};var B2=function B2(f){if(f.scope.internal.acroformPlugin.printedOut){f.scope.internal.acroformPlugin.printedOut=false;f.scope.internal.acroformPlugin.acroFormDictionaryRoot=null;}f.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(f);};var C2=function C2(o,s){var a={type:"reference",object:o};var f=function f(b){return b.type===a.type&&b.object===a.object;};if(s.internal.getPageInfo(o.page).pageContext.annotations.find(f)===undefined){s.internal.getPageInfo(o.page).pageContext.annotations.push(a);}};var D2=function D2(s){if(typeof s.internal.acroformPlugin.acroFormDictionaryRoot!=="undefined"){s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" "+0+" R");}else{throw new Error("putCatalogCallback: Root missing.");}};var E2=function E2(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID);delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID;s.internal.acroformPlugin.printedOut=true;};var F2=function F2(f,s){var a=!f;if(!f){s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,true);s.internal.acroformPlugin.acroFormDictionaryRoot.putStream();}f=f||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids;for(var i in f){if(f.hasOwnProperty(i)){var b=f[i];var c=[];var o=b.Rect;if(b.Rect){b.Rect=r2(b.Rect,s);}s.internal.newObjectDeferredBegin(b.objId,true);b.DA=_2.createDefaultAppearanceStream(b);if(_(b)==="object"&&typeof b.getKeyValueListForStream==="function"){c=b.getKeyValueListForStream();}b.Rect=o;if(b.hasAppearanceStream&&!b.appearanceStreamContent){var d=s2(b);c.push({key:"AP",value:"<</N "+d+">>"});s.internal.acroformPlugin.xForms.push(d);}if(b.appearanceStreamContent){var g="";for(var k in b.appearanceStreamContent){if(b.appearanceStreamContent.hasOwnProperty(k)){var v=b.appearanceStreamContent[k];g+="/"+k+" ";g+="<<";if(Object.keys(v).length>=1||Array.isArray(v)){for(var i in v){if(v.hasOwnProperty(i)){var h=v[i];if(typeof h==="function"){h=h.call(s,b);}g+="/"+i+" "+h+" ";if(!(s.internal.acroformPlugin.xForms.indexOf(h)>=0))s.internal.acroformPlugin.xForms.push(h);}}}else{h=v;if(typeof h==="function"){h=h.call(s,b);}g+="/"+i+" "+h;if(!(s.internal.acroformPlugin.xForms.indexOf(h)>=0))s.internal.acroformPlugin.xForms.push(h);}g+=">>";}}c.push({key:"AP",value:"<<\n"+g+">>"});}s.internal.putStream({additionalKeyValues:c,objectId:b.objId});s.internal.out("endobj");}}if(a){G2(s.internal.acroformPlugin.xForms,s);}};var G2=function G2(f,s){for(var i in f){if(f.hasOwnProperty(i)){var k=i;var a=f[i];s.internal.newObjectDeferredBegin(a.objId,true);if(_(a)==="object"&&typeof a.putStream==="function"){a.putStream();}delete f[k];}}};var H2=function H2(s,f){f.scope=s;if(s.internal!==undefined&&(s.internal.acroformPlugin===undefined||s.internal.acroformPlugin.isInitialized===false)){P2.FieldNum=0;s.internal.acroformPlugin=JSON.parse(JSON.stringify(w2));if(s.internal.acroformPlugin.acroFormDictionaryRoot){throw new Error("Exception while creating AcroformDictionary");}X1=s.internal.scaleFactor;s.internal.acroformPlugin.acroFormDictionaryRoot=new O2();s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s;s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){E2(s);});s.internal.events.subscribe("buildDocument",function(){A2(s);});s.internal.events.subscribe("putCatalog",function(){D2(s);});s.internal.events.subscribe("postPutPages",function(a){F2(a,s);});s.internal.acroformPlugin.isInitialized=true;}};var I2=W1.__acroform__.arrayToPdfArray=function(a,o,s){var b=function b(d){return d;};if(Array.isArray(a)){var c="[";for(var i=0;i<a.length;i++){if(i!==0){c+=" ";}switch(_(a[i])){case"boolean":case"number":case"object":c+=a[i].toString();break;case"string":if(a[i].substr(0,1)!=="/"){if(typeof o!=="undefined"&&s)b=s.internal.getEncryptor(o);c+="("+Y1(b(a[i].toString()))+")";}else{c+=a[i].toString();}break;}}c+="]";return c;}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray");};function J2(s,r,a){a||(a=1);var m=[];var b;while(b=r.exec(s)){m.push(b[a]);}return m;}var K2=function K2(a){var r=[];if(typeof a==="string"){r=J2(a,/\((.*?)\)/g);}return r;};var L2=function L2(s,o,a){var b=function b(d){return d;};if(typeof o!=="undefined"&&a)b=a.internal.getEncryptor(o);s=s||"";s.toString();s="("+Y1(b(s))+")";return s;};var M2=function M2(){this._objId=undefined;this._scope=undefined;Object.defineProperty(this,"objId",{get:function get(){if(typeof this._objId==="undefined"){if(typeof this.scope==="undefined"){return undefined;}this._objId=this.scope.internal.newObjectDeferred();}return this._objId;},set:function set(v){this._objId=v;}});Object.defineProperty(this,"scope",{value:this._scope,writable:true});};M2.prototype.toString=function(){return this.objId+" 0 R";};M2.prototype.putStream=function(){var k=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:k,objectId:this.objId});this.scope.internal.out("endobj");};M2.prototype.getKeyValueListForStream=function(){var k=[];var a=Object.getOwnPropertyNames(this).filter(function(b){return b!="content"&&b!="appearanceStreamContent"&&b!="scope"&&b!="objId"&&b.substring(0,1)!="_";});for(var i in a){if(Object.getOwnPropertyDescriptor(this,a[i]).configurable===false){var b=a[i];var v=this[b];if(v){if(Array.isArray(v)){k.push({key:b,value:I2(v,this.objId,this.scope)});}else if(v instanceof M2){v.scope=this.scope;k.push({key:b,value:v.objId+" 0 R"});}else if(typeof v!=="function"){k.push({key:b,value:v});}}}}return k;};var N2=function N2(){M2.call(this);Object.defineProperty(this,"Type",{value:"/XObject",configurable:false,writable:true});Object.defineProperty(this,"Subtype",{value:"/Form",configurable:false,writable:true});Object.defineProperty(this,"FormType",{value:1,configurable:false,writable:true});var a=[];Object.defineProperty(this,"BBox",{configurable:false,get:function get(){return a;},set:function set(v){a=v;}});Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:false,writable:true});var b;Object.defineProperty(this,"stream",{enumerable:false,configurable:true,set:function set(v){b=v.trim();},get:function get(){if(b){return b;}else{return null;}}});};c2(N2,M2);var O2=function O2(){M2.call(this);var a=[];Object.defineProperty(this,"Kids",{enumerable:false,configurable:true,get:function get(){if(a.length>0){return a;}else{return undefined;}}});Object.defineProperty(this,"Fields",{enumerable:false,configurable:false,get:function get(){return a;}});var b;Object.defineProperty(this,"DA",{enumerable:false,configurable:false,get:function get(){if(!b){return undefined;}var c=function c(d){return d;};if(this.scope)c=this.scope.internal.getEncryptor(this.objId);return"("+Y1(c(b))+")";},set:function set(v){b=v;}});};c2(O2,M2);var P2=function P2(){M2.call(this);var a=4;Object.defineProperty(this,"F",{enumerable:false,configurable:false,get:function get(){return a;},set:function set(v){if(!isNaN(v)){a=v;}else{throw new Error('Invalid value "'+v+'" for attribute F supplied.');}}});Object.defineProperty(this,"showWhenPrinted",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(a,3));},set:function set(v){if(Boolean(v)===true){this.F=o2(a,3);}else{this.F=p2(a,3);}}});var b=0;Object.defineProperty(this,"Ff",{enumerable:false,configurable:false,get:function get(){return b;},set:function set(v){if(!isNaN(v)){b=v;}else{throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');}}});var c=[];Object.defineProperty(this,"Rect",{enumerable:false,configurable:false,get:function get(){if(c.length===0){return undefined;}return c;},set:function set(v){if(typeof v!=="undefined"){c=v;}else{c=[];}}});Object.defineProperty(this,"x",{enumerable:true,configurable:true,get:function get(){if(!c||isNaN(c[0])){return 0;}return c[0];},set:function set(v){c[0]=v;}});Object.defineProperty(this,"y",{enumerable:true,configurable:true,get:function get(){if(!c||isNaN(c[1])){return 0;}return c[1];},set:function set(v){c[1]=v;}});Object.defineProperty(this,"width",{enumerable:true,configurable:true,get:function get(){if(!c||isNaN(c[2])){return 0;}return c[2];},set:function set(v){c[2]=v;}});Object.defineProperty(this,"height",{enumerable:true,configurable:true,get:function get(){if(!c||isNaN(c[3])){return 0;}return c[3];},set:function set(v){c[3]=v;}});var d="";Object.defineProperty(this,"FT",{enumerable:true,configurable:false,get:function get(){return d;},set:function set(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":d=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.');}}});var f=null;Object.defineProperty(this,"T",{enumerable:true,configurable:false,get:function get(){if(!f||f.length<1){if(this instanceof X2){return undefined;}f="FieldObject"+P2.FieldNum++;}var s=function s(t){return t;};if(this.scope)s=this.scope.internal.getEncryptor(this.objId);return"("+Y1(s(f))+")";},set:function set(v){f=v.toString();}});Object.defineProperty(this,"fieldName",{configurable:true,enumerable:true,get:function get(){return f;},set:function set(v){f=v;}});var g="helvetica";Object.defineProperty(this,"fontName",{enumerable:true,configurable:true,get:function get(){return g;},set:function set(v){g=v;}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:true,configurable:true,get:function get(){return h;},set:function set(v){h=v;}});var j=0;Object.defineProperty(this,"fontSize",{enumerable:true,configurable:true,get:function get(){return j;},set:function set(v){j=v;}});var k=undefined;Object.defineProperty(this,"maxFontSize",{enumerable:true,configurable:true,get:function get(){if(k===undefined){return 50/X1;}else{return k;}},set:function set(v){k=v;}});var l="black";Object.defineProperty(this,"color",{enumerable:true,configurable:true,get:function get(){return l;},set:function set(v){l=v;}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:true,configurable:false,get:function get(){if(!m||this instanceof X2||this instanceof Z2){return undefined;}return L2(m,this.objId,this.scope);},set:function set(v){v=v.toString();m=v;}});var n=null;Object.defineProperty(this,"DV",{enumerable:false,configurable:false,get:function get(){if(!n){return undefined;}if(this instanceof U2===false){return L2(n,this.objId,this.scope);}return n;},set:function set(v){v=v.toString();if(this instanceof U2===false){if(v.substr(0,1)==="("){n=Z1(v.substr(1,v.length-2));}else{n=Z1(v);}}else{n=v;}}});Object.defineProperty(this,"defaultValue",{enumerable:true,configurable:true,get:function get(){if(this instanceof U2===true){return Z1(n.substr(1,n.length-1));}else{return n;}},set:function set(v){v=v.toString();if(this instanceof U2===true){n="/"+v;}else{n=v;}}});var o=null;Object.defineProperty(this,"_V",{enumerable:false,configurable:false,get:function get(){if(!o){return undefined;}return o;},set:function set(v){this.V=v;}});Object.defineProperty(this,"V",{enumerable:false,configurable:false,get:function get(){if(!o){return undefined;}if(this instanceof U2===false){return L2(o,this.objId,this.scope);}return o;},set:function set(v){v=v.toString();if(this instanceof U2===false){if(v.substr(0,1)==="("){o=Z1(v.substr(1,v.length-2));}else{o=Z1(v);}}else{o=v;}}});Object.defineProperty(this,"value",{enumerable:true,configurable:true,get:function get(){if(this instanceof U2===true){return Z1(o.substr(1,o.length-1));}else{return o;}},set:function set(v){v=v.toString();if(this instanceof U2===true){o="/"+v;}else{o=v;}}});Object.defineProperty(this,"hasAnnotation",{enumerable:true,configurable:true,get:function get(){return this.Rect;}});Object.defineProperty(this,"Type",{enumerable:true,configurable:false,get:function get(){return this.hasAnnotation?"/Annot":null;}});Object.defineProperty(this,"Subtype",{enumerable:true,configurable:false,get:function get(){return this.hasAnnotation?"/Widget":null;}});var p=false;Object.defineProperty(this,"hasAppearanceStream",{enumerable:true,configurable:true,get:function get(){return p;},set:function set(v){v=Boolean(v);p=v;}});var q;Object.defineProperty(this,"page",{enumerable:true,configurable:true,get:function get(){if(!q){return undefined;}return q;},set:function set(v){q=v;}});Object.defineProperty(this,"readOnly",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,1));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,1);}else{this.Ff=p2(this.Ff,1);}}});Object.defineProperty(this,"required",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,2));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,2);}else{this.Ff=p2(this.Ff,2);}}});Object.defineProperty(this,"noExport",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,3));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,3);}else{this.Ff=p2(this.Ff,3);}}});var r=null;Object.defineProperty(this,"Q",{enumerable:true,configurable:false,get:function get(){if(r===null){return undefined;}return r;},set:function set(v){if([0,1,2].indexOf(v)!==-1){r=v;}else{throw new Error('Invalid value "'+v+'" for attribute Q supplied.');}}});Object.defineProperty(this,"textAlign",{get:function get(){var s;switch(r){case 0:default:s="left";break;case 1:s="center";break;case 2:s="right";break;}return s;},configurable:true,enumerable:true,set:function set(v){switch(v){case"right":case 2:r=2;break;case"center":case 1:r=1;break;case"left":case 0:default:r=0;}}});};c2(P2,M2);var Q2=function Q2(){P2.call(this);this.FT="/Ch";this.V="()";this.fontName="zapfdingbats";var a=0;Object.defineProperty(this,"TI",{enumerable:true,configurable:false,get:function get(){return a;},set:function set(v){a=v;}});Object.defineProperty(this,"topIndex",{enumerable:true,configurable:true,get:function get(){return a;},set:function set(v){a=v;}});var b=[];Object.defineProperty(this,"Opt",{enumerable:true,configurable:false,get:function get(){return I2(b,this.objId,this.scope);},set:function set(v){b=K2(v);}});this.getOptions=function(){return b;};this.setOptions=function(v){b=v;if(this.sort){b.sort();}};this.addOption=function(v){v=v||"";v=v.toString();b.push(v);if(this.sort){b.sort();}};this.removeOption=function(v,c){c=c||false;v=v||"";v=v.toString();while(b.indexOf(v)!==-1){b.splice(b.indexOf(v),1);if(c===false){break;}}};Object.defineProperty(this,"combo",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,18));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,18);}else{this.Ff=p2(this.Ff,18);}}});Object.defineProperty(this,"edit",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,19));},set:function set(v){if(this.combo===true){if(Boolean(v)===true){this.Ff=o2(this.Ff,19);}else{this.Ff=p2(this.Ff,19);}}}});Object.defineProperty(this,"sort",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,20));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,20);b.sort();}else{this.Ff=p2(this.Ff,20);}}});Object.defineProperty(this,"multiSelect",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,22));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,22);}else{this.Ff=p2(this.Ff,22);}}});Object.defineProperty(this,"doNotSpellCheck",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,23));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,23);}else{this.Ff=p2(this.Ff,23);}}});Object.defineProperty(this,"commitOnSelChange",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,27));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,27);}else{this.Ff=p2(this.Ff,27);}}});this.hasAppearanceStream=false;};c2(Q2,P2);var R2=function R2(){Q2.call(this);this.fontName="helvetica";this.combo=false;};c2(R2,Q2);var S2=function S2(){R2.call(this);this.combo=true;};c2(S2,R2);var T2=function T2(){S2.call(this);this.edit=true;};c2(T2,S2);var U2=function U2(){P2.call(this);this.FT="/Btn";Object.defineProperty(this,"noToggleToOff",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,15));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,15);}else{this.Ff=p2(this.Ff,15);}}});Object.defineProperty(this,"radio",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,16));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,16);}else{this.Ff=p2(this.Ff,16);}}});Object.defineProperty(this,"pushButton",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,17));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,17);}else{this.Ff=p2(this.Ff,17);}}});Object.defineProperty(this,"radioIsUnison",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,26));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,26);}else{this.Ff=p2(this.Ff,26);}}});var a={};Object.defineProperty(this,"MK",{enumerable:false,configurable:false,get:function get(){var c=function c(d){return d;};if(this.scope)c=this.scope.internal.getEncryptor(this.objId);if(Object.keys(a).length!==0){var r=[];r.push("<<");var k;for(k in a){r.push("/"+k+" ("+Y1(c(a[k]))+")");}r.push(">>");return r.join("\n");}return undefined;},set:function set(v){if(_(v)==="object"){a=v;}}});Object.defineProperty(this,"caption",{enumerable:true,configurable:true,get:function get(){return a.CA||"";},set:function set(v){if(typeof v==="string"){a.CA=v;}}});var b;Object.defineProperty(this,"AS",{enumerable:false,configurable:false,get:function get(){return b;},set:function set(v){b=v;}});Object.defineProperty(this,"appearanceState",{enumerable:true,configurable:true,get:function get(){return b.substr(1,b.length-1);},set:function set(v){b="/"+v;}});};c2(U2,P2);var V2=function V2(){U2.call(this);this.pushButton=true;};c2(V2,U2);var W2=function W2(){U2.call(this);this.radio=true;this.pushButton=false;var a=[];Object.defineProperty(this,"Kids",{enumerable:true,configurable:false,get:function get(){return a;},set:function set(v){if(typeof v!=="undefined"){a=v;}else{a=[];}}});};c2(W2,U2);var X2=function X2(){P2.call(this);var a;Object.defineProperty(this,"Parent",{enumerable:false,configurable:false,get:function get(){return a;},set:function set(v){a=v;}});var b;Object.defineProperty(this,"optionName",{enumerable:false,configurable:true,get:function get(){return b;},set:function set(v){b=v;}});var c={};Object.defineProperty(this,"MK",{enumerable:false,configurable:false,get:function get(){var f=function f(g){return g;};if(this.scope)f=this.scope.internal.getEncryptor(this.objId);var r=[];r.push("<<");var k;for(k in c){r.push("/"+k+" ("+Y1(f(c[k]))+")");}r.push(">>");return r.join("\n");},set:function set(v){if(_(v)==="object"){c=v;}}});Object.defineProperty(this,"caption",{enumerable:true,configurable:true,get:function get(){return c.CA||"";},set:function set(v){if(typeof v==="string"){c.CA=v;}}});var d;Object.defineProperty(this,"AS",{enumerable:false,configurable:false,get:function get(){return d;},set:function set(v){d=v;}});Object.defineProperty(this,"appearanceState",{enumerable:true,configurable:true,get:function get(){return d.substr(1,d.length-1);},set:function set(v){d="/"+v;}});this.caption="l";this.appearanceState="Off";this._AppearanceType=_2.RadioButton.Circle;this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName);};c2(X2,P2);W2.prototype.setAppearance=function(a){if(!("createAppearanceStream"in a&&"getCA"in a)){throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");}for(var o in this.Kids){if(this.Kids.hasOwnProperty(o)){var c=this.Kids[o];c.appearanceStreamContent=a.createAppearanceStream(c.optionName);c.caption=a.getCA();}}};W2.prototype.createOption=function(n){var c=new X2();c.Parent=this;c.optionName=n;this.Kids.push(c);a3.call(this.scope,c);return c;};var Y2=function Y2(){U2.call(this);this.fontName="zapfdingbats";this.caption="3";this.appearanceState="On";this.value="On";this.textAlign="center";this.appearanceStreamContent=_2.CheckBox.createAppearanceStream();};c2(Y2,U2);var Z2=function Z2(){P2.call(this);this.FT="/Tx";Object.defineProperty(this,"multiline",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,13));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,13);}else{this.Ff=p2(this.Ff,13);}}});Object.defineProperty(this,"fileSelect",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,21));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,21);}else{this.Ff=p2(this.Ff,21);}}});Object.defineProperty(this,"doNotSpellCheck",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,23));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,23);}else{this.Ff=p2(this.Ff,23);}}});Object.defineProperty(this,"doNotScroll",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,24));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,24);}else{this.Ff=p2(this.Ff,24);}}});Object.defineProperty(this,"comb",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,25));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,25);}else{this.Ff=p2(this.Ff,25);}}});Object.defineProperty(this,"richText",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,26));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,26);}else{this.Ff=p2(this.Ff,26);}}});var a=null;Object.defineProperty(this,"MaxLen",{enumerable:true,configurable:false,get:function get(){return a;},set:function set(v){a=v;}});Object.defineProperty(this,"maxLength",{enumerable:true,configurable:true,get:function get(){return a;},set:function set(v){if(Number.isInteger(v)){a=v;}}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:true,configurable:true,get:function get(){return this.V||this.DV;}});};c2(Z2,P2);var $2=function $2(){Z2.call(this);Object.defineProperty(this,"password",{enumerable:true,configurable:true,get:function get(){return Boolean(n2(this.Ff,14));},set:function set(v){if(Boolean(v)===true){this.Ff=o2(this.Ff,14);}else{this.Ff=p2(this.Ff,14);}}});this.password=true;};c2($2,Z2);var _2={CheckBox:{createAppearanceStream:function createAppearanceStream(){var a={N:{On:_2.CheckBox.YesNormal},D:{On:_2.CheckBox.YesPushDown,Off:_2.CheckBox.OffPushDown}};return a;},YesPushDown:function YesPushDown(f){var a=g2(f);a.scope=f.scope;var s=[];var b=f.scope.internal.getFont(f.fontName,f.fontStyle).id;var c=f.scope.__private__.encodeColorString(f.color);var d=u2(f,f.caption);s.push("0.749023 g");s.push("0 0 "+f2(_2.internal.getWidth(f))+" "+f2(_2.internal.getHeight(f))+" re");s.push("f");s.push("BMC");s.push("q");s.push("0 0 1 rg");s.push("/"+b+" "+f2(d.fontSize)+" Tf "+c);s.push("BT");s.push(d.text);s.push("ET");s.push("Q");s.push("EMC");a.stream=s.join("\n");return a;},YesNormal:function YesNormal(f){var a=g2(f);a.scope=f.scope;var b=f.scope.internal.getFont(f.fontName,f.fontStyle).id;var c=f.scope.__private__.encodeColorString(f.color);var s=[];var h=_2.internal.getHeight(f);var w=_2.internal.getWidth(f);var d=u2(f,f.caption);s.push("1 g");s.push("0 0 "+f2(w)+" "+f2(h)+" re");s.push("f");s.push("q");s.push("0 0 1 rg");s.push("0 0 "+f2(w-1)+" "+f2(h-1)+" re");s.push("W");s.push("n");s.push("0 g");s.push("BT");s.push("/"+b+" "+f2(d.fontSize)+" Tf "+c);s.push(d.text);s.push("ET");s.push("Q");a.stream=s.join("\n");return a;},OffPushDown:function OffPushDown(f){var a=g2(f);a.scope=f.scope;var s=[];s.push("0.749023 g");s.push("0 0 "+f2(_2.internal.getWidth(f))+" "+f2(_2.internal.getHeight(f))+" re");s.push("f");a.stream=s.join("\n");return a;}},RadioButton:{Circle:{createAppearanceStream:function createAppearanceStream(n){var a={D:{Off:_2.RadioButton.Circle.OffPushDown},N:{}};a.N[n]=_2.RadioButton.Circle.YesNormal;a.D[n]=_2.RadioButton.Circle.YesPushDown;return a;},getCA:function getCA(){return"l";},YesNormal:function YesNormal(f){var a=g2(f);a.scope=f.scope;var s=[];var D=_2.internal.getWidth(f)<=_2.internal.getHeight(f)?_2.internal.getWidth(f)/4:_2.internal.getHeight(f)/4;D=Number((D*0.9).toFixed(5));var c=_2.internal.Bezier_C;var b=Number((D*c).toFixed(5));s.push("q");s.push("1 0 0 1 "+f5(_2.internal.getWidth(f)/2)+" "+f5(_2.internal.getHeight(f)/2)+" cm");s.push(D+" 0 m");s.push(D+" "+b+" "+b+" "+D+" 0 "+D+" c");s.push("-"+b+" "+D+" -"+D+" "+b+" -"+D+" 0 c");s.push("-"+D+" -"+b+" -"+b+" -"+D+" 0 -"+D+" c");s.push(b+" -"+D+" "+D+" -"+b+" "+D+" 0 c");s.push("f");s.push("Q");a.stream=s.join("\n");return a;},YesPushDown:function YesPushDown(f){var a=g2(f);a.scope=f.scope;var s=[];var D=_2.internal.getWidth(f)<=_2.internal.getHeight(f)?_2.internal.getWidth(f)/4:_2.internal.getHeight(f)/4;D=Number((D*0.9).toFixed(5));var k=Number((D*2).toFixed(5));var b=Number((k*_2.internal.Bezier_C).toFixed(5));var d=Number((D*_2.internal.Bezier_C).toFixed(5));s.push("0.749023 g");s.push("q");s.push("1 0 0 1 "+f5(_2.internal.getWidth(f)/2)+" "+f5(_2.internal.getHeight(f)/2)+" cm");s.push(k+" 0 m");s.push(k+" "+b+" "+b+" "+k+" 0 "+k+" c");s.push("-"+b+" "+k+" -"+k+" "+b+" -"+k+" 0 c");s.push("-"+k+" -"+b+" -"+b+" -"+k+" 0 -"+k+" c");s.push(b+" -"+k+" "+k+" -"+b+" "+k+" 0 c");s.push("f");s.push("Q");s.push("0 g");s.push("q");s.push("1 0 0 1 "+f5(_2.internal.getWidth(f)/2)+" "+f5(_2.internal.getHeight(f)/2)+" cm");s.push(D+" 0 m");s.push(""+D+" "+d+" "+d+" "+D+" 0 "+D+" c");s.push("-"+d+" "+D+" -"+D+" "+d+" -"+D+" 0 c");s.push("-"+D+" -"+d+" -"+d+" -"+D+" 0 -"+D+" c");s.push(d+" -"+D+" "+D+" -"+d+" "+D+" 0 c");s.push("f");s.push("Q");a.stream=s.join("\n");return a;},OffPushDown:function OffPushDown(f){var a=g2(f);a.scope=f.scope;var s=[];var D=_2.internal.getWidth(f)<=_2.internal.getHeight(f)?_2.internal.getWidth(f)/4:_2.internal.getHeight(f)/4;D=Number((D*0.9).toFixed(5));var k=Number((D*2).toFixed(5));var b=Number((k*_2.internal.Bezier_C).toFixed(5));s.push("0.749023 g");s.push("q");s.push("1 0 0 1 "+f5(_2.internal.getWidth(f)/2)+" "+f5(_2.internal.getHeight(f)/2)+" cm");s.push(k+" 0 m");s.push(k+" "+b+" "+b+" "+k+" 0 "+k+" c");s.push("-"+b+" "+k+" -"+k+" "+b+" -"+k+" 0 c");s.push("-"+k+" -"+b+" -"+b+" -"+k+" 0 -"+k+" c");s.push(b+" -"+k+" "+k+" -"+b+" "+k+" 0 c");s.push("f");s.push("Q");a.stream=s.join("\n");return a;}},Cross:{createAppearanceStream:function createAppearanceStream(n){var a={D:{Off:_2.RadioButton.Cross.OffPushDown},N:{}};a.N[n]=_2.RadioButton.Cross.YesNormal;a.D[n]=_2.RadioButton.Cross.YesPushDown;return a;},getCA:function getCA(){return"8";},YesNormal:function YesNormal(f){var a=g2(f);a.scope=f.scope;var s=[];var c=_2.internal.calculateCross(f);s.push("q");s.push("1 1 "+f2(_2.internal.getWidth(f)-2)+" "+f2(_2.internal.getHeight(f)-2)+" re");s.push("W");s.push("n");s.push(f2(c.x1.x)+" "+f2(c.x1.y)+" m");s.push(f2(c.x2.x)+" "+f2(c.x2.y)+" l");s.push(f2(c.x4.x)+" "+f2(c.x4.y)+" m");s.push(f2(c.x3.x)+" "+f2(c.x3.y)+" l");s.push("s");s.push("Q");a.stream=s.join("\n");return a;},YesPushDown:function YesPushDown(f){var a=g2(f);a.scope=f.scope;var c=_2.internal.calculateCross(f);var s=[];s.push("0.749023 g");s.push("0 0 "+f2(_2.internal.getWidth(f))+" "+f2(_2.internal.getHeight(f))+" re");s.push("f");s.push("q");s.push("1 1 "+f2(_2.internal.getWidth(f)-2)+" "+f2(_2.internal.getHeight(f)-2)+" re");s.push("W");s.push("n");s.push(f2(c.x1.x)+" "+f2(c.x1.y)+" m");s.push(f2(c.x2.x)+" "+f2(c.x2.y)+" l");s.push(f2(c.x4.x)+" "+f2(c.x4.y)+" m");s.push(f2(c.x3.x)+" "+f2(c.x3.y)+" l");s.push("s");s.push("Q");a.stream=s.join("\n");return a;},OffPushDown:function OffPushDown(f){var a=g2(f);a.scope=f.scope;var s=[];s.push("0.749023 g");s.push("0 0 "+f2(_2.internal.getWidth(f))+" "+f2(_2.internal.getHeight(f))+" re");s.push("f");a.stream=s.join("\n");return a;}}},createDefaultAppearanceStream:function createDefaultAppearanceStream(f){var a=f.scope.internal.getFont(f.fontName,f.fontStyle).id;var b=f.scope.__private__.encodeColorString(f.color);var c=f.fontSize;var r="/"+a+" "+c+" Tf "+b;return r;}};_2.internal={Bezier_C:0.551915024494,calculateCross:function calculateCross(f){var w=_2.internal.getWidth(f);var h=_2.internal.getHeight(f);var a=Math.min(w,h);var c={x1:{x:(w-a)/2,y:(h-a)/2+a},x2:{x:(w-a)/2+a,y:(h-a)/2},x3:{x:(w-a)/2,y:(h-a)/2},x4:{x:(w-a)/2+a,y:(h-a)/2+a}};return c;}};_2.internal.getWidth=function(f){var r=0;if(_(f)==="object"){r=e2(f.Rect[2]);}return r;};_2.internal.getHeight=function(f){var r=0;if(_(f)==="object"){r=e2(f.Rect[3]);}return r;};var a3=W1.addField=function(f){H2(this,f);if(f instanceof P2){B2(f);}else{throw new Error("Invalid argument passed to jsPDF.addField.");}f.page=f.scope.internal.getCurrentPageInfo().pageNumber;return this;};W1.AcroFormChoiceField=Q2;W1.AcroFormListBox=R2;W1.AcroFormComboBox=S2;W1.AcroFormEditBox=T2;W1.AcroFormButton=U2;W1.AcroFormPushButton=V2;W1.AcroFormRadioButton=W2;W1.AcroFormCheckBox=Y2;W1.AcroFormTextField=Z2;W1.AcroFormPasswordField=$2;W1.AcroFormAppearance=_2;W1.AcroForm={ChoiceField:Q2,ListBox:R2,ComboBox:S2,EditBox:T2,Button:U2,PushButton:V2,RadioButton:W2,CheckBox:Y2,TextField:Z2,PasswordField:$2,Appearance:_2};V1.AcroForm={ChoiceField:Q2,ListBox:R2,ComboBox:S2,EditBox:T2,Button:U2,PushButton:V2,RadioButton:W2,CheckBox:Y2,TextField:Z2,PasswordField:$2,Appearance:_2};var c3=V1.AcroForm;(function(W1){var n="addImage_";W1.__addimage__={};var U="UNKNOWN";var A=8192;var a={PNG:[[0x89,0x50,0x4e,0x47]],TIFF:[[0x4d,0x4d,0x00,0x2a],[0x49,0x49,0x2a,0x00]],JPEG:[[0xff,0xd8,0xff,0xe0,undefined,undefined,0x4a,0x46,0x49,0x46,0x00],[0xff,0xd8,0xff,0xe1,undefined,undefined,0x45,0x78,0x69,0x66,0x00,0x00],[0xff,0xd8,0xff,0xdb],[0xff,0xd8,0xff,0xee]],JPEG2000:[[0x00,0x00,0x00,0x0c,0x6a,0x50,0x20,0x20]],GIF87a:[[0x47,0x49,0x46,0x38,0x37,0x61]],GIF89a:[[0x47,0x49,0x46,0x38,0x39,0x61]],WEBP:[[0x52,0x49,0x46,0x46,undefined,undefined,undefined,undefined,0x57,0x45,0x42,0x50]],BMP:[[0x42,0x4d],[0x42,0x41],[0x43,0x49],[0x43,0x50],[0x49,0x43],[0x50,0x54]]};var g=W1.__addimage__.getImageFileTypeByImageData=function(c,h){h=h||U;var i;var j;var s=U;var w;var y;var N;if(h==="RGBA"||c.data!==undefined&&c.data instanceof Uint8ClampedArray&&"height"in c&&"width"in c){return"RGBA";}if(I(c)){for(N in a){w=a[N];for(i=0;i<w.length;i+=1){y=true;for(j=0;j<w[i].length;j+=1){if(w[i][j]===undefined){continue;}if(w[i][j]!==c[j]){y=false;break;}}if(y===true){s=N;break;}}}}else{for(N in a){w=a[N];for(i=0;i<w.length;i+=1){y=true;for(j=0;j<w[i].length;j+=1){if(w[i][j]===undefined){continue;}if(w[i][j]!==c.charCodeAt(j)){y=false;break;}}if(y===true){s=N;break;}}}}if(s===U&&h!==U){s=h;}return s;};var p=function p(c){var h=this.internal.write;var j=this.internal.putStream;var s=this.internal.getFilters;var w=s();while(w.indexOf("FlateEncode")!==-1){w.splice(w.indexOf("FlateEncode"),1);}c.objectId=this.internal.newObject();var y=[];y.push({key:"Type",value:"/XObject"});y.push({key:"Subtype",value:"/Image"});y.push({key:"Width",value:c.width});y.push({key:"Height",value:c.height});if(c.colorSpace===C.INDEXED){y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(c.palette.length/3-1)+" "+("sMask"in c&&typeof c.sMask!=="undefined"?c.objectId+2:c.objectId+1)+" 0 R]"});}else{y.push({key:"ColorSpace",value:"/"+c.colorSpace});if(c.colorSpace===C.DEVICE_CMYK){y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"});}}y.push({key:"BitsPerComponent",value:c.bitsPerComponent});if("decodeParameters"in c&&typeof c.decodeParameters!=="undefined"){y.push({key:"DecodeParms",value:"<<"+c.decodeParameters+">>"});}if("transparency"in c&&Array.isArray(c.transparency)){var N="",i=0,O=c.transparency.length;for(;i<O;i++){N+=c.transparency[i]+" "+c.transparency[i]+" ";}y.push({key:"Mask",value:"["+N+"]"});}if(typeof c.sMask!=="undefined"){y.push({key:"SMask",value:c.objectId+1+" 0 R"});}var P=typeof c.filter!=="undefined"?["/"+c.filter]:undefined;j({data:c.data,additionalKeyValues:y,alreadyAppliedFilters:P,objectId:c.objectId});h("endobj");if("sMask"in c&&typeof c.sMask!=="undefined"){var Q="/Predictor "+c.predictor+" /Colors 1 /BitsPerComponent "+c.bitsPerComponent+" /Columns "+c.width;var R={width:c.width,height:c.height,colorSpace:"DeviceGray",bitsPerComponent:c.bitsPerComponent,decodeParameters:Q,data:c.sMask};if("filter"in c){R.filter=c.filter;}p.call(this,R);}if(c.colorSpace===C.INDEXED){var S=this.internal.newObject();j({data:K(new Uint8Array(c.palette)),objectId:S});h("endobj");}};var b=function b(){var c=this.internal.collections[n+"images"];for(var i in c){p.call(this,c[i]);}};var d=function d(){var c=this.internal.collections[n+"images"],h=this.internal.write,j;for(var i in c){j=c[i];h("/I"+j.index,j.objectId,"0","R");}};var f=function f(c){if(c&&typeof c==="string")c=c.toUpperCase();return c in W1.image_compression?c:D.NONE;};var k=function k(){if(!this.internal.collections[n+"images"]){this.internal.collections[n+"images"]={};this.internal.events.subscribe("putResources",b);this.internal.events.subscribe("putXobjectDict",d);}};var l=function l(){var c=this.internal.collections[n+"images"];k.call(this);return c;};var m=function m(){return Object.keys(this.internal.collections[n+"images"]).length;};var o=function o(c){return typeof c==="undefined"||c===null||c.length===0;};var q=function q(c){if(typeof c==="string"||I(c)){return H(c);}else if(I(c.data)){return H(c.data);}return null;};var r=function r(c){return typeof W1["process"+c.toUpperCase()]==="function";};var t=function t(c){return _(c)==="object"&&c.nodeType===1;};var u=function u(c,h){if(c.nodeName==="IMG"&&c.hasAttribute("src")){var s=""+c.getAttribute("src");if(s.indexOf("data:image/")===0){return s1(unescape(s).split("base64,").pop());}var j=W1.loadFile(s,true);if(j!==undefined){return j;}}if(c.nodeName==="CANVAS"){if(c.width===0||c.height===0){throw new Error("Given canvas must have data. Canvas width: "+c.width+", height: "+c.height);}var w;switch(h){case"PNG":w="image/png";break;case"WEBP":w="image/webp";break;case"JPEG":case"JPG":default:w="image/jpeg";break;}return s1(c.toDataURL(w,1.0).split("base64,").pop());}};var v=function v(c){var h=this.internal.collections[n+"images"];if(h){for(var e in h){if(c===h[e].alias){return h[e];}}}};var z=function z(w,h,c){if(!w&&!h){w=-96;h=-96;}if(w<0){w=-1*c.width*72/w/this.internal.scaleFactor;}if(h<0){h=-1*c.height*72/h/this.internal.scaleFactor;}if(w===0){w=h*c.width/c.height;}if(h===0){h=w*c.height/c.width;}return[w,h];};var B=function B(x,y,w,h,j,N){var O=z.call(this,w,h,j),P=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString;var R=l.call(this);w=O[0];h=O[1];R[j.index]=j;if(N){N*=Math.PI/180;var c=Math.cos(N);var s=Math.sin(N);var S=function S(V){return V.toFixed(4);};var T=[S(c),S(s),S(s*-1),S(c),0,0,"cm"];}this.internal.write("q");if(N){this.internal.write([1,"0","0",1,P(x),Q(y+h),"cm"].join(" "));this.internal.write(T.join(" "));this.internal.write([P(w),"0","0",P(h),"0","0","cm"].join(" "));}else{this.internal.write([P(w),"0","0",P(h),P(x),Q(y+h),"cm"].join(" "));}if(this.isAdvancedAPI()){this.internal.write([1,0,0,-1,0,0,"cm"].join(" "));}this.internal.write("/I"+j.index+" Do");this.internal.write("Q");};var C=W1.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};W1.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=W1.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"};var H=W1.__addimage__.sHashCode=function(c){var h=0,i,j;if(typeof c==="string"){j=c.length;for(i=0;i<j;i++){h=(h<<5)-h+c.charCodeAt(i);h|=0;}}else if(I(c)){j=c.byteLength/2;for(i=0;i<j;i++){h=(h<<5)-h+c[i];h|=0;}}return h;};var E=W1.__addimage__.validateStringAsBase64=function(c){c=c||"";c.toString().trim();var h=true;if(c.length===0){h=false;}if(c.length%4!==0){h=false;}if(/^[A-Za-z0-9+/]+$/.test(c.substr(0,c.length-2))===false){h=false;}if(/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(c.substr(-2))===false){h=false;}return h;};var F=W1.__addimage__.extractImageFromDataUrl=function(c){c=c||"";var h=c.split("base64,");var j=null;if(h.length===2){var s=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(h[0]);if(Array.isArray(s)){j={mimeType:s[1],charset:s[2],data:h[1]};}}return j;};var G=W1.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";};W1.__addimage__.isArrayBuffer=function(c){return G()&&c instanceof ArrayBuffer;};var I=W1.__addimage__.isArrayBufferView=function(c){return G()&&typeof Uint32Array!=="undefined"&&(c instanceof Int8Array||c instanceof Uint8Array||typeof Uint8ClampedArray!=="undefined"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array);};var J=W1.__addimage__.binaryStringToUint8Array=function(c){var h=c.length;var j=new Uint8Array(h);for(var i=0;i<h;i++){j[i]=c.charCodeAt(i);}return j;};var K=W1.__addimage__.arrayBufferToBinaryString=function(c){var h="";var j=I(c)?c:new Uint8Array(c);for(var i=0;i<j.length;i+=A){h+=String.fromCharCode.apply(null,j.subarray(i,i+A));}return h;};W1.addImage=function(){var c,j,x,y,w,h,s,N,O;c=arguments[0];if(typeof arguments[1]==="number"){j=U;x=arguments[1];y=arguments[2];w=arguments[3];h=arguments[4];s=arguments[5];N=arguments[6];O=arguments[7];}else{j=arguments[1];x=arguments[2];y=arguments[3];w=arguments[4];h=arguments[5];s=arguments[6];N=arguments[7];O=arguments[8];}if(_(c)==="object"&&!t(c)&&"imageData"in c){var P=c;c=P.imageData;j=P.format||j||U;x=P.x||x||0;y=P.y||y||0;w=P.w||P.width||w;h=P.h||P.height||h;s=P.alias||s;N=P.compression||N;O=P.rotation||P.angle||O;}var Q=this.internal.getFilters();if(N===undefined&&Q.indexOf("FlateEncode")!==-1){N="SLOW";}if(isNaN(x)||isNaN(y)){throw new Error("Invalid coordinates passed to jsPDF.addImage");}k.call(this);var R=L.call(this,c,j,s,N);B.call(this,x,y,w,h,R,O);return this;};var L=function L(c,h,j,s){var w,y;if(typeof c==="string"&&g(c)===U){c=unescape(c);var N=M(c,false);if(N!==""){c=N;}else{N=W1.loadFile(c,true);if(N!==undefined){c=N;}}}if(t(c)){c=u(c,h);}h=g(c,h);if(!r(h)){throw new Error("addImage does not support files of type '"+h+"', please ensure that a plugin for '"+h+"' support is added.");}if(o(j)){j=q(c);}w=v.call(this,j);if(!w){if(G()){if(!(c instanceof Uint8Array)&&h!=="RGBA"){y=c;c=J(c);}}w=this["process"+h.toUpperCase()](c,m.call(this),j,f(s),y);}if(!w){throw new Error("An unknown error occurred whilst processing the image.");}return w;};var M=W1.__addimage__.convertBase64ToBinaryString=function(s,c){c=typeof c==="boolean"?c:true;var h;var j="";var w;if(typeof s==="string"){h=F(s);w=h!==null?h.data:s;try{j=s1(w);}catch(e){if(c){if(!E(w)){throw new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ");}else{throw new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message);}}}}return j;};W1.getImageProperties=function(c){var h;var j="";var s;if(t(c)){c=u(c);}if(typeof c==="string"&&g(c)===U){j=M(c,false);if(j===""){j=W1.loadFile(c)||"";}c=j;}s=g(c);if(!r(s)){throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");}if(G()&&!(c instanceof Uint8Array)){c=J(c);}h=this["process"+s.toUpperCase()](c);if(!h){throw new Error("An unknown error occurred whilst processing the image");}h.fileType=s;return h;};})(V1.API);
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){var n=function n(o){if(typeof o!="undefined"){if(o!=""){return true;}}};V1.API.events.push(["addPage",function(a){var p=this.internal.getPageInfo(a.pageNumber);p.pageContext.annotations=[];}]);W1.events.push(["putPage",function(p){var g=this.internal.getCoordinateString;var b=this.internal.getVerticalCoordinateString;var c=this.internal.getPageInfoByObjId(p.objId);var d=p.pageContext.annotations;var f,r,l;var h=false;for(var a=0;a<d.length&&!h;a++){f=d[a];switch(f.type){case"link":if(n(f.options.url)||n(f.options.pageNumber)){h=true;}break;case"reference":case"text":case"freetext":h=true;break;}}if(h==false){return;}this.internal.write("/Annots [");for(var i=0;i<d.length;i++){f=d[i];var j=this.internal.pdfEscape;var k=this.internal.getEncryptor(p.objId);switch(f.type){case"reference":this.internal.write(" "+f.object.objId+" 0 R ");break;case"text":var o=this.internal.newAdditionalObject();var m=this.internal.newAdditionalObject();var q=this.internal.getEncryptor(o.objId);var t=f.title||"Note";r="/Rect ["+g(f.bounds.x)+" "+b(f.bounds.y+f.bounds.h)+" "+g(f.bounds.x+f.bounds.w)+" "+b(f.bounds.y)+"] ";l="<</Type /Annot /Subtype /"+"Text"+" "+r+"/Contents ("+j(q(f.contents))+")";l+=" /Popup "+m.objId+" 0 R";l+=" /P "+c.objId+" 0 R";l+=" /T ("+j(q(t))+") >>";o.content=l;var s=o.objId+" 0 R";var u=30;r="/Rect ["+g(f.bounds.x+u)+" "+b(f.bounds.y+f.bounds.h)+" "+g(f.bounds.x+f.bounds.w+u)+" "+b(f.bounds.y)+"] ";l="<</Type /Annot /Subtype /"+"Popup"+" "+r+" /Parent "+s;if(f.open){l+=" /Open true";}l+=" >>";m.content=l;this.internal.write(o.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+g(f.bounds.x)+" "+b(f.bounds.y)+" "+g(f.bounds.x+f.bounds.w)+" "+b(f.bounds.y+f.bounds.h)+"] ";var v=f.color||"#000000";l="<</Type /Annot /Subtype /"+"FreeText"+" "+r+"/Contents ("+j(k(f.contents))+")";l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")";l+=" /Border [0 0 0]";l+=" >>";this.internal.write(l);break;case"link":if(f.options.name){var w=this.annotations._nameMap[f.options.name];f.options.pageNumber=w.page;f.options.top=w.y;}else{if(!f.options.top){f.options.top=0;}}r="/Rect ["+f.finalBounds.x+" "+f.finalBounds.y+" "+f.finalBounds.w+" "+f.finalBounds.h+"] ";l="";if(f.options.url){l="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+j(k(f.options.url))+") >>";}else if(f.options.pageNumber){var y=this.internal.getPageInfo(f.options.pageNumber);l="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+y.objId+" 0 R";f.options.magFactor=f.options.magFactor||"XYZ";switch(f.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+f.options.top+"]";break;case"FitV":f.options.left=f.options.left||0;l+=" /FitV "+f.options.left+"]";break;case"XYZ":default:var z=b(f.options.top);f.options.left=f.options.left||0;if(typeof f.options.zoom==="undefined"){f.options.zoom=0;}l+=" /XYZ "+f.options.left+" "+z+" "+f.options.zoom+"]";break;}}if(l!=""){l+=" >>";this.internal.write(l);}break;}}this.internal.write("]");}]);W1.createAnnotation=function(o){var p=this.internal.getCurrentPageInfo();switch(o.type){case"link":this.link(o.bounds.x,o.bounds.y,o.bounds.w,o.bounds.h,o);break;case"text":case"freetext":p.pageContext.annotations.push(o);break;}};W1.link=function(x,y,w,h,o){var p=this.internal.getCurrentPageInfo();var g=this.internal.getCoordinateString;var a=this.internal.getVerticalCoordinateString;p.pageContext.annotations.push({finalBounds:{x:g(x),y:a(y),w:g(x+w),h:a(y+h)},options:o,type:"link"});};W1.textWithLink=function(t,x,y,o){var a=this.getTextWidth(t);var l=this.internal.getLineHeight()/this.internal.scaleFactor;var b,c;if(o.maxWidth!==undefined){var m=o.maxWidth;c=m;var d=this.splitTextToSize(t,c).length;b=Math.ceil(l*d);}else{c=a;b=l;}this.text(t,x,y,o);y+=l*0.2;if(o.align==="center"){x=x-a/2;}if(o.align==="right"){x=x-a;}this.link(x,y-l,c,b,o);return a;};W1.getTextWidth=function(t){var f=this.internal.getFontSize();var a=this.getStringUnitWidth(t)*f/this.internal.scaleFactor;return a;};return this;})(V1.API);
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){var a={0x0621:[0xfe80],0x0622:[0xfe81,0xfe82],0x0623:[0xfe83,0xfe84],0x0624:[0xfe85,0xfe86],0x0625:[0xfe87,0xfe88],0x0626:[0xfe89,0xfe8a,0xfe8b,0xfe8c],0x0627:[0xfe8d,0xfe8e],0x0628:[0xfe8f,0xfe90,0xfe91,0xfe92],0x0629:[0xfe93,0xfe94],0x062a:[0xfe95,0xfe96,0xfe97,0xfe98],0x062b:[0xfe99,0xfe9a,0xfe9b,0xfe9c],0x062c:[0xfe9d,0xfe9e,0xfe9f,0xfea0],0x062d:[0xfea1,0xfea2,0xfea3,0xfea4],0x062e:[0xfea5,0xfea6,0xfea7,0xfea8],0x062f:[0xfea9,0xfeaa],0x0630:[0xfeab,0xfeac],0x0631:[0xfead,0xfeae],0x0632:[0xfeaf,0xfeb0],0x0633:[0xfeb1,0xfeb2,0xfeb3,0xfeb4],0x0634:[0xfeb5,0xfeb6,0xfeb7,0xfeb8],0x0635:[0xfeb9,0xfeba,0xfebb,0xfebc],0x0636:[0xfebd,0xfebe,0xfebf,0xfec0],0x0637:[0xfec1,0xfec2,0xfec3,0xfec4],0x0638:[0xfec5,0xfec6,0xfec7,0xfec8],0x0639:[0xfec9,0xfeca,0xfecb,0xfecc],0x063a:[0xfecd,0xfece,0xfecf,0xfed0],0x0641:[0xfed1,0xfed2,0xfed3,0xfed4],0x0642:[0xfed5,0xfed6,0xfed7,0xfed8],0x0643:[0xfed9,0xfeda,0xfedb,0xfedc],0x0644:[0xfedd,0xfede,0xfedf,0xfee0],0x0645:[0xfee1,0xfee2,0xfee3,0xfee4],0x0646:[0xfee5,0xfee6,0xfee7,0xfee8],0x0647:[0xfee9,0xfeea,0xfeeb,0xfeec],0x0648:[0xfeed,0xfeee],0x0649:[0xfeef,0xfef0,64488,64489],0x064a:[0xfef1,0xfef2,0xfef3,0xfef4],0x0671:[0xfb50,0xfb51],0x0677:[0xfbdd],0x0679:[0xfb66,0xfb67,0xfb68,0xfb69],0x067a:[0xfb5e,0xfb5f,0xfb60,0xfb61],0x067b:[0xfb52,0xfb53,0xfb54,0xfb55],0x067e:[0xfb56,0xfb57,0xfb58,0xfb59],0x067f:[0xfb62,0xfb63,0xfb64,0xfb65],0x0680:[0xfb5a,0xfb5b,0xfb5c,0xfb5d],0x0683:[0xfb76,0xfb77,0xfb78,0xfb79],0x0684:[0xfb72,0xfb73,0xfb74,0xfb75],0x0686:[0xfb7a,0xfb7b,0xfb7c,0xfb7d],0x0687:[0xfb7e,0xfb7f,0xfb80,0xfb81],0x0688:[0xfb88,0xfb89],0x068c:[0xfb84,0xfb85],0x068d:[0xfb82,0xfb83],0x068e:[0xfb86,0xfb87],0x0691:[0xfb8c,0xfb8d],0x0698:[0xfb8a,0xfb8b],0x06a4:[0xfb6a,0xfb6b,0xfb6c,0xfb6d],0x06a6:[0xfb6e,0xfb6f,0xfb70,0xfb71],0x06a9:[0xfb8e,0xfb8f,0xfb90,0xfb91],0x06ad:[0xfbd3,0xfbd4,0xfbd5,0xfbd6],0x06af:[0xfb92,0xfb93,0xfb94,0xfb95],0x06b1:[0xfb9a,0xfb9b,0xfb9c,0xfb9d],0x06b3:[0xfb96,0xfb97,0xfb98,0xfb99],0x06ba:[0xfb9e,0xfb9f],0x06bb:[0xfba0,0xfba1,0xfba2,0xfba3],0x06be:[0xfbaa,0xfbab,0xfbac,0xfbad],0x06c0:[0xfba4,0xfba5],0x06c1:[0xfba6,0xfba7,0xfba8,0xfba9],0x06c5:[0xfbe0,0xfbe1],0x06c6:[0xfbd9,0xfbda],0x06c7:[0xfbd7,0xfbd8],0x06c8:[0xfbdb,0xfbdc],0x06c9:[0xfbe2,0xfbe3],0x06cb:[0xfbde,0xfbdf],0x06cc:[0xfbfc,0xfbfd,0xfbfe,0xfbff],0x06d0:[0xfbe4,0xfbe5,0xfbe6,0xfbe7],0x06d2:[0xfbae,0xfbaf],0x06d3:[0xfbb0,0xfbb1]};var l={0xfedf:{0xfe82:0xfef5,0xfe84:0xfef7,0xfe88:0xfef9,0xfe8e:0xfefb},0xfee0:{0xfe82:0xfef6,0xfe84:0xfef8,0xfe88:0xfefa,0xfe8e:0xfefc},0xfe8d:{0xfedf:{0xfee0:{0xfeea:0xfdf2}}},0x0651:{0x064c:0xfc5e,0x064d:0xfc5f,0x064e:0xfc60,0x064f:0xfc61,0x0650:0xfc62}};var b={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610};var c=[1570,1571,1573,1575];var n=-1;var d=0;var f=1;var g=2;var m=3;W1.__arabicParser__={};var h=W1.__arabicParser__.isInArabicSubstitutionA=function(j){return typeof a[j.charCodeAt(0)]!=="undefined";};var k=W1.__arabicParser__.isArabicLetter=function(j){return typeof j==="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j);};var o=W1.__arabicParser__.isArabicEndLetter=function(j){return k(j)&&h(j)&&a[j.charCodeAt(0)].length<=2;};var p=W1.__arabicParser__.isArabicAlfLetter=function(j){return k(j)&&c.indexOf(j.charCodeAt(0))>=0;};W1.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return k(j)&&h(j)&&a[j.charCodeAt(0)].length>=1;};var q=W1.__arabicParser__.arabicLetterHasFinalForm=function(j){return k(j)&&h(j)&&a[j.charCodeAt(0)].length>=2;};W1.__arabicParser__.arabicLetterHasInitialForm=function(j){return k(j)&&h(j)&&a[j.charCodeAt(0)].length>=3;};var r=W1.__arabicParser__.arabicLetterHasMedialForm=function(j){return k(j)&&h(j)&&a[j.charCodeAt(0)].length==4;};var s=W1.__arabicParser__.resolveLigatures=function(j){var i=0;var w=l;var y="";var z=0;for(i=0;i<j.length;i+=1){if(typeof w[j.charCodeAt(i)]!=="undefined"){z++;w=w[j.charCodeAt(i)];if(typeof w==="number"){y+=String.fromCharCode(w);w=l;z=0;}if(i===j.length-1){w=l;y+=j.charAt(i-(z-1));i=i-(z-1);z=0;}}else{w=l;y+=j.charAt(i-z);i=i-z;z=0;}}return y;};W1.__arabicParser__.isArabicDiacritic=function(j){return j!==undefined&&b[j.charCodeAt(0)]!==undefined;};var t=W1.__arabicParser__.getCorrectForm=function(j,w,y){if(!k(j)){return-1;}if(h(j)===false){return n;}if(!q(j)||!k(w)&&!k(y)||!k(y)&&o(w)||o(j)&&!k(w)||o(j)&&p(w)||o(j)&&o(w)){return d;}if(r(j)&&k(w)&&!o(w)&&k(y)&&q(y)){return m;}if(o(j)||!k(y)){return f;}return g;};var u=function u(w){w=w||"";var y="";var i=0;var j=0;var z=0;var A="";var B="";var C="";var D=w.split("\\s+");var E=[];for(i=0;i<D.length;i+=1){E.push("");for(j=0;j<D[i].length;j+=1){A=D[i][j];B=D[i][j-1];C=D[i][j+1];if(k(A)){z=t(A,B,C);if(z!==-1){E[i]+=String.fromCharCode(a[A.charCodeAt(0)][z]);}else{E[i]+=A;}}else{E[i]+=A;}}E[i]=s(E[i]);}y=E.join(" ");return y;};var v=W1.__arabicParser__.processArabic=W1.processArabic=function(){var j=typeof arguments[0]==="string"?arguments[0]:arguments[0].text;var w=[];var y;if(Array.isArray(j)){var i=0;w=[];for(i=0;i<j.length;i+=1){if(Array.isArray(j[i])){w.push([u(j[i][0]),j[i][1],j[i][2]]);}else{w.push([u(j[i])]);}}y=w;}else{y=u(j);}if(typeof arguments[0]==="string"){return y;}else{arguments[0].text=y;return arguments[0];}};W1.events.push(["preProcessText",v]);})(V1.API);
/** @license
   * jsPDF Autoprint Plugin
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){W1.autoPrint=function(o){var r;o=o||{};o.variant=o.variant||"non-conform";switch(o.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject();this.internal.out("<<");this.internal.out("/S /Named");this.internal.out("/Type /Action");this.internal.out("/N /Print");this.internal.out(">>");this.internal.out("endobj");});this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R");});break;}return this;};})(V1.API);
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){var C=function C(){var j=undefined;Object.defineProperty(this,"pdf",{get:function get(){return j;},set:function set(v){j=v;}});var a=150;Object.defineProperty(this,"width",{get:function get(){return a;},set:function set(v){if(isNaN(v)||Number.isInteger(v)===false||v<0){a=150;}else{a=v;}if(this.getContext("2d").pageWrapXEnabled){this.getContext("2d").pageWrapX=a+1;}}});var b=300;Object.defineProperty(this,"height",{get:function get(){return b;},set:function set(v){if(isNaN(v)||Number.isInteger(v)===false||v<0){b=300;}else{b=v;}if(this.getContext("2d").pageWrapYEnabled){this.getContext("2d").pageWrapY=b+1;}}});var c=[];Object.defineProperty(this,"childNodes",{get:function get(){return c;},set:function set(v){c=v;}});var d={};Object.defineProperty(this,"style",{get:function get(){return d;},set:function set(v){d=v;}});Object.defineProperty(this,"parentNode",{});};C.prototype.getContext=function(c,a){c=c||"2d";var k;if(c!=="2d"){return null;}for(k in a){if(this.pdf.context2d.hasOwnProperty(k)){this.pdf.context2d[k]=a[k];}}this.pdf.context2d._canvas=this;return this.pdf.context2d;};C.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.");};W1.events.push(["initialized",function(){this.canvas=new C();this.canvas.pdf=this;}]);return this;})(V1.API);(function(W1){var N={left:0,top:0,bottom:0,right:0};var p=0.264583*72/25.4;var a=false;var b=function b(){if(typeof this.internal.__cell__==="undefined"){this.internal.__cell__={};this.internal.__cell__.padding=3;this.internal.__cell__.headerFunction=undefined;this.internal.__cell__.margins=Object.assign({},N);this.internal.__cell__.margins.width=this.getPageWidth();c.call(this);}};var c=function c(){this.internal.__cell__.lastCell=new C();this.internal.__cell__.pages=1;};var C=function C(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:true,get:function get(){return g;},set:function set(v){g=v;}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:true,get:function get(){return h;},set:function set(v){h=v;}});var j=arguments[2];Object.defineProperty(this,"width",{enumerable:true,get:function get(){return j;},set:function set(v){j=v;}});var k=arguments[3];Object.defineProperty(this,"height",{enumerable:true,get:function get(){return k;},set:function set(v){k=v;}});var l=arguments[4];Object.defineProperty(this,"text",{enumerable:true,get:function get(){return l;},set:function set(v){l=v;}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:true,get:function get(){return m;},set:function set(v){m=v;}});var n=arguments[6];Object.defineProperty(this,"align",{enumerable:true,get:function get(){return n;},set:function set(v){n=v;}});return this;};C.prototype.clone=function(){return new C(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align);};C.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align];};W1.setHeaderFunction=function(g){b.call(this);this.internal.__cell__.headerFunction=typeof g==="function"?g:undefined;return this;};W1.getTextDimensions=function(t,o){b.call(this);o=o||{};var g=o.fontSize||this.getFontSize();var h=o.font||this.getFont();var X1=o.scaleFactor||this.internal.scaleFactor;var w=0;var j=0;var k=0;var l=0;var s=this;if(!Array.isArray(t)&&typeof t!=="string"){if(typeof t==="number"){t=String(t);}else{throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");}}var m=o.maxWidth;if(m>0){if(typeof t==="string"){t=this.splitTextToSize(t,m);}else if(Object.prototype.toString.call(t)==="[object Array]"){t=t.reduce(function(n,q){return n.concat(s.splitTextToSize(q,m));},[]);}}else{t=Array.isArray(t)?t:[t];}for(var i=0;i<t.length;i++){l=this.getStringUnitWidth(t[i],{font:h})*g;if(w<l){w=l;}}if(w!==0){j=t.length;}w=w/X1;k=Math.max((j*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/X1,0);return{w:w,h:k};};W1.cellAddPage=function(){b.call(this);this.addPage();var m=this.internal.__cell__.margins||N;this.internal.__cell__.lastCell=new C(m.left,m.top,undefined,undefined);this.internal.__cell__.pages+=1;return this;};var d=W1.cell=function(){var g;if(arguments[0]instanceof C){g=arguments[0];}else{g=new C(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}b.call(this);var l=this.internal.__cell__.lastCell;var h=this.internal.__cell__.padding;var m=this.internal.__cell__.margins||N;var t=this.internal.__cell__.tableHeaderRow;var j=this.internal.__cell__.printHeaders;if(typeof l.lineNumber!=="undefined"){if(l.lineNumber===g.lineNumber){g.x=(l.x||0)+(l.width||0);g.y=l.y||0;}else{if(l.y+l.height+g.height+m.bottom>this.getPageHeight()){this.cellAddPage();g.y=m.top;if(j&&t){this.printHeaderRow(g.lineNumber,true);g.y+=t[0].height;}}else{g.y=l.y+l.height||g.y;}}}if(typeof g.text[0]!=="undefined"){this.rect(g.x,g.y,g.width,g.height,a===true?"FD":undefined);if(g.align==="right"){this.text(g.text,g.x+g.width-h,g.y+h,{align:"right",baseline:"top"});}else if(g.align==="center"){this.text(g.text,g.x+g.width/2,g.y+h,{align:"center",baseline:"top",maxWidth:g.width-h-h});}else{this.text(g.text,g.x+h,g.y+h,{align:"left",baseline:"top",maxWidth:g.width-h-h});}}this.internal.__cell__.lastCell=g;return this;};W1.table=function(x,y,g,h,k){b.call(this);if(!g){throw new Error("No data for PDF table.");}k=k||{};var l=[],m=[],n=[],i,o={},q={},r,s=[],j,t=[],u=k.autoSize||false,v=k.printHeaders===false?false:true,w=k.css&&typeof k.css["font-size"]!=="undefined"?k.css["font-size"]*16:k.fontSize||12,z=k.margins||Object.assign({width:this.getPageWidth()},N),A=typeof k.padding==="number"?k.padding:3,B=k.headerBackgroundColor||"#c8c8c8",D=k.headerTextColor||"#000";c.call(this);this.internal.__cell__.printHeaders=v;this.internal.__cell__.margins=z;this.internal.__cell__.table_font_size=w;this.internal.__cell__.padding=A;this.internal.__cell__.headerBackgroundColor=B;this.internal.__cell__.headerTextColor=D;this.setFontSize(w);if(h===undefined||h===null){l=Object.keys(g[0]);m=l;n=l.map(function(){return"left";});}else if(Array.isArray(h)&&_(h[0])==="object"){l=h.map(function(K){return K.name;});m=h.map(function(K){return K.prompt||K.name||"";});n=h.map(function(K){return K.align||"left";});for(i=0;i<h.length;i+=1){q[h[i].name]=h[i].width*p;}}else if(Array.isArray(h)&&typeof h[0]==="string"){l=h;m=l;n=l.map(function(){return"left";});}if(u||Array.isArray(h)&&typeof h[0]==="string"){var E;for(i=0;i<l.length;i+=1){E=l[i];o[E]=g.map(function(K){return K[E];});this.setFont(undefined,"bold");s.push(this.getTextDimensions(m[i],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);r=o[E];this.setFont(undefined,"normal");for(j=0;j<r.length;j+=1){s.push(this.getTextDimensions(r[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);}q[E]=Math.max.apply(null,s)+A+A;s=[];}}if(v){var F={};for(i=0;i<l.length;i+=1){F[l[i]]={};F[l[i]].text=m[i];F[l[i]].align=n[i];}var G=f.call(this,F,q);t=l.map(function(K){return new C(x,y,q[K],G,F[K].text,undefined,F[K].align);});this.setTableHeaderRow(t);this.printHeaderRow(1,false);}var H=h.reduce(function(K,L){K[L.name]=L.align;return K;},{});for(i=0;i<g.length;i+=1){if("rowStart"in k&&k.rowStart instanceof Function){k.rowStart({row:i,data:g[i]},this);}var I=f.call(this,g[i],q);for(j=0;j<l.length;j+=1){var J=g[i][l[j]];if("cellStart"in k&&k.cellStart instanceof Function){k.cellStart({row:i,col:j,data:J},this);}d.call(this,new C(x,y,q[l[j]],I,J,i+2,H[l[j]]));}}this.internal.__cell__.table_x=x;this.internal.__cell__.table_y=y;return this;};var f=function f(m,g){var h=this.internal.__cell__.padding;var j=this.internal.__cell__.table_font_size;var X1=this.internal.scaleFactor;return Object.keys(m).map(function(k){var v=m[k];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,g[k]-h-h);},this).map(function(v){return this.getLineHeightFactor()*v.length*j/X1+h+h;},this).reduce(function(k,l){return Math.max(k,l);},0);};W1.setTableHeaderRow=function(g){b.call(this);this.internal.__cell__.tableHeaderRow=g;};W1.printHeaderRow=function(l,n){b.call(this);if(!this.internal.__cell__.tableHeaderRow){throw new Error("Property tableHeaderRow does not exist.");}var t;a=true;if(typeof this.internal.__cell__.headerFunction==="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new C(g[0],g[1],g[2],g[3],undefined,-1);}this.setFont(undefined,"bold");var h=[];for(var i=0;i<this.internal.__cell__.tableHeaderRow.length;i+=1){t=this.internal.__cell__.tableHeaderRow[i].clone();if(n){t.y=this.internal.__cell__.margins.top||0;h.push(t);}t.lineNumber=l;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor);this.setFillColor(this.internal.__cell__.headerBackgroundColor);d.call(this,t);this.setTextColor(j);}if(h.length>0){this.setTableHeaderRow(h);}this.setFont(undefined,"normal");a=false;};})(V1.API);function e3(a){return a.reduce(function(l,n,b){l[n]=b;return l;},{});}var g3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]};var h3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"];var i3=e3(h3);var j3=[100,200,300,400,500,600,700,800,900];var k3=e3(j3);function l3(s){s=s||"normal";return typeof i3[s]==="number"?s:"normal";}function m3(s){s=s||"normal";return g3[s]?s:"normal";}function n3(w){if(!w){return 400;}if(typeof w==="number"){return w>=100&&w<=900&&w%100===0?w:400;}if(/^\d00$/.test(w)){return parseInt(w);}switch(w){case"bold":return 700;case"normal":default:return 400;}}function o3(f){var a=f.family.replace(/"|'/g,"").toLowerCase();var s=m3(f.style);var w=n3(f.weight);var b=l3(f.stretch);return{family:a,style:s,weight:w,stretch:b,src:f.src||[],ref:f.ref||{name:a,style:[b,s,w].join(" ")}};}function p3(f){var m={};for(var i=0;i<f.length;++i){var n=o3(f[i]);var a=n.family;var s=n.stretch;var b=n.style;var w=n.weight;m[a]=m[a]||{};m[a][s]=m[a][s]||{};m[a][s][b]=m[a][s][b]||{};m[a][s][b][w]=n;}return m;}function q3(m,o,p,d){var i;for(i=p;i>=0&&i<o.length;i+=d){if(m[o[i]]){return m[o[i]];}}for(i=p;i>=0&&i<o.length;i-=d){if(m[o[i]]){return m[o[i]];}}}function r3(s,m){if(m[s]){return m[s];}var p=i3[s];var d=p<=i3["normal"]?-1:1;var a=q3(m,h3,p,d);if(!a){throw new Error("Could not find a matching font-stretch value for "+s);}return a;}function s3(f,m){if(m[f]){return m[f];}var o=g3[f];for(var i=0;i<o.length;++i){if(m[o[i]]){return m[o[i]];}}throw new Error("Could not find a matching font-style for "+f);}function t3(w,m){if(m[w]){return m[w];}if(w===400&&m[500]){return m[500];}if(w===500&&m[400]){return m[400];}var p=k3[w];var d=w<400?-1:1;var a=q3(m,j3,p,d);if(!a){throw new Error("Could not find a matching font-weight for value "+w);}return a;}var u3={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"};var v3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function w3(r){return[r.stretch,r.style,r.weight,r.family].join(" ");}function A3(f,r,o){o=o||{};var d=o.defaultFontFamily||"times";var g=Object.assign({},u3,o.genericFontFamilies||{});var a=null;var m=null;for(var i=0;i<r.length;++i){a=o3(r[i]);if(g[a.family]){a.family=g[a.family];}if(f.hasOwnProperty(a.family)){m=f[a.family];break;}}m=m||f[d];if(!m){throw new Error("Could not find a font-family for the rule '"+w3(a)+"' and default family '"+d+"'.");}m=r3(a.stretch,m);m=s3(a.style,m);m=t3(a.weight,m);if(!m){throw new Error("Failed to resolve a font for the rule '"+w3(a)+"'.");}return m;}function B3(a){return a.trimLeft();}function C3(a,q){var b=0;while(b<a.length){var c=a.charAt(b);if(c===q){return[a.substring(0,b),a.substring(b+1)];}b+=1;}return null;}function D3(a){var m=a.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);if(m===null){return null;}return[m[0],a.substring(m[0].length)];}var E3=["times"];function F3(a){var r=[];var c,p;var b=a.trim();if(b===""){return E3;}if(b in v3){return[v3[b]];}while(b!==""){p=null;b=B3(b);c=b.charAt(0);switch(c){case'"':case"'":p=C3(b.substring(1),c);break;default:p=D3(b);break;}if(p===null){return E3;}r.push(p[0]);b=B3(p[1]);if(b!==""&&b.charAt(0)!==","){return E3;}b=b.replace(/^,/,"");}return r;}(function(W1){var C=function C(c){c=c||{};this.isStrokeTransparent=c.isStrokeTransparent||false;this.strokeOpacity=c.strokeOpacity||1;this.strokeStyle=c.strokeStyle||"#000000";this.fillStyle=c.fillStyle||"#000000";this.isFillTransparent=c.isFillTransparent||false;this.fillOpacity=c.fillOpacity||1;this.font=c.font||"10px sans-serif";this.textBaseline=c.textBaseline||"alphabetic";this.textAlign=c.textAlign||"left";this.lineWidth=c.lineWidth||1;this.lineJoin=c.lineJoin||"miter";this.lineCap=c.lineCap||"butt";this.path=c.path||[];this.transform=typeof c.transform!=="undefined"?c.transform.clone():new M();this.globalCompositeOperation=c.globalCompositeOperation||"normal";this.globalAlpha=c.globalAlpha||1.0;this.clip_path=c.clip_path||[];this.currentPoint=c.currentPoint||new P();this.miterLimit=c.miterLimit||10.0;this.lastPoint=c.lastPoint||new P();this.lineDashOffset=c.lineDashOffset||0.0;this.lineDash=c.lineDash||[];this.margin=c.margin||[0,0,0,0];this.prevPageLastElemOffset=c.prevPageLastElemOffset||0;this.ignoreClearRect=typeof c.ignoreClearRect==="boolean"?c.ignoreClearRect:true;return this;};var l,m,n,o,p,P,R,M,q;W1.events.push(["initialized",function(){this.context2d=new s(this);l=this.internal.f2;m=this.internal.getCoordinateString;n=this.internal.getVerticalCoordinateString;o=this.internal.getHorizontalCoordinate;p=this.internal.getVerticalCoordinate;P=this.internal.Point;R=this.internal.Rectangle;M=this.internal.Matrix;q=new C();}]);var s=function s(a){Object.defineProperty(this,"canvas",{get:function get(){return{parentNode:false,style:false};}});var b=a;Object.defineProperty(this,"pdf",{get:function get(){return b;}});var c=false;Object.defineProperty(this,"pageWrapXEnabled",{get:function get(){return c;},set:function set(j){c=Boolean(j);}});var d=false;Object.defineProperty(this,"pageWrapYEnabled",{get:function get(){return d;},set:function set(j){d=Boolean(j);}});var f=0;Object.defineProperty(this,"posX",{get:function get(){return f;},set:function set(j){if(!isNaN(j)){f=j;}}});var g=0;Object.defineProperty(this,"posY",{get:function get(){return g;},set:function set(j){if(!isNaN(j)){g=j;}}});Object.defineProperty(this,"margin",{get:function get(){return q.margin;},set:function set(j){var i1;if(typeof j==="number"){i1=[j,j,j,j];}else{i1=new Array(4);i1[0]=j[0];i1[1]=j.length>=2?j[1]:i1[0];i1[2]=j.length>=3?j[2]:i1[0];i1[3]=j.length>=4?j[3]:i1[1];}q.margin=i1;}});var h=false;Object.defineProperty(this,"autoPaging",{get:function get(){return h;},set:function set(j){h=j;}});var k=0;Object.defineProperty(this,"lastBreak",{get:function get(){return k;},set:function set(j){k=j;}});var r=[];Object.defineProperty(this,"pageBreaks",{get:function get(){return r;},set:function set(j){r=j;}});Object.defineProperty(this,"ctx",{get:function get(){return q;},set:function set(j){if(j instanceof C){q=j;}}});Object.defineProperty(this,"path",{get:function get(){return q.path;},set:function set(j){q.path=j;}});var w=[];Object.defineProperty(this,"ctxStack",{get:function get(){return w;},set:function set(j){w=j;}});Object.defineProperty(this,"fillStyle",{get:function get(){return this.ctx.fillStyle;},set:function set(j){var i1;i1=t(j);this.ctx.fillStyle=i1.style;this.ctx.isFillTransparent=i1.a===0;this.ctx.fillOpacity=i1.a;this.pdf.setFillColor(i1.r,i1.g,i1.b,{a:i1.a});this.pdf.setTextColor(i1.r,i1.g,i1.b,{a:i1.a});}});Object.defineProperty(this,"strokeStyle",{get:function get(){return this.ctx.strokeStyle;},set:function set(j){var i1=t(j);this.ctx.strokeStyle=i1.style;this.ctx.isStrokeTransparent=i1.a===0;this.ctx.strokeOpacity=i1.a;if(i1.a===0){this.pdf.setDrawColor(255,255,255);}else if(i1.a===1){this.pdf.setDrawColor(i1.r,i1.g,i1.b);}else{this.pdf.setDrawColor(i1.r,i1.g,i1.b);}}});Object.defineProperty(this,"lineCap",{get:function get(){return this.ctx.lineCap;},set:function set(j){if(["butt","round","square"].indexOf(j)!==-1){this.ctx.lineCap=j;this.pdf.setLineCap(j);}}});Object.defineProperty(this,"lineWidth",{get:function get(){return this.ctx.lineWidth;},set:function set(j){if(!isNaN(j)){this.ctx.lineWidth=j;this.pdf.setLineWidth(j);}}});Object.defineProperty(this,"lineJoin",{get:function get(){return this.ctx.lineJoin;},set:function set(j){if(["bevel","round","miter"].indexOf(j)!==-1){this.ctx.lineJoin=j;this.pdf.setLineJoin(j);}}});Object.defineProperty(this,"miterLimit",{get:function get(){return this.ctx.miterLimit;},set:function set(j){if(!isNaN(j)){this.ctx.miterLimit=j;this.pdf.setMiterLimit(j);}}});Object.defineProperty(this,"textBaseline",{get:function get(){return this.ctx.textBaseline;},set:function set(j){this.ctx.textBaseline=j;}});Object.defineProperty(this,"textAlign",{get:function get(){return this.ctx.textAlign;},set:function set(j){if(["right","end","center","left","start"].indexOf(j)!==-1){this.ctx.textAlign=j;}}});var y=null;function a1(a,j){if(y===null){var i1=a.getFontList();var m1=c1(i1);y=p3(m1.concat(j));}return y;}function c1(j){var i1=[];Object.keys(j).forEach(function(m1){var q1=j[m1];q1.forEach(function(w1){var x1=null;switch(w1){case"bold":x1={family:m1,weight:"bold"};break;case"italic":x1={family:m1,style:"italic"};break;case"bolditalic":x1={family:m1,weight:"bold",style:"italic"};break;case"":case"normal":x1={family:m1};break;}if(x1!==null){x1.ref={name:m1,style:w1};i1.push(x1);}});});return i1;}var d1=null;Object.defineProperty(this,"fontFaces",{get:function get(){return d1;},set:function set(j){y=null;d1=j;}});Object.defineProperty(this,"font",{get:function get(){return this.ctx.font;},set:function set(i1){this.ctx.font=i1;var rx,m1;rx=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i;m1=rx.exec(i1);if(m1!==null){var q1=m1[1];var w1=m1[2];var x1=m1[3];var y1=m1[4];var z1=m1[5];var $1=m1[6];}else{return;}var _1=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i;var a2=_1.exec(y1)[2];if("px"===a2){y1=Math.floor(parseFloat(y1)*this.pdf.internal.scaleFactor);}else if("em"===a2){y1=Math.floor(parseFloat(y1)*this.pdf.getFontSize());}else{y1=Math.floor(parseFloat(y1)*this.pdf.internal.scaleFactor);}this.pdf.setFontSize(y1);var b2=F3($1);if(this.fontFaces){var d2=a1(this.pdf,this.fontFaces);var i2=b2.map(function(ff){return{family:ff,stretch:"normal",weight:x1,style:q1};});var k2=A3(d2,i2);this.pdf.setFont(k2.ref.name,k2.ref.style);return;}var m2="";if(x1==="bold"||parseInt(x1,10)>=700||q1==="bold"){m2="bold";}if(q1==="italic"){m2+="italic";}if(m2.length===0){m2="normal";}var q2="";var t2={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"};for(var i=0;i<b2.length;i++){if(this.pdf.internal.getFont(b2[i],m2,{noFallback:true,disableWarning:true})!==undefined){q2=b2[i];break;}else if(m2==="bolditalic"&&this.pdf.internal.getFont(b2[i],"bold",{noFallback:true,disableWarning:true})!==undefined){q2=b2[i];m2="bold";}else if(this.pdf.internal.getFont(b2[i],"normal",{noFallback:true,disableWarning:true})!==undefined){q2=b2[i];m2="normal";break;}}if(q2===""){for(var j=0;j<b2.length;j++){if(t2[b2[j]]){q2=t2[b2[j]];break;}}}q2=q2===""?"Times":q2;this.pdf.setFont(q2,m2);}});Object.defineProperty(this,"globalCompositeOperation",{get:function get(){return this.ctx.globalCompositeOperation;},set:function set(j){this.ctx.globalCompositeOperation=j;}});Object.defineProperty(this,"globalAlpha",{get:function get(){return this.ctx.globalAlpha;},set:function set(j){this.ctx.globalAlpha=j;}});Object.defineProperty(this,"lineDashOffset",{get:function get(){return this.ctx.lineDashOffset;},set:function set(j){this.ctx.lineDashOffset=j;b1.call(this);}});Object.defineProperty(this,"lineDash",{get:function get(){return this.ctx.lineDash;},set:function set(j){this.ctx.lineDash=j;b1.call(this);}});Object.defineProperty(this,"ignoreClearRect",{get:function get(){return this.ctx.ignoreClearRect;},set:function set(j){this.ctx.ignoreClearRect=Boolean(j);}});};s.prototype.setLineDash=function(d){this.lineDash=d;};s.prototype.getLineDash=function(){if(this.lineDash.length%2){return this.lineDash.concat(this.lineDash);}else{return this.lineDash.slice();}};s.prototype.fill=function(){F.call(this,"fill",false);};s.prototype.stroke=function(){F.call(this,"stroke",false);};s.prototype.beginPath=function(){this.path=[{type:"begin"}];};s.prototype.moveTo=function(x,y){if(isNaN(x)||isNaN(y)){j1.error("jsPDF.context2d.moveTo: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.moveTo");}var a=this.ctx.transform.applyToPoint(new P(x,y));this.path.push({type:"mt",x:a.x,y:a.y});this.ctx.lastPoint=new P(x,y);};s.prototype.closePath=function(){var a=new P(0,0);var i=0;for(i=this.path.length-1;i!==-1;i--){if(this.path[i].type==="begin"){if(_(this.path[i+1])==="object"&&typeof this.path[i+1].x==="number"){a=new P(this.path[i+1].x,this.path[i+1].y);break;}}}this.path.push({type:"close"});this.ctx.lastPoint=new P(a.x,a.y);};s.prototype.lineTo=function(x,y){if(isNaN(x)||isNaN(y)){j1.error("jsPDF.context2d.lineTo: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.lineTo");}var a=this.ctx.transform.applyToPoint(new P(x,y));this.path.push({type:"lt",x:a.x,y:a.y});this.ctx.lastPoint=new P(a.x,a.y);};s.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path));F.call(this,null,true);};s.prototype.quadraticCurveTo=function(c,a,x,y){if(isNaN(x)||isNaN(y)||isNaN(c)||isNaN(a)){j1.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");}var b=this.ctx.transform.applyToPoint(new P(x,y));var d=this.ctx.transform.applyToPoint(new P(c,a));this.path.push({type:"qct",x1:d.x,y1:d.y,x:b.x,y:b.y});this.ctx.lastPoint=new P(b.x,b.y);};s.prototype.bezierCurveTo=function(c,a,b,d,x,y){if(isNaN(x)||isNaN(y)||isNaN(c)||isNaN(a)||isNaN(b)||isNaN(d)){j1.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");}var f=this.ctx.transform.applyToPoint(new P(x,y));var g=this.ctx.transform.applyToPoint(new P(c,a));var h=this.ctx.transform.applyToPoint(new P(b,d));this.path.push({type:"bct",x1:g.x,y1:g.y,x2:h.x,y2:h.y,x:f.x,y:f.y});this.ctx.lastPoint=new P(f.x,f.y);};s.prototype.arc=function(x,y,r,a,b,c){if(isNaN(x)||isNaN(y)||isNaN(r)||isNaN(a)||isNaN(b)){j1.error("jsPDF.context2d.arc: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.arc");}c=Boolean(c);if(!this.ctx.transform.isIdentity){var d=this.ctx.transform.applyToPoint(new P(x,y));x=d.x;y=d.y;var f=this.ctx.transform.applyToPoint(new P(0,r));var g=this.ctx.transform.applyToPoint(new P(0,0));r=Math.sqrt(Math.pow(f.x-g.x,2)+Math.pow(f.y-g.y,2));}if(Math.abs(b-a)>=2*Math.PI){a=0;b=2*Math.PI;}this.path.push({type:"arc",x:x,y:y,radius:r,startAngle:a,endAngle:b,counterclockwise:c});};s.prototype.arcTo=function(a,y,b,c,r){throw new Error("arcTo not implemented.");};s.prototype.rect=function(x,y,w,h){if(isNaN(x)||isNaN(y)||isNaN(w)||isNaN(h)){j1.error("jsPDF.context2d.rect: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.rect");}this.moveTo(x,y);this.lineTo(x+w,y);this.lineTo(x+w,y+h);this.lineTo(x,y+h);this.lineTo(x,y);this.lineTo(x+w,y);this.lineTo(x,y);};s.prototype.fillRect=function(x,y,w,h){if(isNaN(x)||isNaN(y)||isNaN(w)||isNaN(h)){j1.error("jsPDF.context2d.fillRect: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.fillRect");}if(u.call(this)){return;}var a={};if(this.lineCap!=="butt"){a.lineCap=this.lineCap;this.lineCap="butt";}if(this.lineJoin!=="miter"){a.lineJoin=this.lineJoin;this.lineJoin="miter";}this.beginPath();this.rect(x,y,w,h);this.fill();if(a.hasOwnProperty("lineCap")){this.lineCap=a.lineCap;}if(a.hasOwnProperty("lineJoin")){this.lineJoin=a.lineJoin;}};s.prototype.strokeRect=function strokeRect(x,y,w,h){if(isNaN(x)||isNaN(y)||isNaN(w)||isNaN(h)){j1.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");}if(v.call(this)){return;}this.beginPath();this.rect(x,y,w,h);this.stroke();};s.prototype.clearRect=function(x,y,w,h){if(isNaN(x)||isNaN(y)||isNaN(w)||isNaN(h)){j1.error("jsPDF.context2d.clearRect: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.clearRect");}if(this.ignoreClearRect){return;}this.fillStyle="#ffffff";this.fillRect(x,y,w,h);};s.prototype.save=function(d){d=typeof d==="boolean"?d:true;var a=this.pdf.internal.getCurrentPageInfo().pageNumber;for(var i=0;i<this.pdf.internal.getNumberOfPages();i++){this.pdf.setPage(i+1);this.pdf.internal.out("q");}this.pdf.setPage(a);if(d){this.ctx.fontSize=this.pdf.internal.getFontSize();var c=new C(this.ctx);this.ctxStack.push(this.ctx);this.ctx=c;}};s.prototype.restore=function(d){d=typeof d==="boolean"?d:true;var a=this.pdf.internal.getCurrentPageInfo().pageNumber;for(var i=0;i<this.pdf.internal.getNumberOfPages();i++){this.pdf.setPage(i+1);this.pdf.internal.out("Q");}this.pdf.setPage(a);if(d&&this.ctxStack.length!==0){this.ctx=this.ctxStack.pop();this.fillStyle=this.ctx.fillStyle;this.strokeStyle=this.ctx.strokeStyle;this.font=this.ctx.font;this.lineCap=this.ctx.lineCap;this.lineWidth=this.ctx.lineWidth;this.lineJoin=this.ctx.lineJoin;this.lineDash=this.ctx.lineDash;this.lineDashOffset=this.ctx.lineDashOffset;}};s.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.");};var t=function t(c){var d=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;var f=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/;var h=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/;var r,g,b,a;if(c.isCanvasGradient===true){c=c.getColor();}if(!c){return{r:0,g:0,b:0,a:0,style:c};}if(h.test(c)){r=0;g=0;b=0;a=0;}else{var j=d.exec(c);if(j!==null){r=parseInt(j[1]);g=parseInt(j[2]);b=parseInt(j[3]);a=1;}else{j=f.exec(c);if(j!==null){r=parseInt(j[1]);g=parseInt(j[2]);b=parseInt(j[3]);a=parseFloat(j[4]);}else{a=1;if(typeof c==="string"&&c.charAt(0)!=="#"){var k=new r1(c);if(k.ok){c=k.toHex();}else{c="#000000";}}if(c.length===4){r=c.substring(1,2);r+=r;g=c.substring(2,3);g+=g;b=c.substring(3,4);b+=b;}else{r=c.substring(1,3);g=c.substring(3,5);b=c.substring(5,7);}r=parseInt(r,16);g=parseInt(g,16);b=parseInt(b,16);}}}return{r:r,g:g,b:b,a:a,style:c};};var u=function u(){return this.ctx.isFillTransparent||this.globalAlpha==0;};var v=function v(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0);};s.prototype.fillText=function(a,x,y,b){if(isNaN(x)||isNaN(y)||typeof a!=="string"){j1.error("jsPDF.context2d.fillText: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.fillText");}b=isNaN(b)?undefined:b;if(u.call(this)){return;}var d=W(this.ctx.transform.rotation);var e2=this.ctx.transform.scaleX;O.call(this,{text:a,x:x,y:y,scale:e2,angle:d,align:this.textAlign,maxWidth:b});};s.prototype.strokeText=function(a,x,y,b){if(isNaN(x)||isNaN(y)||typeof a!=="string"){j1.error("jsPDF.context2d.strokeText: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.strokeText");}if(v.call(this)){return;}b=isNaN(b)?undefined:b;var d=W(this.ctx.transform.rotation);var e2=this.ctx.transform.scaleX;O.call(this,{text:a,x:x,y:y,scale:e2,renderingMode:"stroke",angle:d,align:this.textAlign,maxWidth:b});};s.prototype.measureText=function(a){if(typeof a!=="string"){j1.error("jsPDF.context2d.measureText: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.measureText");}var b=this.pdf;var k=this.pdf.internal.scaleFactor;var f=b.internal.getFontSize();var c=b.getStringUnitWidth(a)*f/b.internal.scaleFactor;c*=Math.round(k*96/72*10000)/10000;var d=function d(g){g=g||{};var h=g.width||0;Object.defineProperty(this,"width",{get:function get(){return h;}});return this;};return new d({width:c});};s.prototype.scale=function(a,b){if(isNaN(a)||isNaN(b)){j1.error("jsPDF.context2d.scale: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.scale");}var c=new M(a,0.0,0.0,b,0.0,0.0);this.ctx.transform=this.ctx.transform.multiply(c);};s.prototype.rotate=function(a){if(isNaN(a)){j1.error("jsPDF.context2d.rotate: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.rotate");}var b=new M(Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0.0,0.0);this.ctx.transform=this.ctx.transform.multiply(b);};s.prototype.translate=function(x,y){if(isNaN(x)||isNaN(y)){j1.error("jsPDF.context2d.translate: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.translate");}var a=new M(1.0,0.0,0.0,1.0,x,y);this.ctx.transform=this.ctx.transform.multiply(a);};s.prototype.transform=function(a,b,c,d,e,f){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)||isNaN(e)||isNaN(f)){j1.error("jsPDF.context2d.transform: Invalid arguments",arguments);throw new Error("Invalid arguments passed to jsPDF.context2d.transform");}var g=new M(a,b,c,d,e,f);this.ctx.transform=this.ctx.transform.multiply(g);};s.prototype.setTransform=function(a,b,c,d,e,f){a=isNaN(a)?1:a;b=isNaN(b)?0:b;c=isNaN(c)?0:c;d=isNaN(d)?1:d;e=isNaN(e)?0:e;f=isNaN(f)?0:f;this.ctx.transform=new M(a,b,c,d,e,f);};var z=function z(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0;};s.prototype.drawImage=function(a,b,c,d,f,x,y,w,h){var g=this.pdf.getImageProperties(a);var j=1;var k=1;var r=1;var a1=1;if(typeof d!=="undefined"&&typeof w!=="undefined"){r=w/d;a1=h/f;j=g.width/d*w/d;k=g.height/f*h/f;}if(typeof x==="undefined"){x=b;y=c;b=0;c=0;}if(typeof d!=="undefined"&&typeof w==="undefined"){w=d;h=f;}if(typeof d==="undefined"&&typeof w==="undefined"){w=g.width;h=g.height;}var c1=this.ctx.transform.decompose();var d1=W(c1.rotate.shx);var i1=new M();i1=i1.multiply(c1.translate);i1=i1.multiply(c1.skew);i1=i1.multiply(c1.scale);var m1=i1.applyToRectangle(new R(x-b*r,y-c*a1,d*j,f*k));var q1=A.call(this,m1);var w1=[];for(var ii=0;ii<q1.length;ii+=1){if(w1.indexOf(q1[ii])===-1){w1.push(q1[ii]);}}E(w1);var y1;if(this.autoPaging){var z1=w1[0];var a4=w1[w1.length-1];for(var i=z1;i<a4+1;i++){this.pdf.setPage(i);var $1=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1];var _1=i===1?this.posY+this.margin[0]:this.margin[0];var a2=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2];var b2=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var d2=i===1?0:a2+(i-2)*b2;if(this.ctx.clip_path.length!==0){var i2=this.path;y1=JSON.parse(JSON.stringify(this.ctx.clip_path));this.path=D(y1,this.posX+this.margin[3],-d2+_1+this.ctx.prevPageLastElemOffset);G.call(this,"fill",true);this.path=i2;}var k2=JSON.parse(JSON.stringify(m1));k2=D([k2],this.posX+this.margin[3],-d2+_1+this.ctx.prevPageLastElemOffset)[0];var m2=(i>z1||i<a4)&&z.call(this);if(m2){this.pdf.saveGraphicsState();this.pdf.rect(this.margin[3],this.margin[0],$1,b2,null).clip().discardPath();}this.pdf.addImage(a,"JPEG",k2.x,k2.y,k2.w,k2.h,null,null,d1);if(m2){this.pdf.restoreGraphicsState();}}}else{this.pdf.addImage(a,"JPEG",m1.x,m1.y,m1.w,m1.h,null,null,d1);}};var A=function A(a,b,c){var r=[];b=b||this.pdf.internal.pageSize.width;c=c||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var y=this.posY+this.ctx.prevPageLastElemOffset;switch(a.type){default:case"mt":case"lt":r.push(Math.floor((a.y+y)/c)+1);break;case"arc":r.push(Math.floor((a.y+y-a.radius)/c)+1);r.push(Math.floor((a.y+y+a.radius)/c)+1);break;case"qct":var d=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,a.x1,a.y1,a.x,a.y);r.push(Math.floor((d.y+y)/c)+1);r.push(Math.floor((d.y+d.h+y)/c)+1);break;case"bct":var f=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,a.x1,a.y1,a.x2,a.y2,a.x,a.y);r.push(Math.floor((f.y+y)/c)+1);r.push(Math.floor((f.y+f.h+y)/c)+1);break;case"rect":r.push(Math.floor((a.y+y)/c)+1);r.push(Math.floor((a.y+a.h+y)/c)+1);}for(var i=0;i<r.length;i+=1){while(this.pdf.internal.getNumberOfPages()<r[i]){B.call(this);}}return r;};var B=function B(){var f=this.fillStyle;var a=this.strokeStyle;var b=this.font;var c=this.lineCap;var d=this.lineWidth;var g=this.lineJoin;this.pdf.addPage();this.fillStyle=f;this.strokeStyle=a;this.font=b;this.lineCap=c;this.lineWidth=d;this.lineJoin=g;};var D=function D(a,x,y){for(var i=0;i<a.length;i++){switch(a[i].type){case"bct":a[i].x2+=x;a[i].y2+=y;case"qct":a[i].x1+=x;a[i].y1+=y;case"mt":case"lt":case"arc":default:a[i].x+=x;a[i].y+=y;}}return a;};var E=function E(c){return c.sort(function(a,b){return a-b;});};var F=function F(r,a){var f=this.fillStyle;var b=this.strokeStyle;var c=this.lineCap;var d=this.lineWidth;var g=Math.abs(d*this.ctx.transform.scaleX);var h=this.lineJoin;var w=JSON.parse(JSON.stringify(this.path));var y=JSON.parse(JSON.stringify(this.path));var a1;var c1;var d1=[];for(var i=0;i<y.length;i++){if(typeof y[i].x!=="undefined"){var i1=A.call(this,y[i]);for(var ii=0;ii<i1.length;ii+=1){if(d1.indexOf(i1[ii])===-1){d1.push(i1[ii]);}}}}for(var j=0;j<d1.length;j++){while(this.pdf.internal.getNumberOfPages()<d1[j]){B.call(this);}}E(d1);if(this.autoPaging){var m1=d1[0];var a4=d1[d1.length-1];for(var k=m1;k<a4+1;k++){this.pdf.setPage(k);this.fillStyle=f;this.strokeStyle=b;this.lineCap=c;this.lineWidth=g;this.lineJoin=h;var q1=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1];var w1=k===1?this.posY+this.margin[0]:this.margin[0];var x1=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2];var y1=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var z1=k===1?0:x1+(k-2)*y1;if(this.ctx.clip_path.length!==0){var $1=this.path;a1=JSON.parse(JSON.stringify(this.ctx.clip_path));this.path=D(a1,this.posX+this.margin[3],-z1+w1+this.ctx.prevPageLastElemOffset);G.call(this,r,true);this.path=$1;}c1=JSON.parse(JSON.stringify(w));this.path=D(c1,this.posX+this.margin[3],-z1+w1+this.ctx.prevPageLastElemOffset);if(a===false||k===0){var _1=(k>m1||k<a4)&&z.call(this);if(_1){this.pdf.saveGraphicsState();this.pdf.rect(this.margin[3],this.margin[0],q1,y1,null).clip().discardPath();}G.call(this,r,a);if(_1){this.pdf.restoreGraphicsState();}}this.lineWidth=d;}}else{this.lineWidth=g;G.call(this,r,a);this.lineWidth=d;}this.path=w;};var G=function G(r,a){if(r==="stroke"&&!a&&v.call(this)){return;}if(r!=="stroke"&&!a&&u.call(this)){return;}var b=[];var d;var c=this.path;for(var i=0;i<c.length;i++){var f=c[i];switch(f.type){case"begin":b.push({begin:true});break;case"close":b.push({close:true});break;case"mt":b.push({start:f,deltas:[],abs:[]});break;case"lt":var g=b.length;if(c[i-1]&&!isNaN(c[i-1].x)){d=[f.x-c[i-1].x,f.y-c[i-1].y];if(g>0){for(g;g>=0;g--){if(b[g-1].close!==true&&b[g-1].begin!==true){b[g-1].deltas.push(d);b[g-1].abs.push(f);break;}}}}break;case"bct":d=[f.x1-c[i-1].x,f.y1-c[i-1].y,f.x2-c[i-1].x,f.y2-c[i-1].y,f.x-c[i-1].x,f.y-c[i-1].y];b[b.length-1].deltas.push(d);break;case"qct":var h=c[i-1].x+2.0/3.0*(f.x1-c[i-1].x);var j=c[i-1].y+2.0/3.0*(f.y1-c[i-1].y);var w=f.x+2.0/3.0*(f.x1-f.x);var y2=f.y+2.0/3.0*(f.y1-f.y);var x3=f.x;var y3=f.y;d=[h-c[i-1].x,j-c[i-1].y,w-c[i-1].x,y2-c[i-1].y,x3-c[i-1].x,y3-c[i-1].y];b[b.length-1].deltas.push(d);break;case"arc":b.push({deltas:[],abs:[],arc:true});if(Array.isArray(b[b.length-1].abs)){b[b.length-1].abs.push(f);}break;}}var d1;if(!a){if(r==="stroke"){d1="stroke";}else{d1="fill";}}else{d1=null;}var i1=false;for(var k=0;k<b.length;k++){if(b[k].arc){var m1=b[k].abs;for(var ii=0;ii<m1.length;ii++){var q1=m1[ii];if(q1.type==="arc"){J.call(this,q1.x,q1.y,q1.radius,q1.startAngle,q1.endAngle,q1.counterclockwise,undefined,a,!i1);}else{Q.call(this,q1.x,q1.y);}i1=true;}}else if(b[k].close===true){this.pdf.internal.out("h");i1=false;}else if(b[k].begin!==true){var x=b[k].start.x;var y=b[k].start.y;S.call(this,b[k].deltas,x,y);i1=true;}}if(d1){K.call(this,d1);}if(a){L.call(this);}};var H=function H(y){var h=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor;var d=h*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return y-d;case"top":return y+h-d;case"hanging":return y+h-2*d;case"middle":return y+h/2-d;case"ideographic":return y;case"alphabetic":default:return y;}};var I=function I(y){var h=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor;var d=h*(this.pdf.internal.getLineHeightFactor()-1);return y+d;};s.prototype.createLinearGradient=function createLinearGradient(){var c=function c(){};c.colorStops=[];c.addColorStop=function(a,b){this.colorStops.push([a,b]);};c.getColor=function(){if(this.colorStops.length===0){return"#000000";}return this.colorStops[0][1];};c.isCanvasGradient=true;return c;};s.prototype.createPattern=function createPattern(){return this.createLinearGradient();};s.prototype.createRadialGradient=function createRadialGradient(){return this.createLinearGradient();};var J=function J(x,y,r,a,b,c,d,f,g){var h=U.call(this,r,a,b,c);for(var i=0;i<h.length;i++){var j=h[i];if(i===0){if(g){N.call(this,j.x1+x,j.y1+y);}else{Q.call(this,j.x1+x,j.y1+y);}}T.call(this,x,y,j.x2,j.y2,j.x3,j.y3,j.x4,j.y4);}if(!f){K.call(this,d);}else{L.call(this);}};var K=function K(a){switch(a){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f");break;}};var L=function L(){this.pdf.clip();this.pdf.discardPath();};var N=function N(x,y){this.pdf.internal.out(m(x)+" "+n(y)+" m");};var O=function O(a){var b;switch(a.align){case"right":case"end":b="right";break;case"center":b="center";break;case"left":case"start":default:b="left";break;}var c=this.pdf.getTextDimensions(a.text);var y=H.call(this,a.y);var d=I.call(this,y);var f=d-c.h;var g=this.ctx.transform.applyToPoint(new P(a.x,y));var h=this.ctx.transform.decompose();var j=new M();j=j.multiply(h.translate);j=j.multiply(h.skew);j=j.multiply(h.scale);var k=this.ctx.transform.applyToRectangle(new R(a.x,y,c.w,c.h));var r=j.applyToRectangle(new R(a.x,f,c.w,c.h));var w=A.call(this,r);var a1=[];for(var ii=0;ii<w.length;ii+=1){if(a1.indexOf(w[ii])===-1){a1.push(w[ii]);}}E(a1);var c1,d1,i1;if(this.autoPaging){var m1=a1[0];var a4=a1[a1.length-1];for(var i=m1;i<a4+1;i++){this.pdf.setPage(i);var q1=i===1?this.posY+this.margin[0]:this.margin[0];var w1=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2];var x1=this.pdf.internal.pageSize.height-this.margin[2];var y1=x1-this.margin[0];var z1=this.pdf.internal.pageSize.width-this.margin[1];var $1=z1-this.margin[3];var _1=i===1?0:w1+(i-2)*y1;if(this.ctx.clip_path.length!==0){var a2=this.path;c1=JSON.parse(JSON.stringify(this.ctx.clip_path));this.path=D(c1,this.posX+this.margin[3],-1*_1+q1);G.call(this,"fill",true);this.path=a2;}var b2=D([JSON.parse(JSON.stringify(r))],this.posX+this.margin[3],-_1+q1+this.ctx.prevPageLastElemOffset)[0];if(a.scale>=0.01){d1=this.pdf.internal.getFontSize();this.pdf.setFontSize(d1*a.scale);i1=this.lineWidth;this.lineWidth=i1*a.scale;}var d2=this.autoPaging!=="text";if(d2||b2.y+b2.h<=x1){if(d2||b2.y>=q1&&b2.x<=z1){var i2=d2?a.text:this.pdf.splitTextToSize(a.text,a.maxWidth||z1-b2.x)[0];var k2=D([JSON.parse(JSON.stringify(k))],this.posX+this.margin[3],-_1+q1+this.ctx.prevPageLastElemOffset)[0];var m2=d2&&(i>m1||i<a4)&&z.call(this);if(m2){this.pdf.saveGraphicsState();this.pdf.rect(this.margin[3],this.margin[0],$1,y1,null).clip().discardPath();}this.pdf.text(i2,k2.x,k2.y,{angle:a.angle,align:b,renderingMode:a.renderingMode});if(m2){this.pdf.restoreGraphicsState();}}}else{if(b2.y<x1){this.ctx.prevPageLastElemOffset+=x1-b2.y;}}if(a.scale>=0.01){this.pdf.setFontSize(d1);this.lineWidth=i1;}}}else{if(a.scale>=0.01){d1=this.pdf.internal.getFontSize();this.pdf.setFontSize(d1*a.scale);i1=this.lineWidth;this.lineWidth=i1*a.scale;}this.pdf.text(a.text,g.x+this.posX,g.y+this.posY,{angle:a.angle,align:b,renderingMode:a.renderingMode,maxWidth:a.maxWidth});if(a.scale>=0.01){this.pdf.setFontSize(d1);this.lineWidth=i1;}}};var Q=function Q(x,y,a,b){a=a||0;b=b||0;this.pdf.internal.out(m(x+a)+" "+n(y+b)+" l");};var S=function S(a,x,y){return this.pdf.lines(a,x,y,null,null);};var T=function T(x,y,a,b,c,d,f,g){this.pdf.internal.out([l(o(a+x)),l(p(b+y)),l(o(c+x)),l(p(d+y)),l(o(f+x)),l(p(g+y)),"c"].join(" "));};var U=function U(r,a,b,c){var d=0.00001;var f=Math.PI*2;var h=Math.PI/2.0;while(a>b){a=a-f;}var g=Math.abs(b-a);if(g<f){if(c){g=f-g;}}var j=[];var k=c?-1:+1;var w=a;for(;g>d;){var y=k*Math.min(g,h);var a2=w+y;j.push(V.call(this,r,w,a2));g-=Math.abs(a2-w);w=a2;}return j;};var V=function V(r,b,c){var a=(c-b)/2.0;var d=r*Math.cos(a);var y=r*Math.sin(a);var f=d;var g=-y;var h=f*f+g*g;var j=h+f*d+g*y;var k=4/3*(Math.sqrt(2*h*j)-j)/(f*y-g*d);var w=f-k*g;var y2=g+k*f;var x3=w;var y3=-y2;var ar=a+b;var i1=Math.cos(ar);var m1=Math.sin(ar);return{x1:r*Math.cos(b),y1:r*Math.sin(b),x2:w*i1-y2*m1,y2:w*m1+y2*i1,x3:x3*i1-y3*m1,y3:x3*m1+y3*i1,x4:r*Math.cos(c),y4:r*Math.sin(c)};};var W=function W(a){return a*180/Math.PI;};var X=function X(a,b,c,d,f,g){var h=a+(c-a)*0.5;var j=b+(d-b)*0.5;var k=f+(c-f)*0.5;var r=g+(d-g)*0.5;var w=Math.min(a,f,h,k);var y=Math.max(a,f,h,k);var a1=Math.min(b,g,j,r);var c1=Math.max(b,g,j,r);return new R(w,a1,y-w,c1-a1);};var Y=function Y(a,b,c,f,g,h,j,k){var r=c-a;var w=f-b;var a1=g-c;var c1=h-f;var d1=j-g;var i1=k-h;var m1=40;var d,i,px,py,qx,qy,rx,ry,tx,ty,sx,sy,x,y,x1,y1,z1,$1,_1,a2,b2,d2,i2,k2;for(i=0;i<m1+1;i++){d=i/m1;px=a+d*r;py=b+d*w;qx=c+d*a1;qy=f+d*c1;rx=g+d*d1;ry=h+d*i1;_1=qx-px;a2=qy-py;b2=rx-qx;d2=ry-qy;sx=px+d*_1;sy=py+d*a2;tx=qx+d*b2;ty=qy+d*d2;i2=tx-sx;k2=ty-sy;x=sx+d*i2;y=sy+d*k2;if(i==0){x1=x;y1=y;z1=x;$1=y;}else{x1=Math.min(x1,x);y1=Math.min(y1,y);z1=Math.max(z1,x);$1=Math.max($1,y);}}return new R(Math.round(x1),Math.round(y1),Math.round(z1-x1),Math.round($1-y1));};var Z=function Z(a,b){return JSON.stringify({lineDash:a,lineDashOffset:b});};var b1=function b1(){if(!this.prevLineDash&&!this.ctx.lineDash.length&&!this.ctx.lineDashOffset){return;}var a=Z(this.ctx.lineDash,this.ctx.lineDashOffset);if(this.prevLineDash!==a){this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset);this.prevLineDash=a;}};})(V1.API);var G3;try{G3=require('worker_threads').Worker;}catch(e){}var u8=Uint8Array,I3=Uint16Array,J3=Uint32Array;var K3=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]);var L3=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]);var M3=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);var N3=function(a,s){var b=new I3(31);for(var i=0;i<31;++i){b[i]=s+=1<<a[i-1];}var r=new J3(b[30]);for(var i=1;i<30;++i){for(var j=b[i];j<b[i+1];++j){r[j]=j-b[i]<<5|i;}}return[b,r];};var _a=N3(K3,2),fl=_a[0],Q3=_a[1];fl[28]=258,Q3[258]=28;var _b=N3(L3,0),fd=_b[0],T3=_b[1];var U3=new I3(32768);for(var i=0;i<32768;++i){var x=(i&0xAAAA)>>>1|(i&0x5555)<<1;x=(x&0xCCCC)>>>2|(x&0x3333)<<2;x=(x&0xF0F0)>>>4|(x&0x0F0F)<<4;U3[i]=((x&0xFF00)>>>8|(x&0x00FF)<<8)>>>1;}var V3=function(c,a,r){var s=c.length;var i=0;var l=new I3(a);for(;i<s;++i)++l[c[i]-1];var b=new I3(a);for(i=0;i<a;++i){b[i]=b[i-1]+l[i-1]<<1;}var d;if(r){d=new I3(1<<a);var f=15-a;for(i=0;i<s;++i){if(c[i]){var g=i<<4|c[i];var h=a-c[i];var v=b[c[i]-1]++<<h;for(var m=v|(1<<h)-1;v<=m;++v){d[U3[v]>>>f]=g;}}}}else{d=new I3(s);for(i=0;i<s;++i)d[i]=U3[b[c[i]-1]++]>>>15-c[i];}return d;};var W3=new u8(288);for(var i=0;i<144;++i)W3[i]=8;for(var i=144;i<256;++i)W3[i]=9;for(var i=256;i<280;++i)W3[i]=7;for(var i=280;i<288;++i)W3[i]=8;var X3=new u8(32);for(var i=0;i<32;++i)X3[i]=5;var Y3=V3(W3,9,0),Z3=V3(W3,9,1);var $3=V3(X3,5,0),_3=V3(X3,5,1);var a4=function(a){var m=a[0];for(var i=1;i<a.length;++i){if(a[i]>m)m=a[i];}return m;};var c4=function(d,p,m){var o=p/8>>0;return(d[o]|d[o+1]<<8)>>>(p&7)&m;};var e4=function(d,p){var o=p/8>>0;return(d[o]|d[o+1]<<8|d[o+2]<<16)>>>(p&7);};var g4=function(p){return(p/8>>0)+(p&7&&1);};var h4=function(v,s,e){if(s==null||s<0)s=0;if(e==null||e>v.length)e=v.length;var n=new(v instanceof I3?I3:v instanceof J3?J3:u8)(e-s);n.set(v.subarray(s,e));return n;};var i4=function(a,f,g){var h=a.length;var j=!f||g;var k=!g||g.i;if(!g)g={};if(!f)f=new u8(h*3);var m=function(l){var S=f.length;if(l>S){var T=new u8(Math.max(S*2,l));T.set(f);f=T;}};var o=g.f||0,p=g.p||0,q=g.b||0,u=g.l,v=g.d,w=g.m,y=g.n;var z=h*8;do{if(!u){g.f=o=c4(a,p,1);var A=c4(a,p+1,3);p+=3;if(!A){var s=g4(p)+4,l=a[s-4]|a[s-3]<<8,t=s+l;if(t>h){if(k)throw'unexpected EOF';break;}if(j)m(q+l);f.set(a.subarray(s,t),q);g.b=q+=l,g.p=p=t*8;continue;}else if(A==1)u=Z3,v=_3,w=9,y=5;else if(A==2){var B=c4(a,p,31)+257,C=c4(a,p+10,15)+4;var D=B+c4(a,p+5,31)+1;p+=14;var E=new u8(D);var F=new u8(19);for(var i=0;i<C;++i){F[M3[i]]=c4(a,p+i*3,7);}p+=C*3;var G=a4(F),H=(1<<G)-1;if(!k&&p+D*(G+7)>z)break;var I=V3(F,G,1);for(var i=0;i<D;){var r=I[c4(a,p,H)];p+=r&15;var s=r>>>4;if(s<16){E[i++]=s;}else{var c=0,n=0;if(s==16)n=3+c4(a,p,3),p+=2,c=E[i-1];else if(s==17)n=3+c4(a,p,7),p+=3;else if(s==18)n=11+c4(a,p,127),p+=7;while(n--)E[i++]=c;}}var J=E.subarray(0,B),K=E.subarray(B);w=a4(J);y=a4(K);u=V3(J,w,1);v=V3(K,y,1);}else throw'invalid block type';if(p>z)throw'unexpected EOF';}if(j)m(q+131072);var L=(1<<w)-1,M=(1<<y)-1;var N=w+y+18;while(k||p+N<z){var c=u[e4(a,p)&L],O=c>>>4;p+=c&15;if(p>z)throw'unexpected EOF';if(!c)throw'invalid length/literal';if(O<256)f[q++]=O;else if(O==256){u=null;break;}else{var P=O-254;if(O>264){var i=O-257,b=K3[i];P=c4(a,p,(1<<b)-1)+fl[i];p+=b;}var d=v[e4(a,p)&M],Q=d>>>4;if(!d)throw'invalid distance';p+=d&15;var K=fd[Q];if(Q>3){var b=L3[Q];K+=e4(a,p)&(1<<b)-1,p+=b;}if(p>z)throw'unexpected EOF';if(j)m(q+131072);var R=q+P;for(;q<R;q+=4){f[q]=f[q-K];f[q+1]=f[q+1-K];f[q+2]=f[q+2-K];f[q+3]=f[q+3-K];}q=R;}}g.l=u,g.p=p,g.b=q;if(u)o=1,g.m=w,g.d=v,g.n=y;}while(!o);return q==f.length?f:h4(f,0,q);};var j4=function(d,p,v){v<<=p&7;var o=p/8>>0;d[o]|=v;d[o+1]|=v>>>8;};var k4=function(d,p,v){v<<=p&7;var o=p/8>>0;d[o]|=v;d[o+1]|=v>>>8;d[o+2]|=v>>>16;};var l4=function(d,m){var t=[];for(var i=0;i<d.length;++i){if(d[i])t.push({s:i,f:d[i]});}var s=t.length;var c=t.slice();if(!s)return[new u8(0),0];if(s==1){var v=new u8(t[0].s+1);v[t[0].s]=1;return[v,1];}t.sort(function(a,b){return a.f-b.f;});t.push({s:-1,f:25001});var l=t[0],r=t[1],f=0,g=1,h=2;t[0]={s:-1,f:l.f+r.f,l:l,r:r};while(g!=s-1){l=t[t[f].f<t[h].f?f++:h++];r=t[f!=g&&t[f].f<t[h].f?f++:h++];t[g++]={s:-1,f:l.f+r.f,l:l,r:r};}var j=c[0].s;for(var i=1;i<s;++i){if(c[i].s>j)j=c[i].s;}var k=new I3(j+1);var n=ln(t[g-1],k,0);if(n>m){var i=0,o=0;var p=n-m,q=1<<p;c.sort(function(a,b){return k[b.s]-k[a.s]||a.f-b.f;});for(;i<s;++i){var u=c[i].s;if(k[u]>m){o+=q-(1<<n-k[u]);k[u]=m;}else break;}o>>>=p;while(o>0){var w=c[i].s;if(k[w]<m)o-=1<<m-k[w]++-1;else++i;}for(;i>=0&&o;--i){var y=c[i].s;if(k[y]==m){--k[y];++o;}}n=m;}return[new u8(k),n];};var ln=function(n,l,d){return n.s==-1?Math.max(ln(n.l,l,d+1),ln(n.r,l,d+1)):l[n.s]=d;};var lc=function(c){var s=c.length;while(s&&!c[--s]);var a=new I3(++s);var b=0,d=c[0],f=1;var w=function(v){a[b++]=v;};for(var i=1;i<=s;++i){if(c[i]==d&&i!=s)++f;else{if(!d&&f>2){for(;f>138;f-=138)w(32754);if(f>2){w(f>10?f-11<<5|28690:f-3<<5|12305);f=0;}}else if(f>3){w(d),--f;for(;f>6;f-=6)w(8304);if(f>2)w(f-3<<5|8208),f=0;}while(f--)w(d);f=1;d=c[i];}}return[a.subarray(0,b),s];};var o4=function(c,a){var l=0;for(var i=0;i<a.length;++i)l+=c[i]*a[i];return l;};var p4=function(a,p,d){var s=d.length;var o=g4(p+2);a[o]=s&255;a[o+1]=s>>>8;a[o+2]=a[o]^255;a[o+3]=a[o+1]^255;for(var i=0;i<s;++i)a[o+i+4]=d[i];return(o+4+s)*8;};var q4=function(d,o,f,s,l,a,b,c,g,h,p){j4(o,p++,f);++l[256];var j=l4(l,15),k=j[0],m=j[1];var n=l4(a,15),q=n[0],r=n[1];var t=lc(k),u=t[0],v=t[1];var w=lc(q),y=w[0],z=w[1];var A=new I3(19);for(var i=0;i<u.length;++i)A[u[i]&31]++;for(var i=0;i<y.length;++i)A[y[i]&31]++;var B=l4(A,7),C=B[0],D=B[1];var E=19;for(;E>4&&!C[M3[E-1]];--E);var F=h+5<<3;var G=o4(l,W3)+o4(a,X3)+b;var H=o4(l,k)+o4(a,q)+b+14+3*E+o4(A,C)+(2*A[16]+3*A[17]+7*A[18]);if(F<=G&&F<=H)return p4(o,p,d.subarray(g,g+h));var I,J,K,L;j4(o,p,1+(H<G)),p+=2;if(H<G){I=V3(k,m,0),J=k,K=V3(q,r,0),L=q;var M=V3(C,D,0);j4(o,p,v-257);j4(o,p+5,z-1);j4(o,p+10,E-4);p+=14;for(var i=0;i<E;++i)j4(o,p+3*i,C[M3[i]]);p+=3*E;var N=[u,y];for(var O=0;O<2;++O){var P=N[O];for(var i=0;i<P.length;++i){var Q=P[i]&31;j4(o,p,M[Q]),p+=C[Q];if(Q>15)j4(o,p,P[i]>>>5&127),p+=P[i]>>>12;}}}else{I=Y3,J=W3,K=$3,L=X3;}for(var i=0;i<c;++i){if(s[i]>255){var Q=s[i]>>>18&31;k4(o,p,I[Q+257]),p+=J[Q+257];if(Q>7)j4(o,p,s[i]>>>23&31),p+=K3[Q];var R=s[i]&31;k4(o,p,K[R]),p+=L[R];if(R>3)k4(o,p,s[i]>>>5&8191),p+=L3[R];}else{k4(o,p,I[s[i]]),p+=J[s[i]];}}k4(o,p,I[256]);return p+J[256];};var r4=new J3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]);var et=new u8(0);var t4=function(a,b,p,f,g,h){var s=a.length;var o=new u8(f+s+5*(1+Math.floor(s/7000))+g);var w=o.subarray(f,o.length-g);var k=0;if(!b||s<8){for(var i=0;i<=s;i+=65535){var e=i+65535;if(e<s){k=p4(w,k,a.subarray(i,e));}else{w[i]=h;k=p4(w,k,a.subarray(i,s));}}}else{var m=r4[b-1];var n=m>>>13,c=m&8191;var q=(1<<p)-1;var r=new I3(32768),t=new I3(q+1);var u=Math.ceil(p/3),v=2*u;var y=function(i){return(a[i]^a[i+1]<<u^a[i+2]<<v)&q;};var z=new J3(25000);var A=new I3(288),B=new I3(32);var C=0,D=0,i=0,E=0,F=0,G=0;for(;i<s;++i){var H=y(i);var I=i&32767;var J=t[H];r[I]=J;t[H]=I;if(F<=i){var K=s-i;if((C>7000||E>24576)&&K>423){k=q4(a,w,0,z,A,B,D,E,G,i-G,k);E=C=D=0,G=i;for(var j=0;j<286;++j)A[j]=0;for(var j=0;j<30;++j)B[j]=0;}var l=2,d=0,L=c,M=I-J&32767;if(K>2&&H==y(i-M)){var N=Math.min(n,K)-1;var O=Math.min(32767,i);var P=Math.min(258,K);while(M<=O&&--L&&I!=J){if(a[i+l]==a[i+l-M]){var Q=0;for(;Q<P&&a[i+Q]==a[i+Q-M];++Q);if(Q>l){l=Q,d=M;if(Q>N)break;var R=Math.min(M,Q-2);var S=0;for(var j=0;j<R;++j){var T=i-M+j+32768&32767;var U=r[T];var V=T-U+32768&32767;if(V>S)S=V,J=T;}}}I=J,J=r[I];M+=I-J+32768&32767;}}if(d){z[E++]=268435456|Q3[l]<<18|T3[d];var W=Q3[l]&31,X=T3[d]&31;D+=K3[W]+L3[X];++A[257+W];++B[X];F=i+l;++C;}else{z[E++]=a[i];++A[a[i]];}}}k=q4(a,w,h,z,A,B,D,E,G,i-G,k);if(!h)k=p4(w,k,et);}return h4(o,0,f+g4(k)+g);};var u4=function(){var a=1,b=0;return{p:function(d){var n=a,m=b;var l=d.length;for(var i=0;i!=l;){var e=Math.min(i+5552,l);for(;i<e;++i)n+=d[i],m+=n;n%=65521,m%=65521;}a=n,b=m;},d:function(){return(a>>>8<<16|(b&255)<<8|b>>>8)+((a&255)<<23)*2;}};};var v4=function(d,o,p,a,s){return t4(d,o.level==null?6:o.level,o.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(d.length)))*1.5):12+o.mem,p,a,!s);};var w4=function(d,b,v){for(;v;++b)d[b]=v,v>>>=8;};var A4=function(c,o){var l=o.level,f=l==0?0:l<6?1:l==9?3:2;c[0]=120,c[1]=f<<6|(f?32-2*f:1);};var B4=function(d){if((d[0]&15)!=8||d[0]>>>4>7||(d[0]<<8|d[1])%31)throw'invalid zlib data';if(d[1]&32)throw'invalid zlib data: preset dictionaries not supported';};function C4(b,o){if(o===void 0){o={};}var a=u4();a.p(b);var d=v4(b,o,2,4);return A4(d,o),w4(d,d.length-4,a.d()),d;}function D4(d,o){return i4((B4(d),d.subarray(2,-4)),o);}
/**
   * @license
   * jsPDF filters PlugIn
   * Copyright (c) 2014 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){var A=function A(a){var b,c,d,e,f,g,h,i,j,k;for(!/[^\x00-\xFF]/.test(a),b="\x00\x00\x00\x00".slice(a.length%4||4),a+=b,c=[],d=0,e=a.length;e>d;d+=4){f=(a.charCodeAt(d)<<24)+(a.charCodeAt(d+1)<<16)+(a.charCodeAt(d+2)<<8)+a.charCodeAt(d+3),0!==f?(k=f%85,f=(f-k)/85,j=f%85,f=(f-j)/85,i=f%85,f=(f-i)/85,h=f%85,f=(f-h)/85,g=f%85,c.push(g+33,h+33,i+33,j+33,k+33)):c.push(122);}return function(a,b){for(var c=b;c>0;c--){a.pop();}}(c,b.length),String.fromCharCode.apply(String,c)+"~>";};var m=function m(a){var c,d,e,f,g,h=String,l="length",w=255,x="charCodeAt",y="slice",z="replace";for("~>"===a[y](-2),a=a[y](0,-2)[z](/\s/g,"")[z]("z","!!!!!"),c="uuuuu"[y](a[l]%5||5),a+=c,e=[],f=0,g=a[l];g>f;f+=5){d=52200625*(a[x](f)-33)+614125*(a[x](f+1)-33)+7225*(a[x](f+2)-33)+85*(a[x](f+3)-33)+(a[x](f+4)-33),e.push(w&d>>24,w&d>>16,w&d>>8,w&d);}return function(a,b){for(var c=b;c>0;c--){a.pop();}}(e,c[l]),h.fromCharCode.apply(h,e);};var n=function n(v){return v.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2);}).join("")+">";};var o=function o(v){var r=new RegExp(/^([0-9A-Fa-f]{2})+$/);v=v.replace(/\s/g,"");if(v.indexOf(">")!==-1){v=v.substr(0,v.indexOf(">"));}if(v.length%2){v+="0";}if(r.test(v)===false){return"";}var a="";for(var i=0;i<v.length;i+=2){a+=String.fromCharCode("0x"+(v[i]+v[i+1]));}return a;};var F=function F(d){var a=new Uint8Array(d.length);var i=d.length;while(i--){a[i]=d.charCodeAt(i);}a=C4(a);d=a.reduce(function(d,b){return d+String.fromCharCode(b);},"");return d;};W1.processDataByFilters=function(a,f){var i=0;var d=a||"";var r=[];f=f||[];if(typeof f==="string"){f=[f];}for(i=0;i<f.length;i+=1){switch(f[i]){case"ASCII85Decode":case"/ASCII85Decode":d=m(d);r.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=A(d);r.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=o(d);r.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d);r.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=F(d);r.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[i]+'" is not implemented');}}return{data:d,reverseChain:r.reverse().join(" ")};};})(V1.API);
/**
   * @license
   * jsPDF fileloading PlugIn
   * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){W1.loadFile=function(u,s,c){return b(u,s,c);};W1.loadImageFile=W1.loadFile;function b(u,s,c){s=s===false?false:true;c=typeof c==="function"?c:function(){};var r=undefined;var a=function a(u,s,c){var d=new XMLHttpRequest();var i=0;var f=function f(g){var h=g.length;var j=[];var S=String.fromCharCode;for(i=0;i<h;i+=1){j.push(S(g.charCodeAt(i)&0xff));}return j.join("");};d.open("GET",u,!s);d.overrideMimeType("text/plain; charset=x-user-defined");if(s===false){d.onload=function(){if(d.status===200){c(f(this.responseText));}else{c(undefined);}};}d.send(null);if(s&&d.status===200){return f(d.responseText);}};try{r=a(u,s,c);}catch(e){}return r;}})(V1.API);(function(W1){function l(){return function(){if(e1["html2canvas"]){return Promise.resolve(e1["html2canvas"]);}if((typeof $==="undefined"?"undefined":_($))==="object"&&typeof module!=="undefined"){return new Promise(function(r,d){try{r(require("html2canvas"));}catch(e){d(e);}});}if(typeof define==="function"&&define.amd){return new Promise(function(r,d){try{require(["html2canvas"],r);}catch(e){d(e);}});}return Promise.reject(new Error("Could not load html2canvas"));}().catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e));}).then(function(h){return h.default?h.default:h;});}function a(){return function(){if(e1["DOMPurify"]){return Promise.resolve(e1["DOMPurify"]);}if((typeof $==="undefined"?"undefined":_($))==="object"&&typeof module!=="undefined"){return new Promise(function(r,d){try{r(require("dompurify"));}catch(e){d(e);}});}if(typeof define==="function"&&define.amd){return new Promise(function(r,d){try{require(["dompurify"],r);}catch(e){d(e);}});}return Promise.reject(new Error("Could not load dompurify"));}().catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e));}).then(function(d){return d.default?d.default:d;});}var o=function o(d){var t=_(d);if(t==="undefined")return"undefined";else if(t==="string"||d instanceof String)return"string";else if(t==="number"||d instanceof Number)return"number";else if(t==="function"||d instanceof Function)return"function";else if(!!d&&d.constructor===Array)return"array";else if(d&&d.nodeType===1)return"element";else if(t==="object")return"object";else return"unknown";};var c=function c(t,d){var f=document.createElement(t);if(d.className)f.className=d.className;if(d.innerHTML&&d.dompurify){f.innerHTML=d.dompurify.sanitize(d.innerHTML);}for(var k in d.style){f.style[k]=d.style[k];}return f;};var b=function b(n,j){var d=n.nodeType===3?document.createTextNode(n.nodeValue):n.cloneNode(false);for(var f=n.firstChild;f;f=f.nextSibling){if(j===true||f.nodeType!==1||f.nodeName!=="SCRIPT"){d.appendChild(b(f,j));}}if(n.nodeType===1){if(n.nodeName==="CANVAS"){d.width=n.width;d.height=n.height;d.getContext("2d").drawImage(n,0,0);}else if(n.nodeName==="TEXTAREA"||n.nodeName==="SELECT"){d.value=n.value;}d.addEventListener("load",function(){d.scrollTop=n.scrollTop;d.scrollLeft=n.scrollLeft;},true);}return d;};var G3=function G3(d){var r=Object.assign(G3.convert(Promise.resolve()),JSON.parse(JSON.stringify(G3.template)));var s=G3.convert(Promise.resolve(),r);s=s.setProgress(1,G3,1,[G3]);s=s.set(d);return s;};G3.prototype=Object.create(Promise.prototype);G3.prototype.constructor=G3;G3.convert=function convert(p,c2){p.__proto__=c2||G3.prototype;return p;};G3.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function callback(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:true,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}};G3.prototype.from=function from(s,t){function g(s){switch(o(s)){case"string":return"string";case"element":return s.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown";}}return this.then(function from_main(){t=t||g(s);switch(t){case"string":return this.then(a).then(function(d){return this.set({src:c("div",{innerHTML:s,dompurify:d})});});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.");}});};G3.prototype.to=function to(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.");}};G3.prototype.toContainer=function toContainer(){var p=[function checkSrc(){return this.prop.src||this.error("Cannot duplicate - no source HTML.");},function checkPageSize(){return this.prop.pageSize||this.setPageSize();}];return this.thenList(p).then(function toContainer_main(){var d={position:"fixed",overflow:"hidden",zIndex:1000,left:"-100000px",right:0,bottom:0,top:0};var f={position:"relative",display:"inline-block",width:(typeof this.opt.width==="number"&&!isNaN(this.opt.width)&&typeof this.opt.windowWidth==="number"&&!isNaN(this.opt.windowWidth)?this.opt.windowWidth:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth))+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor};var s=b(this.prop.src,this.opt.html2canvas.javascriptEnabled);if(s.tagName==="BODY"){f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px";}this.prop.overlay=c("div",{className:"html2pdf__overlay",style:d});this.prop.container=c("div",{className:"html2pdf__container",style:f});this.prop.container.appendChild(s);this.prop.container.firstChild.appendChild(c("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}}));this.prop.container.style.float="none";this.prop.overlay.appendChild(this.prop.container);document.body.appendChild(this.prop.overlay);this.prop.container.firstChild.style.position="relative";this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px";});};G3.prototype.toCanvas=function toCanvas(){var p=[function checkContainer(){return document.body.contains(this.prop.container)||this.toContainer();}];return this.thenList(p).then(l).then(function toCanvas_main(h){var d=Object.assign({},this.opt.html2canvas);delete d.onrendered;return h(this.prop.container,d);}).then(function toCanvas_post(d){var f=this.opt.html2canvas.onrendered||function(){};f(d);this.prop.canvas=d;document.body.removeChild(this.prop.overlay);});};G3.prototype.toContext2d=function toContext2d(){var p=[function checkContainer(){return document.body.contains(this.prop.container)||this.toContainer();}];return this.thenList(p).then(l).then(function toContext2d_main(h){var d=this.opt.jsPDF;var f=this.opt.fontFaces;var e2=typeof this.opt.width==="number"&&!isNaN(this.opt.width)&&typeof this.opt.windowWidth==="number"&&!isNaN(this.opt.windowWidth)?this.opt.width/this.opt.windowWidth:1;var g=Object.assign({async:true,allowTaint:true,scale:e2,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15000,logging:true,proxy:null,removeContainer:true,foreignObjectRendering:false,useCORS:false},this.opt.html2canvas);delete g.onrendered;d.context2d.autoPaging=typeof this.opt.autoPaging==="undefined"?true:this.opt.autoPaging;d.context2d.posX=this.opt.x;d.context2d.posY=this.opt.y;d.context2d.margin=this.opt.margin;d.context2d.fontFaces=f;if(f){for(var i=0;i<f.length;++i){var j=f[i];var s=j.src.find(function(s){return s.format==="truetype";});if(s){d.addFont(s.url,j.ref.name,j.ref.style);}}}g.windowHeight=g.windowHeight||0;g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight;d.context2d.save(true);return h(this.prop.container,g);}).then(function toContext2d_post(d){this.opt.jsPDF.context2d.restore(true);var f=this.opt.html2canvas.onrendered||function(){};f(d);this.prop.canvas=d;document.body.removeChild(this.prop.overlay);});};G3.prototype.toImg=function toImg(){var p=[function checkCanvas(){return this.prop.canvas||this.toCanvas();}];return this.thenList(p).then(function toImg_main(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img");this.prop.img.src=d;});};G3.prototype.toPdf=function toPdf(){var p=[function checkContext2d(){return this.toContext2d();}];return this.thenList(p).then(function toPdf_main(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF;});};G3.prototype.output=function output(t,d,s){s=s||"pdf";if(s.toLowerCase()==="img"||s.toLowerCase()==="image"){return this.outputImg(t,d);}else{return this.outputPdf(t,d);}};G3.prototype.outputPdf=function outputPdf(t,d){var p=[function checkPdf(){return this.prop.pdf||this.toPdf();}];return this.thenList(p).then(function outputPdf_main(){return this.prop.pdf.output(t,d);});};G3.prototype.outputImg=function outputImg(t){var p=[function checkImg(){return this.prop.img||this.toImg();}];return this.thenList(p).then(function outputImg_main(){switch(t){case undefined:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.';}});};G3.prototype.save=function save(f){var p=[function checkPdf(){return this.prop.pdf||this.toPdf();}];return this.thenList(p).set(f?{filename:f}:null).then(function save_main(){this.prop.pdf.save(this.opt.filename);});};G3.prototype.doCallback=function doCallback(){var p=[function checkPdf(){return this.prop.pdf||this.toPdf();}];return this.thenList(p).then(function doCallback_main(){this.prop.callback(this.prop.pdf);});};G3.prototype.set=function set(d){if(o(d)!=="object"){return this;}var f=Object.keys(d||{}).map(function(k){if(k in G3.template.prop){return function set_prop(){this.prop[k]=d[k];};}else{switch(k){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function set_jsPDF(){this.opt.jsPDF=d.jsPDF;return this.setPageSize();};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function set_opt(){this.opt[k]=d[k];};}}},this);return this.then(function set_main(){return this.thenList(f);});};G3.prototype.get=function get(k,d){return this.then(function get_main(){var v=k in G3.template.prop?this.prop[k]:this.opt[k];return d?d(v):v;});};G3.prototype.setMargin=function setMargin(m){return this.then(function setMargin_main(){switch(o(m)){case"number":m=[m,m,m,m];case"array":if(m.length===2){m=[m[0],m[1],m[0],m[1]];}if(m.length===4){break;}default:return this.error("Invalid margin array.");}this.opt.margin=m;}).then(this.setPageSize);};G3.prototype.setPageSize=function setPageSize(p){function t(v,k){return Math.floor(v*k/72*96);}return this.then(function setPageSize_main(){p=p||V1.getPageSize(this.opt.jsPDF);if(!p.hasOwnProperty("inner")){p.inner={width:p.width-this.opt.margin[1]-this.opt.margin[3],height:p.height-this.opt.margin[0]-this.opt.margin[2]};p.inner.px={width:t(p.inner.width,p.k),height:t(p.inner.height,p.k)};p.inner.ratio=p.inner.height/p.inner.width;}this.prop.pageSize=p;});};G3.prototype.setProgress=function setProgress(v,s,n,d){if(v!=null)this.progress.val=v;if(s!=null)this.progress.state=s;if(n!=null)this.progress.n=n;if(d!=null)this.progress.stack=d;this.progress.ratio=this.progress.val/this.progress.state;return this;};G3.prototype.updateProgress=function updateProgress(v,s,n,d){return this.setProgress(v?this.progress.val+v:null,s?s:null,n?this.progress.n+n:null,d?this.progress.stack.concat(d):null);};G3.prototype.then=function then(d,f){var s=this;return this.thenCore(d,f,function then_main(d,f){s.updateProgress(null,null,1,[d]);return Promise.prototype.then.call(this,function then_pre(v){s.updateProgress(null,d);return v;}).then(d,f).then(function then_post(v){s.updateProgress(1);return v;});});};G3.prototype.thenCore=function thenCore(d,f,t){t=t||Promise.prototype.then;var s=this;if(d){d=d.bind(s);}if(f){f=f.bind(s);}var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise";var h=g?s:G3.convert(Object.assign({},s),Promise.prototype);var r=t.call(h,d,f);return G3.convert(r,s.__proto__);};G3.prototype.thenExternal=function thenExternal(d,f){return Promise.prototype.then.call(this,d,f);};G3.prototype.thenList=function thenList(f){var s=this;f.forEach(function thenList_forEach(d){s=s.thenCore(d);});return s;};G3.prototype["catch"]=function(d){if(d){d=d.bind(this);}var r=Promise.prototype["catch"].call(this,d);return G3.convert(r,this);};G3.prototype.catchExternal=function catchExternal(d){return Promise.prototype["catch"].call(this,d);};G3.prototype.error=function error(m){return this.then(function error_main(){throw new Error(m);});};G3.prototype.using=G3.prototype.set;G3.prototype.saveAs=G3.prototype.save;G3.prototype.export=G3.prototype.output;G3.prototype.run=G3.prototype.then;V1.getPageSize=function(d,u,f){if(_(d)==="object"){var g=d;d=g.orientation;u=g.unit||u;f=g.format||f;}u=u||"mm";f=f||"a4";d=(""+(d||"P")).toLowerCase();var h=(""+f).toLowerCase();var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};var k;switch(u){case"pt":k=1;break;case"mm":k=72/25.4;break;case"cm":k=72/2.54;break;case"in":k=72;break;case"px":k=72/96;break;case"pc":k=12;break;case"em":k=12;break;case"ex":k=6;break;default:throw"Invalid unit: "+u;}var j=0;var m=0;if(p.hasOwnProperty(h)){j=p[h][1]/k;m=p[h][0]/k;}else{try{j=f[1];m=f[0];}catch(n){throw new Error("Invalid format: "+f);}}var t;if(d==="p"||d==="portrait"){d="p";if(m>j){t=m;m=j;j=t;}}else if(d==="l"||d==="landscape"){d="l";if(j>m){t=m;m=j;j=t;}}else{throw"Invalid orientation: "+d;}var q={width:m,height:j,unit:u,k:k,orientation:d};return q;};W1.html=function(s,d){d=d||{};d.callback=d.callback||function(){};d.html2canvas=d.html2canvas||{};d.html2canvas.canvas=d.html2canvas.canvas||this.canvas;d.jsPDF=d.jsPDF||this;d.fontFaces=d.fontFaces?d.fontFaces.map(o3):null;var w=new G3(d);if(!d.worker){return w.from(s).doCallback();}else{return w;}};})(V1.API);
/**
   * @license
   * ====================================================================
   * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
(function(W1){var j,a,t;W1.addJS=function(b){t=b;this.internal.events.subscribe("postPutResources",function(){j=this.internal.newObject();this.internal.out("<<");this.internal.out("/Names [(EmbeddedJS) "+(j+1)+" 0 R]");this.internal.out(">>");this.internal.out("endobj");a=this.internal.newObject();this.internal.out("<<");this.internal.out("/S /JavaScript");this.internal.out("/JS ("+t+")");this.internal.out(">>");this.internal.out("endobj");});this.internal.events.subscribe("putCatalog",function(){if(j!==undefined&&a!==undefined){this.internal.out("/Names <</JavaScript "+j+" 0 R>>");}});return this;};})(V1.API);
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){var n;W1.events.push(["postPutResources",function(){var p=this;var r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0){var l=p.outline.render().split(/\r\n/);for(var i=0;i<l.length;i++){var a=l[i];var m=r.exec(a);if(m!=null){var o=m[1];p.internal.newObjectDeferredBegin(o,false);}p.internal.write(a);}}if(this.outline.createNamedDestinations){var t=this.internal.pages.length;var d=[];for(var i=0;i<t;i++){var b=p.internal.newObject();d.push(b);var c=p.internal.getPageInfo(i+1);p.internal.write("<< /D["+c.objId+" 0 R /XYZ null null null]>> endobj");}var f=p.internal.newObject();p.internal.write("<< /Names [ ");for(var i=0;i<d.length;i++){p.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");}p.internal.write(" ] >>","endobj");n=p.internal.newObject();p.internal.write("<< /Dests "+f+" 0 R");p.internal.write(">>","endobj");}}]);W1.events.push(["putCatalog",function(){var p=this;if(p.outline.root.children.length>0){p.internal.write("/Outlines",this.outline.makeRef(this.outline.root));if(this.outline.createNamedDestinations){p.internal.write("/Names "+n+" 0 R");}}}]);W1.events.push(["initialized",function(){var p=this;p.outline={createNamedDestinations:false,root:{children:[]}};p.outline.add=function(a,t,o){var b={title:t,options:o,children:[]};if(a==null){a=this.root;}a.children.push(b);return b;};p.outline.render=function(){this.ctx={};this.ctx.val="";this.ctx.pdf=p;this.genIds_r(this.root);this.renderRoot(this.root);this.renderItems(this.root);return this.ctx.val;};p.outline.genIds_r=function(a){a.id=p.internal.newObjectDeferred();for(var i=0;i<a.children.length;i++){this.genIds_r(a.children[i]);}};p.outline.renderRoot=function(a){this.objStart(a);this.line("/Type /Outlines");if(a.children.length>0){this.line("/First "+this.makeRef(a.children[0]));this.line("/Last "+this.makeRef(a.children[a.children.length-1]));}this.line("/Count "+this.count_r({count:0},a));this.objEnd();};p.outline.renderItems=function(a){var g=this.ctx.pdf.internal.getVerticalCoordinateString;for(var i=0;i<a.children.length;i++){var b=a.children[i];this.objStart(b);this.line("/Title "+this.makeString(b.title));this.line("/Parent "+this.makeRef(a));if(i>0){this.line("/Prev "+this.makeRef(a.children[i-1]));}if(i<a.children.length-1){this.line("/Next "+this.makeRef(a.children[i+1]));}if(b.children.length>0){this.line("/First "+this.makeRef(b.children[0]));this.line("/Last "+this.makeRef(b.children[b.children.length-1]));}var c=this.count=this.count_r({count:0},b);if(c>0){this.line("/Count "+c);}if(b.options){if(b.options.pageNumber){var d=p.internal.getPageInfo(b.options.pageNumber);this.line("/Dest "+"["+d.objId+" 0 R /XYZ 0 "+g(0)+" 0]");}}this.objEnd();}for(var z=0;z<a.children.length;z++){this.renderItems(a.children[z]);}};p.outline.line=function(t){this.ctx.val+=t+"\r\n";};p.outline.makeRef=function(a){return a.id+" 0 R";};p.outline.makeString=function(v){return"("+p.internal.pdfEscape(v)+")";};p.outline.objStart=function(a){this.ctx.val+="\r\n"+a.id+" 0 obj"+"\r\n<<\r\n";};p.outline.objEnd=function(){this.ctx.val+=">> \r\n"+"endobj"+"\r\n";};p.outline.count_r=function(c,a){for(var i=0;i<a.children.length;i++){c.count++;this.count_r(c,a.children[i]);}return c.count;};}]);return this;})(V1.API);
/**
   * @license
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){var m=[0xc0,0xc1,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7];var g=function g(a){var w,h,n;var b=a.charCodeAt(4)*256+a.charCodeAt(5);var l=a.length;var r={width:0,height:0,numcomponents:1};for(var i=4;i<l;i+=2){i+=b;if(m.indexOf(a.charCodeAt(i+1))!==-1){h=a.charCodeAt(i+5)*256+a.charCodeAt(i+6);w=a.charCodeAt(i+7)*256+a.charCodeAt(i+8);n=a.charCodeAt(i+9);r={width:w,height:h,numcomponents:n};break;}else{b=a.charCodeAt(i+2)*256+a.charCodeAt(i+3);}}return r;};W1.processJPEG=function(d,a,b,c,f,h){var j=this.decode.DCT_DECODE,k=8,l,r=null;if(typeof d==="string"||this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d)){d=f||d;d=this.__addimage__.isArrayBuffer(d)?new Uint8Array(d):d;d=this.__addimage__.isArrayBufferView(d)?this.__addimage__.arrayBufferToBinaryString(d):d;l=g(d);switch(l.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB;break;}r={data:d,width:l.width,height:l.height,colorSpace:h,bitsPerComponent:k,filter:j,index:a,alias:b};}return r;};})(V1.API);var E4=function(){var A,a,b,m,s,d;a=1;b=2;A=0;function E4(c){var f,h,p,j,k,l,i,n,o,q,r,t,u,v,w;this.data=c;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};l=null;while(true){f=this.readUInt32();q=function(){var u,y;y=[];for(i=u=0;u<4;i=++u){y.push(String.fromCharCode(this.data[this.pos++]));}return y;}.call(this).join("");switch(q){case"IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":if(l){this.animation.frames.push(l);}this.pos+=4;l={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};k=this.readUInt16();j=this.readUInt16()||100;l.delay=1000*k/j;l.disposeOp=this.data[this.pos++];l.blendOp=this.data[this.pos++];l.data=[];break;case"IDAT":case"fdAT":if(q==="fdAT"){this.pos+=4;f-=4;}c=(l!=null?l.data:void 0)||this.imgData;for(i=u=0;0<=f?u<f:u>f;i=0<=f?++u:--u){c.push(this.data[this.pos++]);}break;case"tRNS":this.transparency={};switch(this.colorType){case 3:p=this.palette.length/3;this.transparency.indexed=this.read(f);if(this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");r=p-this.transparency.indexed.length;if(r>0){for(i=v=0;0<=r?v<r:v>r;i=0<=r?++v:--v){this.transparency.indexed.push(255);}}break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f);}break;case"tEXt":t=this.read(f);n=t.indexOf(0);o=String.fromCharCode.apply(String,t.slice(0,n));this.text[o]=String.fromCharCode.apply(String,t.slice(n+1));break;case"IEND":if(l){this.animation.frames.push(l);}this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3;}}.call(this);this.hasAlphaChannel=(w=this.colorType)===4||w===6;h=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*h;this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB";}}.call(this);this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=f;}this.pos+=4;if(this.pos>this.data.length){throw new Error("Incomplete or corrupt PNG file");}}}E4.prototype.read=function(c){var i,f,h;h=[];for(i=f=0;0<=c?f<c:f>c;i=0<=c?++f:--f){h.push(this.data[this.pos++]);}return h;};E4.prototype.readUInt32=function(){var c,f,h,j;c=this.data[this.pos++]<<24;f=this.data[this.pos++]<<16;h=this.data[this.pos++]<<8;j=this.data[this.pos++];return c|f|h|j;};E4.prototype.readUInt16=function(){var c,f;c=this.data[this.pos++]<<8;f=this.data[this.pos++];return c|f;};E4.prototype.decodePixels=function(f){var k=this.pixelBitlength/8;var l=new Uint8Array(this.width*this.height*k);var n=0;var o=this;if(f==null){f=this.imgData;}if(f.length===0){return new Uint8Array(0);}f=D4(f);function q(r,y,t,u){var v,c,z,i,B,C,p,D,E,F,G,H,I,J,K,L,M,N,O,P,Q;var w=Math.ceil((o.width-r)/t),h=Math.ceil((o.height-y)/u);var R=o.width==w&&o.height==h;J=k*w;H=R?l:new Uint8Array(J*h);C=f.length;I=0;c=0;while(I<h&&n<C){switch(f[n++]){case 0:for(i=M=0;M<J;i=M+=1){H[c++]=f[n++];}break;case 1:for(i=N=0;N<J;i=N+=1){v=f[n++];B=i<k?0:H[c-k];H[c++]=(v+B)%256;}break;case 2:for(i=O=0;O<J;i=O+=1){v=f[n++];z=(i-i%k)/k;K=I&&H[(I-1)*J+z*k+i%k];H[c++]=(K+v)%256;}break;case 3:for(i=P=0;P<J;i=P+=1){v=f[n++];z=(i-i%k)/k;B=i<k?0:H[c-k];K=I&&H[(I-1)*J+z*k+i%k];H[c++]=(v+Math.floor((B+K)/2))%256;}break;case 4:for(i=Q=0;Q<J;i=Q+=1){v=f[n++];z=(i-i%k)/k;B=i<k?0:H[c-k];if(I===0){K=L=0;}else{K=H[(I-1)*J+z*k+i%k];L=z&&H[(I-1)*J+(z-1)*k+i%k];}p=B+K-L;D=Math.abs(p-B);F=Math.abs(p-K);G=Math.abs(p-L);if(D<=F&&D<=G){E=B;}else if(F<=G){E=K;}else{E=L;}H[c++]=(v+E)%256;}break;default:throw new Error("Invalid filter algorithm: "+f[n-1]);}if(!R){var S=((y+I*u)*o.width+r)*k;var T=I*J;for(i=0;i<w;i+=1){for(var j=0;j<k;j+=1){l[S++]=H[T++];}S+=(t-1)*k;}}I++;}}if(o.interlaceMethod==1){q(0,0,8,8);q(4,0,8,8);q(0,4,4,8);q(2,0,4,4);q(0,2,2,4);q(1,0,2,2);q(0,1,1,2);}else{q(0,0,1,1);}return l;};E4.prototype.decodePalette=function(){var c,i,l,p,f,r,t,h,j,k;p=this.palette;t=this.transparency.indexed||[];r=new Uint8Array((t.length||0)+p.length);f=0;l=p.length;c=0;for(i=h=0,j=l;h<j;i=h+=3){r[f++]=p[i];r[f++]=p[i+1];r[f++]=p[i+2];r[f++]=(k=t[c++])!=null?k:255;}return r;};E4.prototype.copyToImageData=function(c,p){var f,h,l,i,n,j,k,o,q,v,r;h=this.colors;q=null;f=this.hasAlphaChannel;if(this.palette.length){q=(r=this._decodedPalette)!=null?r:this._decodedPalette=this.decodePalette();h=4;f=true;}l=c.data||c;o=l.length;n=q||p;i=j=0;if(h===1){while(i<o){k=q?p[i/4]*4:j;v=n[k++];l[i++]=v;l[i++]=v;l[i++]=v;l[i++]=f?n[k++]:255;j=k;}}else{while(i<o){k=q?p[i/4]*4:j;l[i++]=n[k++];l[i++]=n[k++];l[i++]=n[k++];l[i++]=f?n[k++]:255;j=k;}}};E4.prototype.decode=function(){var r;r=new Uint8Array(this.width*this.height*4);this.copyToImageData(r,this.decodePixels());return r;};var g=function g(){if(Object.prototype.toString.call(e1)==="[object Window]"){try{s=e1.document.createElement("canvas");d=s.getContext("2d");}catch(e){return false;}return true;}return false;};g();m=function m(c){if(g()===true){var f;d.width=c.width;d.height=c.height;d.clearRect(0,0,c.width,c.height);d.putImageData(c,0,0);f=new Image();f.src=s.toDataURL();return f;}throw new Error("This method requires a Browser with Canvas-capability.");};E4.prototype.decodeFrames=function(c){var f,i,h,p,j,k,l,n;if(!this.animation){return;}l=this.animation.frames;n=[];for(i=j=0,k=l.length;j<k;i=++j){f=l[i];h=c.createImageData(f.width,f.height);p=this.decodePixels(new Uint8Array(f.data));this.copyToImageData(h,p);f.imageData=h;n.push(f.image=m(h));}return n;};E4.prototype.renderFrame=function(c,n){var f,h,p;h=this.animation.frames;f=h[n];p=h[n-1];if(n===0){c.clearRect(0,0,this.width,this.height);}if((p!=null?p.disposeOp:void 0)===a){c.clearRect(p.xOffset,p.yOffset,p.width,p.height);}else if((p!=null?p.disposeOp:void 0)===b){c.putImageData(p.imageData,p.xOffset,p.yOffset);}if(f.blendOp===A){c.clearRect(f.xOffset,f.yOffset,f.width,f.height);}return c.drawImage(f.image,f.xOffset,f.yOffset);};E4.prototype.animate=function(c){var h,j,k,n,l,o,p=this;j=0;o=this.animation,n=o.numFrames,k=o.frames,l=o.numPlays;return(h=function doFrame(){var f,q;f=j++%n;q=k[f];p.renderFrame(c,f);if(n>1&&j/n<l){return p.animation._timeout=setTimeout(h,q.delay);}})();};E4.prototype.stopAnimation=function(){var c;return clearTimeout((c=this.animation)!=null?c._timeout:void 0);};E4.prototype.render=function(c){var f,h;if(c._png){c._png.stopAnimation();}c._png=this;c.width=this.width;c.height=this.height;f=c.getContext("2d");if(this.animation){this.decodeFrames(f);return this.animate(f);}else{h=f.createImageData(this.width,this.height);this.copyToImageData(h,this.decodePixels());return f.putImageData(h,0,0);}};return E4;}();
/**
   * @license
   *
   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
(function(W1){var c=function c(v){return v!==W1.image_compression.NONE&&h();};var h=function h(){return typeof C4==="function";};var b=function b(a,j,n,s){var t=4;var u=k;switch(s){case W1.image_compression.FAST:t=1;u=g;break;case W1.image_compression.MEDIUM:t=6;u=l;break;case W1.image_compression.SLOW:t=9;u=m;break;}a=d(a,j,n,u);var v=C4(a,{level:t});return W1.__addimage__.arrayBufferToBinaryString(v);};var d=function d(a,n,s,t){var u=a.length/n,v=new Uint8Array(a.length+u),w=o(),y,z,A;for(var i=0;i<u;i+=1){A=i*n;y=a.subarray(A,A+n);if(t){v.set(t(y,s,z),A+i);}else{var B=w.length,C=[];for(var j;j<B;j+=1){C[j]=w[j](y,s,z);}var D=q(C.concat());v.set(C[D],A+i);}z=y;}return v;};var f=function f(a){var j=Array.apply([],a);j.unshift(0);return j;};var g=function g(a,j){var n=[],s=a.length,t;n[0]=1;for(var i=0;i<s;i+=1){t=a[i-j]||0;n[i+1]=a[i]-t+0x0100&0xff;}return n;};var k=function k(a,j,n){var s=[],t=a.length,u;s[0]=2;for(var i=0;i<t;i+=1){u=n&&n[i]||0;s[i+1]=a[i]-u+0x0100&0xff;}return s;};var l=function l(a,j,n){var s=[],t=a.length,u,v;s[0]=3;for(var i=0;i<t;i+=1){u=a[i-j]||0;v=n&&n[i]||0;s[i+1]=a[i]+0x0100-(u+v>>>1)&0xff;}return s;};var m=function m(a,j,n){var s=[],t=a.length,u,v,w,y;s[0]=4;for(var i=0;i<t;i+=1){u=a[i-j]||0;v=n&&n[i]||0;w=n&&n[i-j]||0;y=p(u,v,w);s[i+1]=a[i]-y+0x0100&0xff;}return s;};var p=function p(a,u,j){if(a===u&&u===j){return a;}var n=Math.abs(u-j),s=Math.abs(a-j),t=Math.abs(a+u-j-j);return n<=s&&n<=t?a:s<=t?u:j;};var o=function o(){return[f,g,k,l,m];};var q=function q(a){var s=a.map(function(v){return v.reduce(function(j,n){return j+Math.abs(n);},0);});return s.indexOf(Math.min.apply(null,s));};var r=function r(a){var j;switch(a){case W1.image_compression.FAST:j=11;break;case W1.image_compression.MEDIUM:j=13;break;case W1.image_compression.SLOW:j=14;break;default:j=12;break;}return j;};W1.processPNG=function(j,s,t,u){var v,w=this.decode.FLATE_DECODE,y,z,A="",B,C,D,E,F,G,H,I,J,K,i,n;if(this.__addimage__.isArrayBuffer(j))j=new Uint8Array(j);if(this.__addimage__.isArrayBufferView(j)){z=new E4(j);j=z.imgData;y=z.bits;v=z.colorSpace;C=z.colors;if([4,6].indexOf(z.colorType)!==-1){if(z.bits===8){F=z.pixelBitlength==32?new Uint32Array(z.decodePixels().buffer):z.pixelBitlength==16?new Uint16Array(z.decodePixels().buffer):new Uint8Array(z.decodePixels().buffer);G=F.length;I=new Uint8Array(G*z.colors);H=new Uint8Array(G);var L=z.pixelBitlength-z.bits;i=0;n=0;var M;for(;i<G;i++){K=F[i];M=0;while(M<L){I[n++]=K>>>M&0xff;M=M+z.bits;}H[i]=K>>>M&0xff;}}if(z.bits===16){F=new Uint32Array(z.decodePixels().buffer);G=F.length;I=new Uint8Array(G*(32/z.pixelBitlength)*z.colors);H=new Uint8Array(G*(32/z.pixelBitlength));J=z.colors>1;i=0;n=0;var a=0;while(i<G){K=F[i++];I[n++]=K>>>0&0xff;if(J){I[n++]=K>>>16&0xff;K=F[i++];I[n++]=K>>>0&0xff;}H[a++]=K>>>16&0xff;}y=8;}if(c(u)){j=b(I,z.width*z.colors,z.colors,u);E=b(H,z.width,1,u);}else{j=I;E=H;w=undefined;}}if(z.colorType===3){v=this.color_spaces.INDEXED;D=z.palette;if(z.transparency.indexed){var N=z.transparency.indexed;var O=0;i=0;G=N.length;for(;i<G;++i){O+=N[i];}O=O/255;if(O===G-1&&N.indexOf(0)!==-1){B=[N.indexOf(0)];}else if(O!==G){F=z.decodePixels();H=new Uint8Array(F.length);i=0;G=F.length;for(;i<G;i++){H[i]=N[F[i]];}E=b(H,z.width,1);}}}var P=r(u);if(w===this.decode.FLATE_DECODE){A="/Predictor "+P+" ";}A+="/Colors "+C+" /BitsPerComponent "+y+" /Columns "+z.width;if(this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j)){j=this.__addimage__.arrayBufferToBinaryString(j);}if(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E)){E=this.__addimage__.arrayBufferToBinaryString(E);}return{alias:t,data:j,index:s,filter:w,decodeParameters:A,transparency:B,palette:D,sMask:E,predictor:P,width:z.width,height:z.height,bitsPerComponent:y,colorSpace:v};}};})(V1.API);
/**
   * @license
   * (c) Dean McNamee <dean@gmail.com>, 2013.
   *
   * https://github.com/deanm/omggif
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to
   * deal in the Software without restriction, including without limitation the
   * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
   * sell copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
   * IN THE SOFTWARE.
   *
   * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
   * including animation and compression.  It does not rely on any specific
   * underlying system, so should run in the browser, Node, or Plask.
   */
function F4(a){var p=0;if(a[p++]!==0x47||a[p++]!==0x49||a[p++]!==0x46||a[p++]!==0x38||(a[p++]+1&0xfd)!==0x38||a[p++]!==0x61){throw new Error("Invalid GIF 87a/89a header.");}var c=a[p++]|a[p++]<<8;var d=a[p++]|a[p++]<<8;var f=a[p++];var j=f>>7;var n=f&0x7;var k=1<<n+1;var l=a[p++];a[p++];var m=null;var o=null;if(j){m=p;o=k;p+=k*3;}var q=true;var s=[];var t=0;var u=null;var v=0;var z=null;this.width=c;this.height=d;while(q&&p<a.length){switch(a[p++]){case 0x21:switch(a[p++]){case 0xff:if(a[p]!==0x0b||a[p+1]==0x4e&&a[p+2]==0x45&&a[p+3]==0x54&&a[p+4]==0x53&&a[p+5]==0x43&&a[p+6]==0x41&&a[p+7]==0x50&&a[p+8]==0x45&&a[p+9]==0x32&&a[p+10]==0x2e&&a[p+11]==0x30&&a[p+12]==0x03&&a[p+13]==0x01&&a[p+16]==0){p+=14;z=a[p++]|a[p++]<<8;p++;}else{p+=12;while(true){var A=a[p++];if(!(A>=0))throw Error("Invalid block size");if(A===0)break;p+=A;}}break;case 0xf9:if(a[p++]!==0x4||a[p+4]!==0)throw new Error("Invalid graphics extension block.");var B=a[p++];t=a[p++]|a[p++]<<8;u=a[p++];if((B&1)===0)u=null;v=B>>2&0x7;p++;break;case 0xfe:while(true){var A=a[p++];if(!(A>=0))throw Error("Invalid block size");if(A===0)break;p+=A;}break;default:throw new Error("Unknown graphic control label: 0x"+a[p-1].toString(16));}break;case 0x2c:var x=a[p++]|a[p++]<<8;var y=a[p++]|a[p++]<<8;var w=a[p++]|a[p++]<<8;var h=a[p++]|a[p++]<<8;var C=a[p++];var D=C>>7;var E=C>>6&1;var F=C&0x7;var G=1<<F+1;var H=m;var I=o;var J=false;if(D){var J=true;H=p;I=G;p+=G*3;}var K=p;p++;while(true){var A=a[p++];if(!(A>=0))throw Error("Invalid block size");if(A===0)break;p+=A;}s.push({x:x,y:y,width:w,height:h,has_local_palette:J,palette_offset:H,palette_size:I,data_offset:K,data_length:p-K,transparent_index:u,interlaced:!!E,delay:t,disposal:v});break;case 0x3b:q=false;break;default:throw new Error("Unknown gif block: 0x"+a[p-1].toString(16));}}this.numFrames=function(){return s.length;};this.loopCount=function(){return z;};this.frameInfo=function(b){if(b<0||b>=s.length)throw new Error("Frame index out of range.");return s[b];};this.decodeAndBlitFrameBGRA=function(L,M){var N=this.frameInfo(L);var O=N.width*N.height;var P=new Uint8Array(O);G4(a,N.data_offset,P,O);var H=N.palette_offset;var Q=N.transparent_index;if(Q===null)Q=256;var R=N.width;var S=c-R;var T=R;var U=(N.y*c+N.x)*4;var V=((N.y+N.height)*c+N.x)*4;var W=U;var X=S*4;if(N.interlaced===true){X+=c*4*7;}var Y=8;for(var i=0,Z=P.length;i<Z;++i){var a1=P[i];if(T===0){W+=X;T=R;if(W>=V){X=S*4+c*4*(Y-1);W=U+(R+S)*(Y<<1);Y>>=1;}}if(a1===Q){W+=4;}else{var r=a[H+a1*3];var g=a[H+a1*3+1];var b=a[H+a1*3+2];M[W++]=b;M[W++]=g;M[W++]=r;M[W++]=255;}--T;}};this.decodeAndBlitFrameRGBA=function(L,M){var N=this.frameInfo(L);var O=N.width*N.height;var P=new Uint8Array(O);G4(a,N.data_offset,P,O);var H=N.palette_offset;var Q=N.transparent_index;if(Q===null)Q=256;var R=N.width;var S=c-R;var T=R;var U=(N.y*c+N.x)*4;var V=((N.y+N.height)*c+N.x)*4;var W=U;var X=S*4;if(N.interlaced===true){X+=c*4*7;}var Y=8;for(var i=0,Z=P.length;i<Z;++i){var a1=P[i];if(T===0){W+=X;T=R;if(W>=V){X=S*4+c*4*(Y-1);W=U+(R+S)*(Y<<1);Y>>=1;}}if(a1===Q){W+=4;}else{var r=a[H+a1*3];var g=a[H+a1*3+1];var b=a[H+a1*3+2];M[W++]=r;M[W++]=g;M[W++]=b;M[W++]=255;}--T;}};}function G4(c,p,o,a){var m=c[p++];var d=1<<m;var f=d+1;var n=f+1;var g=m+1;var h=(1<<g)-1;var j=0;var l=0;var q=0;var s=c[p++];var r=new Int32Array(4096);var t=null;while(true){while(j<16){if(s===0)break;l|=c[p++]<<j;j+=8;if(s===1){s=c[p++];}else{--s;}}if(j<g)break;var u=l&h;l>>=g;j-=g;if(u===d){n=f+1;g=m+1;h=(1<<g)-1;t=null;continue;}else if(u===f){break;}var v=u<n?u:t;var w=0;var y=v;while(y>d){y=r[y]>>8;++w;}var k=y;var z=q+w+(v!==u?1:0);if(z>a){j1.log("Warning, gif stream longer than expected.");return;}o[q++]=k;q+=w;var b=q;if(v!==u)o[q++]=k;y=v;while(w--){y=r[y];o[--b]=y&0xff;y>>=8;}if(t!==null&&n<4096){r[n++]=t<<8|k;if(n>=h+1&&g<12){++g;h=h<<1|1;}}t=u;}if(q!==a){j1.log("Warning, gif stream shorter than expected.");}return o;}
/**
   * @license
    Copyright (c) 2008, Adobe Systems Incorporated
    All rights reserved.

    Redistribution and use in source and binary forms, with or without 
    modification, are permitted provided that the following conditions are
    met:

    * Redistributions of source code must retain the above copyright notice, 
      this list of conditions and the following disclaimer.
    
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the 
      documentation and/or other materials provided with the distribution.
    
    * Neither the name of Adobe Systems Incorporated nor the names of its 
      contributors may be used to endorse or promote products derived from 
      this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
    IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
function H4(q){var f=Math.floor;var Y=new Array(64);var U=new Array(64);var a=new Array(64);var c=new Array(64);var d;var h;var s;var v;var w=new Array(65535);var z=new Array(65535);var A=new Array(64);var D=new Array(64);var B=[];var C=0;var E=7;var F=new Array(64);var G=new Array(64);var V=new Array(64);var H=new Array(256);var R=new Array(2048);var I;var Z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63];var J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];var K=[0,1,2,3,4,5,6,7,8,9,10,11];var L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,0x7d];var M=[0x01,0x02,0x03,0x00,0x04,0x11,0x05,0x12,0x21,0x31,0x41,0x06,0x13,0x51,0x61,0x07,0x22,0x71,0x14,0x32,0x81,0x91,0xa1,0x08,0x23,0x42,0xb1,0xc1,0x15,0x52,0xd1,0xf0,0x24,0x33,0x62,0x72,0x82,0x09,0x0a,0x16,0x17,0x18,0x19,0x1a,0x25,0x26,0x27,0x28,0x29,0x2a,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa];var N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];var O=[0,1,2,3,4,5,6,7,8,9,10,11];var P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,0x77];var Q=[0x00,0x01,0x02,0x03,0x11,0x04,0x05,0x21,0x31,0x06,0x12,0x41,0x51,0x07,0x61,0x71,0x13,0x22,0x32,0x81,0x08,0x14,0x42,0x91,0xa1,0xb1,0xc1,0x09,0x23,0x33,0x52,0xf0,0x15,0x62,0x72,0xd1,0x0a,0x16,0x24,0x34,0xe1,0x25,0xf1,0x17,0x18,0x19,0x1a,0x26,0x27,0x28,0x29,0x2a,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa];function S(b){var g=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99];for(var i=0;i<64;i++){var t=f((g[i]*b+50)/100);t=Math.min(Math.max(t,1),255);Y[Z[i]]=t;}var l=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(var j=0;j<64;j++){var u=f((l[j]*b+50)/100);u=Math.min(Math.max(u,1),255);U[Z[j]]=u;}var m=[1.0,1.387039845,1.306562965,1.175875602,1.0,0.785694958,0.5411961,0.275899379];var k=0;for(var r=0;r<8;r++){for(var n=0;n<8;n++){a[k]=1.0/(Y[Z[k]]*m[r]*m[n]*8.0);c[k]=1.0/(U[Z[k]]*m[r]*m[n]*8.0);k++;}}}function T(n,b){var g=0;var p=0;var l=new Array();for(var k=1;k<=16;k++){for(var j=1;j<=n[k];j++){l[b[p]]=[];l[b[p]][0]=g;l[b[p]][1]=k;p++;g++;}g*=2;}return l;}function W(){d=T(J,K);h=T(N,O);s=T(L,M);v=T(P,Q);}function X(){var n=1;var b=2;for(var g=1;g<=15;g++){for(var j=n;j<b;j++){z[32767+j]=g;w[32767+j]=[];w[32767+j][1]=g;w[32767+j][0]=j;}for(var k=-(b-1);k<=-n;k++){z[32767+k]=g;w[32767+k]=[];w[32767+k][1]=g;w[32767+k][0]=b-1+k;}n<<=1;b<<=1;}}function a1(){for(var i=0;i<256;i++){R[i]=19595*i;R[i+256>>0]=38470*i;R[i+512>>0]=7471*i+0x8000;R[i+768>>0]=-11059*i;R[i+1024>>0]=-21709*i;R[i+1280>>0]=32768*i+0x807fff;R[i+1536>>0]=-27439*i;R[i+1792>>0]=-5329*i;}}function b1(b){var g=b[0];var p=b[1]-1;while(p>=0){if(g&1<<p){C|=1<<E;}p--;E--;if(E<0){if(C==0xff){c1(0xff);c1(0);}else{c1(C);}E=7;C=0;}}}function c1(b){B.push(b);}function i1(b){c1(b>>8&0xff);c1(b&0xff);}function m1(b,g){var j,k,l,m,n,o,p,r;var t=0;var i;var u=8;var y=64;for(i=0;i<u;++i){j=b[t];k=b[t+1];l=b[t+2];m=b[t+3];n=b[t+4];o=b[t+5];p=b[t+6];r=b[t+7];var d1=j+r;var d2=j-r;var k2=k+p;var m2=k-p;var q2=l+o;var t2=l-o;var x2=m+n;var y2=m-n;var b3=d1+x2;var d3=d1-x2;var f3=k2+q2;var x3=k2-q2;b[t]=b3+f3;b[t+4]=b3-f3;var z1=(x3+d3)*0.707106781;b[t+2]=d3+z1;b[t+6]=d3-z1;b3=y2+t2;f3=t2+m2;x3=m2+d2;var z5=(b3-x3)*0.382683433;var z2=0.5411961*b3+z5;var z4=1.306562965*x3+z5;var z3=f3*0.707106781;var H3=d2+z3;var O3=d2-z3;b[t+5]=O3+z2;b[t+3]=O3-z2;b[t+1]=H3+z4;b[t+7]=H3-z4;t+=8;}t=0;for(i=0;i<u;++i){j=b[t];k=b[t+8];l=b[t+16];m=b[t+24];n=b[t+32];o=b[t+40];p=b[t+48];r=b[t+56];var P3=j+r;var R3=j-r;var S3=k+p;var b4=k-p;var d4=l+o;var f4=l-o;var m4=m+n;var n4=m-n;var s4=P3+m4;var x4=P3-m4;var y4=S3+d4;var b5=S3-d4;b[t]=s4+y4;b[t+32]=s4-y4;var d5=(b5+x4)*0.707106781;b[t+16]=x4+d5;b[t+48]=x4-d5;s4=n4+f4;y4=f4+b4;b5=b4+R3;var h5=(s4-b5)*0.382683433;var i5=0.5411961*s4+h5;var j5=1.306562965*b5+h5;var k5=y4*0.707106781;var l5=R3+k5;var m5=R3-k5;b[t+40]=m5+i5;b[t+24]=m5-i5;b[t+8]=l5+j5;b[t+56]=l5-j5;t++;}var m1;for(i=0;i<y;++i){m1=b[i]*g[i];A[i]=m1>0.0?m1+0.5|0:m1-0.5|0;}return A;}function q1(){i1(0xffe0);i1(16);c1(0x4a);c1(0x46);c1(0x49);c1(0x46);c1(0);c1(1);c1(1);c1(0);i1(1);i1(1);c1(0);c1(0);}function w1(b,g){i1(0xffc0);i1(17);c1(8);i1(g);i1(b);c1(3);c1(1);c1(0x11);c1(0);c1(2);c1(0x11);c1(1);c1(3);c1(0x11);c1(1);}function x1(){i1(0xffdb);i1(132);c1(0);for(var i=0;i<64;i++){c1(Y[i]);}c1(1);for(var j=0;j<64;j++){c1(U[j]);}}function y1(){i1(0xffc4);i1(0x01a2);c1(0);for(var i=0;i<16;i++){c1(J[i+1]);}for(var j=0;j<=11;j++){c1(K[j]);}c1(0x10);for(var k=0;k<16;k++){c1(L[k+1]);}for(var l=0;l<=161;l++){c1(M[l]);}c1(1);for(var m=0;m<16;m++){c1(N[m+1]);}for(var n=0;n<=11;n++){c1(O[n]);}c1(0x11);for(var o=0;o<16;o++){c1(P[o+1]);}for(var p=0;p<=161;p++){c1(Q[p]);}}function $1(){i1(0xffda);i1(12);c1(3);c1(1);c1(0);c1(2);c1(0x11);c1(3);c1(0x11);c1(0);c1(0x3f);c1(0);}function _1(b,g,k,l,m){var n=m[0x00];var o=m[0xf0];var p;var r=16;var t=63;var u=64;var y=m1(b,g);for(var j=0;j<u;++j){D[Z[j]]=y[j];}var d1=D[0]-k;k=D[0];if(d1==0){b1(l[0]);}else{p=32767+d1;b1(l[z[p]]);b1(w[p]);}var z1=63;while(z1>0&&D[z1]==0){z1--;}if(z1==0){b1(n);return k;}var i=1;var d2;while(i<=z1){var k2=i;while(D[i]==0&&i<=z1){++i;}var m2=i-k2;if(m2>=r){d2=m2>>4;for(var q2=1;q2<=d2;++q2){b1(o);}m2=m2&0xf;}p=32767+D[i];b1(m[(m2<<4)+z[p]]);b1(w[p]);i++;}if(z1!=t){b1(n);}return k;}function a2(){var b=String.fromCharCode;for(var i=0;i<256;i++){H[i]=b(i);}}this.encode=function(j,q){if(q)b2(q);B=new Array();C=0;E=7;i1(0xffd8);q1();x1();w1(j.width,j.height);y1();$1();var k=0;var l=0;var m=0;C=0;E=7;this.encode.displayName="_encode_";var n=j.data;var o=j.width;var t=j.height;var u=o*4;var x,y=0;var r,g,b;var d1,p,z1,d2,k2;while(y<t){x=0;while(x<u){d1=u*y+x;z1=-1;d2=0;for(k2=0;k2<64;k2++){d2=k2>>3;z1=(k2&7)*4;p=d1+d2*u+z1;if(y+d2>=t){p-=u*(y+1+d2-t);}if(x+z1>=u){p-=x+z1-u+4;}r=n[p++];g=n[p++];b=n[p++];F[k2]=(R[r]+R[g+256>>0]+R[b+512>>0]>>16)-128;G[k2]=(R[r+768>>0]+R[g+1024>>0]+R[b+1280>>0]>>16)-128;V[k2]=(R[r+1280>>0]+R[g+1536>>0]+R[b+1792>>0]>>16)-128;}k=_1(F,a,k,d,s);l=_1(G,c,l,h,v);m=_1(V,c,m,h,v);x+=32;}y+=8;}if(E>=0){var m2=[];m2[1]=E+1;m2[0]=(1<<E+1)-1;b1(m2);}i1(0xffd9);return new Uint8Array(B);};function b2(q){q=Math.min(Math.max(q,1),100);if(I==q)return;var b=q<50?Math.floor(5000/q):Math.floor(200-q*2);S(b);I=q;}function i2(){q=q||50;a2();W();X();a1();b2(q);}i2();}
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){W1.processGIF89A=function(a,b,c,d){var r=new F4(a);var w=r.width,h=r.height;var q=100;var p=[];r.decodeAndBlitFrameRGBA(0,p);var f={data:p,width:w,height:h};var g=new H4(q);var j=g.encode(f,q);return W1.processJPEG.call(this,j,b,c,d);};W1.processGIF87A=W1.processGIF89A;})(V1.API);function I4(b,a){this.pos=0;this.buffer=b;this.datav=new DataView(b.buffer);this.is_with_alpha=!!a;this.bottom_up=true;this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]);this.pos+=2;if(["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader();this.parseBGR();}I4.prototype.parseHeader=function(){this.fileSize=this.datav.getUint32(this.pos,true);this.pos+=4;this.reserved=this.datav.getUint32(this.pos,true);this.pos+=4;this.offset=this.datav.getUint32(this.pos,true);this.pos+=4;this.headerSize=this.datav.getUint32(this.pos,true);this.pos+=4;this.width=this.datav.getUint32(this.pos,true);this.pos+=4;this.height=this.datav.getInt32(this.pos,true);this.pos+=4;this.planes=this.datav.getUint16(this.pos,true);this.pos+=2;this.bitPP=this.datav.getUint16(this.pos,true);this.pos+=2;this.compress=this.datav.getUint32(this.pos,true);this.pos+=4;this.rawSize=this.datav.getUint32(this.pos,true);this.pos+=4;this.hr=this.datav.getUint32(this.pos,true);this.pos+=4;this.vr=this.datav.getUint32(this.pos,true);this.pos+=4;this.colors=this.datav.getUint32(this.pos,true);this.pos+=4;this.importantColors=this.datav.getUint32(this.pos,true);this.pos+=4;if(this.bitPP===16&&this.is_with_alpha){this.bitPP=15;}if(this.bitPP<15){var l=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(l);for(var i=0;i<l;i++){var b=this.datav.getUint8(this.pos++,true);var g=this.datav.getUint8(this.pos++,true);var r=this.datav.getUint8(this.pos++,true);var q=this.datav.getUint8(this.pos++,true);this.palette[i]={red:r,green:g,blue:b,quad:q};}}if(this.height<0){this.height*=-1;this.bottom_up=false;}};I4.prototype.parseBGR=function(){this.pos=this.offset;try{var b="bit"+this.bitPP;var l=this.width*this.height*4;this.data=new Uint8Array(l);this[b]();}catch(e){j1.log("bit decode error:"+e);}};I4.prototype.bit1=function(){var a=Math.ceil(this.width/8);var m=a%4;var y;for(y=this.height-1;y>=0;y--){var l=this.bottom_up?y:this.height-1-y;for(var x=0;x<a;x++){var b=this.datav.getUint8(this.pos++,true);var c=l*this.width*4+x*8*4;for(var i=0;i<8;i++){if(x*8+i<this.width){var r=this.palette[b>>7-i&0x1];this.data[c+i*4]=r.blue;this.data[c+i*4+1]=r.green;this.data[c+i*4+2]=r.red;this.data[c+i*4+3]=0xff;}else{break;}}}if(m!==0){this.pos+=4-m;}}};I4.prototype.bit4=function(){var a=Math.ceil(this.width/2);var m=a%4;for(var y=this.height-1;y>=0;y--){var l=this.bottom_up?y:this.height-1-y;for(var x=0;x<a;x++){var b=this.datav.getUint8(this.pos++,true);var c=l*this.width*4+x*2*4;var d=b>>4;var f=b&0x0f;var r=this.palette[d];this.data[c]=r.blue;this.data[c+1]=r.green;this.data[c+2]=r.red;this.data[c+3]=0xff;if(x*2+1>=this.width)break;r=this.palette[f];this.data[c+4]=r.blue;this.data[c+4+1]=r.green;this.data[c+4+2]=r.red;this.data[c+4+3]=0xff;}if(m!==0){this.pos+=4-m;}}};I4.prototype.bit8=function(){var m=this.width%4;for(var y=this.height-1;y>=0;y--){var l=this.bottom_up?y:this.height-1-y;for(var x=0;x<this.width;x++){var b=this.datav.getUint8(this.pos++,true);var a=l*this.width*4+x*4;if(b<this.palette.length){var r=this.palette[b];this.data[a]=r.red;this.data[a+1]=r.green;this.data[a+2]=r.blue;this.data[a+3]=0xff;}else{this.data[a]=0xff;this.data[a+1]=0xff;this.data[a+2]=0xff;this.data[a+3]=0xff;}}if(m!==0){this.pos+=4-m;}}};I4.prototype.bit15=function(){var d=this.width%3;var a=parseInt("11111",2),b=a;for(var y=this.height-1;y>=0;y--){var l=this.bottom_up?y:this.height-1-y;for(var x=0;x<this.width;x++){var B=this.datav.getUint16(this.pos,true);this.pos+=2;var c=(B&b)/b*255|0;var g=(B>>5&b)/b*255|0;var r=(B>>10&b)/b*255|0;var f=B>>15?0xff:0x00;var h=l*this.width*4+x*4;this.data[h]=r;this.data[h+1]=g;this.data[h+2]=c;this.data[h+3]=f;}this.pos+=d;}};I4.prototype.bit16=function(){var d=this.width%3;var a=parseInt("11111",2),b=a;var c=parseInt("111111",2),f=c;for(var y=this.height-1;y>=0;y--){var l=this.bottom_up?y:this.height-1-y;for(var x=0;x<this.width;x++){var B=this.datav.getUint16(this.pos,true);this.pos+=2;var g=0xff;var h=(B&b)/b*255|0;var j=(B>>5&f)/f*255|0;var r=(B>>11)/b*255|0;var k=l*this.width*4+x*4;this.data[k]=r;this.data[k+1]=j;this.data[k+2]=h;this.data[k+3]=g;}this.pos+=d;}};I4.prototype.bit24=function(){for(var y=this.height-1;y>=0;y--){var l=this.bottom_up?y:this.height-1-y;for(var x=0;x<this.width;x++){var b=this.datav.getUint8(this.pos++,true);var g=this.datav.getUint8(this.pos++,true);var r=this.datav.getUint8(this.pos++,true);var a=l*this.width*4+x*4;this.data[a]=r;this.data[a+1]=g;this.data[a+2]=b;this.data[a+3]=0xff;}this.pos+=this.width%4;}};I4.prototype.bit32=function(){for(var y=this.height-1;y>=0;y--){var l=this.bottom_up?y:this.height-1-y;for(var x=0;x<this.width;x++){var b=this.datav.getUint8(this.pos++,true);var g=this.datav.getUint8(this.pos++,true);var r=this.datav.getUint8(this.pos++,true);var a=this.datav.getUint8(this.pos++,true);var c=l*this.width*4+x*4;this.data[c]=r;this.data[c+1]=g;this.data[c+2]=b;this.data[c+3]=a;}}};I4.prototype.getData=function(){return this.data;};
/**
   * @license
   * Copyright (c) 2018 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){W1.processBMP=function(a,b,c,d){var r=new I4(a,false);var w=r.width,h=r.height;var q=100;var p=r.getData();var f={data:p,width:w,height:h};var g=new H4(q);var j=g.encode(f,q);return W1.processJPEG.call(this,j,b,c,d);};})(V1.API);function J4(j){function x(F){if(!F)throw Error("assert :P");}function o(F,L,J){for(var H=0;4>H;H++){if(F[L+H]!=J.charCodeAt(H))return!0;}return!1;}function I(F,L,J,H,Z){for(var O=0;O<Z;O++){F[L+O]=J[H+O];}}function M(F,L,J,H){for(var Z=0;Z<H;Z++){F[L+Z]=J;}}function V(F){return new Int32Array(F);}function s(F,L){for(var J=[],H=0;H<F;H++){J.push(new L());}return J;}function wb(){function F(J,H,Z){for(var O=Z[H],L=0;L<O;L++){J.push(Z.length>H+1?[]:0);if(Z.length<H+1)break;F(J[L],H+1,Z);}}var L=[];F(L,0,[3,11]);return L;}function Ed(F,L){function J(H,O,F){for(var Z=F[O],m=0;m<Z;m++){H.push(F.length>O+1?[]:new L());if(F.length<O+1)break;J(H[m],O+1,F);}}var H=[];J(H,0,F);return H;}var c1=function c1(){var a1=this;function L(a,b){for(var c=1<<b-1>>>0;a&c;){c>>>=1;}return c?(a&c-1)+c:a;}function J(a,b,c,d,e){x(!(d%c));do{d-=c,a[b+d]=e;}while(0<d);}function H(a,b,c,d,e,f){var g=b,h=1<<c,k,l,m=V(16),n=V(16);x(0!=e);x(null!=d);x(null!=a);x(0<c);for(l=0;l<e;++l){if(15<d[l])return 0;++m[d[l]];}if(m[0]==e)return 0;n[1]=0;for(k=1;15>k;++k){if(m[k]>1<<k)return 0;n[k+1]=n[k]+m[k];}for(l=0;l<e;++l){k=d[l],0<d[l]&&(f[n[k]++]=l);}if(1==n[15])return d=new O(),d.g=0,d.value=f[0],J(a,g,1,h,d),h;var r=-1,q=h-1,t=0,v=1,p=1,u,w=1<<c;l=0;k=1;for(e=2;k<=c;++k,e<<=1){p<<=1;v+=p;p-=m[k];if(0>p)return 0;for(;0<m[k];--m[k]){d=new O(),d.g=k,d.value=f[l++],J(a,g+t,e,w,d),t=L(t,k);}}k=c+1;for(e=2;15>=k;++k,e<<=1){p<<=1;v+=p;p-=m[k];if(0>p)return 0;for(;0<m[k];--m[k]){d=new O();if((t&q)!=r){g+=w;r=k;for(u=1<<r-c;15>r;){u-=m[r];if(0>=u)break;++r;u<<=1;}u=r-c;w=1<<u;h+=w;r=t&q;a[b+r].g=u+c;a[b+r].value=g-b-r;}d.g=k-c;d.value=f[l++];J(a,g+(t>>c),e,w,d);t=L(t,k);}}return v!=2*n[15]-1?0:h;}function Z(a,b,c,d,e){x(2328>=e);if(512>=e)var f=V(512);else if(f=V(e),null==f)return 0;return H(a,b,c,d,e,f);}function O(){this.value=this.g=0;}function Fd(){this.value=this.g=0;}function Ub(){this.G=s(5,O);this.H=V(5);this.jc=this.Qb=this.qb=this.nd=0;this.pd=s(xb,Fd);}function ma(a,b,c,d){x(null!=a);x(null!=b);x(2147483648>d);a.Ca=254;a.I=0;a.b=-8;a.Ka=0;a.oa=b;a.pa=c;a.Jd=b;a.Yc=c+d;a.Zc=4<=d?c+d-4+1:c;Qa(a);}function na(a,b){for(var c=0;0<b--;){c|=K(a,128)<<b;}return c;}function ca(a,b){var c=na(a,b);return G(a)?-c:c;}function cb(a,b,c,d){var e,f=0;x(null!=a);x(null!=b);x(4294967288>d);a.Sb=d;a.Ra=0;a.u=0;a.h=0;4<d&&(d=4);for(e=0;e<d;++e){f+=b[c+e]<<8*e;}a.Ra=f;a.bb=d;a.oa=b;a.pa=c;}function Vb(a){for(;8<=a.u&&a.bb<a.Sb;){a.Ra>>>=8,a.Ra+=a.oa[a.pa+a.bb]<<ob-8>>>0,++a.bb,a.u-=8;}db(a)&&(a.h=1,a.u=0);}function D(a,b){x(0<=b);if(!a.h&&b<=Gd){var c=pb(a)&Hd[b];a.u+=b;Vb(a);return c;}a.h=1;return a.u=0;}function Wb(){this.b=this.Ca=this.I=0;this.oa=[];this.pa=0;this.Jd=[];this.Yc=0;this.Zc=[];this.Ka=0;}function Ra(){this.Ra=0;this.oa=[];this.h=this.u=this.bb=this.Sb=this.pa=0;}function pb(a){return a.Ra>>>(a.u&ob-1)>>>0;}function db(a){x(a.bb<=a.Sb);return a.h||a.bb==a.Sb&&a.u>ob;}function qb(a,b){a.u=b;a.h=db(a);}function Sa(a){a.u>=Xb&&(x(a.u>=Xb),Vb(a));}function Qa(a){x(null!=a&&null!=a.oa);a.pa<a.Zc?(a.I=(a.oa[a.pa++]|a.I<<8)>>>0,a.b+=8):(x(null!=a&&null!=a.oa),a.pa<a.Yc?(a.b+=8,a.I=a.oa[a.pa++]|a.I<<8):a.Ka?a.b=0:(a.I<<=8,a.b+=8,a.Ka=1));}function G(a){return na(a,1);}function K(a,b){var c=a.Ca;0>a.b&&Qa(a);var d=a.b,e=c*b>>>8,f=(a.I>>>d>e)+0;f?(c-=e,a.I-=e+1<<d>>>0):c=e+1;d=c;for(e=0;256<=d;){e+=8,d>>=8;}d=7^e+Id[d];a.b-=d;a.Ca=(c<<d)-1;return f;}function ra(a,b,c){a[b+0]=c>>24&255;a[b+1]=c>>16&255;a[b+2]=c>>8&255;a[b+3]=c>>0&255;}function Ta(a,b){return a[b+0]<<0|a[b+1]<<8;}function Yb(a,b){return Ta(a,b)|a[b+2]<<16;}function Ha(a,b){return Ta(a,b)|Ta(a,b+2)<<16;}function Zb(a,b){var c=1<<b;x(null!=a);x(0<b);a.X=V(c);if(null==a.X)return 0;a.Mb=32-b;a.Xa=b;return 1;}function $b(a,b){x(null!=a);x(null!=b);x(a.Xa==b.Xa);I(b.X,0,a.X,0,1<<b.Xa);}function ac(){this.X=[];this.Xa=this.Mb=0;}function bc(a,b,c,d){x(null!=c);x(null!=d);var e=c[0],f=d[0];0==e&&(e=(a*f+b/2)/b);0==f&&(f=(b*e+a/2)/a);if(0>=e||0>=f)return 0;c[0]=e;d[0]=f;return 1;}function xa(a,b){return a+(1<<b)-1>>>b;}function yb(a,b){return((a&4278255360)+(b&4278255360)>>>0&4278255360)+((a&16711935)+(b&16711935)>>>0&16711935)>>>0;}function X(a,b){a1[b]=function(b,d,e,f,g,h,k){var c;for(c=0;c<g;++c){var m=a1[a](h[k+c-1],e,f+c);h[k+c]=yb(b[d+c],m);}};}function Jd(){this.ud=this.hd=this.jd=0;}function aa(a,b){return(((a^b)&4278124286)>>>1)+(a&b)>>>0;}function sa(a){if(0<=a&&256>a)return a;if(0>a)return 0;if(255<a)return 255;}function eb(a,b){return sa(a+(a-b+0.5>>1));}function Ia(a,b,c){return Math.abs(b-c)-Math.abs(a-c);}function cc(a,b,c,d,e,f,g){d=f[g-1];for(c=0;c<e;++c){f[g+c]=d=yb(a[b+c],d);}}function Kd(a,b,c,d,e){var f;for(f=0;f<c;++f){var g=a[b+f],h=g>>8&255,k=g&16711935,k=k+((h<<16)+h),k=k&16711935;d[e+f]=(g&4278255360)+k>>>0;}}function dc(a,b){b.jd=a>>0&255;b.hd=a>>8&255;b.ud=a>>16&255;}function Ld(a,b,c,d,e,f){var g;for(g=0;g<d;++g){var h=b[c+g],k=h>>>8,l=h>>>16,m=h,l=l+((a.jd<<24>>24)*(k<<24>>24)>>>5),l=l&255,m=m+((a.hd<<24>>24)*(k<<24>>24)>>>5),m=m+((a.ud<<24>>24)*(l<<24>>24)>>>5),m=m&255;e[f+g]=(h&4278255360)+(l<<16)+m;}}function ec(a,b,c,d,e){a1[b]=function(a,b,c,k,l,m,n,r,q){for(k=n;k<r;++k){for(n=0;n<q;++n){l[m++]=e(c[d(a[b++])]);}}};a1[a]=function(a,b,h,k,l,m,n){var f=8>>a.b,g=a.Ea,t=a.K[0],v=a.w;if(8>f)for(a=(1<<a.b)-1,v=(1<<f)-1;b<h;++b){var p=0,u;for(u=0;u<g;++u){u&a||(p=d(k[l++])),m[n++]=e(t[p&v]),p>>=f;}}else a1["VP8LMapColor"+c](k,l,t,v,m,n,b,h,g);};}function Md(a,b,c,d,e){for(c=b+c;b<c;){var f=a[b++];d[e++]=f>>16&255;d[e++]=f>>8&255;d[e++]=f>>0&255;}}function Nd(a,b,c,d,e){for(c=b+c;b<c;){var f=a[b++];d[e++]=f>>16&255;d[e++]=f>>8&255;d[e++]=f>>0&255;d[e++]=f>>24&255;}}function Od(a,b,c,d,e){for(c=b+c;b<c;){var f=a[b++],g=f>>16&240|f>>12&15,f=f>>0&240|f>>28&15;d[e++]=g;d[e++]=f;}}function Pd(a,b,c,d,e){for(c=b+c;b<c;){var f=a[b++],g=f>>16&248|f>>13&7,f=f>>5&224|f>>3&31;d[e++]=g;d[e++]=f;}}function Qd(a,b,c,d,e){for(c=b+c;b<c;){var f=a[b++];d[e++]=f>>0&255;d[e++]=f>>8&255;d[e++]=f>>16&255;}}function fb(a,b,c,d,e,f){if(0==f)for(c=b+c;b<c;){f=a[b++],ra(d,(f[0]>>24|f[1]>>8&65280|f[2]<<8&16711680|f[3]<<24)>>>0),e+=32;}else I(d,e,a,b,c);}function gb(a,b){a1[b][0]=a1[a+"0"];a1[b][1]=a1[a+"1"];a1[b][2]=a1[a+"2"];a1[b][3]=a1[a+"3"];a1[b][4]=a1[a+"4"];a1[b][5]=a1[a+"5"];a1[b][6]=a1[a+"6"];a1[b][7]=a1[a+"7"];a1[b][8]=a1[a+"8"];a1[b][9]=a1[a+"9"];a1[b][10]=a1[a+"10"];a1[b][11]=a1[a+"11"];a1[b][12]=a1[a+"12"];a1[b][13]=a1[a+"13"];a1[b][14]=a1[a+"0"];a1[b][15]=a1[a+"0"];}function hb(a){return a==zb||a==Ab||a==Ja||a==Bb;}function Rd(){this.eb=[];this.size=this.A=this.fb=0;}function Sd(){this.y=[];this.f=[];this.ea=[];this.F=[];this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0;}function Cb(){this.Rd=this.height=this.width=this.S=0;this.f={};this.f.RGBA=new Rd();this.f.kb=new Sd();this.sd=null;}function Td(){this.width=[0];this.height=[0];this.Pd=[0];this.Qd=[0];this.format=[0];}function Ud(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0;}function Vd(a){alert("todo:WebPSamplerProcessPlane");return a.T;}function Wd(a,b){var c=a.T,d=b.ba.f.RGBA,e=d.eb,f=d.fb+a.ka*d.A,g=P[b.ba.S],h=a.y,k=a.O,l=a.f,m=a.N,n=a.ea,r=a.W,q=b.cc,t=b.dc,v=b.Mc,p=b.Nc,u=a.ka,w=a.ka+a.T,y=a.U,A=y+1>>1;0==u?g(h,k,null,null,l,m,n,r,l,m,n,r,e,f,null,null,y):(g(b.ec,b.fc,h,k,q,t,v,p,l,m,n,r,e,f-d.A,e,f,y),++c);for(;u+2<w;u+=2){q=l,t=m,v=n,p=r,m+=a.Rc,r+=a.Rc,f+=2*d.A,k+=2*a.fa,g(h,k-a.fa,h,k,q,t,v,p,l,m,n,r,e,f-d.A,e,f,y);}k+=a.fa;a.j+w<a.o?(I(b.ec,b.fc,h,k,y),I(b.cc,b.dc,l,m,A),I(b.Mc,b.Nc,n,r,A),c--):w&1||g(h,k,null,null,l,m,n,r,l,m,n,r,e,f+d.A,null,null,y);return c;}function Xd(a,b,c){var d=a.F,e=[a.J];if(null!=d){var f=a.U,g=b.ba.S,h=g==ya||g==Ja;b=b.ba.f.RGBA;var k=[0],l=a.ka;k[0]=a.T;a.Kb&&(0==l?--k[0]:(--l,e[0]-=a.width),a.j+a.ka+a.T==a.o&&(k[0]=a.o-a.j-l));var m=b.eb,l=b.fb+l*b.A;a=fc(d,e[0],a.width,f,k,m,l+(h?0:3),b.A);x(c==k);a&&hb(g)&&za(m,l,h,f,k,b.A);}return 0;}function gc(a){var b=a.ma,c=b.ba.S,d=11>c,e=c==Ua||c==Va||c==ya||c==Db||12==c||hb(c);b.memory=null;b.Ib=null;b.Jb=null;b.Nd=null;if(!hc(b.Oa,a,e?11:12))return 0;e&&hb(c)&&ic();if(a.da)alert("todo:use_scaling");else{if(d){if(b.Ib=Vd,a.Kb){c=a.U+1>>1;b.memory=V(a.U+2*c);if(null==b.memory)return 0;b.ec=b.memory;b.fc=0;b.cc=b.ec;b.dc=b.fc+a.U;b.Mc=b.cc;b.Nc=b.dc+c;b.Ib=Wd;ic();}}else alert("todo:EmitYUV");e&&(b.Jb=Xd,d&&Aa());}if(d&&!jc){for(a=0;256>a;++a){Yd[a]=89858*(a-128)+Ba>>Wa,Zd[a]=-22014*(a-128)+Ba,$d[a]=-45773*(a-128),ae[a]=113618*(a-128)+Ba>>Wa;}for(a=ta;a<Eb;++a){b=76283*(a-16)+Ba>>Wa,be[a-ta]=ga(b,255),ce[a-ta]=ga(b+8>>4,15);}jc=1;}return 1;}function kc(a){var b=a.ma,c=a.U,d=a.T;x(!(a.ka&1));if(0>=c||0>=d)return 0;c=b.Ib(a,b);null!=b.Jb&&b.Jb(a,b,c);b.Dc+=c;return 1;}function lc(a){a.ma.memory=null;}function mc(a,b,c,d){if(47!=D(a,8))return 0;b[0]=D(a,14)+1;c[0]=D(a,14)+1;d[0]=D(a,1);return 0!=D(a,3)?0:!a.h;}function ib(a,b){if(4>a)return a+1;var c=a-2>>1;return(2+(a&1)<<c)+D(b,c)+1;}function nc(a,b){if(120<b)return b-120;var c=de[b-1],c=(c>>4)*a+(8-(c&15));return 1<=c?c:1;}function ua(a,b,c){var d=pb(c);b+=d&255;var e=a[b].g-8;0<e&&(qb(c,c.u+8),d=pb(c),b+=a[b].value,b+=d&(1<<e)-1);qb(c,c.u+a[b].g);return a[b].value;}function ub(a,b,c){c.g+=a.g;c.value+=a.value<<b>>>0;x(8>=c.g);return a.g;}function ha(a,b,c){var d=a.xc;b=0==d?0:a.vc[a.md*(c>>d)+(b>>d)];x(b<a.Wb);return a.Ya[b];}function oc(a,b,c,d){var e=a.ab,f=a.c*b,g=a.C;b=g+b;var h=c,k=d;d=a.Ta;for(c=a.Ua;0<e--;){var l=a.gc[e],m=g,n=b,r=h,q=k,k=d,h=c,t=l.Ea;x(m<n);x(n<=l.nc);switch(l.hc){case 2:pc(r,q,(n-m)*t,k,h);break;case 0:var v=l,p=m,u=n,w=k,y=h,A=v.Ea;0==p&&(ee(r,q,null,null,1,w,y),cc(r,q+1,0,0,A-1,w,y+1),q+=A,y+=A,++p);for(var E=1<<v.b,B=E-1,C=xa(A,v.b),N=v.K,v=v.w+(p>>v.b)*C;p<u;){var z=N,Q=v,S=1;for(fe(r,q,w,y-A,1,w,y);S<A;){var K=qc[z[Q++]>>8&15],D=(S&~B)+E;D>A&&(D=A);K(r,q+ +S,w,y+S-A,D-S,w,y+S);S=D;}q+=A;y+=A;++p;p&B||(v+=C);}n!=l.nc&&I(k,h-t,k,h+(n-m-1)*t,t);break;case 1:t=r;u=q;r=l.Ea;q=1<<l.b;w=q-1;y=r&~w;A=r-y;p=xa(r,l.b);E=l.K;for(l=l.w+(m>>l.b)*p;m<n;){B=E;C=l;N=new Jd();v=u+y;for(z=u+r;u<v;){dc(B[C++],N),Fb(N,t,u,q,k,h),u+=q,h+=q;}u<z&&(dc(B[C++],N),Fb(N,t,u,A,k,h),u+=A,h+=A);++m;m&w||(l+=p);}break;case 3:if(r==k&&q==h&&0<l.b){y=(n-m)*xa(l.Ea,l.b);t=h+(n-m)*t-y;u=k;r=t;q=k;w=h;A=y;p=[];for(y=A-1;0<=y;--y){p[y]=q[w+y];}for(y=A-1;0<=y;--y){u[r+y]=p[y];}rc(l,m,n,k,t,k,h);}else rc(l,m,n,r,q,k,h);}h=d;k=c;}k!=c&&I(d,c,h,k,f);}function ge(a,b){var c=a.V,d=a.Ba+a.c*a.C,e=b-a.C;x(b<=a.l.o);x(16>=e);if(0<e){var f=a.l,g=a.Ta,h=a.Ua,k=f.width;oc(a,e,c,d);h=[h];c=a.C;d=b;e=h;x(c<d);x(f.v<f.va);d>f.o&&(d=f.o);if(c<f.j){var l=f.j-c,c=f.j;e[0]+=l*k;}c>=d?c=0:(e[0]+=4*f.v,f.ka=c-f.j,f.U=f.va-f.v,f.T=d-c,c=1);if(c){h=h[0];c=a.ca;if(11>c.S){for(var m=c.f.RGBA,d=c.S,e=f.U,f=f.T,l=m.eb,n=m.A,r=f,m=m.fb+a.Ma*m.A;0<r--;){var q=g,t=h,v=e,p=l,u=m;switch(d){case Ca:sc(q,t,v,p,u);break;case Ua:Gb(q,t,v,p,u);break;case zb:Gb(q,t,v,p,u);za(p,u,0,v,1,0);break;case tc:uc(q,t,v,p,u);break;case Va:fb(q,t,v,p,u,1);break;case Ab:fb(q,t,v,p,u,1);za(p,u,0,v,1,0);break;case ya:fb(q,t,v,p,u,0);break;case Ja:fb(q,t,v,p,u,0);za(p,u,1,v,1,0);break;case Db:Hb(q,t,v,p,u);break;case Bb:Hb(q,t,v,p,u);vc(p,u,v,1,0);break;case wc:xc(q,t,v,p,u);break;default:x(0);}h+=k;m+=n;}a.Ma+=f;}else alert("todo:EmitRescaledRowsYUVA");x(a.Ma<=c.height);}}a.C=b;x(a.C<=a.i);}function yc(a){var b;if(0<a.ua)return 0;for(b=0;b<a.Wb;++b){var c=a.Ya[b].G,d=a.Ya[b].H;if(0<c[1][d[1]+0].g||0<c[2][d[2]+0].g||0<c[3][d[3]+0].g)return 0;}return 1;}function zc(a,b,c,d,e,f){if(0!=a.Z){var g=a.qd,h=a.rd;for(x(null!=ia[a.Z]);b<c;++b){ia[a.Z](g,h,d,e,d,e,f),g=d,h=e,e+=f;}a.qd=g;a.rd=h;}}function Ib(a,b){var c=a.l.ma,d=0==c.Z||1==c.Z?a.l.j:a.C,d=a.C<d?d:a.C;x(b<=a.l.o);if(b>d){var e=a.l.width,f=c.ca,g=c.tb+e*d,h=a.V,k=a.Ba+a.c*d,l=a.gc;x(1==a.ab);x(3==l[0].hc);he(l[0],d,b,h,k,f,g);zc(c,d,b,f,g,e);}a.C=a.Ma=b;}function Jb(a,b,c,d,e,f,g){var h=a.$/d,k=a.$%d,l=a.m,m=a.s,n=c+a.$,r=n;e=c+d*e;var q=c+d*f,t=280+m.ua,v=a.Pb?h:16777216,p=0<m.ua?m.Wa:null,u=m.wc,w=n<q?ha(m,k,h):null;x(a.C<f);x(q<=e);var y=!1;a:for(;;){for(;y||n<q;){var A=0;if(h>=v){var v=a,E=n-c;x(v.Pb);v.wd=v.m;v.xd=E;0<v.s.ua&&$b(v.s.Wa,v.s.vb);v=h+ie;}k&u||(w=ha(m,k,h));x(null!=w);w.Qb&&(b[n]=w.qb,y=!0);if(!y)if(Sa(l),w.jc){var A=l,E=b,B=n,C=w.pd[pb(A)&xb-1];x(w.jc);256>C.g?(qb(A,A.u+C.g),E[B]=C.value,A=0):(qb(A,A.u+C.g-256),x(256<=C.value),A=C.value);0==A&&(y=!0);}else A=ua(w.G[0],w.H[0],l);if(l.h)break;if(y||256>A){if(!y)if(w.nd)b[n]=(w.qb|A<<8)>>>0;else{Sa(l);y=ua(w.G[1],w.H[1],l);Sa(l);E=ua(w.G[2],w.H[2],l);B=ua(w.G[3],w.H[3],l);if(l.h)break;b[n]=(B<<24|y<<16|A<<8|E)>>>0;}y=!1;++n;++k;if(k>=d&&(k=0,++h,null!=g&&h<=f&&!(h%16)&&g(a,h),null!=p))for(;r<n;){A=b[r++],p.X[(506832829*A&4294967295)>>>p.Mb]=A;}}else if(280>A){A=ib(A-256,l);E=ua(w.G[4],w.H[4],l);Sa(l);E=ib(E,l);E=nc(d,E);if(l.h)break;if(n-c<E||e-n<A)break a;else for(B=0;B<A;++B){b[n+B]=b[n+B-E];}n+=A;for(k+=A;k>=d;){k-=d,++h,null!=g&&h<=f&&!(h%16)&&g(a,h);}x(n<=e);k&u&&(w=ha(m,k,h));if(null!=p)for(;r<n;){A=b[r++],p.X[(506832829*A&4294967295)>>>p.Mb]=A;}}else if(A<t){y=A-280;for(x(null!=p);r<n;){A=b[r++],p.X[(506832829*A&4294967295)>>>p.Mb]=A;}A=n;E=p;x(!(y>>>E.Xa));b[A]=E.X[y];y=!0;}else break a;y||x(l.h==db(l));}if(a.Pb&&l.h&&n<e)x(a.m.h),a.a=5,a.m=a.wd,a.$=a.xd,0<a.s.ua&&$b(a.s.vb,a.s.Wa);else if(l.h)break a;else null!=g&&g(a,h>f?f:h),a.a=0,a.$=n-c;return 1;}a.a=3;return 0;}function Ac(a){x(null!=a);a.vc=null;a.yc=null;a.Ya=null;var b=a.Wa;null!=b&&(b.X=null);a.vb=null;x(null!=a);}function Bc(){var a=new je();if(null==a)return null;a.a=0;a.xb=Cc;gb("Predictor","VP8LPredictors");gb("Predictor","VP8LPredictors_C");gb("PredictorAdd","VP8LPredictorsAdd");gb("PredictorAdd","VP8LPredictorsAdd_C");pc=Kd;Fb=Ld;sc=Md;Gb=Nd;Hb=Od;xc=Pd;uc=Qd;a1.VP8LMapColor32b=ke;a1.VP8LMapColor8b=le;return a;}function rb(a,b,c,d,e){var f=1,g=[a],h=[b],k=d.m,l=d.s,m=null,n=0;a:for(;;){if(c)for(;f&&D(k,1);){var r=g,q=h,t=d,v=1,p=t.m,u=t.gc[t.ab],w=D(p,2);if(t.Oc&1<<w)f=0;else{t.Oc|=1<<w;u.hc=w;u.Ea=r[0];u.nc=q[0];u.K=[null];++t.ab;x(4>=t.ab);switch(w){case 0:case 1:u.b=D(p,3)+2;v=rb(xa(u.Ea,u.b),xa(u.nc,u.b),0,t,u.K);u.K=u.K[0];break;case 3:var y=D(p,8)+1,A=16<y?0:4<y?1:2<y?2:3;r[0]=xa(u.Ea,A);u.b=A;var v=rb(y,1,0,t,u.K),E;if(E=v){var B,C=y,N=u,z=1<<(8>>N.b),Q=V(z);if(null==Q)E=0;else{var S=N.K[0],K=N.w;Q[0]=N.K[0][0];for(B=1;B<1*C;++B){Q[B]=yb(S[K+B],Q[B-1]);}for(;B<4*z;++B){Q[B]=0;}N.K[0]=null;N.K[0]=Q;E=1;}}v=E;break;case 2:break;default:x(0);}f=v;}}g=g[0];h=h[0];if(f&&D(k,1)&&(n=D(k,4),f=1<=n&&11>=n,!f)){d.a=3;break a;}var H;if(H=f)b:{var F=d,G=g,L=h,J=n,T=c,Da,ba,X=F.m,R=F.s,P=[null],U,W=1,aa=0,na=me[J];c:for(;;){if(T&&D(X,1)){var ca=D(X,3)+2,ga=xa(G,ca),ka=xa(L,ca),qa=ga*ka;if(!rb(ga,ka,0,F,P))break c;P=P[0];R.xc=ca;for(Da=0;Da<qa;++Da){var ia=P[Da]>>8&65535;P[Da]=ia;ia>=W&&(W=ia+1);}}if(X.h)break c;for(ba=0;5>ba;++ba){var Y=Dc[ba];!ba&&0<J&&(Y+=1<<J);aa<Y&&(aa=Y);}var ma=s(W*na,O);var ua=W,va=s(ua,Ub);if(null==va)var la=null;else x(65536>=ua),la=va;var ha=V(aa);if(null==la||null==ha||null==ma){F.a=1;break c;}var pa=ma;for(Da=U=0;Da<W;++Da){var ja=la[Da],da=ja.G,ea=ja.H,Fa=0,ra=1,Ha=0;for(ba=0;5>ba;++ba){Y=Dc[ba];da[ba]=pa;ea[ba]=U;!ba&&0<J&&(Y+=1<<J);d:{var sa,za=Y,ta=F,oa=ha,db=pa,eb=U,Ia=0,Ka=ta.m,fb=D(Ka,1);M(oa,0,0,za);if(fb){var gb=D(Ka,1)+1,hb=D(Ka,1),Ja=D(Ka,0==hb?1:8);oa[Ja]=1;2==gb&&(Ja=D(Ka,8),oa[Ja]=1);var ya=1;}else{var Ua=V(19),Va=D(Ka,4)+4;if(19<Va){ta.a=3;var Aa=0;break d;}for(sa=0;sa<Va;++sa){Ua[ne[sa]]=D(Ka,3);}var Ba=void 0,sb=void 0,Wa=ta,ib=Ua,Ca=za,Xa=oa,Oa=0,La=Wa.m,Ya=8,Za=s(128,O);e:for(;;){if(!Z(Za,0,7,ib,19))break e;if(D(La,1)){var kb=2+2*D(La,3),Ba=2+D(La,kb);if(Ba>Ca)break e;}else Ba=Ca;for(sb=0;sb<Ca&&Ba--;){Sa(La);var $a=Za[0+(pb(La)&127)];qb(La,La.u+$a.g);var jb=$a.value;if(16>jb)Xa[sb++]=jb,0!=jb&&(Ya=jb);else{var lb=16==jb,ab=jb-16,mb=oe[ab],bb=D(La,pe[ab])+mb;if(sb+bb>Ca)break e;else for(var nb=lb?Ya:0;0<bb--;){Xa[sb++]=nb;}}}Oa=1;break e;}Oa||(Wa.a=3);ya=Oa;}(ya=ya&&!Ka.h)&&(Ia=Z(db,eb,8,oa,za));ya&&0!=Ia?Aa=Ia:(ta.a=3,Aa=0);}if(0==Aa)break c;ra&&1==qe[ba]&&(ra=0==pa[U].g);Fa+=pa[U].g;U+=Aa;if(3>=ba){var Pa=ha[0],tb;for(tb=1;tb<Y;++tb){ha[tb]>Pa&&(Pa=ha[tb]);}Ha+=Pa;}}ja.nd=ra;ja.Qb=0;ra&&(ja.qb=(da[3][ea[3]+0].value<<24|da[1][ea[1]+0].value<<16|da[2][ea[2]+0].value)>>>0,0==Fa&&256>da[0][ea[0]+0].value&&(ja.Qb=1,ja.qb+=da[0][ea[0]+0].value<<8));ja.jc=!ja.Qb&&6>Ha;if(ja.jc){var Ga,Ea=ja;for(Ga=0;Ga<xb;++Ga){var Ma=Ga,Na=Ea.pd[Ma],vb=Ea.G[0][Ea.H[0]+Ma];256<=vb.value?(Na.g=vb.g+256,Na.value=vb.value):(Na.g=0,Na.value=0,Ma>>=ub(vb,8,Na),Ma>>=ub(Ea.G[1][Ea.H[1]+Ma],16,Na),Ma>>=ub(Ea.G[2][Ea.H[2]+Ma],0,Na),ub(Ea.G[3][Ea.H[3]+Ma],24,Na));}}}R.vc=P;R.Wb=W;R.Ya=la;R.yc=ma;H=1;break b;}H=0;}f=H;if(!f){d.a=3;break a;}if(0<n){if(l.ua=1<<n,!Zb(l.Wa,n)){d.a=1;f=0;break a;}}else l.ua=0;var Qa=d,cb=g,ob=h,Ra=Qa.s,Ta=Ra.xc;Qa.c=cb;Qa.i=ob;Ra.md=xa(cb,Ta);Ra.wc=0==Ta?-1:(1<<Ta)-1;if(c){d.xb=re;break a;}m=V(g*h);if(null==m){d.a=1;f=0;break a;}f=(f=Jb(d,m,0,g,h,h,null))&&!k.h;break a;}f?(null!=e?e[0]=m:(x(null==m),x(c)),d.$=0,c||Ac(l)):Ac(l);return f;}function Ec(a,b){var c=a.c*a.i,d=c+b+16*b;x(a.c<=b);a.V=V(d);if(null==a.V)return a.Ta=null,a.Ua=0,a.a=1,0;a.Ta=a.V;a.Ua=a.Ba+c+b;return 1;}function se(a,b){var c=a.C,d=b-c,e=a.V,f=a.Ba+a.c*c;for(x(b<=a.l.o);0<d;){var g=16<d?16:d,h=a.l.ma,k=a.l.width,l=k*g,m=h.ca,n=h.tb+k*c,r=a.Ta,q=a.Ua;oc(a,g,e,f);Fc(r,q,m,n,l);zc(h,c,c+g,m,n,k);d-=g;e+=g*a.c;c+=g;}x(c==b);a.C=a.Ma=b;}function te(a,b){var c=[0],d=[0],e=[0];a:for(;;){if(null==a)return 0;if(null==b)return a.a=2,0;a.l=b;a.a=0;cb(a.m,b.data,b.w,b.ha);if(!mc(a.m,c,d,e)){a.a=3;break a;}a.xb=Cc;b.width=c[0];b.height=d[0];if(!rb(c[0],d[0],1,a,null))break a;return 1;}x(0!=a.a);return 0;}function ue(){this.ub=this.yd=this.td=this.Rb=0;}function ve(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0;}function we(){this.Fb=this.Bb=this.Cb=0;this.Zb=V(4);this.Lb=V(4);}function Gc(){this.Yb=wb();}function xe(){this.jb=V(3);this.Wc=Ed([4,8],Gc);this.Xc=Ed([4,17],Gc);}function ye(){this.Pc=this.wb=this.Tb=this.zd=0;this.vd=new V(4);this.od=new V(4);}function Xa(){this.ld=this.La=this.dd=this.tc=0;}function Hc(){this.Na=this.la=0;}function ze(){this.Sc=[0,0];this.Eb=[0,0];this.Qc=[0,0];this.ia=this.lc=0;}function Kb(){this.ad=V(384);this.Za=0;this.Ob=V(16);this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0;}function Ae(){this.uc=this.M=this.Nb=0;this.wa=Array(new Xa());this.Y=0;this.ya=Array(new Kb());this.aa=0;this.l=new Oa();}function Ic(){this.y=V(16);this.f=V(8);this.ea=V(8);}function Be(){this.cb=this.a=0;this.sc="";this.m=new Wb();this.Od=new ue();this.Kc=new ve();this.ed=new ye();this.Qa=new we();this.Ic=this.$c=this.Aa=0;this.D=new Ae();this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0;this.Jc=s(8,Wb);this.ia=0;this.pb=s(4,ze);this.Pa=new xe();this.Bd=this.kc=0;this.Ac=[];this.Bc=0;this.zc=[0,0,0,0];this.Gd=Array(new Ic());this.Hd=0;this.rb=Array(new Hc());this.sb=0;this.wa=Array(new Xa());this.Y=0;this.oc=[];this.pc=0;this.sa=[];this.ta=0;this.qa=[];this.ra=0;this.Ha=[];this.B=this.R=this.Ia=0;this.Ec=[];this.M=this.ja=this.Vb=this.Fc=0;this.ya=Array(new Kb());this.L=this.aa=0;this.gd=Ed([4,2],Xa);this.ga=null;this.Fa=[];this.Cc=this.qc=this.P=0;this.Gb=[];this.Uc=0;this.mb=[];this.nb=0;this.rc=[];this.Ga=this.Vc=0;}function ga(a,b){return 0>a?0:a>b?b:a;}function Oa(){this.T=this.U=this.ka=this.height=this.width=0;this.y=[];this.f=[];this.ea=[];this.Rc=this.fa=this.W=this.N=this.O=0;this.ma="void";this.put="VP8IoPutHook";this.ac="VP8IoSetupHook";this.bc="VP8IoTeardownHook";this.ha=this.Kb=0;this.data=[];this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0;this.F=[];this.J=0;}function Ce(){var a=new Be();null!=a&&(a.a=0,a.sc="OK",a.cb=0,a.Xb=0,oa||(oa=De));return a;}function T(a,b,c){0==a.a&&(a.a=b,a.sc=c,a.cb=0);return 0;}function Jc(a,b,c){return 3<=c&&157==a[b+0]&&1==a[b+1]&&42==a[b+2];}function Kc(a,b){if(null==a)return 0;a.a=0;a.sc="OK";if(null==b)return T(a,2,"null VP8Io passed to VP8GetHeaders()");var c=b.data;var d=b.w;var e=b.ha;if(4>e)return T(a,7,"Truncated header.");var f=c[d+0]|c[d+1]<<8|c[d+2]<<16;var g=a.Od;g.Rb=!(f&1);g.td=f>>1&7;g.yd=f>>4&1;g.ub=f>>5;if(3<g.td)return T(a,3,"Incorrect keyframe parameters.");if(!g.yd)return T(a,4,"Frame not displayable.");d+=3;e-=3;var h=a.Kc;if(g.Rb){if(7>e)return T(a,7,"cannot parse picture header");if(!Jc(c,d,e))return T(a,3,"Bad code word");h.c=(c[d+4]<<8|c[d+3])&16383;h.Td=c[d+4]>>6;h.i=(c[d+6]<<8|c[d+5])&16383;h.Ud=c[d+6]>>6;d+=7;e-=7;a.za=h.c+15>>4;a.Ub=h.i+15>>4;b.width=h.c;b.height=h.i;b.Da=0;b.j=0;b.v=0;b.va=b.width;b.o=b.height;b.da=0;b.ib=b.width;b.hb=b.height;b.U=b.width;b.T=b.height;f=a.Pa;M(f.jb,0,255,f.jb.length);f=a.Qa;x(null!=f);f.Cb=0;f.Bb=0;f.Fb=1;M(f.Zb,0,0,f.Zb.length);M(f.Lb,0,0,f.Lb);}if(g.ub>e)return T(a,7,"bad partition length");f=a.m;ma(f,c,d,g.ub);d+=g.ub;e-=g.ub;g.Rb&&(h.Ld=G(f),h.Kd=G(f));h=a.Qa;var k=a.Pa,l;x(null!=f);x(null!=h);h.Cb=G(f);if(h.Cb){h.Bb=G(f);if(G(f)){h.Fb=G(f);for(l=0;4>l;++l){h.Zb[l]=G(f)?ca(f,7):0;}for(l=0;4>l;++l){h.Lb[l]=G(f)?ca(f,6):0;}}if(h.Bb)for(l=0;3>l;++l){k.jb[l]=G(f)?na(f,8):255;}}else h.Bb=0;if(f.Ka)return T(a,3,"cannot parse segment header");h=a.ed;h.zd=G(f);h.Tb=na(f,6);h.wb=na(f,3);h.Pc=G(f);if(h.Pc&&G(f)){for(k=0;4>k;++k){G(f)&&(h.vd[k]=ca(f,6));}for(k=0;4>k;++k){G(f)&&(h.od[k]=ca(f,6));}}a.L=0==h.Tb?0:h.zd?1:2;if(f.Ka)return T(a,3,"cannot parse filter header");l=d;var m=e;e=l;d=l+m;h=m;a.Xb=(1<<na(a.m,2))-1;k=a.Xb;if(m<3*k)c=7;else{l+=3*k;h-=3*k;for(m=0;m<k;++m){var n=c[e+0]|c[e+1]<<8|c[e+2]<<16;n>h&&(n=h);ma(a.Jc[+m],c,l,n);l+=n;h-=n;e+=3;}ma(a.Jc[+k],c,l,h);c=l<d?0:5;}if(0!=c)return T(a,c,"cannot parse partitions");l=a.m;c=na(l,7);e=G(l)?ca(l,4):0;d=G(l)?ca(l,4):0;h=G(l)?ca(l,4):0;k=G(l)?ca(l,4):0;l=G(l)?ca(l,4):0;m=a.Qa;for(n=0;4>n;++n){if(m.Cb){var r=m.Zb[n];m.Fb||(r+=c);}else if(0<n){a.pb[n]=a.pb[0];continue;}else r=c;var q=a.pb[n];q.Sc[0]=Lb[ga(r+e,127)];q.Sc[1]=Mb[ga(r+0,127)];q.Eb[0]=2*Lb[ga(r+d,127)];q.Eb[1]=101581*Mb[ga(r+h,127)]>>16;8>q.Eb[1]&&(q.Eb[1]=8);q.Qc[0]=Lb[ga(r+k,117)];q.Qc[1]=Mb[ga(r+l,127)];q.lc=r+l;}if(!g.Rb)return T(a,4,"Not a key frame.");G(f);g=a.Pa;for(c=0;4>c;++c){for(e=0;8>e;++e){for(d=0;3>d;++d){for(h=0;11>h;++h){k=K(f,Ee[c][e][d][h])?na(f,8):Fe[c][e][d][h],g.Wc[c][e].Yb[d][h]=k;}}}for(e=0;17>e;++e){g.Xc[c][e]=g.Wc[c][Ge[e]];}}a.kc=G(f);a.kc&&(a.Bd=na(f,8));return a.cb=1;}function De(a,b,c,d,e,f,g){var h=b[e].Yb[c];for(c=0;16>e;++e){if(!K(a,h[c+0]))return e;for(;!K(a,h[c+1]);){if(h=b[++e].Yb[0],c=0,16==e)return 16;}var k=b[e+1].Yb;if(K(a,h[c+2])){var l=a,m=h,n=c;var r=0;if(K(l,m[n+3])){if(K(l,m[n+6])){h=0;r=K(l,m[n+8]);m=K(l,m[n+9+r]);n=2*r+m;r=0;for(m=He[n];m[h];++h){r+=r+K(l,m[h]);}r+=3+(8<<n);}else K(l,m[n+7])?(r=7+2*K(l,165),r+=K(l,145)):r=5+K(l,159);}else K(l,m[n+4])?r=3+K(l,m[n+5]):r=2;h=k[2];}else r=1,h=k[1];k=g+Ie[e];l=a;0>l.b&&Qa(l);var m=l.b,n=l.Ca>>1,q=n-(l.I>>m)>>31;--l.b;l.Ca+=q;l.Ca|=1;l.I-=(n+1&q)<<m;f[k]=((r^q)-q)*d[(0<e)+0];}return 16;}function Lc(a){var b=a.rb[a.sb-1];b.la=0;b.Na=0;M(a.zc,0,0,a.zc.length);a.ja=0;}function Je(a,b){for(a.M=0;a.M<a.Va;++a.M){var c=a.Jc[a.M&a.Xb],d=a.m,e=a,f;for(f=0;f<e.za;++f){var g=d;var h=e;var k=h.Ac,l=h.Bc+4*f,m=h.zc,n=h.ya[h.aa+f];h.Qa.Bb?n.$b=K(g,h.Pa.jb[0])?2+K(g,h.Pa.jb[2]):K(g,h.Pa.jb[1]):n.$b=0;h.kc&&(n.Ad=K(g,h.Bd));n.Za=!K(g,145)+0;if(n.Za){var r=n.Ob,q=0;for(h=0;4>h;++h){var t=m[0+h];var v;for(v=0;4>v;++v){t=Ke[k[l+v]][t];for(var p=Mc[K(g,t[0])];0<p;){p=Mc[2*p+K(g,t[p])];}t=-p;k[l+v]=t;}I(r,q,k,l,4);q+=4;m[0+h]=t;}}else t=K(g,156)?K(g,128)?1:3:K(g,163)?2:0,n.Ob[0]=t,M(k,l,t,4),M(m,0,t,4);n.Dd=K(g,142)?K(g,114)?K(g,183)?1:3:2:0;}if(e.m.Ka)return T(a,7,"Premature end-of-partition0 encountered.");for(;a.ja<a.za;++a.ja){d=a;e=c;g=d.rb[d.sb-1];k=d.rb[d.sb+d.ja];f=d.ya[d.aa+d.ja];if(l=d.kc?f.Ad:0)g.la=k.la=0,f.Za||(g.Na=k.Na=0),f.Hc=0,f.Gc=0,f.ia=0;else{var u,w,g=k,k=e,l=d.Pa.Xc,m=d.ya[d.aa+d.ja],n=d.pb[m.$b];h=m.ad;r=0;q=d.rb[d.sb-1];t=v=0;M(h,r,0,384);if(m.Za){var y=0;var A=l[3];}else{p=V(16);var E=g.Na+q.Na;E=oa(k,l[1],E,n.Eb,0,p,0);g.Na=q.Na=(0<E)+0;if(1<E)Nc(p,0,h,r);else{var B=p[0]+3>>3;for(p=0;256>p;p+=16){h[r+p]=B;}}y=1;A=l[0];}var C=g.la&15;var N=q.la&15;for(p=0;4>p;++p){var z=N&1;for(B=w=0;4>B;++B){E=z+(C&1),E=oa(k,A,E,n.Sc,y,h,r),z=E>y,C=C>>1|z<<7,w=w<<2|(3<E?3:1<E?2:0!=h[r+0]),r+=16;}C>>=4;N=N>>1|z<<7;v=(v<<8|w)>>>0;}A=C;y=N>>4;for(u=0;4>u;u+=2){w=0;C=g.la>>4+u;N=q.la>>4+u;for(p=0;2>p;++p){z=N&1;for(B=0;2>B;++B){E=z+(C&1),E=oa(k,l[2],E,n.Qc,0,h,r),z=0<E,C=C>>1|z<<3,w=w<<2|(3<E?3:1<E?2:0!=h[r+0]),r+=16;}C>>=2;N=N>>1|z<<5;}t|=w<<4*u;A|=C<<4<<u;y|=(N&240)<<u;}g.la=A;q.la=y;m.Hc=v;m.Gc=t;m.ia=t&43690?0:n.ia;l=!(v|t);}0<d.L&&(d.wa[d.Y+d.ja]=d.gd[f.$b][f.Za],d.wa[d.Y+d.ja].La|=!l);if(e.Ka)return T(a,7,"Premature end-of-file encountered.");}Lc(a);c=a;d=b;e=1;f=c.D;g=0<c.L&&c.M>=c.zb&&c.M<=c.Va;if(0==c.Aa)a:{f.M=c.M,f.uc=g,Oc(c,f),e=1;w=c.D;f=w.Nb;t=Ya[c.L];g=t*c.R;k=t/2*c.B;p=16*f*c.R;B=8*f*c.B;l=c.sa;m=c.ta-g+p;n=c.qa;h=c.ra-k+B;r=c.Ha;q=c.Ia-k+B;C=w.M;N=0==C;v=C>=c.Va-1;2==c.Aa&&Oc(c,w);if(w.uc)for(E=c,z=E.D.M,x(E.D.uc),w=E.yb;w<E.Hb;++w){var Q=E;y=w;A=z;var S=Q.D,D=S.Nb;u=Q.R;var S=S.wa[S.Y+y],F=Q.sa,H=Q.ta+16*D*u+16*y,J=S.dd,G=S.tc;if(0!=G)if(x(3<=G),1==Q.L)0<y&&Pc(F,H,u,G+4),S.La&&Qc(F,H,u,G),0<A&&Rc(F,H,u,G+4),S.La&&Sc(F,H,u,G);else{var L=Q.B,O=Q.qa,P=Q.ra+8*D*L+8*y,R=Q.Ha,Q=Q.Ia+8*D*L+8*y,D=S.ld;0<y&&(Tc(F,H,u,G+4,J,D),Uc(O,P,R,Q,L,G+4,J,D));S.La&&(Vc(F,H,u,G,J,D),Wc(O,P,R,Q,L,G,J,D));0<A&&(Xc(F,H,u,G+4,J,D),Yc(O,P,R,Q,L,G+4,J,D));S.La&&(Zc(F,H,u,G,J,D),$c(O,P,R,Q,L,G,J,D));}}c.ia&&alert("todo:DitherRow");if(null!=d.put){w=16*C;C=16*(C+1);N?(d.y=c.sa,d.O=c.ta+p,d.f=c.qa,d.N=c.ra+B,d.ea=c.Ha,d.W=c.Ia+B):(w-=t,d.y=l,d.O=m,d.f=n,d.N=h,d.ea=r,d.W=q);v||(C-=t);C>d.o&&(C=d.o);d.F=null;d.J=null;if(null!=c.Fa&&0<c.Fa.length&&w<C&&(d.J=Le(c,d,w,C-w),d.F=c.mb,null==d.F&&0==d.F.length)){e=T(c,3,"Could not decode alpha data.");break a;}w<d.j&&(t=d.j-w,w=d.j,x(!(t&1)),d.O+=c.R*t,d.N+=c.B*(t>>1),d.W+=c.B*(t>>1),null!=d.F&&(d.J+=d.width*t));w<C&&(d.O+=d.v,d.N+=d.v>>1,d.W+=d.v>>1,null!=d.F&&(d.J+=d.v),d.ka=w-d.j,d.U=d.va-d.v,d.T=C-w,e=d.put(d));}f+1!=c.Ic||v||(I(c.sa,c.ta-g,l,m+16*c.R,g),I(c.qa,c.ra-k,n,h+8*c.B,k),I(c.Ha,c.Ia-k,r,q+8*c.B,k));}if(!e)return T(a,6,"Output aborted.");}return 1;}function Me(a,b){if(null==a)return 0;if(null==b)return T(a,2,"NULL VP8Io parameter in VP8Decode().");if(!a.cb&&!Kc(a,b))return 0;x(a.cb);if(null==b.ac||b.ac(b)){b.ob&&(a.L=0);var c=Ya[a.L];2==a.L?(a.yb=0,a.zb=0):(a.yb=b.v-c>>4,a.zb=b.j-c>>4,0>a.yb&&(a.yb=0),0>a.zb&&(a.zb=0));a.Va=b.o+15+c>>4;a.Hb=b.va+15+c>>4;a.Hb>a.za&&(a.Hb=a.za);a.Va>a.Ub&&(a.Va=a.Ub);if(0<a.L){var d=a.ed;for(c=0;4>c;++c){var e;if(a.Qa.Cb){var f=a.Qa.Lb[c];a.Qa.Fb||(f+=d.Tb);}else f=d.Tb;for(e=0;1>=e;++e){var g=a.gd[c][e],h=f;d.Pc&&(h+=d.vd[0],e&&(h+=d.od[0]));h=0>h?0:63<h?63:h;if(0<h){var k=h;0<d.wb&&(k=4<d.wb?k>>2:k>>1,k>9-d.wb&&(k=9-d.wb));1>k&&(k=1);g.dd=k;g.tc=2*h+k;g.ld=40<=h?2:15<=h?1:0;}else g.tc=0;g.La=e;}}}c=0;}else T(a,6,"Frame setup failed"),c=a.a;if(c=0==c){if(c){a.$c=0;0<a.Aa||(a.Ic=Ne);b:{c=a.Ic;var k=a.za,d=4*k,l=32*k,m=k+1,n=0<a.L?k*(0<a.Aa?2:1):0,r=(2==a.Aa?2:1)*k;e=3*(16*c+Ya[a.L])/2*l;f=null!=a.Fa&&0<a.Fa.length?a.Kc.c*a.Kc.i:0;g=d+832+e+f;if(g!=g)c=0;else{if(g>a.Vb){a.Vb=0;a.Ec=V(g);a.Fc=0;if(null==a.Ec){c=T(a,1,"no memory during frame initialization.");break b;}a.Vb=g;}g=a.Ec;h=a.Fc;a.Ac=g;a.Bc=h;h+=d;a.Gd=s(l,Ic);a.Hd=0;a.rb=s(m+1,Hc);a.sb=1;a.wa=n?s(n,Xa):null;a.Y=0;a.D.Nb=0;a.D.wa=a.wa;a.D.Y=a.Y;0<a.Aa&&(a.D.Y+=k);x(!0);a.oc=g;a.pc=h;h+=832;a.ya=s(r,Kb);a.aa=0;a.D.ya=a.ya;a.D.aa=a.aa;2==a.Aa&&(a.D.aa+=k);a.R=16*k;a.B=8*k;l=Ya[a.L];k=l*a.R;l=l/2*a.B;a.sa=g;a.ta=h+k;a.qa=a.sa;a.ra=a.ta+16*c*a.R+l;a.Ha=a.qa;a.Ia=a.ra+8*c*a.B+l;a.$c=0;h+=e;a.mb=f?g:null;a.nb=f?h:null;x(h+f<=a.Fc+a.Vb);Lc(a);M(a.Ac,a.Bc,0,d);c=1;}}if(c){b.ka=0;b.y=a.sa;b.O=a.ta;b.f=a.qa;b.N=a.ra;b.ea=a.Ha;b.Vd=a.Ia;b.fa=a.R;b.Rc=a.B;b.F=null;b.J=0;if(!ad){for(c=-255;255>=c;++c){bd[255+c]=0>c?-c:c;}for(c=-1020;1020>=c;++c){cd[1020+c]=-128>c?-128:127<c?127:c;}for(c=-112;112>=c;++c){dd[112+c]=-16>c?-16:15<c?15:c;}for(c=-255;510>=c;++c){ed[255+c]=0>c?0:255<c?255:c;}ad=1;}Nc=Oe;Za=Pe;Nb=Qe;pa=Re;Ob=Se;fd=Te;Xc=Ue;Tc=Ve;Yc=We;Uc=Xe;Zc=Ye;Vc=Ze;$c=$e;Wc=af;Rc=gd;Pc=hd;Sc=bf;Qc=cf;W[0]=df;W[1]=ef;W[2]=ff;W[3]=gf;W[4]=hf;W[5]=jf;W[6]=kf;W[7]=lf;W[8]=mf;W[9]=nf;Y[0]=of;Y[1]=pf;Y[2]=qf;Y[3]=rf;Y[4]=sf;Y[5]=tf;Y[6]=uf;ka[0]=vf;ka[1]=wf;ka[2]=xf;ka[3]=yf;ka[4]=zf;ka[5]=Af;ka[6]=Bf;c=1;}else c=0;}c&&(c=Je(a,b));null!=b.bc&&b.bc(b);c&=1;}if(!c)return 0;a.cb=0;return c;}function qa(a,b,c,d,e){e=a[b+c+32*d]+(e>>3);a[b+c+32*d]=e&-256?0>e?0:255:e;}function kb(a,b,c,d,e,f){qa(a,b,0,c,d+e);qa(a,b,1,c,d+f);qa(a,b,2,c,d-f);qa(a,b,3,c,d-e);}function da(a){return(20091*a>>16)+a;}function id(a,b,c,d){var e=0,f;var g=V(16);for(f=0;4>f;++f){var h=a[b+0]+a[b+8];var k=a[b+0]-a[b+8];var l=(35468*a[b+4]>>16)-da(a[b+12]);var m=da(a[b+4])+(35468*a[b+12]>>16);g[e+0]=h+m;g[e+1]=k+l;g[e+2]=k-l;g[e+3]=h-m;e+=4;b++;}for(f=e=0;4>f;++f){a=g[e+0]+4,h=a+g[e+8],k=a-g[e+8],l=(35468*g[e+4]>>16)-da(g[e+12]),m=da(g[e+4])+(35468*g[e+12]>>16),qa(c,d,0,0,h+m),qa(c,d,1,0,k+l),qa(c,d,2,0,k-l),qa(c,d,3,0,h-m),e++,d+=32;}}function Te(a,b,c,d){var e=a[b+0]+4,f=35468*a[b+4]>>16,g=da(a[b+4]),h=35468*a[b+1]>>16;a=da(a[b+1]);kb(c,d,0,e+g,a,h);kb(c,d,1,e+f,a,h);kb(c,d,2,e-f,a,h);kb(c,d,3,e-g,a,h);}function Pe(a,b,c,d,e){id(a,b,c,d);e&&id(a,b+16,c,d+4);}function Qe(a,b,c,d){Za(a,b+0,c,d,1);Za(a,b+32,c,d+128,1);}function Re(a,b,c,d){a=a[b+0]+4;var e;for(e=0;4>e;++e){for(b=0;4>b;++b){qa(c,d,b,e,a);}}}function Se(a,b,c,d){a[b+0]&&pa(a,b+0,c,d);a[b+16]&&pa(a,b+16,c,d+4);a[b+32]&&pa(a,b+32,c,d+128);a[b+48]&&pa(a,b+48,c,d+128+4);}function Oe(a,b,c,d){var e=V(16),f;for(f=0;4>f;++f){var g=a[b+0+f]+a[b+12+f];var h=a[b+4+f]+a[b+8+f];var k=a[b+4+f]-a[b+8+f];var l=a[b+0+f]-a[b+12+f];e[0+f]=g+h;e[8+f]=g-h;e[4+f]=l+k;e[12+f]=l-k;}for(f=0;4>f;++f){a=e[0+4*f]+3,g=a+e[3+4*f],h=e[1+4*f]+e[2+4*f],k=e[1+4*f]-e[2+4*f],l=a-e[3+4*f],c[d+0]=g+h>>3,c[d+16]=l+k>>3,c[d+32]=g-h>>3,c[d+48]=l-k>>3,d+=64;}}function Pb(a,b,c){var d=b-32,e=R,f=255-a[d-1],g;for(g=0;g<c;++g){var h=e,k=f+a[b-1],l;for(l=0;l<c;++l){a[b+l]=h[k+a[d+l]];}b+=32;}}function ef(a,b){Pb(a,b,4);}function wf(a,b){Pb(a,b,8);}function pf(a,b){Pb(a,b,16);}function qf(a,b){var c;for(c=0;16>c;++c){I(a,b+32*c,a,b-32,16);}}function rf(a,b){var c;for(c=16;0<c;--c){M(a,b,a[b-1],16),b+=32;}}function $a(a,b,c){var d;for(d=0;16>d;++d){M(b,c+32*d,a,16);}}function of(a,b){var c=16,d;for(d=0;16>d;++d){c+=a[b-1+32*d]+a[b+d-32];}$a(c>>5,a,b);}function sf(a,b){var c=8,d;for(d=0;16>d;++d){c+=a[b-1+32*d];}$a(c>>4,a,b);}function tf(a,b){var c=8,d;for(d=0;16>d;++d){c+=a[b+d-32];}$a(c>>4,a,b);}function uf(a,b){$a(128,a,b);}function z(a,b,c){return a+2*b+c+2>>2;}function ff(a,b){var c=b-32,c=new Uint8Array([z(a[c-1],a[c+0],a[c+1]),z(a[c+0],a[c+1],a[c+2]),z(a[c+1],a[c+2],a[c+3]),z(a[c+2],a[c+3],a[c+4])]),d;for(d=0;4>d;++d){I(a,b+32*d,c,0,c.length);}}function gf(a,b){var c=a[b-1],d=a[b-1+32],e=a[b-1+64],f=a[b-1+96];ra(a,b+0,16843009*z(a[b-1-32],c,d));ra(a,b+32,16843009*z(c,d,e));ra(a,b+64,16843009*z(d,e,f));ra(a,b+96,16843009*z(e,f,f));}function df(a,b){var c=4,d;for(d=0;4>d;++d){c+=a[b+d-32]+a[b-1+32*d];}c>>=3;for(d=0;4>d;++d){M(a,b+32*d,c,4);}}function hf(a,b){var c=a[b-1+0],d=a[b-1+32],e=a[b-1+64],f=a[b-1-32],g=a[b+0-32],h=a[b+1-32],k=a[b+2-32],l=a[b+3-32];a[b+0+96]=z(d,e,a[b-1+96]);a[b+1+96]=a[b+0+64]=z(c,d,e);a[b+2+96]=a[b+1+64]=a[b+0+32]=z(f,c,d);a[b+3+96]=a[b+2+64]=a[b+1+32]=a[b+0+0]=z(g,f,c);a[b+3+64]=a[b+2+32]=a[b+1+0]=z(h,g,f);a[b+3+32]=a[b+2+0]=z(k,h,g);a[b+3+0]=z(l,k,h);}function kf(a,b){var c=a[b+1-32],d=a[b+2-32],e=a[b+3-32],f=a[b+4-32],g=a[b+5-32],h=a[b+6-32],k=a[b+7-32];a[b+0+0]=z(a[b+0-32],c,d);a[b+1+0]=a[b+0+32]=z(c,d,e);a[b+2+0]=a[b+1+32]=a[b+0+64]=z(d,e,f);a[b+3+0]=a[b+2+32]=a[b+1+64]=a[b+0+96]=z(e,f,g);a[b+3+32]=a[b+2+64]=a[b+1+96]=z(f,g,h);a[b+3+64]=a[b+2+96]=z(g,h,k);a[b+3+96]=z(h,k,k);}function jf(a,b){var c=a[b-1+0],d=a[b-1+32],e=a[b-1+64],f=a[b-1-32],g=a[b+0-32],h=a[b+1-32],k=a[b+2-32],l=a[b+3-32];a[b+0+0]=a[b+1+64]=f+g+1>>1;a[b+1+0]=a[b+2+64]=g+h+1>>1;a[b+2+0]=a[b+3+64]=h+k+1>>1;a[b+3+0]=k+l+1>>1;a[b+0+96]=z(e,d,c);a[b+0+64]=z(d,c,f);a[b+0+32]=a[b+1+96]=z(c,f,g);a[b+1+32]=a[b+2+96]=z(f,g,h);a[b+2+32]=a[b+3+96]=z(g,h,k);a[b+3+32]=z(h,k,l);}function lf(a,b){var c=a[b+0-32],d=a[b+1-32],e=a[b+2-32],f=a[b+3-32],g=a[b+4-32],h=a[b+5-32],k=a[b+6-32],l=a[b+7-32];a[b+0+0]=c+d+1>>1;a[b+1+0]=a[b+0+64]=d+e+1>>1;a[b+2+0]=a[b+1+64]=e+f+1>>1;a[b+3+0]=a[b+2+64]=f+g+1>>1;a[b+0+32]=z(c,d,e);a[b+1+32]=a[b+0+96]=z(d,e,f);a[b+2+32]=a[b+1+96]=z(e,f,g);a[b+3+32]=a[b+2+96]=z(f,g,h);a[b+3+64]=z(g,h,k);a[b+3+96]=z(h,k,l);}function nf(a,b){var c=a[b-1+0],d=a[b-1+32],e=a[b-1+64],f=a[b-1+96];a[b+0+0]=c+d+1>>1;a[b+2+0]=a[b+0+32]=d+e+1>>1;a[b+2+32]=a[b+0+64]=e+f+1>>1;a[b+1+0]=z(c,d,e);a[b+3+0]=a[b+1+32]=z(d,e,f);a[b+3+32]=a[b+1+64]=z(e,f,f);a[b+3+64]=a[b+2+64]=a[b+0+96]=a[b+1+96]=a[b+2+96]=a[b+3+96]=f;}function mf(a,b){var c=a[b-1+0],d=a[b-1+32],e=a[b-1+64],f=a[b-1+96],g=a[b-1-32],h=a[b+0-32],k=a[b+1-32],l=a[b+2-32];a[b+0+0]=a[b+2+32]=c+g+1>>1;a[b+0+32]=a[b+2+64]=d+c+1>>1;a[b+0+64]=a[b+2+96]=e+d+1>>1;a[b+0+96]=f+e+1>>1;a[b+3+0]=z(h,k,l);a[b+2+0]=z(g,h,k);a[b+1+0]=a[b+3+32]=z(c,g,h);a[b+1+32]=a[b+3+64]=z(d,c,g);a[b+1+64]=a[b+3+96]=z(e,d,c);a[b+1+96]=z(f,e,d);}function xf(a,b){var c;for(c=0;8>c;++c){I(a,b+32*c,a,b-32,8);}}function yf(a,b){var c;for(c=0;8>c;++c){M(a,b,a[b-1],8),b+=32;}}function lb(a,b,c){var d;for(d=0;8>d;++d){M(b,c+32*d,a,8);}}function vf(a,b){var c=8,d;for(d=0;8>d;++d){c+=a[b+d-32]+a[b-1+32*d];}lb(c>>4,a,b);}function Af(a,b){var c=4,d;for(d=0;8>d;++d){c+=a[b+d-32];}lb(c>>3,a,b);}function zf(a,b){var c=4,d;for(d=0;8>d;++d){c+=a[b-1+32*d];}lb(c>>3,a,b);}function Bf(a,b){lb(128,a,b);}function ab(a,b,c){var d=a[b-c],e=a[b+0],f=3*(e-d)+Qb[1020+a[b-2*c]-a[b+c]],g=mb[112+(f+4>>3)];a[b-c]=R[255+d+mb[112+(f+3>>3)]];a[b+0]=R[255+e-g];}function jd(a,b,c,d){var e=a[b+0],f=a[b+c];return U[255+a[b-2*c]-a[b-c]]>d||U[255+f-e]>d;}function kd(a,b,c,d){return 4*U[255+a[b-c]-a[b+0]]+U[255+a[b-2*c]-a[b+c]]<=d;}function ld(a,b,c,d,e){var f=a[b-3*c],g=a[b-2*c],h=a[b-c],k=a[b+0],l=a[b+c],m=a[b+2*c],n=a[b+3*c];return 4*U[255+h-k]+U[255+g-l]>d?0:U[255+a[b-4*c]-f]<=e&&U[255+f-g]<=e&&U[255+g-h]<=e&&U[255+n-m]<=e&&U[255+m-l]<=e&&U[255+l-k]<=e;}function gd(a,b,c,d){var e=2*d+1;for(d=0;16>d;++d){kd(a,b+d,c,e)&&ab(a,b+d,c);}}function hd(a,b,c,d){var e=2*d+1;for(d=0;16>d;++d){kd(a,b+d*c,1,e)&&ab(a,b+d*c,1);}}function bf(a,b,c,d){var e;for(e=3;0<e;--e){b+=4*c,gd(a,b,c,d);}}function cf(a,b,c,d){var e;for(e=3;0<e;--e){b+=4,hd(a,b,c,d);}}function ea(a,b,c,d,e,f,g,h){for(f=2*f+1;0<e--;){if(ld(a,b,c,f,g))if(jd(a,b,c,h))ab(a,b,c);else{var k=a,l=b,m=c,n=k[l-2*m],r=k[l-m],q=k[l+0],t=k[l+m],v=k[l+2*m],p=Qb[1020+3*(q-r)+Qb[1020+n-t]],u=27*p+63>>7,w=18*p+63>>7,p=9*p+63>>7;k[l-3*m]=R[255+k[l-3*m]+p];k[l-2*m]=R[255+n+w];k[l-m]=R[255+r+u];k[l+0]=R[255+q-u];k[l+m]=R[255+t-w];k[l+2*m]=R[255+v-p];}b+=d;}}function Fa(a,b,c,d,e,f,g,h){for(f=2*f+1;0<e--;){if(ld(a,b,c,f,g))if(jd(a,b,c,h))ab(a,b,c);else{var k=a,l=b,m=c,n=k[l-m],r=k[l+0],q=k[l+m],t=3*(r-n),v=mb[112+(t+4>>3)],t=mb[112+(t+3>>3)],p=v+1>>1;k[l-2*m]=R[255+k[l-2*m]+p];k[l-m]=R[255+n+t];k[l+0]=R[255+r-v];k[l+m]=R[255+q-p];}b+=d;}}function Ue(a,b,c,d,e,f){ea(a,b,c,1,16,d,e,f);}function Ve(a,b,c,d,e,f){ea(a,b,1,c,16,d,e,f);}function Ye(a,b,c,d,e,f){var g;for(g=3;0<g;--g){b+=4*c,Fa(a,b,c,1,16,d,e,f);}}function Ze(a,b,c,d,e,f){var g;for(g=3;0<g;--g){b+=4,Fa(a,b,1,c,16,d,e,f);}}function We(a,b,c,d,e,f,g,h){ea(a,b,e,1,8,f,g,h);ea(c,d,e,1,8,f,g,h);}function Xe(a,b,c,d,e,f,g,h){ea(a,b,1,e,8,f,g,h);ea(c,d,1,e,8,f,g,h);}function $e(a,b,c,d,e,f,g,h){Fa(a,b+4*e,e,1,8,f,g,h);Fa(c,d+4*e,e,1,8,f,g,h);}function af(a,b,c,d,e,f,g,h){Fa(a,b+4,1,e,8,f,g,h);Fa(c,d+4,1,e,8,f,g,h);}function Cf(){this.ba=new Cb();this.ec=[];this.cc=[];this.Mc=[];this.Dc=this.Nc=this.dc=this.fc=0;this.Oa=new Ud();this.memory=0;this.Ib="OutputFunc";this.Jb="OutputAlphaFunc";this.Nd="OutputRowFunc";}function md(){this.data=[];this.offset=this.kd=this.ha=this.w=0;this.na=[];this.xa=this.gb=this.Ja=this.Sa=this.P=0;}function Df(){this.nc=this.Ea=this.b=this.hc=0;this.K=[];this.w=0;}function Ef(){this.ua=0;this.Wa=new ac();this.vb=new ac();this.md=this.xc=this.wc=0;this.vc=[];this.Wb=0;this.Ya=new Ub();this.yc=new O();}function je(){this.xb=this.a=0;this.l=new Oa();this.ca=new Cb();this.V=[];this.Ba=0;this.Ta=[];this.Ua=0;this.m=new Ra();this.Pb=0;this.wd=new Ra();this.Ma=this.$=this.C=this.i=this.c=this.xd=0;this.s=new Ef();this.ab=0;this.gc=s(4,Df);this.Oc=0;}function Ff(){this.Lc=this.Z=this.$a=this.i=this.c=0;this.l=new Oa();this.ic=0;this.ca=[];this.tb=0;this.qd=null;this.rd=0;}function Rb(a,b,c,d,e,f,g){a=null==a?0:a[b+0];for(b=0;b<g;++b){e[f+b]=a+c[d+b]&255,a=e[f+b];}}function Gf(a,b,c,d,e,f,g){if(null==a)Rb(null,null,c,d,e,f,g);else{var h;for(h=0;h<g;++h){e[f+h]=a[b+h]+c[d+h]&255;}}}function Hf(a,b,c,d,e,f,g){if(null==a)Rb(null,null,c,d,e,f,g);else{var h=a[b+0],k=h,l=h,m;for(m=0;m<g;++m){h=a[b+m],k=l+h-k,l=c[d+m]+(k&-256?0>k?0:255:k)&255,k=h,e[f+m]=l;}}}function Le(a,b,c,d){var e=b.width,f=b.o;x(null!=a&&null!=b);if(0>c||0>=d||c+d>f)return null;if(!a.Cc){if(null==a.ga){a.ga=new Ff();var g;(g=null==a.ga)||(g=b.width*b.o,x(0==a.Gb.length),a.Gb=V(g),a.Uc=0,null==a.Gb?g=0:(a.mb=a.Gb,a.nb=a.Uc,a.rc=null,g=1),g=!g);if(!g){g=a.ga;var h=a.Fa,k=a.P,l=a.qc,m=a.mb,n=a.nb,r=k+1,q=l-1,t=g.l;x(null!=h&&null!=m&&null!=b);ia[0]=null;ia[1]=Rb;ia[2]=Gf;ia[3]=Hf;g.ca=m;g.tb=n;g.c=b.width;g.i=b.height;x(0<g.c&&0<g.i);if(1>=l)b=0;else if(g.$a=h[k+0]>>0&3,g.Z=h[k+0]>>2&3,g.Lc=h[k+0]>>4&3,k=h[k+0]>>6&3,0>g.$a||1<g.$a||4<=g.Z||1<g.Lc||k)b=0;else if(t.put=kc,t.ac=gc,t.bc=lc,t.ma=g,t.width=b.width,t.height=b.height,t.Da=b.Da,t.v=b.v,t.va=b.va,t.j=b.j,t.o=b.o,g.$a)b:{x(1==g.$a),b=Bc();c:for(;;){if(null==b){b=0;break b;}x(null!=g);g.mc=b;b.c=g.c;b.i=g.i;b.l=g.l;b.l.ma=g;b.l.width=g.c;b.l.height=g.i;b.a=0;cb(b.m,h,r,q);if(!rb(g.c,g.i,1,b,null))break c;1==b.ab&&3==b.gc[0].hc&&yc(b.s)?(g.ic=1,h=b.c*b.i,b.Ta=null,b.Ua=0,b.V=V(h),b.Ba=0,null==b.V?(b.a=1,b=0):b=1):(g.ic=0,b=Ec(b,g.c));if(!b)break c;b=1;break b;}g.mc=null;b=0;}else b=q>=g.c*g.i;g=!b;}if(g)return null;1!=a.ga.Lc?a.Ga=0:d=f-c;}x(null!=a.ga);x(c+d<=f);a:{h=a.ga;b=h.c;f=h.l.o;if(0==h.$a){r=a.rc;q=a.Vc;t=a.Fa;k=a.P+1+c*b;l=a.mb;m=a.nb+c*b;x(k<=a.P+a.qc);if(0!=h.Z)for(x(null!=ia[h.Z]),g=0;g<d;++g){ia[h.Z](r,q,t,k,l,m,b),r=l,q=m,m+=b,k+=b;}else for(g=0;g<d;++g){I(l,m,t,k,b),r=l,q=m,m+=b,k+=b;}a.rc=r;a.Vc=q;}else{x(null!=h.mc);b=c+d;g=h.mc;x(null!=g);x(b<=g.i);if(g.C>=b)b=1;else if(h.ic||Aa(),h.ic){var h=g.V,r=g.Ba,q=g.c,v=g.i,t=1,k=g.$/q,l=g.$%q,m=g.m,n=g.s,p=g.$,u=q*v,w=q*b,y=n.wc,A=p<w?ha(n,l,k):null;x(p<=u);x(b<=v);x(yc(n));c:for(;;){for(;!m.h&&p<w;){l&y||(A=ha(n,l,k));x(null!=A);Sa(m);v=ua(A.G[0],A.H[0],m);if(256>v)h[r+p]=v,++p,++l,l>=q&&(l=0,++k,k<=b&&!(k%16)&&Ib(g,k));else if(280>v){var v=ib(v-256,m);var E=ua(A.G[4],A.H[4],m);Sa(m);E=ib(E,m);E=nc(q,E);if(p>=E&&u-p>=v){var B;for(B=0;B<v;++B){h[r+p+B]=h[r+p+B-E];}}else{t=0;break c;}p+=v;for(l+=v;l>=q;){l-=q,++k,k<=b&&!(k%16)&&Ib(g,k);}p<w&&l&y&&(A=ha(n,l,k));}else{t=0;break c;}x(m.h==db(m));}Ib(g,k>b?b:k);break c;}!t||m.h&&p<u?(t=0,g.a=m.h?5:3):g.$=p;b=t;}else b=Jb(g,g.V,g.Ba,g.c,g.i,b,se);if(!b){d=0;break a;}}c+d>=f&&(a.Cc=1);d=1;}if(!d)return null;if(a.Cc&&(d=a.ga,null!=d&&(d.mc=null),a.ga=null,0<a.Ga))return alert("todo:WebPDequantizeLevels"),null;}return a.nb+c*e;}function If(a,b,c,d,e,f){for(;0<e--;){var g=a,h=b+(c?1:0),k=a,l=b+(c?0:3),m;for(m=0;m<d;++m){var n=k[l+4*m];255!=n&&(n*=32897,g[h+4*m+0]=g[h+4*m+0]*n>>23,g[h+4*m+1]=g[h+4*m+1]*n>>23,g[h+4*m+2]=g[h+4*m+2]*n>>23);}b+=f;}}function Jf(a,b,c,d,e){for(;0<d--;){var f;for(f=0;f<c;++f){var g=a[b+2*f+0],h=a[b+2*f+1],k=h&15,l=4369*k,h=(h&240|h>>4)*l>>16;a[b+2*f+0]=(g&240|g>>4)*l>>16&240|(g&15|g<<4)*l>>16>>4&15;a[b+2*f+1]=h&240|k;}b+=e;}}function Kf(a,b,c,d,e,f,g,h){var k=255,l,m;for(m=0;m<e;++m){for(l=0;l<d;++l){var n=a[b+l];f[g+4*l]=n;k&=n;}b+=c;g+=h;}return 255!=k;}function Lf(a,b,c,d,e){var f;for(f=0;f<e;++f){c[d+f]=a[b+f]>>8;}}function Aa(){za=If;vc=Jf;fc=Kf;Fc=Lf;}function va(a,b,c){a1[a]=function(a,e,f,g,h,k,l,m,n,r,q,t,v,p,u,w,y){var d,E=y-1>>1;var B=h[k+0]|l[m+0]<<16;var C=n[r+0]|q[t+0]<<16;x(null!=a);var z=3*B+C+131074>>2;b(a[e+0],z&255,z>>16,v,p);null!=f&&(z=3*C+B+131074>>2,b(f[g+0],z&255,z>>16,u,w));for(d=1;d<=E;++d){var D=h[k+d]|l[m+d]<<16;var G=n[r+d]|q[t+d]<<16;var F=B+D+C+G+524296;var H=F+2*(D+C)>>3;F=F+2*(B+G)>>3;z=H+B>>1;B=F+D>>1;b(a[e+2*d-1],z&255,z>>16,v,p+(2*d-1)*c);b(a[e+2*d-0],B&255,B>>16,v,p+(2*d-0)*c);null!=f&&(z=F+C>>1,B=H+G>>1,b(f[g+2*d-1],z&255,z>>16,u,w+(2*d-1)*c),b(f[g+2*d+0],B&255,B>>16,u,w+(2*d+0)*c));B=D;C=G;}y&1||(z=3*B+C+131074>>2,b(a[e+y-1],z&255,z>>16,v,p+(y-1)*c),null!=f&&(z=3*C+B+131074>>2,b(f[g+y-1],z&255,z>>16,u,w+(y-1)*c)));};}function ic(){P[Ca]=Mf;P[Ua]=nd;P[tc]=Nf;P[Va]=od;P[ya]=pd;P[Db]=qd;P[wc]=Of;P[zb]=nd;P[Ab]=od;P[Ja]=pd;P[Bb]=qd;}function Sb(a){return a&~Pf?0>a?0:255:a>>rd;}function bb(a,b){return Sb((19077*a>>8)+(26149*b>>8)-14234);}function nb(a,b,c){return Sb((19077*a>>8)-(6419*b>>8)-(13320*c>>8)+8708);}function Pa(a,b){return Sb((19077*a>>8)+(33050*b>>8)-17685);}function Ga(a,b,c,d,e){d[e+0]=bb(a,c);d[e+1]=nb(a,b,c);d[e+2]=Pa(a,b);}function Tb(a,b,c,d,e){d[e+0]=Pa(a,b);d[e+1]=nb(a,b,c);d[e+2]=bb(a,c);}function sd(a,b,c,d,e){var f=nb(a,b,c);b=f<<3&224|Pa(a,b)>>3;d[e+0]=bb(a,c)&248|f>>5;d[e+1]=b;}function td(a,b,c,d,e){var f=Pa(a,b)&240|15;d[e+0]=bb(a,c)&240|nb(a,b,c)>>4;d[e+1]=f;}function ud(a,b,c,d,e){d[e+0]=255;Ga(a,b,c,d,e+1);}function vd(a,b,c,d,e){Tb(a,b,c,d,e);d[e+3]=255;}function wd(a,b,c,d,e){Ga(a,b,c,d,e);d[e+3]=255;}function ga(a,b){return 0>a?0:a>b?b:a;}function la(a,b,c){a1[a]=function(a,e,f,g,h,k,l,m,n){for(var d=m+(n&-2)*c;m!=d;){b(a[e+0],f[g+0],h[k+0],l,m),b(a[e+1],f[g+0],h[k+0],l,m+c),e+=2,++g,++k,m+=2*c;}n&1&&b(a[e+0],f[g+0],h[k+0],l,m);};}function xd(a,b,c){return 0==c?0==a?0==b?6:5:0==b?4:0:c;}function yd(a,b,c,d,e){switch(a>>>30){case 3:Za(b,c,d,e,0);break;case 2:fd(b,c,d,e);break;case 1:pa(b,c,d,e);}}function Oc(a,b){var c,d,e=b.M,f=b.Nb,g=a.oc,h=a.pc+40,k=a.oc,l=a.pc+584,m=a.oc,n=a.pc+600;for(c=0;16>c;++c){g[h+32*c-1]=129;}for(c=0;8>c;++c){k[l+32*c-1]=129,m[n+32*c-1]=129;}0<e?g[h-1-32]=k[l-1-32]=m[n-1-32]=129:(M(g,h-32-1,127,21),M(k,l-32-1,127,9),M(m,n-32-1,127,9));for(d=0;d<a.za;++d){var r=b.ya[b.aa+d];if(0<d){for(c=-1;16>c;++c){I(g,h+32*c-4,g,h+32*c+12,4);}for(c=-1;8>c;++c){I(k,l+32*c-4,k,l+32*c+4,4),I(m,n+32*c-4,m,n+32*c+4,4);}}var q=a.Gd,t=a.Hd+d,v=r.ad,p=r.Hc;0<e&&(I(g,h-32,q[t].y,0,16),I(k,l-32,q[t].f,0,8),I(m,n-32,q[t].ea,0,8));if(r.Za){var u=g;var w=h-32+16;0<e&&(d>=a.za-1?M(u,w,q[t].y[15],4):I(u,w,q[t+1].y,0,4));for(c=0;4>c;c++){u[w+128+c]=u[w+256+c]=u[w+384+c]=u[w+0+c];}for(c=0;16>c;++c,p<<=2){u=g,w=h+zd[c],W[r.Ob[c]](u,w),yd(p,v,16*+c,u,w);}}else if(u=xd(d,e,r.Ob[0]),Y[u](g,h),0!=p)for(c=0;16>c;++c,p<<=2){yd(p,v,16*+c,g,h+zd[c]);}c=r.Gc;u=xd(d,e,r.Dd);ka[u](k,l);ka[u](m,n);r=c>>0;p=v;u=k;w=l;r&255&&(r&170?Nb(p,256,u,w):Ob(p,256,u,w));c>>=8;r=m;p=n;c&255&&(c&170?Nb(v,320,r,p):Ob(v,320,r,p));e<a.Ub-1&&(I(q[t].y,0,g,h+480,16),I(q[t].f,0,k,l+224,8),I(q[t].ea,0,m,n+224,8));c=8*f*a.B;q=a.sa;t=a.ta+16*d+16*f*a.R;v=a.qa;r=a.ra+8*d+c;p=a.Ha;u=a.Ia+8*d+c;for(c=0;16>c;++c){I(q,t+c*a.R,g,h+32*c,16);}for(c=0;8>c;++c){I(v,r+c*a.B,k,l+32*c,8),I(p,u+c*a.B,m,n+32*c,8);}}}function Ad(a,b,c,d,e,f,g,h,k){var l=[0],m=[0],n=0,r=null!=k?k.kd:0,q=null!=k?k:new md();if(null==a||12>c)return 7;q.data=a;q.w=b;q.ha=c;b=[b];c=[c];q.gb=[q.gb];a:{var t=b;var v=c;var p=q.gb;x(null!=a);x(null!=v);x(null!=p);p[0]=0;if(12<=v[0]&&!o(a,t[0],"RIFF")){if(o(a,t[0]+8,"WEBP")){p=3;break a;}var u=Ha(a,t[0]+4);if(12>u||4294967286<u){p=3;break a;}if(r&&u>v[0]-8){p=7;break a;}p[0]=u;t[0]+=12;v[0]-=12;}p=0;}if(0!=p)return p;u=0<q.gb[0];for(c=c[0];;){t=[0];n=[n];a:{var w=a;v=b;p=c;var y=n,A=l,z=m,B=t;y[0]=0;if(8>p[0])p=7;else{if(!o(w,v[0],"VP8X")){if(10!=Ha(w,v[0]+4)){p=3;break a;}if(18>p[0]){p=7;break a;}var C=Ha(w,v[0]+8);var D=1+Yb(w,v[0]+12);w=1+Yb(w,v[0]+15);if(2147483648<=D*w){p=3;break a;}null!=B&&(B[0]=C);null!=A&&(A[0]=D);null!=z&&(z[0]=w);v[0]+=18;p[0]-=18;y[0]=1;}p=0;}}n=n[0];t=t[0];if(0!=p)return p;v=!!(t&2);if(!u&&n)return 3;null!=f&&(f[0]=!!(t&16));null!=g&&(g[0]=v);null!=h&&(h[0]=0);g=l[0];t=m[0];if(n&&v&&null==k){p=0;break;}if(4>c){p=7;break;}if(u&&n||!u&&!n&&!o(a,b[0],"ALPH")){c=[c];q.na=[q.na];q.P=[q.P];q.Sa=[q.Sa];a:{C=a;p=b;u=c;var y=q.gb,A=q.na,z=q.P,B=q.Sa;D=22;x(null!=C);x(null!=u);w=p[0];var F=u[0];x(null!=A);x(null!=B);A[0]=null;z[0]=null;for(B[0]=0;;){p[0]=w;u[0]=F;if(8>F){p=7;break a;}var G=Ha(C,w+4);if(4294967286<G){p=3;break a;}var H=8+G+1&-2;D+=H;if(0<y&&D>y){p=3;break a;}if(!o(C,w,"VP8 ")||!o(C,w,"VP8L")){p=0;break a;}if(F[0]<H){p=7;break a;}o(C,w,"ALPH")||(A[0]=C,z[0]=w+8,B[0]=G);w+=H;F-=H;}}c=c[0];q.na=q.na[0];q.P=q.P[0];q.Sa=q.Sa[0];if(0!=p)break;}c=[c];q.Ja=[q.Ja];q.xa=[q.xa];a:if(y=a,p=b,u=c,A=q.gb[0],z=q.Ja,B=q.xa,C=p[0],w=!o(y,C,"VP8 "),D=!o(y,C,"VP8L"),x(null!=y),x(null!=u),x(null!=z),x(null!=B),8>u[0])p=7;else{if(w||D){y=Ha(y,C+4);if(12<=A&&y>A-12){p=3;break a;}if(r&&y>u[0]-8){p=7;break a;}z[0]=y;p[0]+=8;u[0]-=8;B[0]=D;}else B[0]=5<=u[0]&&47==y[C+0]&&!(y[C+4]>>5),z[0]=u[0];p=0;}c=c[0];q.Ja=q.Ja[0];q.xa=q.xa[0];b=b[0];if(0!=p)break;if(4294967286<q.Ja)return 3;null==h||v||(h[0]=q.xa?2:1);g=[g];t=[t];if(q.xa){if(5>c){p=7;break;}h=g;r=t;v=f;null==a||5>c?a=0:5<=c&&47==a[b+0]&&!(a[b+4]>>5)?(u=[0],y=[0],A=[0],z=new Ra(),cb(z,a,b,c),mc(z,u,y,A)?(null!=h&&(h[0]=u[0]),null!=r&&(r[0]=y[0]),null!=v&&(v[0]=A[0]),a=1):a=0):a=0;}else{if(10>c){p=7;break;}h=t;null==a||10>c||!Jc(a,b+3,c-3)?a=0:(r=a[b+0]|a[b+1]<<8|a[b+2]<<16,v=(a[b+7]<<8|a[b+6])&16383,a=(a[b+9]<<8|a[b+8])&16383,r&1||3<(r>>1&7)||!(r>>4&1)||r>>5>=q.Ja||!v||!a?a=0:(g&&(g[0]=v),h&&(h[0]=a),a=1));}if(!a)return 3;g=g[0];t=t[0];if(n&&(l[0]!=g||m[0]!=t))return 3;null!=k&&(k[0]=q,k.offset=b-k.w,x(4294967286>b-k.w),x(k.offset==k.ha-c));break;}return 0==p||7==p&&n&&null==k?(null!=f&&(f[0]|=null!=q.na&&0<q.na.length),null!=d&&(d[0]=g),null!=e&&(e[0]=t),0):p;}function hc(a,b,c){var d=b.width,e=b.height,f=0,g=0,h=d,k=e;b.Da=null!=a&&0<a.Da;if(b.Da&&(h=a.cd,k=a.bd,f=a.v,g=a.j,11>c||(f&=-2,g&=-2),0>f||0>g||0>=h||0>=k||f+h>d||g+k>e))return 0;b.v=f;b.j=g;b.va=f+h;b.o=g+k;b.U=h;b.T=k;b.da=null!=a&&0<a.da;if(b.da){c=[a.ib];f=[a.hb];if(!bc(h,k,c,f))return 0;b.ib=c[0];b.hb=f[0];}b.ob=null!=a&&a.ob;b.Kb=null==a||!a.Sd;b.da&&(b.ob=b.ib<3*d/4&&b.hb<3*e/4,b.Kb=0);return 1;}function Bd(a){if(null==a)return 2;if(11>a.S){var b=a.f.RGBA;b.fb+=(a.height-1)*b.A;b.A=-b.A;}else b=a.f.kb,a=a.height,b.O+=(a-1)*b.fa,b.fa=-b.fa,b.N+=(a-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(a-1>>1)*b.Db,b.Db=-b.Db,null!=b.F&&(b.J+=(a-1)*b.lb,b.lb=-b.lb);return 0;}function Cd(a,b,c,d){if(null==d||0>=a||0>=b)return 2;if(null!=c){if(c.Da){var e=c.cd,f=c.bd,g=c.v&-2,h=c.j&-2;if(0>g||0>h||0>=e||0>=f||g+e>a||h+f>b)return 2;a=e;b=f;}if(c.da){e=[c.ib];f=[c.hb];if(!bc(a,b,e,f))return 2;a=e[0];b=f[0];}}d.width=a;d.height=b;a:{var k=d.width;var l=d.height;a=d.S;if(0>=k||0>=l||!(a>=Ca&&13>a))a=2;else{if(0>=d.Rd&&null==d.sd){var g=f=e=b=0,h=k*Dd[a],m=h*l;11>a||(b=(k+1)/2,f=(l+1)/2*b,12==a&&(e=k,g=e*l));l=V(m+2*f+g);if(null==l){a=1;break a;}d.sd=l;11>a?(k=d.f.RGBA,k.eb=l,k.fb=0,k.A=h,k.size=m):(k=d.f.kb,k.y=l,k.O=0,k.fa=h,k.Fd=m,k.f=l,k.N=0+m,k.Ab=b,k.Cd=f,k.ea=l,k.W=0+m+f,k.Db=b,k.Ed=f,12==a&&(k.F=l,k.J=0+m+2*f),k.Tc=g,k.lb=e);}b=1;e=d.S;f=d.width;g=d.height;if(e>=Ca&&13>e){if(11>e)a=d.f.RGBA,h=Math.abs(a.A),b&=h*(g-1)+f<=a.size,b&=h>=f*Dd[e],b&=null!=a.eb;else{a=d.f.kb;h=(f+1)/2;m=(g+1)/2;k=Math.abs(a.fa);var l=Math.abs(a.Ab),n=Math.abs(a.Db),r=Math.abs(a.lb),q=r*(g-1)+f;b&=k*(g-1)+f<=a.Fd;b&=l*(m-1)+h<=a.Cd;b&=n*(m-1)+h<=a.Ed;b=b&k>=f&l>=h&n>=h;b&=null!=a.y;b&=null!=a.f;b&=null!=a.ea;12==e&&(b&=r>=f,b&=q<=a.Tc,b&=null!=a.F);}}else b=0;a=b?0:2;}}if(0!=a)return a;null!=c&&c.fd&&(a=Bd(d));return a;}var xb=64,Hd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gd=24,ob=32,Xb=8,Id=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];X("Predictor0","PredictorAdd0");a1.Predictor0=function(){return 4278190080;};a1.Predictor1=function(a){return a;};a1.Predictor2=function(a,b,c){return b[c+0];};a1.Predictor3=function(a,b,c){return b[c+1];};a1.Predictor4=function(a,b,c){return b[c-1];};a1.Predictor5=function(a,b,c){return aa(aa(a,b[c+1]),b[c+0]);};a1.Predictor6=function(a,b,c){return aa(a,b[c-1]);};a1.Predictor7=function(a,b,c){return aa(a,b[c+0]);};a1.Predictor8=function(a,b,c){return aa(b[c-1],b[c+0]);};a1.Predictor9=function(a,b,c){return aa(b[c+0],b[c+1]);};a1.Predictor10=function(a,b,c){return aa(aa(a,b[c-1]),aa(b[c+0],b[c+1]));};a1.Predictor11=function(a,b,c){var d=b[c+0];b=b[c-1];return 0>=Ia(d>>24&255,a>>24&255,b>>24&255)+Ia(d>>16&255,a>>16&255,b>>16&255)+Ia(d>>8&255,a>>8&255,b>>8&255)+Ia(d&255,a&255,b&255)?d:a;};a1.Predictor12=function(a,b,c){var d=b[c+0];b=b[c-1];return(sa((a>>24&255)+(d>>24&255)-(b>>24&255))<<24|sa((a>>16&255)+(d>>16&255)-(b>>16&255))<<16|sa((a>>8&255)+(d>>8&255)-(b>>8&255))<<8|sa((a&255)+(d&255)-(b&255)))>>>0;};a1.Predictor13=function(a,b,c){var d=b[c-1];a=aa(a,b[c+0]);return(eb(a>>24&255,d>>24&255)<<24|eb(a>>16&255,d>>16&255)<<16|eb(a>>8&255,d>>8&255)<<8|eb(a>>0&255,d>>0&255))>>>0;};var ee=a1.PredictorAdd0;a1.PredictorAdd1=cc;X("Predictor2","PredictorAdd2");X("Predictor3","PredictorAdd3");X("Predictor4","PredictorAdd4");X("Predictor5","PredictorAdd5");X("Predictor6","PredictorAdd6");X("Predictor7","PredictorAdd7");X("Predictor8","PredictorAdd8");X("Predictor9","PredictorAdd9");X("Predictor10","PredictorAdd10");X("Predictor11","PredictorAdd11");X("Predictor12","PredictorAdd12");X("Predictor13","PredictorAdd13");var fe=a1.PredictorAdd2;ec("ColorIndexInverseTransform","MapARGB","32b",function(a){return a>>8&255;},function(a){return a;});ec("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(a){return a;},function(a){return a>>8&255;});var rc=a1.ColorIndexInverseTransform,ke=a1.MapARGB,he=a1.VP8LColorIndexInverseTransformAlpha,le=a1.MapAlpha,pc,qc=a1.VP8LPredictorsAdd=[];qc.length=16;(a1.VP8LPredictors=[]).length=16;(a1.VP8LPredictorsAdd_C=[]).length=16;(a1.VP8LPredictors_C=[]).length=16;var Fb,sc,Gb,Hb,xc,uc,bd=V(511),cd=V(2041),dd=V(225),ed=V(767),ad=0,Qb=cd,mb=dd,R=ed,U=bd,Ca=0,Ua=1,tc=2,Va=3,ya=4,Db=5,wc=6,zb=7,Ab=8,Ja=9,Bb=10,pe=[2,3,7],oe=[3,3,11],Dc=[280,256,256,256,40],qe=[0,1,1,1,0],ne=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],de=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],me=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ie=8,Lb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],oa=null,He=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ie=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Mc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ke=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ee=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ge=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Nc,Y=[],W=[],ka=[],Za,fd,Nb,pa,Ob,Xc,Tc,Yc,Uc,Zc,Vc,$c,Wc,Rc,Pc,Sc,Qc,re=1,Cc=2,ia=[],za,vc,fc,Fc,P=[];va("UpsampleRgbLinePair",Ga,3);va("UpsampleBgrLinePair",Tb,3);va("UpsampleRgbaLinePair",wd,4);va("UpsampleBgraLinePair",vd,4);va("UpsampleArgbLinePair",ud,4);va("UpsampleRgba4444LinePair",td,2);va("UpsampleRgb565LinePair",sd,2);var Mf=a1.UpsampleRgbLinePair,Nf=a1.UpsampleBgrLinePair,nd=a1.UpsampleRgbaLinePair,od=a1.UpsampleBgraLinePair,pd=a1.UpsampleArgbLinePair,qd=a1.UpsampleRgba4444LinePair,Of=a1.UpsampleRgb565LinePair,Wa=16,Ba=1<<Wa-1,ta=-227,Eb=482,rd=6,Pf=(256<<rd)-1,jc=0,Yd=V(256),ae=V(256),$d=V(256),Zd=V(256),be=V(Eb-ta),ce=V(Eb-ta);la("YuvToRgbRow",Ga,3);la("YuvToBgrRow",Tb,3);la("YuvToRgbaRow",wd,4);la("YuvToBgraRow",vd,4);la("YuvToArgbRow",ud,4);la("YuvToRgba4444Row",td,2);la("YuvToRgb565Row",sd,2);var zd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ya=[0,2,8],Qf=[8,7,6,4,4,2,2,2,1,1,1,1],Ne=1;this.WebPDecodeRGBA=function(a,b,c,d,e){var f=Ua;var g=new Cf(),h=new Cb();g.ba=h;h.S=f;h.width=[h.width];h.height=[h.height];var k=h.width;var l=h.height,m=new Td();if(null==m||null==a)var n=2;else x(null!=m),n=Ad(a,b,c,m.width,m.height,m.Pd,m.Qd,m.format,null);0!=n?k=0:(null!=k&&(k[0]=m.width[0]),null!=l&&(l[0]=m.height[0]),k=1);if(k){h.width=h.width[0];h.height=h.height[0];null!=d&&(d[0]=h.width);null!=e&&(e[0]=h.height);b:{d=new Oa();e=new md();e.data=a;e.w=b;e.ha=c;e.kd=1;b=[0];x(null!=e);a=Ad(e.data,e.w,e.ha,null,null,null,b,null,e);(0==a||7==a)&&b[0]&&(a=4);b=a;if(0==b){x(null!=g);d.data=e.data;d.w=e.w+e.offset;d.ha=e.ha-e.offset;d.put=kc;d.ac=gc;d.bc=lc;d.ma=g;if(e.xa){a=Bc();if(null==a){g=1;break b;}if(te(a,d)){b=Cd(d.width,d.height,g.Oa,g.ba);if(d=0==b){c:{d=a;d:for(;;){if(null==d){d=0;break c;}x(null!=d.s.yc);x(null!=d.s.Ya);x(0<d.s.Wb);c=d.l;x(null!=c);e=c.ma;x(null!=e);if(0!=d.xb){d.ca=e.ba;d.tb=e.tb;x(null!=d.ca);if(!hc(e.Oa,c,Va)){d.a=2;break d;}if(!Ec(d,c.width))break d;if(c.da)break d;(c.da||hb(d.ca.S))&&Aa();11>d.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=d.ca.f.kb.F&&Aa());if(d.Pb&&0<d.s.ua&&null==d.s.vb.X&&!Zb(d.s.vb,d.s.Wa.Xa)){d.a=1;break d;}d.xb=0;}if(!Jb(d,d.V,d.Ba,d.c,d.i,c.o,ge))break d;e.Dc=d.Ma;d=1;break c;}x(0!=d.a);d=0;}d=!d;}d&&(b=a.a);}else b=a.a;}else{a=new Ce();if(null==a){g=1;break b;}a.Fa=e.na;a.P=e.P;a.qc=e.Sa;if(Kc(a,d)){if(b=Cd(d.width,d.height,g.Oa,g.ba),0==b){a.Aa=0;c=g.Oa;e=a;x(null!=e);if(null!=c){k=c.Md;k=0>k?0:100<k?255:255*k/100;if(0<k){for(l=m=0;4>l;++l){n=e.pb[l],12>n.lc&&(n.ia=k*Qf[0>n.lc?0:n.lc]>>3),m|=n.ia;}m&&(alert("todo:VP8InitRandom"),e.ia=1);}e.Ga=c.Id;100<e.Ga?e.Ga=100:0>e.Ga&&(e.Ga=0);}Me(a,d)||(b=a.a);}}else b=a.a;}0==b&&null!=g.Oa&&g.Oa.fd&&(b=Bd(g.ba));}g=b;}f=0!=g?null:11>f?h.f.RGBA.eb:h.f.kb.y;}else f=null;return f;};var Dd=[3,4,3,4,4,2,2,4,4,4,2,1,1];};new c1();
/** @license
     * Copyright (c) 2017 Dominik Homberger
    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    https://webpjs.appspot.com
    WebPRiffParser dominikhlbg@gmail.com
    */
function d1(d,a,b,c){for(var i=0;i<c;i++){if(d[a+i]!=b.charCodeAt(i))return true;}return false;}function i1(d,a){var b="";for(var i=0;i<4;i++){b+=String.fromCharCode(d[a++]);}return b;}function m1(d,a){return d[a+0]<<0|d[a+1]<<8;}function q1(d,a){return(d[a+0]<<0|d[a+1]<<8|d[a+2]<<16)>>>0;}function w1(d,a){return(d[a+0]<<0|d[a+1]<<8|d[a+2]<<16|d[a+3]<<24)>>>0;}function x1(a,b){var b2={};var i=0;var c=false;var d=0;var g=0;b2["frames"]=[];if(d1(a,b,"RIFF",4))return;b+=4;var r=w1(a,b)+8;b+=8;while(b<a.length){var h=i1(a,b);b+=4;var p=w1(a,b);b+=4;var k=p+(p&1);switch(h){case"VP8 ":case"VP8L":if(typeof b2["frames"][i]==="undefined")b2["frames"][i]={};var l=b2["frames"][i];var y1=[0];var z1=[0];l["src_off"]=c?g:b-8;l["src_size"]=d+p+8;i++;if(c){c=false;d=0;g=0;}break;case"VP8X":var l=b2["header"]={};var m=l["feature_flags"]=a[b];var n=b+4;var q=l["canvas_width"]=1+q1(a,n);n+=3;var t=l["canvas_height"]=1+q1(a,n);n+=3;break;case"ALPH":c=true;d=k+8;g=b-8;break;case"ANIM":var l=b2["header"];var u=l["bgcolor"]=w1(a,b);n=b+4;var v=l["loop_count"]=m1(a,n);n+=2;break;case"ANMF":var w=0,y=0,z1=0,y1=0,z=0,A=0,B=0,C=0;var l=b2["frames"][i]={};l["offset_x"]=w=2*q1(a,b);b+=3;l["offset_y"]=y=2*q1(a,b);b+=3;l["width"]=z1=1+q1(a,b);b+=3;l["height"]=y1=1+q1(a,b);b+=3;l["duration"]=z=q1(a,b);b+=3;C=a[b++];l["dispose"]=B=C&1;l["blend"]=A=C>>1&1;break;}if(h!="ANMF")b+=k;}return b2;}var y1=[0];var z1=[0];var $1=[];var _1=new c1();var a2=j;var b2=x1(a2,0);b2["response"]=a2;b2["rgbaoutput"]=true;b2["dataurl"]=false;var d2=b2["header"]?b2["header"]:null;var i2=b2["frames"]?b2["frames"]:null;if(d2){d2["loop_counter"]=d2["loop_count"];y1=[d2["canvas_height"]];z1=[d2["canvas_width"]];for(var f=0;f<i2.length;f++){if(i2[f]["blend"]==0){break;}}}var k2=i2[0];var m2=_1.WebPDecodeRGBA(a2,k2["src_off"],k2["src_size"],z1,y1);k2["rgba"]=m2;k2["imgwidth"]=z1[0];k2["imgheight"]=y1[0];for(var i=0;i<z1[0]*y1[0]*4;i++){$1[i]=m2[i];}this.width=z1;this.height=y1;this.data=$1;return this;}J4.prototype.getData=function(){return this.data;};
/**
   * @license
   * Copyright (c) 2019 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){W1.processWEBP=function(a,b,c,d){var r=new J4(a,false);var w=r.width,h=r.height;var q=100;var p=r.getData();var f={data:p,width:w,height:h};var g=new H4(q);var j=g.encode(f,q);return W1.processJPEG.call(this,j,b,c,d);};})(V1.API);
/**
   * @license
   *
   * Copyright (c) 2021 Antti Palola, https://github.com/Pantura
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
(function(W1){W1.processRGBA=function(a,c,d){var f=a.data;var l=f.length;var h=new Uint8Array(l/4*3);var j=new Uint8Array(l/4);var o=0;var k=0;for(var i=0;i<l;i+=4){var r=f[i];var g=f[i+1];var b=f[i+2];var m=f[i+3];h[o++]=r;h[o++]=g;h[o++]=b;j[k++]=m;}var n=this.__addimage__.arrayBufferToBinaryString(h);var p=this.__addimage__.arrayBufferToBinaryString(j);return{alpha:p,data:n,index:c,alias:d,colorSpace:"DeviceRGB",bitsPerComponent:8,width:a.width,height:a.height};};})(V1.API);
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){W1.setLanguage=function(l){var a={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"};if(this.internal.languageSettings===undefined){this.internal.languageSettings={};this.internal.languageSettings.isSubscribed=false;}if(a[l]!==undefined){this.internal.languageSettings.languageCode=l;if(this.internal.languageSettings.isSubscribed===false){this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")");});this.internal.languageSettings.isSubscribed=true;}}return this;};})(V1.API);(function(A){var g=A.getCharWidthsArray=function(t,o){o=o||{};var c=o.font||this.internal.getFont();var f=o.fontSize||this.internal.getFontSize();var d=o.charSpace||this.internal.getCharSpace();var w=o.widths?o.widths:c.metadata.Unicode.widths;var h=w.fof?w.fof:1;var k=o.kerning?o.kerning:c.metadata.Unicode.kerning;var j=k.fof?k.fof:1;var l=o.doKerning===false?false:true;var m=0;var i;var n=t.length;var p;var q=0;var r=w[0]||h;var u=[];for(i=0;i<n;i++){p=t.charCodeAt(i);if(typeof c.metadata.widthOfString==="function"){u.push((c.metadata.widthOfGlyph(c.metadata.characterToGlyph(p))+d*(1000/f)||0)/1000);}else{if(l&&_(k[p])==="object"&&!isNaN(parseInt(k[p][q],10))){m=k[p][q]/j;}else{m=0;}u.push((w[p]||r)/h+m);}q=p;}return u;};var a=A.getStringUnitWidth=function(t,o){o=o||{};var f=o.fontSize||this.internal.getFontSize();var c=o.font||this.internal.getFont();var d=o.charSpace||this.internal.getCharSpace();var r=0;if(A.processArabic){t=A.processArabic(t);}if(typeof c.metadata.widthOfString==="function"){r=c.metadata.widthOfString(t,f,d)/f;}else{r=g.apply(this,arguments).reduce(function(p,h){return p+h;},0);}return r;};var s=function s(w,c,f,m){var d=[];var i=0,l=w.length,h=0;while(i!==l&&h+c[i]<f){h+=c[i];i++;}d.push(w.slice(0,i));var j=i;h=0;while(i!==l){if(h+c[i]>m){d.push(w.slice(j,i));h=0;j=i;}h+=c[i];i++;}if(j!==i){d.push(w.slice(j,i));}return d;};var b=function b(t,m,o){if(!o){o={};}var c=[],d=[c],f=o.textIndent||0,h=0,j=0,w,k,n=t.split(" "),p=g.apply(this,[" ",o])[0],i,l,q,r;if(o.lineIndent===-1){r=n[0].length+2;}else{r=o.lineIndent||0;}if(r){var u=Array(r).join(" "),v=[];n.map(function(B){B=B.split(/\s*\n/);if(B.length>1){v=v.concat(B.map(function(B,C){return(C&&B.length?"\n":"")+B;}));}else{v.push(B[0]);}});n=v;r=a.apply(this,[u,o]);}for(i=0,l=n.length;i<l;i++){var y=0;w=n[i];if(r&&w[0]=="\n"){w=w.substr(1);y=1;}k=g.apply(this,[w,o]);j=k.reduce(function(B,C){return B+C;},0);if(f+h+j>m||y){if(j>m){q=s.apply(this,[w,k,m-(f+h),m]);c.push(q.shift());c=[q.pop()];while(q.length){d.push([q.shift()]);}j=k.slice(w.length-(c[0]?c[0].length:0)).reduce(function(B,C){return B+C;},0);}else{c=[w];}d.push(c);f=j+r;h=p;}else{c.push(w);f+=h+j;h=p;}}var z;if(r){z=function z(B,C){return(C?u:"")+B.join(" ");};}else{z=function z(B){return B.join(" ");};}return d.map(z);};A.splitTextToSize=function(t,m,o){o=o||{};var c=o.fontSize||this.internal.getFontSize(),n=function(o){var w={0:1},k={};if(!o.widths||!o.kerning){var f=this.internal.getFont(o.fontName,o.fontStyle),j="Unicode";if(f.metadata[j]){return{widths:f.metadata[j].widths||w,kerning:f.metadata[j].kerning||k};}else{return{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()};}}else{return{widths:o.widths,kerning:o.kerning};}}.call(this,o);var p;if(Array.isArray(t)){p=t;}else{p=String(t).split(/\r?\n/);}var d=1.0*this.internal.scaleFactor*m/c;n.textIndent=o.textIndent?o.textIndent*1.0*this.internal.scaleFactor/c:0;n.lineIndent=o.lineIndent;var i,l,h=[];for(i=0,l=p.length;i<l;i++){h=h.concat(b.apply(this,[p[i],d,n]));}return h;};})(V1.API);
/**
   * This file adds the standard font metrics to jsPDF.
   *
   * Font metrics data is reprocessed derivative of contents of
   * "Font Metrics for PDF Core 14 Fonts" package, which exhibits the following copyright and license:
   *
   * Copyright (c) 1989, 1990, 1991, 1992, 1993, 1997 Adobe Systems Incorporated. All Rights Reserved.
   *
   * This file and the 14 PostScript(R) AFM files it accompanies may be used,
   * copied, and distributed for any purpose and without charge, with or without
   * modification, provided that all copyright notices are retained; that the AFM
   * files are not distributed without this file; that all modifications to this
   * file or any of the AFM files are prominently noted in the modified file(s);
   * and that this paragraph is not modified. Adobe Systems has no responsibility
   * or obligation to support the use of the AFM files.
   *
   * @name standard_fonts_metrics
   * @module
   */
(function(A){A.__fontmetrics__=A.__fontmetrics__||{};var d="0123456789abcdef",a="klmnopqrstuvwxyz",m={},b={};for(var i=0;i<a.length;i++){m[a[i]]=d[i];b[d[i]]=a[i];}var E1=function E1(v){return"0x"+parseInt(v,10).toString(16);};var c=A.__fontmetrics__.compress=function(j){var v=["{"];var k,l,n,o;for(var p in j){k=j[p];if(!isNaN(parseInt(p,10))){p=parseInt(p,10);l=E1(p).slice(2);l=l.slice(0,-1)+b[l.slice(-1)];}else{l="'"+p+"'";}if(typeof k=="number"){if(k<0){n=E1(k).slice(3);o="-";}else{n=E1(k).slice(2);o="";}n=o+n.slice(0,-1)+b[n.slice(-1)];}else{if(_(k)==="object"){n=c(k);}else{throw new Error("Don't know what to do with value type "+_(k)+".");}}v.push(l+n);}v.push("}");return v.join("");};var u=A.__fontmetrics__.uncompress=function(j){if(typeof j!=="string"){throw new Error("Invalid argument passed to uncompress.");}var o={},s=1,k,l=o,p=[],n,q="",v="",r,t=j.length-1,w;for(var i=1;i<t;i+=1){w=j[i];if(w=="'"){if(k){r=k.join("");k=undefined;}else{k=[];}}else if(k){k.push(w);}else if(w=="{"){p.push([l,r]);l={};r=undefined;}else if(w=="}"){n=p.pop();n[0][n[1]]=l;r=undefined;l=n[0];}else if(w=="-"){s=-1;}else{if(r===undefined){if(m.hasOwnProperty(w)){q+=m[w];r=parseInt(q,16)*s;s=+1;q="";}else{q+=w;}}else{if(m.hasOwnProperty(w)){v+=m[w];l[r]=parseInt(v,16)*s;s=+1;r=undefined;v="";}else{v+=w;}}}}return o;};var f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")};var g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}};var h={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};A.events.push(["addFont",function(j){var k=j.font;var l=h["Unicode"][k.postScriptName];if(l){k.metadata["Unicode"]={};k.metadata["Unicode"].widths=l.widths;k.metadata["Unicode"].kerning=l.kerning;}var f=g["Unicode"][k.postScriptName];if(f){k.metadata["Unicode"].encoding=f;k.encoding=f.codePages[0];}}]);})(V1.API);
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(V1){var b=function b(c){var l=c.length;var d=new Uint8Array(l);for(var i=0;i<l;i++){d[i]=c.charCodeAt(i);}return d;};var a=function a(f,c){if(/^\x00\x01\x00\x00/.test(c)){c=b(c);}else{c=b(s1(c));}f.metadata=V1.API.TTFFont.open(c);f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]};f.metadata.glyIdsUsed=[0];};V1.API.events.push(["addFont",function(d){var f=undefined;var c=d.font;var g=d.instance;if(c.isStandardFont){return;}if(typeof g!=="undefined"){if(g.existsFileInVFS(c.postScriptName)===false){f=g.loadFile(c.postScriptName);}else{f=g.getFileFromVFS(c.postScriptName);}if(typeof f!=="string"){throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");}a(c,f);}else{throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");}}]);})(V1);(function(W1){function l(){return function(){if(e1["canvg"]){return Promise.resolve(e1["canvg"]);}if((typeof $==="undefined"?"undefined":_($))==="object"&&typeof module!=="undefined"){return new Promise(function(r,a){try{r(require("canvg"));}catch(e){a(e);}});}if(typeof define==="function"&&define.amd){return new Promise(function(r,a){try{require(["canvg"],r);}catch(e){a(e);}});}return Promise.reject(new Error("Could not load canvg"));}().catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e));}).then(function(c){return c.default?c.default:c;});}W1.addSvgAsImage=function(s,x,y,w,h,a,c,r){if(isNaN(x)||isNaN(y)){j1.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments);throw new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");}if(isNaN(w)||isNaN(h)){j1.error("jsPDF.addSvgAsImage: Invalid measurements",arguments);throw new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");}var b=document.createElement("canvas");b.width=w;b.height=h;var d=b.getContext("2d");d.fillStyle="#fff";d.fillRect(0,0,b.width,b.height);var o={ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true};var f=this;return l().then(function(g){return g.fromString(d,s,o);},function(){return Promise.reject(new Error("Could not load canvg."));}).then(function(g){return g.render(o);}).then(function(){f.addImage(b.toDataURL("image/jpeg",1.0),x,y,w,h,c,r);});};})(V1.API);
/**
   * @license
   * ====================================================================
   * Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
(function(W1){W1.putTotalPages=function(p){var r;var t=0;if(parseInt(this.internal.getFont().id.substr(1),10)<15){r=new RegExp(p,"g");t=this.internal.getNumberOfPages();}else{r=new RegExp(this.pdfEscape16(p,this.internal.getFont()),"g");t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont());}for(var n=1;n<=this.internal.getNumberOfPages();n++){for(var i=0;i<this.internal.pages[n].length;i++){this.internal.pages[n][i]=this.internal.pages[n][i].replace(r,t);}}return this;};})(V1.API);(function(W1){W1.viewerPreferences=function(o,d){o=o||{};d=d||false;var c;var a={HideToolbar:{defaultValue:false,value:false,type:"boolean",explicitSet:false,valueSet:[true,false],pdfVersion:1.3},HideMenubar:{defaultValue:false,value:false,type:"boolean",explicitSet:false,valueSet:[true,false],pdfVersion:1.3},HideWindowUI:{defaultValue:false,value:false,type:"boolean",explicitSet:false,valueSet:[true,false],pdfVersion:1.3},FitWindow:{defaultValue:false,value:false,type:"boolean",explicitSet:false,valueSet:[true,false],pdfVersion:1.3},CenterWindow:{defaultValue:false,value:false,type:"boolean",explicitSet:false,valueSet:[true,false],pdfVersion:1.3},DisplayDocTitle:{defaultValue:false,value:false,type:"boolean",explicitSet:false,valueSet:[true,false],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:false,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:false,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:false,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:false,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:false,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:false,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:false,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:false,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:false,value:false,type:"boolean",explicitSet:false,valueSet:[true,false],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:false,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:false,valueSet:null,pdfVersion:1.7}};var b=Object.keys(a);var r=[];var i=0;var j=0;var k=0;var f;var m;var v;function g(h,n){var p;var q=false;for(p=0;p<h.length;p+=1){if(h[p]===n){q=true;}}return q;}if(this.internal.viewerpreferences===undefined){this.internal.viewerpreferences={};this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a));this.internal.viewerpreferences.isSubscribed=false;}c=this.internal.viewerpreferences.configuration;if(o==="reset"||d===true){var l=b.length;for(k=0;k<l;k+=1){c[b[k]].value=c[b[k]].defaultValue;c[b[k]].explicitSet=false;}}if(_(o)==="object"){for(m in o){v=o[m];if(g(b,m)&&v!==undefined){if(c[m].type==="boolean"&&typeof v==="boolean"){c[m].value=v;}else if(c[m].type==="name"&&g(c[m].valueSet,v)){c[m].value=v;}else if(c[m].type==="integer"&&Number.isInteger(v)){c[m].value=v;}else if(c[m].type==="array"){for(i=0;i<v.length;i+=1){f=true;if(v[i].length===1&&typeof v[i][0]==="number"){r.push(String(v[i]-1));}else if(v[i].length>1){for(j=0;j<v[i].length;j+=1){if(typeof v[i][j]!=="number"){f=false;}}if(f===true){r.push([v[i][0]-1,v[i][1]-1].join(" "));}}}c[m].value="["+r.join(" ")+"]";}else{c[m].value=c[m].defaultValue;}c[m].explicitSet=true;}}}if(this.internal.viewerpreferences.isSubscribed===false){this.internal.events.subscribe("putCatalog",function(){var p=[];var P;for(P in c){if(c[P].explicitSet===true){if(c[P].type==="name"){p.push("/"+P+" /"+c[P].value);}else{p.push("/"+P+" "+c[P].value);}}}if(p.length!==0){this.internal.write("/ViewerPreferences\n<<\n"+p.join("\n")+"\n>>");}});this.internal.viewerpreferences.isSubscribed=true;}this.internal.viewerpreferences.configuration=c;return this;};})(V1.API);
/** ====================================================================
   * @license
   * jsPDF XMP metadata plugin
   * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
(function(W1){var p=function p(){var b='<x:xmpmeta xmlns:x="adobe:ns:meta/">';var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>';var c="</jspdf:metadata></rdf:Description></rdf:RDF>";var d="</x:xmpmeta>";var u=unescape(encodeURIComponent(b));var f=unescape(encodeURIComponent(r));var g=unescape(encodeURIComponent(this.internal.__metadata__.metadata));var h=unescape(encodeURIComponent(c));var j=unescape(encodeURIComponent(d));var t=f.length+g.length+h.length+u.length+j.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject();this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t+" >>");this.internal.write("stream");this.internal.write(u+f+g+h+j);this.internal.write("endstream");this.internal.write("endobj");};var a=function a(){if(this.internal.__metadata__.metadata_object_number){this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R");}};W1.addMetadata=function(m,n){if(typeof this.internal.__metadata__==="undefined"){this.internal.__metadata__={metadata:m,namespaceuri:n||"http://jspdf.default.namespaceuri/"};this.internal.events.subscribe("putCatalog",a);this.internal.events.subscribe("postPutResources",p);}return this;};})(V1.API);(function(V1){var W1=V1.API;var p=W1.pdfEscape16=function(a,b){var g=b.metadata.Unicode.widths;var h=["","0","00","000","0000"];var j=[""];for(var i=0,l=a.length,t;i<l;++i){t=b.metadata.characterToGlyph(a.charCodeAt(i));b.metadata.glyIdsUsed.push(t);b.metadata.toUnicode[t]=a.charCodeAt(i);if(g.indexOf(t)==-1){g.push(t);g.push([parseInt(b.metadata.widthOfGlyph(t),10)]);}if(t=="0"){return j.join("");}else{t=t.toString(16);j.push(h[4-t.length],t);}}return j.join("");};var c=function c(m){var g,h,r,j,k,l,n;k="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange";h=Object.keys(m).sort(function(a,b){return a-b;});r=[];for(l=0,n=h.length;l<n;l++){g=h[l];if(r.length>=100){k+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar";r=[];}if(m[g]!==undefined&&m[g]!==null&&typeof m[g].toString==="function"){j=("0000"+m[g].toString(16)).slice(-4);g=("0000"+(+g).toString(16)).slice(-4);r.push("<"+g+"><"+j+">");}}if(r.length){k+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n";}k+="endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend";return k;};var d=function d(o){var a=o.font;var b=o.out;var n=o.newObject;var g=o.putStream;if(a.metadata instanceof V1.API.TTFFont&&a.encoding==="Identity-H"){var h=a.metadata.Unicode.widths;var j=a.metadata.subset.encode(a.metadata.glyIdsUsed,1);var k=j;var l="";for(var i=0;i<k.length;i++){l+=String.fromCharCode(k[i]);}var m=n();g({data:l,addLength1:true,objectId:m});b("endobj");var q=n();var r=c(a.metadata.toUnicode);g({data:r,addLength1:true,objectId:q});b("endobj");var s=n();b("<<");b("/Type /FontDescriptor");b("/FontName /"+P1(a.fontName));b("/FontFile2 "+m+" 0 R");b("/FontBBox "+V1.API.PDFObject.convert(a.metadata.bbox));b("/Flags "+a.metadata.flags);b("/StemV "+a.metadata.stemV);b("/ItalicAngle "+a.metadata.italicAngle);b("/Ascent "+a.metadata.ascender);b("/Descent "+a.metadata.decender);b("/CapHeight "+a.metadata.capHeight);b(">>");b("endobj");var D=n();b("<<");b("/Type /Font");b("/BaseFont /"+P1(a.fontName));b("/FontDescriptor "+s+" 0 R");b("/W "+V1.API.PDFObject.convert(h));b("/CIDToGIDMap /Identity");b("/DW 1000");b("/Subtype /CIDFontType2");b("/CIDSystemInfo");b("<<");b("/Supplement 0");b("/Registry (Adobe)");b("/Ordering ("+a.encoding+")");b(">>");b(">>");b("endobj");a.objectNumber=n();b("<<");b("/Type /Font");b("/Subtype /Type0");b("/ToUnicode "+q+" 0 R");b("/BaseFont /"+P1(a.fontName));b("/Encoding /"+a.encoding);b("/DescendantFonts ["+D+" 0 R]");b(">>");b("endobj");a.isAlreadyPutted=true;}};W1.events.push(["putFont",function(a){d(a);}]);var w=function w(o){var a=o.font;var b=o.out;var n=o.newObject;var g=o.putStream;if(a.metadata instanceof V1.API.TTFFont&&a.encoding==="WinAnsiEncoding"){var h=a.metadata.rawData;var k=h;var l="";for(var i=0;i<k.length;i++){l+=String.fromCharCode(k[i]);}var m=n();g({data:l,addLength1:true,objectId:m});b("endobj");var q=n();var r=c(a.metadata.toUnicode);g({data:r,addLength1:true,objectId:q});b("endobj");var s=n();b("<<");b("/Descent "+a.metadata.decender);b("/CapHeight "+a.metadata.capHeight);b("/StemV "+a.metadata.stemV);b("/Type /FontDescriptor");b("/FontFile2 "+m+" 0 R");b("/Flags 96");b("/FontBBox "+V1.API.PDFObject.convert(a.metadata.bbox));b("/FontName /"+P1(a.fontName));b("/ItalicAngle "+a.metadata.italicAngle);b("/Ascent "+a.metadata.ascender);b(">>");b("endobj");a.objectNumber=n();for(var j=0;j<a.metadata.hmtx.widths.length;j++){a.metadata.hmtx.widths[j]=parseInt(a.metadata.hmtx.widths[j]*(1000/a.metadata.head.unitsPerEm));}b("<</Subtype/TrueType/Type/Font/ToUnicode "+q+" 0 R/BaseFont/"+P1(a.fontName)+"/FontDescriptor "+s+" 0 R"+"/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+V1.API.PDFObject.convert(a.metadata.hmtx.widths)+">>");b("endobj");a.isAlreadyPutted=true;}};W1.events.push(["putFont",function(a){w(a);}]);var u=function u(a){var t=a.text||"";var x=a.x;var y=a.y;var o=a.options||{};var m=a.mutex||{};var Y1=m.pdfEscape;var b=m.activeFontKey;var g=m.fonts;var k=b;var h="",s=0,j;var l="";var n=g[k].encoding;if(g[k].encoding!=="Identity-H"){return{text:t,x:x,y:y,options:o,mutex:m};}l=t;k=b;if(Array.isArray(t)){l=t[0];}for(s=0;s<l.length;s+=1){if(g[k].metadata.hasOwnProperty("cmap")){j=g[k].metadata.cmap.unicode.codeMap[l[s].charCodeAt(0)];}if(!j){if(l[s].charCodeAt(0)<256&&g[k].metadata.hasOwnProperty("Unicode")){h+=l[s];}else{h+="";}}else{h+=l[s];}}var r="";if(parseInt(k.slice(1))<14||n==="WinAnsiEncoding"){r=Y1(h,k).split("").map(function(q){return q.charCodeAt(0).toString(16);}).join("");}else if(n==="Identity-H"){r=p(h,g[k]);}m.isHex=true;return{text:r,x:x,y:y,options:o,mutex:m};};var f=function f(a){var t=a.text||"",x=a.x,y=a.y,o=a.options,m=a.mutex;var b=[];var g={text:t,x:x,y:y,options:o,mutex:m};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1){if(Array.isArray(t[i])){if(t[i].length===3){b.push([u(Object.assign({},g,{text:t[i][0]})).text,t[i][1],t[i][2]]);}else{b.push(u(Object.assign({},g,{text:t[i]})).text);}}else{b.push(u(Object.assign({},g,{text:t[i]})).text);}}a.text=b;}else{a.text=u(Object.assign({},g,{text:t})).text;}};W1.events.push(["postProcessText",f]);})(V1);
/**
   * @license
   * jsPDF virtual FileSystem functionality
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(function(W1){var a=function a(){if(typeof this.internal.vFS==="undefined"){this.internal.vFS={};}return true;};W1.existsFileInVFS=function(f){a.call(this);return typeof this.internal.vFS[f]!=="undefined";};W1.addFileToVFS=function(f,b){a.call(this);this.internal.vFS[f]=b;return this;};W1.getFileFromVFS=function(f){a.call(this);if(typeof this.internal.vFS[f]!=="undefined"){return this.internal.vFS[f];}return null;};})(V1.API);
/**
   * @license
   * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
   * MIT License
   */
(function(V1){var b=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"];V1.__bidiEngine__=V1.prototype.__bidiEngine__=function(o){var g=a;var h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,0x11,2,0,1],[0,3,5,5,4,1,0],[0,3,0x15,0x15,4,0,1],[0,3,5,5,4,2,0]];var k=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,0x21,3,1,1]];var l={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6};var m={0:0,5:1,6:2,7:3,0x20:4,0xfb:5,0xfe:6,0xff:7};var n=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"];var p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/);var q=false,r,s,D=0,t=1,u,v,w,y,z,A=D;this.__bidiEngine__={};var B=function B(c,j){if(j){for(var i=0;i<c.length;i++){j[i]=i;}}if(v===undefined){v=E(c);}if(y===undefined){y=E(c);}};var C=function C(c){var j=c.charCodeAt(),M=j>>8,N=m[M];if(N!==undefined){return g[N*256+(j&0xff)];}else if(M===0xfc||M===0xfd){return"AL";}else if(p.test(M)){return"L";}else if(M===8){return"R";}return"N";};var E=function E(c){for(var i=0,j;i<c.length;i++){j=C(c.charAt(i));if(j==="L"){return false;}else if(j==="R"){return true;}}return false;};var F=function F(j,M,N,O){var P=M[O],Q,R,i,S;switch(P){case"L":case"R":q=false;break;case"N":case"AN":break;case"EN":if(q){P="AN";}break;case"AL":q=true;P="R";break;case"WS":P="N";break;case"CS":if(O<1||O+1>=M.length||(Q=N[O-1])!=="EN"&&Q!=="AN"||(R=M[O+1])!=="EN"&&R!=="AN"){P="N";}else if(q){R="AN";}P=R===Q?R:"N";break;case"ES":Q=O>0?N[O-1]:"B";P=Q==="EN"&&O+1<M.length&&M[O+1]==="EN"?"EN":"N";break;case"ET":if(O>0&&N[O-1]==="EN"){P="EN";break;}else if(q){P="N";break;}i=O+1;S=M.length;while(i<S&&M[i]==="ET"){i++;}if(i<S&&M[i]==="EN"){P="EN";}else{P="N";}break;case"NSM":if(u&&!v){S=M.length;i=O+1;while(i<S&&M[i]==="NSM"){i++;}if(i<S){var c=j[O];var T=c>=0x0591&&c<=0x08ff||c===0xfb1e;Q=M[i];if(T&&(Q==="R"||Q==="AL")){P="R";break;}}}if(O<1||(Q=M[O-1])==="B"){P="N";}else{P=N[O-1];}break;case"B":q=false;r=true;P=A;break;case"S":s=true;P="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":q=false;break;case"BN":P="N";break;}return P;};var G=function G(c,M,N){for(var i=0;i<N;i++){if(c[i]==="S"){M[i]=A;for(var j=i-1;j>=0;j--){if(c[j]==="WS"){M[j]=A;}else{break;}}}}};var H=function H(c,j,M){var N=c.split("");if(M){I(N,M,{hiLevel:A});}N.reverse();j&&j.reverse();return N.join("");};var I=function I(c,j,M){var N,O,i,P,Q,R,S=-1,T=c.length,U=0,V=[],W=A?k:h,X=[];q=false;r=false;s=false;for(i=0;i<T;i++){X[i]=C(c[i]);}for(P=0;P<T;P++){R=U;V[P]=F(c,X,V,P);U=W[R][l[V[P]]];N=U&0xf0;U&=0x0f;j[P]=Q=W[U][5];if(N>0){if(N===0x10){for(i=S;i<P;i++){j[i]=1;}S=-1;}else{S=-1;}}O=W[U][6];if(O){if(S===-1){S=P;}}else{if(S>-1){for(i=S;i<P;i++){j[i]=Q;}S=-1;}}if(X[P]==="B"){j[P]=0;}M.hiLevel|=Q;}if(s){G(X,j,T);}};var J=function J(c,j,M,N,O){if(O.hiLevel<c){return;}if(c===1&&A===t&&!r){j.reverse();M&&M.reverse();return;}var P,Q,R,S,T=j.length,U=0;while(U<T){if(N[U]>=c){R=U+1;while(R<T&&N[R]>=c){R++;}for(S=U,Q=R-1;S<Q;S++,Q--){P=j[S];j[S]=j[Q];j[Q]=P;if(M){P=M[S];M[S]=M[Q];M[Q]=P;}}U=R;}U++;}};var K=function K(c,j,M){if(M.hiLevel!==0&&z){for(var i=0,N;i<c.length;i++){if(j[i]===1){N=n.indexOf(c[i]);if(N>=0){c[i]=n[N+1];}}}}};var L=function L(c,j,M){var N=c.split(""),O={hiLevel:A};if(!M){M=[];}I(N,M,O);K(N,M,O);J(t+1,N,j,M,O);J(t,N,j,M,O);return N.join("");};this.__bidiEngine__.doBidiReorder=function(c,j,M){B(c,j);if(!u&&w&&!y){A=v?t:D;c=L(c,j,M);}else if(u&&w&&v^y){A=v?t:D;c=H(c,j,M);}else if(!u&&w&&y){A=v?t:D;c=L(c,j,M);c=H(c,j);}else if(u&&!v&&!w&&!y){A=D;c=L(c,j,M);}else if(u&&!w&&v^y){c=H(c,j);if(v){A=D;c=L(c,j,M);}else{A=t;c=L(c,j,M);c=H(c,j);}}else if(u&&v&&!w&&y){A=t;c=L(c,j,M);c=H(c,j);}else if(!u&&!w&&v^y){var N=z;if(v){A=t;c=L(c,j,M);A=D;z=false;c=L(c,j,M);z=N;}else{A=D;c=L(c,j,M);c=H(c,j);A=t;z=false;c=L(c,j,M);z=N;c=H(c,j);}}return c;};this.__bidiEngine__.setOptions=function(o){if(o){u=o.isInputVisual;w=o.isOutputVisual;v=o.isInputRtl;y=o.isOutputRtl;z=o.isSymmetricSwapping;}};this.__bidiEngine__.setOptions(o);return this.__bidiEngine__;};var a=b;var d=new V1.__bidiEngine__({isInputVisual:true});var f=function f(c){var t=c.text;var x=c.x;var y=c.y;var o=c.options||{};var m=c.mutex||{};var l=o.lang;var g=[];o.isInputVisual=typeof o.isInputVisual==="boolean"?o.isInputVisual:true;d.setOptions(o);if(Object.prototype.toString.call(t)==="[object Array]"){var i=0;g=[];for(i=0;i<t.length;i+=1){if(Object.prototype.toString.call(t[i])==="[object Array]"){g.push([d.doBidiReorder(t[i][0]),t[i][1],t[i][2]]);}else{g.push([d.doBidiReorder(t[i])]);}}c.text=g;}else{c.text=d.doBidiReorder(t);}d.setOptions({isInputVisual:true});};V1.API.events.push(["postProcessText",f]);})(V1);V1.API.TTFFont=function(){T.open=function(f){return new T(f);};function T(r){var d;this.rawData=r;d=this.contents=new K4(r);this.contents.pos=4;if(d.readString(4)==="ttcf"){throw new Error("TTCF not supported.");}else{d.pos=0;this.parse();this.subset=new g5(this);this.registerTTF();}}T.prototype.parse=function(){this.directory=new L4(this.contents);this.head=new P4(this);this.name=new W4(this);this.cmap=new R4(this);this.toUnicode={};this.hhea=new S4(this);this.maxp=new X4(this);this.hmtx=new Y4(this);this.post=new U4(this);this.os2=new T4(this);this.loca=new c5(this);this.glyf=new $4(this);this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender;this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender;this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap;return this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax];};T.prototype.registerTTF=function(){var e,h,l,r,a;this.scaleFactor=1000.0/this.head.unitsPerEm;this.bbox=function(){var b,c,a,d;a=this.bbox;d=[];for(b=0,c=a.length;b<c;b++){e=a[b];d.push(Math.round(e*this.scaleFactor));}return d;}.call(this);this.stemV=0;if(this.post.exists){r=this.post.italic_angle;h=r>>16;l=r&0xff;if((h&0x8000)!==0){h=-((h^0xffff)+1);}this.italicAngle=+(""+h+"."+l);}else{this.italicAngle=0;}this.ascender=Math.round(this.ascender*this.scaleFactor);this.decender=Math.round(this.decender*this.scaleFactor);this.lineGap=Math.round(this.lineGap*this.scaleFactor);this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender;this.xHeight=this.os2.exists&&this.os2.xHeight||0;this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8;this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7;this.isScript=this.familyClass===10;this.flags=0;if(this.post.isFixedPitch){this.flags|=1<<0;}if(this.isSerif){this.flags|=1<<1;}if(this.isScript){this.flags|=1<<3;}if(this.italicAngle!==0){this.flags|=1<<6;}this.flags|=1<<5;if(!this.cmap.unicode){throw new Error("No unicode cmap for font");}};T.prototype.characterToGlyph=function(c){var a;return((a=this.cmap.unicode)!=null?a.codeMap[c]:void 0)||0;};T.prototype.widthOfGlyph=function(g){var e2;e2=1000.0/this.head.unitsPerEm;return this.hmtx.forGlyph(g).advance*e2;};T.prototype.widthOfString=function(s,a,c){var b,i,e2,w,d;s=""+s;w=0;for(i=0,d=s.length;0<=d?i<d:i>d;i=0<=d?++i:--i){b=s.charCodeAt(i);w+=this.widthOfGlyph(this.characterToGlyph(b))+c*(1000/a)||0;}e2=a/1000;return w*e2;};T.prototype.lineHeight=function(s,a){var g;if(a==null){a=false;}g=a?this.lineGap:0;return(this.ascender+g-this.decender)/1000*s;};return T;}();var K4=function(){function K4(d){this.data=d!=null?d:[];this.pos=0;this.length=this.data.length;}K4.prototype.readByte=function(){return this.data[this.pos++];};K4.prototype.writeByte=function(b){return this.data[this.pos++]=b;};K4.prototype.readUInt32=function(){var b,a,c,d;b=this.readByte()*0x1000000;a=this.readByte()<<16;c=this.readByte()<<8;d=this.readByte();return b+a+c+d;};K4.prototype.writeUInt32=function(v){this.writeByte(v>>>24&0xff);this.writeByte(v>>16&0xff);this.writeByte(v>>8&0xff);return this.writeByte(v&0xff);};K4.prototype.readInt32=function(){var a;a=this.readUInt32();if(a>=0x80000000){return a-0x100000000;}else{return a;}};K4.prototype.writeInt32=function(v){if(v<0){v+=0x100000000;}return this.writeUInt32(v);};K4.prototype.readUInt16=function(){var b,a;b=this.readByte()<<8;a=this.readByte();return b|a;};K4.prototype.writeUInt16=function(v){this.writeByte(v>>8&0xff);return this.writeByte(v&0xff);};K4.prototype.readInt16=function(){var a;a=this.readUInt16();if(a>=0x8000){return a-0x10000;}else{return a;}};K4.prototype.writeInt16=function(v){if(v<0){v+=0x10000;}return this.writeUInt16(v);};K4.prototype.readString=function(l){var i,r;r=[];for(i=0;0<=l?i<l:i>l;i=0<=l?++i:--i){r[i]=String.fromCharCode(this.readByte());}return r.join("");};K4.prototype.writeString=function(v){var i,a,b;b=[];for(i=0,a=v.length;0<=a?i<a:i>a;i=0<=a?++i:--i){b.push(this.writeByte(v.charCodeAt(i)));}return b;};K4.prototype.readShort=function(){return this.readInt16();};K4.prototype.writeShort=function(v){return this.writeInt16(v);};K4.prototype.readLongLong=function(){var b,a,c,d,f,g,h,j;b=this.readByte();a=this.readByte();c=this.readByte();d=this.readByte();f=this.readByte();g=this.readByte();h=this.readByte();j=this.readByte();if(b&0x80){return((b^0xff)*0x100000000000000+(a^0xff)*0x1000000000000+(c^0xff)*0x10000000000+(d^0xff)*0x100000000+(f^0xff)*0x1000000+(g^0xff)*0x10000+(h^0xff)*0x100+(j^0xff)+1)*-1;}return b*0x100000000000000+a*0x1000000000000+c*0x10000000000+d*0x100000000+f*0x1000000+g*0x10000+h*0x100+j;};K4.prototype.writeLongLong=function(v){var h,l;h=Math.floor(v/0x100000000);l=v&0xffffffff;this.writeByte(h>>24&0xff);this.writeByte(h>>16&0xff);this.writeByte(h>>8&0xff);this.writeByte(h&0xff);this.writeByte(l>>24&0xff);this.writeByte(l>>16&0xff);this.writeByte(l>>8&0xff);return this.writeByte(l&0xff);};K4.prototype.readInt=function(){return this.readInt32();};K4.prototype.writeInt=function(v){return this.writeInt32(v);};K4.prototype.read=function(b){var a,i;a=[];for(i=0;0<=b?i<b:i>b;i=0<=b?++i:--i){a.push(this.readByte());}return a;};K4.prototype.write=function(b){var a,i,c,d;d=[];for(i=0,c=b.length;i<c;i++){a=b[i];d.push(this.writeByte(a));}return d;};return K4;}();var L4=function(){var c;function L4(d){var a,i,b;this.scalarType=d.readInt();this.tableCount=d.readShort();this.searchRange=d.readShort();this.entrySelector=d.readShort();this.rangeShift=d.readShort();this.tables={};for(i=0,b=this.tableCount;0<=b?i<b:i>b;i=0<=b?++i:--i){a={tag:d.readString(4),checksum:d.readInt(),offset:d.readInt(),length:d.readInt()};this.tables[a.tag]=a;}}L4.prototype.encode=function(t){var a,d,b,f,h,l,o,r,s,g,j,k,m,n;k=Object.keys(t).length;l=Math.log(2);s=Math.floor(Math.log(k)/l)*16;f=Math.floor(s/l);r=k*16-s;d=new K4();d.writeInt(this.scalarType);d.writeShort(k);d.writeShort(s);d.writeShort(f);d.writeShort(r);b=k*16;o=d.pos+b;h=null;m=[];for(n in t){j=t[n];d.writeString(n);d.writeInt(c(j));d.writeInt(o);d.writeInt(j.length);m=m.concat(j);if(n==="head"){h=o;}o+=j.length;while(o%4){m.push(0);o++;}}d.write(m);g=c(d.data);a=0xb1b0afba-g;d.pos=h+8;d.writeUInt32(a);return d.data;};c=function c(d){var i,s,t,a;d=Z4.call(d);while(d.length%4){d.push(0);}t=new K4(d);s=0;for(i=0,a=d.length;i<a;i=i+=4){s+=t.readUInt32();}return s&0xffffffff;};return L4;}();var M4,N4={}.hasOwnProperty,O4=function O4(c,p){for(var k in p){if(N4.call(p,k))c[k]=p[k];}function a(){this.constructor=c;}a.prototype=p.prototype;c.prototype=new a();c.__super__=p.prototype;return c;};M4=function(){function M4(f){var a;this.file=f;a=this.file.directory.tables[this.tag];this.exists=!!a;if(a){this.offset=a.offset,this.length=a.length;this.parse(this.file.contents);}}M4.prototype.parse=function(){};M4.prototype.encode=function(){};M4.prototype.raw=function(){if(!this.exists){return null;}this.file.contents.pos=this.offset;return this.file.contents.read(this.length);};return M4;}();var P4=function(a){O4(P4,a);function P4(){return P4.__super__.constructor.apply(this,arguments);}P4.prototype.tag="head";P4.prototype.parse=function(d){d.pos=this.offset;this.version=d.readInt();this.revision=d.readInt();this.checkSumAdjustment=d.readInt();this.magicNumber=d.readInt();this.flags=d.readShort();this.unitsPerEm=d.readShort();this.created=d.readLongLong();this.modified=d.readLongLong();this.xMin=d.readShort();this.yMin=d.readShort();this.xMax=d.readShort();this.yMax=d.readShort();this.macStyle=d.readShort();this.lowestRecPPEM=d.readShort();this.fontDirectionHint=d.readShort();this.indexToLocFormat=d.readShort();return this.glyphDataFormat=d.readShort();};P4.prototype.encode=function(b){var t;t=new K4();t.writeInt(this.version);t.writeInt(this.revision);t.writeInt(this.checkSumAdjustment);t.writeInt(this.magicNumber);t.writeShort(this.flags);t.writeShort(this.unitsPerEm);t.writeLongLong(this.created);t.writeLongLong(this.modified);t.writeShort(this.xMin);t.writeShort(this.yMin);t.writeShort(this.xMax);t.writeShort(this.yMax);t.writeShort(this.macStyle);t.writeShort(this.lowestRecPPEM);t.writeShort(this.fontDirectionHint);t.writeShort(b);t.writeShort(this.glyphDataFormat);return t.data;};return P4;}(M4);var Q4=function(){function Q4(d,o){var c,a,b,g,f,i,h,j,k,s,l,m,n,p,t,q,r,u;this.platformID=d.readUInt16();this.encodingID=d.readShort();this.offset=o+d.readInt();s=d.pos;d.pos=this.offset;this.format=d.readUInt16();this.length=d.readUInt16();this.language=d.readUInt16();this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4;this.codeMap={};switch(this.format){case 0:for(i=0;i<256;++i){this.codeMap[i]=d.readByte();}break;case 4:m=d.readUInt16();l=m/2;d.pos+=6;b=function(){var q,v;v=[];for(i=q=0;0<=l?q<l:q>l;i=0<=l?++q:--q){v.push(d.readUInt16());}return v;}();d.pos+=2;p=function(){var q,v;v=[];for(i=q=0;0<=l?q<l:q>l;i=0<=l?++q:--q){v.push(d.readUInt16());}return v;}();h=function(){var q,v;v=[];for(i=q=0;0<=l?q<l:q>l;i=0<=l?++q:--q){v.push(d.readUInt16());}return v;}();j=function(){var q,v;v=[];for(i=q=0;0<=l?q<l:q>l;i=0<=l?++q:--q){v.push(d.readUInt16());}return v;}();a=(this.length-d.pos+this.offset)/2;f=function(){var q,v;v=[];for(i=q=0;0<=a?q<a:q>a;i=0<=a?++q:--q){v.push(d.readUInt16());}return v;}();for(i=q=0,u=b.length;q<u;i=++q){t=b[i];n=p[i];for(c=r=n;n<=t?r<=t:r>=t;c=n<=t?++r:--r){if(j[i]===0){g=c+h[i];}else{k=j[i]/2+(c-n)-(l-i);g=f[k]||0;if(g!==0){g+=h[i];}}this.codeMap[c]=g&0xffff;}}}d.pos=s;}Q4.encode=function(c,d){var f,g,h,j,k,l,m,n,o,p,q,i,r,s,t,u,v,w,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z;H=new K4();j=Object.keys(c).sort(function(a,b){return a-b;});switch(d){case"macroman":r=0;s=function(){var a=[];for(i=0;i<256;++i){a.push(0);}return a;}();u={0:0};h={};for(I=0,M=j.length;I<M;I++){g=j[I];if(u[W=c[g]]==null){u[W]=++r;}h[g]={old:c[g],new:u[c[g]]};s[g]=u[c[g]];}H.writeUInt16(1);H.writeUInt16(0);H.writeUInt32(12);H.writeUInt16(0);H.writeUInt16(262);H.writeUInt16(0);H.write(s);return{charMap:h,subtable:H.data,maxGlyphID:r+1};case"unicode":F=[];o=[];v=0;u={};f={};t=m=null;for(J=0,N=j.length;J<N;J++){g=j[J];y=c[g];if(u[y]==null){u[y]=++v;}f[g]={old:y,new:u[y]};k=u[y]-g;if(t==null||k!==m){if(t){o.push(t);}F.push(g);m=k;}t=g;}if(t){o.push(t);}o.push(0xffff);F.push(0xffff);C=F.length;D=C*2;B=2*Math.pow(Math.log(C)/Math.LN2,2);p=Math.log(B/2)/Math.LN2;A=2*C-B;l=[];z=[];q=[];for(i=K=0,O=F.length;K<O;i=++K){E=F[i];n=o[i];if(E===0xffff){l.push(0);z.push(0);break;}G=f[E]["new"];if(E-G>=0x8000){l.push(0);z.push(2*(q.length+C-i));for(g=L=E;E<=n?L<=n:L>=n;g=E<=n?++L:--L){q.push(f[g]["new"]);}}else{l.push(G-E);z.push(0);}}H.writeUInt16(3);H.writeUInt16(1);H.writeUInt32(12);H.writeUInt16(4);H.writeUInt16(16+C*8+q.length*2);H.writeUInt16(0);H.writeUInt16(D);H.writeUInt16(B);H.writeUInt16(p);H.writeUInt16(A);for(U=0,P=o.length;U<P;U++){g=o[U];H.writeUInt16(g);}H.writeUInt16(0);for(V=0,Q=F.length;V<Q;V++){g=F[V];H.writeUInt16(g);}for(X=0,R=l.length;X<R;X++){k=l[X];H.writeUInt16(k);}for(Y=0,S=z.length;Y<S;Y++){w=z[Y];H.writeUInt16(w);}for(Z=0,T=q.length;Z<T;Z++){r=q[Z];H.writeUInt16(r);}return{charMap:f,subtable:H.data,maxGlyphID:v+1};}};return Q4;}();var R4=function(a){O4(R4,a);function R4(){return R4.__super__.constructor.apply(this,arguments);}R4.prototype.tag="cmap";R4.prototype.parse=function(d){var b,i,t;d.pos=this.offset;this.version=d.readUInt16();t=d.readUInt16();this.tables=[];this.unicode=null;for(i=0;0<=t?i<t:i>t;i=0<=t?++i:--i){b=new Q4(d,this.offset);this.tables.push(b);if(b.isUnicode){if(this.unicode==null){this.unicode=b;}}}return true;};R4.encode=function(c,b){var r,t;if(b==null){b="macroman";}r=Q4.encode(c,b);t=new K4();t.writeUInt16(0);t.writeUInt16(1);r.table=t.data.concat(r.subtable);return r;};return R4;}(M4);var S4=function(a){O4(S4,a);function S4(){return S4.__super__.constructor.apply(this,arguments);}S4.prototype.tag="hhea";S4.prototype.parse=function(d){d.pos=this.offset;this.version=d.readInt();this.ascender=d.readShort();this.decender=d.readShort();this.lineGap=d.readShort();this.advanceWidthMax=d.readShort();this.minLeftSideBearing=d.readShort();this.minRightSideBearing=d.readShort();this.xMaxExtent=d.readShort();this.caretSlopeRise=d.readShort();this.caretSlopeRun=d.readShort();this.caretOffset=d.readShort();d.pos+=4*2;this.metricDataFormat=d.readShort();return this.numberOfMetrics=d.readUInt16();};return S4;}(M4);var T4=function(a){O4(T4,a);function T4(){return T4.__super__.constructor.apply(this,arguments);}T4.prototype.tag="OS/2";T4.prototype.parse=function(d){d.pos=this.offset;this.version=d.readUInt16();this.averageCharWidth=d.readShort();this.weightClass=d.readUInt16();this.widthClass=d.readUInt16();this.type=d.readShort();this.ySubscriptXSize=d.readShort();this.ySubscriptYSize=d.readShort();this.ySubscriptXOffset=d.readShort();this.ySubscriptYOffset=d.readShort();this.ySuperscriptXSize=d.readShort();this.ySuperscriptYSize=d.readShort();this.ySuperscriptXOffset=d.readShort();this.ySuperscriptYOffset=d.readShort();this.yStrikeoutSize=d.readShort();this.yStrikeoutPosition=d.readShort();this.familyClass=d.readShort();this.panose=function(){var i,b;b=[];for(i=0;i<10;++i){b.push(d.readByte());}return b;}();this.charRange=function(){var i,b;b=[];for(i=0;i<4;++i){b.push(d.readInt());}return b;}();this.vendorID=d.readString(4);this.selection=d.readShort();this.firstCharIndex=d.readShort();this.lastCharIndex=d.readShort();if(this.version>0){this.ascent=d.readShort();this.descent=d.readShort();this.lineGap=d.readShort();this.winAscent=d.readShort();this.winDescent=d.readShort();this.codePageRange=function(){var i,b;b=[];for(i=0;i<2;i=++i){b.push(d.readInt());}return b;}();if(this.version>1){this.xHeight=d.readShort();this.capHeight=d.readShort();this.defaultChar=d.readShort();this.breakChar=d.readShort();return this.maxContext=d.readShort();}}};return T4;}(M4);var U4=function(a){O4(U4,a);function U4(){return U4.__super__.constructor.apply(this,arguments);}U4.prototype.tag="post";U4.prototype.parse=function(d){var l,n,b;d.pos=this.offset;this.format=d.readInt();this.italicAngle=d.readInt();this.underlinePosition=d.readShort();this.underlineThickness=d.readShort();this.isFixedPitch=d.readInt();this.minMemType42=d.readInt();this.maxMemType42=d.readInt();this.minMemType1=d.readInt();this.maxMemType1=d.readInt();switch(this.format){case 0x00010000:break;case 0x00020000:n=d.readUInt16();this.glyphNameIndex=[];var i;for(i=0;0<=n?i<n:i>n;i=0<=n?++i:--i){this.glyphNameIndex.push(d.readUInt16());}this.names=[];b=[];while(d.pos<this.offset+this.length){l=d.readByte();b.push(this.names.push(d.readString(l)));}return b;case 0x00025000:n=d.readUInt16();return this.offsets=d.read(n);case 0x00030000:break;case 0x00040000:return this.map=function(){var c,f,g;g=[];for(i=c=0,f=this.file.maxp.numGlyphs;0<=f?c<f:c>f;i=0<=f?++c:--c){g.push(d.readUInt32());}return g;}.call(this);}};return U4;}(M4);
/* comment : Store copyright information, platformID, encodingID, and languageID in the NameEntry object.*/
var V4=function(){function V4(r,a){this.raw=r;this.length=r.length;this.platformID=a.platformID;this.encodingID=a.encodingID;this.languageID=a.languageID;}return V4;}();var W4=function(a){O4(W4,a);function W4(){return W4.__super__.constructor.apply(this,arguments);}W4.prototype.tag="name";W4.prototype.parse=function(d){var c,b,f,i,n,s,g,t,h,j,k;d.pos=this.offset;d.readShort();c=d.readShort();s=d.readShort();b=[];for(i=0;0<=c?i<c:i>c;i=0<=c?++i:--i){b.push({platformID:d.readShort(),encodingID:d.readShort(),languageID:d.readShort(),nameID:d.readShort(),length:d.readShort(),offset:this.offset+s+d.readShort()});}g={};for(i=h=0,j=b.length;h<j;i=++h){f=b[i];d.pos=f.offset;t=d.readString(f.length);n=new V4(t,f);if(g[k=f.nameID]==null){g[k]=[];}g[f.nameID].push(n);}this.strings=g;this.copyright=g[0];this.fontFamily=g[1];this.fontSubfamily=g[2];this.uniqueSubfamily=g[3];this.fontName=g[4];this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"");}catch(e){this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"");}this.trademark=g[7];this.manufacturer=g[8];this.designer=g[9];this.description=g[10];this.vendorUrl=g[11];this.designerUrl=g[12];this.license=g[13];this.licenseUrl=g[14];this.preferredFamily=g[15];this.preferredSubfamily=g[17];this.compatibleFull=g[18];return this.sampleText=g[19];};return W4;}(M4);var X4=function(a){O4(X4,a);function X4(){return X4.__super__.constructor.apply(this,arguments);}X4.prototype.tag="maxp";X4.prototype.parse=function(d){d.pos=this.offset;this.version=d.readInt();this.numGlyphs=d.readUInt16();this.maxPoints=d.readUInt16();this.maxContours=d.readUInt16();this.maxCompositePoints=d.readUInt16();this.maxComponentContours=d.readUInt16();this.maxZones=d.readUInt16();this.maxTwilightPoints=d.readUInt16();this.maxStorage=d.readUInt16();this.maxFunctionDefs=d.readUInt16();this.maxInstructionDefs=d.readUInt16();this.maxStackElements=d.readUInt16();this.maxSizeOfInstructions=d.readUInt16();this.maxComponentElements=d.readUInt16();return this.maxComponentDepth=d.readUInt16();};return X4;}(M4);var Y4=function(a){O4(Y4,a);function Y4(){return Y4.__super__.constructor.apply(this,arguments);}Y4.prototype.tag="hmtx";Y4.prototype.parse=function(d){var i,l,b,m,c,f,g;d.pos=this.offset;this.metrics=[];for(i=0,f=this.file.hhea.numberOfMetrics;0<=f?i<f:i>f;i=0<=f?++i:--i){this.metrics.push({advance:d.readUInt16(),lsb:d.readInt16()});}b=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics;this.leftSideBearings=function(){var c,g;g=[];for(i=c=0;0<=b?c<b:c>b;i=0<=b?++c:--c){g.push(d.readInt16());}return g;}();this.widths=function(){var c,h,j,g;j=this.metrics;g=[];for(c=0,h=j.length;c<h;c++){m=j[c];g.push(m.advance);}return g;}.call(this);l=this.widths[this.widths.length-1];g=[];for(i=c=0;0<=b?c<b:c>b;i=0<=b?++c:--c){g.push(this.widths.push(l));}return g;};Y4.prototype.forGlyph=function(b){if(b in this.metrics){return this.metrics[b];}return{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[b-this.metrics.length]};};return Y4;}(M4);var Z4=[].slice;var $4=function(a){O4($4,a);function $4(){return $4.__super__.constructor.apply(this,arguments);}$4.prototype.tag="glyf";$4.prototype.parse=function(){return this.cache={};};$4.prototype.glyphFor=function(b){var d,c,l,f,n,r,g,h,y,j;if(b in this.cache){return this.cache[b];}f=this.file.loca;d=this.file.contents;c=f.indexOf(b);l=f.lengthOf(b);if(l===0){return this.cache[b]=null;}d.pos=this.offset+c;r=new K4(d.read(l));n=r.readShort();h=r.readShort();j=r.readShort();g=r.readShort();y=r.readShort();if(n===-1){this.cache[b]=new a5(r,h,j,g,y);}else{this.cache[b]=new _4(r,n,h,j,g,y);}return this.cache[b];};$4.prototype.encode=function(g,m,o){var b,c,d,t,f,h;t=[];d=[];for(f=0,h=m.length;f<h;f++){c=m[f];b=g[c];d.push(t.length);if(b){t=t.concat(b.encode(o));}}d.push(t.length);return{table:t,offsets:d};};return $4;}(M4);var _4=function(){function _4(r,n,a,y,b,c){this.raw=r;this.numberOfContours=n;this.xMin=a;this.yMin=y;this.xMax=b;this.yMax=c;this.compound=false;}_4.prototype.encode=function(){return this.raw.data;};return _4;}();var a5=function(){var A,M,W,a,b;A=0x0001;a=0x0008;M=0x0020;W=0x0040;b=0x0080;function a5(r,c,y,d,f){var g,h;this.raw=r;this.xMin=c;this.yMin=y;this.xMax=d;this.yMax=f;this.compound=true;this.glyphIDs=[];this.glyphOffsets=[];g=this.raw;while(true){h=g.readShort();this.glyphOffsets.push(g.pos);this.glyphIDs.push(g.readUInt16());if(!(h&M)){break;}if(h&A){g.pos+=4;}else{g.pos+=2;}if(h&b){g.pos+=8;}else if(h&W){g.pos+=4;}else if(h&a){g.pos+=2;}}}a5.prototype.encode=function(){var i,r,c,d;r=new K4(Z4.call(this.raw.data));d=this.glyphIDs;for(i=0,c=d.length;i<c;++i){r.pos=this.glyphOffsets[i];}return r.data;};return a5;}();var c5=function(a){O4(c5,a);function c5(){return c5.__super__.constructor.apply(this,arguments);}c5.prototype.tag="loca";c5.prototype.parse=function(d){var f,i;d.pos=this.offset;f=this.file.head.indexToLocFormat;if(f===0){return this.offsets=function(){var b,c;c=[];for(i=0,b=this.length;i<b;i+=2){c.push(d.readUInt16()*2);}return c;}.call(this);}else{return this.offsets=function(){var b,c;c=[];for(i=0,b=this.length;i<b;i+=4){c.push(d.readUInt32());}return c;}.call(this);}};c5.prototype.indexOf=function(b){return this.offsets[b];};c5.prototype.lengthOf=function(b){return this.offsets[b+1]-this.offsets[b];};c5.prototype.encode=function(o,b){var c5=new Uint32Array(this.offsets.length);var g=0;var l=0;for(var k=0;k<c5.length;++k){c5[k]=g;if(l<b.length&&b[l]==k){++l;c5[k]=g;var s=this.offsets[k];var c=this.offsets[k+1]-s;if(c>0){g+=c;}}}var n=new Array(c5.length*4);for(var j=0;j<c5.length;++j){n[4*j+3]=c5[j]&0x000000ff;n[4*j+2]=(c5[j]&0x0000ff00)>>8;n[4*j+1]=(c5[j]&0x00ff0000)>>16;n[4*j]=(c5[j]&0xff000000)>>24;}return n;};return c5;}(M4);var e5=function e5(o){var k,r,v;r={};for(k in o){v=o[k];r[v]=k;}return r;};var g5=function(){function g5(f){this.font=f;this.subset={};this.unicodes={};this.next=33;}g5.prototype.generateCmap=function(){var m,r,u,a,b;a=this.font.cmap.tables[0].codeMap;m={};b=this.subset;for(r in b){u=b[r];m[r]=a[u];}return m;};g5.prototype.glyphsFor=function(g){var a,b,c,d,f,h,j;c={};for(f=0,h=g.length;f<h;f++){d=g[f];c[d]=this.font.glyf.glyphFor(d);}a=[];for(d in c){b=c[d];if(b!=null?b.compound:void 0){a.push.apply(a,b.glyphIDs);}}if(a.length>0){j=this.glyphsFor(a);for(d in j){b=j[d];c[d]=b;}}return c;};g5.prototype.encode=function(g,c){var d,f,h,j,k,l,m,n,o,p,q,r,s,t,u;d=R4.encode(this.generateCmap(),"unicode");j=this.glyphsFor(g);q={0:0};u=d.charMap;for(f in u){l=u[f];q[l.old]=l["new"];}p=d.maxGlyphID;for(r in j){if(!(r in q)){q[r]=p++;}}n=e5(q);o=Object.keys(n).sort(function(a,b){return a-b;});s=function(){var a,b,v;v=[];for(a=0,b=o.length;a<b;a++){k=o[a];v.push(n[k]);}return v;}();h=this.font.glyf.encode(j,s,q);m=this.font.loca.encode(h.offsets,s);t={cmap:this.font.cmap.raw(),glyf:h.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(c)};if(this.font.os2.exists){t["OS/2"]=this.font.os2.raw();}return this.font.directory.encode(t);};return g5;}();V1.API.PDFObject=function(){var p;function P(){}p=function p(s,l){return(Array(l+1).join("0")+s).slice(-l);};P.convert=function(o){var e,a,k,b,v;if(Array.isArray(o)){a=function(){var c,d,f;f=[];for(c=0,d=o.length;c<d;c++){e=o[c];f.push(P.convert(e));}return f;}().join(" ");return"["+a+"]";}else if(typeof o==="string"){return"/"+o;}else if(o!=null?o.isString:void 0){return"("+o+")";}else if(o instanceof Date){return"(D:"+p(o.getUTCFullYear(),4)+p(o.getUTCMonth(),2)+p(o.getUTCDate(),2)+p(o.getUTCHours(),2)+p(o.getUTCMinutes(),2)+p(o.getUTCSeconds(),2)+"Z)";}else if({}.toString.call(o)==="[object Object]"){b=["<<"];for(k in o){v=o[k];b.push("/"+k+" "+P.convert(v));}b.push(">>");return b.join("\n");}else{return""+o;}};return P;}();self.jsPDF=V1;})));
}
},"sap/gantt/library-preload"
);
//# sourceMappingURL=library-preload.js.map