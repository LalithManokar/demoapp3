/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/core/CalendarType','sap/ui/core/Locale','sap/ui/core/LocaleData','sap/ui/core/date/UniversalDate','sap/ui/core/date/CalendarUtils','sap/ui/core/date/CalendarWeekNumbering',"sap/base/util/deepEqual",'sap/base/util/values',"sap/base/strings/formatMessage","sap/base/Log","sap/ui/thirdparty/jquery"],function(C,L,a,U,b,c,d,v,f,e,q){"use strict";var D=function(){throw new Error();};var m={};D.oDateInfo={oDefaultFormatOptions:{style:"medium",relativeScale:"day",relativeStyle:"wide"},aFallbackFormatOptions:[{style:"short"},{style:"medium"},{pattern:"yyyy-MM-dd"},{pattern:"yyyyMMdd",strictParsing:true}],bShortFallbackFormatOptions:true,bPatternFallbackWithoutDelimiter:true,getPattern:function(o,s,i){return o.getDatePattern(s,i);},oRequiredParts:{"text":true,"year":true,"weekYear":true,"month":true,"day":true},aRelativeScales:["year","month","week","day"],aRelativeParseScales:["year","quarter","month","week","day","hour","minute","second"],aIntervalCompareFields:["Era","FullYear","Quarter","Month","Week","Date"]};D.oDateTimeInfo={oDefaultFormatOptions:{style:"medium",relativeScale:"auto",relativeStyle:"wide"},aFallbackFormatOptions:[{style:"short"},{style:"medium"},{pattern:"yyyy-MM-dd'T'HH:mm:ss"},{pattern:"yyyyMMdd HHmmss"}],getPattern:function(o,s,i){var S=s.indexOf("/");if(S>0){return o.getCombinedDateTimePattern(s.substr(0,S),s.substr(S+1),i);}else{return o.getCombinedDateTimePattern(s,s,i);}},oRequiredParts:{"text":true,"year":true,"weekYear":true,"month":true,"day":true,"hour0_23":true,"hour1_24":true,"hour0_11":true,"hour1_12":true},aRelativeScales:["year","month","week","day","hour","minute","second"],aRelativeParseScales:["year","quarter","month","week","day","hour","minute","second"],aIntervalCompareFields:["Era","FullYear","Quarter","Month","Week","Date","DayPeriod","Hours","Minutes","Seconds"]};D.oTimeInfo={oDefaultFormatOptions:{style:"medium",relativeScale:"auto",relativeStyle:"wide"},aFallbackFormatOptions:[{style:"short"},{style:"medium"},{pattern:"HH:mm:ss"},{pattern:"HHmmss"}],getPattern:function(o,s,i){return o.getTimePattern(s,i);},oRequiredParts:{"text":true,"hour0_23":true,"hour1_24":true,"hour0_11":true,"hour1_12":true},aRelativeScales:["hour","minute","second"],aRelativeParseScales:["year","quarter","month","week","day","hour","minute","second"],aIntervalCompareFields:["DayPeriod","Hours","Minutes","Seconds"]};D.getInstance=function(o,i){return this.getDateInstance(o,i);};D.getDateInstance=function(o,i){return this.createInstance(o,i,this.oDateInfo);};D.getDateTimeInstance=function(o,i){return this.createInstance(o,i,this.oDateTimeInfo);};D.getTimeInstance=function(o,i){return this.createInstance(o,i,this.oTimeInfo);};function g(o){var P=o.oLocaleData.getIntervalPattern("",o.oFormatOptions.calendarType);P=P.replace(/[^\{\}01 ]/,"-");return P.replace(/\{(0|1)\}/g,o.oFormatOptions.pattern);}D.createInstance=function(o,i,I){var j=Object.create(this.prototype);if(o instanceof L){i=o;o=undefined;}if(!i){i=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();}j.oLocale=i;j.oLocaleData=a.getInstance(i);j.oFormatOptions=q.extend(false,{},I.oDefaultFormatOptions,o);if(!j.oFormatOptions.calendarType){j.oFormatOptions.calendarType=sap.ui.getCore().getConfiguration().getCalendarType();}if(j.oFormatOptions.calendarWeekNumbering&&v(c).indexOf(j.oFormatOptions.calendarWeekNumbering)<0){throw new TypeError("Illegal format option calendarWeekNumbering: '"+j.oFormatOptions.calendarWeekNumbering+"'");}if(!j.oFormatOptions.pattern){if(j.oFormatOptions.format){j.oFormatOptions.pattern=j.oLocaleData.getCustomDateTimePattern(j.oFormatOptions.format,j.oFormatOptions.calendarType);}else{j.oFormatOptions.pattern=I.getPattern(j.oLocaleData,j.oFormatOptions.style,j.oFormatOptions.calendarType);}}if(j.oFormatOptions.interval){if(j.oFormatOptions.format){j.intervalPatterns=j.oLocaleData.getCustomIntervalPattern(j.oFormatOptions.format,null,j.oFormatOptions.calendarType);if(typeof j.intervalPatterns==="string"){j.intervalPatterns=[j.intervalPatterns];}j.intervalPatterns.push(j.oLocaleData.getCustomDateTimePattern(j.oFormatOptions.format,j.oFormatOptions.calendarType));}else{j.intervalPatterns=[j.oLocaleData.getCombinedIntervalPattern(j.oFormatOptions.pattern,j.oFormatOptions.calendarType),j.oFormatOptions.pattern];}var s=g(j);j.intervalPatterns.push(s);}if(!j.oFormatOptions.fallback){if(!I.oFallbackFormats){I.oFallbackFormats={};}var t=i.toString(),u=j.oFormatOptions.calendarType,K=t+"-"+u,P,w;if(j.oFormatOptions.pattern&&I.bPatternFallbackWithoutDelimiter){K=K+"-"+j.oFormatOptions.pattern;}if(j.oFormatOptions.interval){K=K+"-"+"interval";}var x=I.oFallbackFormats[K]?Object.assign({},I.oFallbackFormats[K]):undefined;if(!x){w=I.aFallbackFormatOptions;if(I.bShortFallbackFormatOptions){P=I.getPattern(j.oLocaleData,"short");w=w.concat(D._createFallbackOptionsWithoutDelimiter(P));}if(j.oFormatOptions.pattern&&I.bPatternFallbackWithoutDelimiter){w=D._createFallbackOptionsWithoutDelimiter(j.oFormatOptions.pattern).concat(w);}x=D._createFallbackFormat(w,u,i,I,j.oFormatOptions.interval);}j.aFallbackFormats=x;}j.oRequiredParts=I.oRequiredParts;j.aRelativeScales=I.aRelativeScales;j.aRelativeParseScales=I.aRelativeParseScales;j.aIntervalCompareFields=I.aIntervalCompareFields;j.init();return j;};D.prototype.init=function(){var s=this.oFormatOptions.calendarType;this.aMonthsAbbrev=this.oLocaleData.getMonths("abbreviated",s);this.aMonthsWide=this.oLocaleData.getMonths("wide",s);this.aMonthsNarrow=this.oLocaleData.getMonths("narrow",s);this.aMonthsAbbrevSt=this.oLocaleData.getMonthsStandAlone("abbreviated",s);this.aMonthsWideSt=this.oLocaleData.getMonthsStandAlone("wide",s);this.aMonthsNarrowSt=this.oLocaleData.getMonthsStandAlone("narrow",s);this.aDaysAbbrev=this.oLocaleData.getDays("abbreviated",s);this.aDaysWide=this.oLocaleData.getDays("wide",s);this.aDaysNarrow=this.oLocaleData.getDays("narrow",s);this.aDaysShort=this.oLocaleData.getDays("short",s);this.aDaysAbbrevSt=this.oLocaleData.getDaysStandAlone("abbreviated",s);this.aDaysWideSt=this.oLocaleData.getDaysStandAlone("wide",s);this.aDaysNarrowSt=this.oLocaleData.getDaysStandAlone("narrow",s);this.aDaysShortSt=this.oLocaleData.getDaysStandAlone("short",s);this.aQuartersAbbrev=this.oLocaleData.getQuarters("abbreviated",s);this.aQuartersWide=this.oLocaleData.getQuarters("wide",s);this.aQuartersNarrow=this.oLocaleData.getQuarters("narrow",s);this.aQuartersAbbrevSt=this.oLocaleData.getQuartersStandAlone("abbreviated",s);this.aQuartersWideSt=this.oLocaleData.getQuartersStandAlone("wide",s);this.aQuartersNarrowSt=this.oLocaleData.getQuartersStandAlone("narrow",s);this.aErasNarrow=this.oLocaleData.getEras("narrow",s);this.aErasAbbrev=this.oLocaleData.getEras("abbreviated",s);this.aErasWide=this.oLocaleData.getEras("wide",s);this.aDayPeriods=this.oLocaleData.getDayPeriods("abbreviated",s);this.aFormatArray=this.parseCldrDatePattern(this.oFormatOptions.pattern);this.sAllowedCharacters=this.getAllowedCharacters(this.aFormatArray);};D._createFallbackFormat=function(i,s,o,I,j){return i.map(function(O){var t=Object.assign({},O);if(j){t.interval=true;}t.calendarType=s;t.fallback=true;var u=D.createInstance(t,o,I);u.bIsFallback=true;return u;});};D._createFallbackOptionsWithoutDelimiter=function(B){var i=/[^dMyGU]/g,o={regex:/d+/g,replace:"dd"},M={regex:/M+/g,replace:"MM"},y={regex:/[yU]+/g,replace:["yyyy","yy"]};B=B.replace(i,"");B=B.replace(o.regex,o.replace);B=B.replace(M.regex,M.replace);return y.replace.map(function(R){return{pattern:B.replace(y.regex,R),strictParsing:true};});};var p={isNumber:function(i){return i>=48&&i<=57;},findNumbers:function(V,M){var i=0;while(i<M&&this.isNumber(V.charCodeAt(i))){i++;}if(typeof V!=="string"){V=V.toString();}return V.substr(0,i);},findEntry:function(V,i){var o=-1,M=0;for(var j=0;j<i.length;j++){if(i[j]&&i[j].length>M&&V.indexOf(i[j])===0){o=j;M=i[j].length;}}return{index:o,value:o===-1?null:i[o]};},parseTZ:function(V,i){var j=0;var t=V.charAt(0)=="+"?-1:1;var P;j++;P=this.findNumbers(V.substr(j),2);var T=parseInt(P);j+=2;if(i){j++;}P=this.findNumbers(V.substr(j),2);j+=2;var o=parseInt(P);return{length:j,tzDiff:(o+60*T)*t};},checkValid:function(t,P,o){if(t in o.oRequiredParts&&P){return false;}}};D._createPatternSymbol=function(P){var i=typeof P.isNumeric==="function"&&P.isNumeric||function(){return P.isNumeric||false;};return{name:P.name,format:P.format||function(){return"";},parse:P.parse||function(){return{};},isNumeric:i};};D.prototype.oSymbols={"":D._createPatternSymbol({name:"text",format:function(o,i,u,j){return o.value;},parse:function(V,P,o,i){var s;var j=true;var t=0;var u=0;var w="\u002d\u007E\u2010\u2011\u2012\u2013\u2014\ufe58\ufe63\uff0d\uFF5E";for(;u<P.value.length;u++){s=P.value.charAt(u);if(s===" "){while(V.charAt(t)===" "){t++;}}else if(w.includes(s)){if(!w.includes(V.charAt(t))){j=false;}t++;}else{if(V.charAt(t)!==s){j=false;}t++;}if(!j){break;}}if(j){return{length:t};}else{var x=false;if(i.index<i.formatArray.length-1){x=(i.formatArray[i.index+1].type in o.oRequiredParts);}return{valid:p.checkValid(P.type,x,o)};}}}),"G":D._createPatternSymbol({name:"era",format:function(o,i,u,j){var E=u?i.getUTCEra():i.getEra();if(o.digits<=3){return j.aErasAbbrev[E];}else if(o.digits===4){return j.aErasWide[E];}else{return j.aErasNarrow[E];}},parse:function(V,P,o,j){var E=[o.aErasWide,o.aErasAbbrev,o.aErasNarrow];for(var i=0;i<E.length;i++){var s=E[i];var t=p.findEntry(V,s);if(t.index!==-1){return{era:t.index,length:t.value.length};}}return{era:o.aErasWide.length-1,valid:p.checkValid(P.type,true,o)};}}),"y":D._createPatternSymbol({name:"year",format:function(o,i,u,j){var y=u?i.getUTCFullYear():i.getFullYear();var Y=String(y);var s=j.oFormatOptions.calendarType;if(o.digits==2&&Y.length>2){Y=Y.substr(Y.length-2);}if(s!=C.Japanese&&o.digits==1&&y<100){Y=Y.padStart(4,"0");}return Y.padStart(o.digits,"0");},parse:function(V,P,o,i){var E,s,j,t=o.oFormatOptions.calendarType;if(P.digits==1){E=4;}else if(P.digits==2){E=2;}else{E=P.digits;}s=p.findNumbers(V,E);j=s===""||i.exactLength&&s.length!==E;var y=parseInt(s);if(t!=C.Japanese&&s.length<=2){var u=U.getInstance(new Date(),t),w=u.getFullYear(),x=Math.floor(w/100),Y=x*100+y-w;if(Y<-70){y+=(x+1)*100;}else if(Y<30){y+=x*100;}else{y+=(x-1)*100;}}return{length:s.length,valid:p.checkValid(P.type,j,o),year:y};},isNumeric:true}),"Y":D._createPatternSymbol({name:"weekYear",format:function(o,i,u,j){var w=u?i.getUTCWeek(j.oLocale,j.oFormatOptions.calendarWeekNumbering):i.getWeek(j.oLocale,j.oFormatOptions.calendarWeekNumbering);var W=w.year;var s=String(W);var t=j.oFormatOptions.calendarType;if(o.digits==2&&s.length>2){s=s.substr(s.length-2);}if(t!=C.Japanese&&o.digits==1&&W<100){s=s.padStart(4,"0");}return s.padStart(o.digits,"0");},parse:function(V,P,o,i){var E,s,j,t=o.oFormatOptions.calendarType;if(P.digits==1){E=4;}else if(P.digits==2){E=2;}else{E=P.digits;}s=p.findNumbers(V,E);j=s===""||i.exactLength&&s.length!==E;var y=parseInt(s);var w;if(t!=C.Japanese&&s.length<=2){var u=U.getInstance(new Date(),t),x=u.getFullYear(),z=Math.floor(x/100),Y=z*100+w-x;if(Y<-70){w+=(z+1)*100;}else if(Y<30){w+=z*100;}else{w+=(z-1)*100;}}return{length:s.length,valid:p.checkValid(P.type,j,o),year:y,weekYear:w};},isNumeric:true}),"M":D._createPatternSymbol({name:"month",format:function(o,i,u,j){var M=u?i.getUTCMonth():i.getMonth();if(o.digits==3){return j.aMonthsAbbrev[M];}else if(o.digits==4){return j.aMonthsWide[M];}else if(o.digits>4){return j.aMonthsNarrow[M];}else{return String(M+1).padStart(o.digits,"0");}},parse:function(V,P,o,j){var M,s,t,u,w=[o.aMonthsWide,o.aMonthsWideSt,o.aMonthsAbbrev,o.aMonthsAbbrevSt,o.aMonthsNarrow,o.aMonthsNarrowSt];if(P.digits<3){s=p.findNumbers(V,Math.max(P.digits,2));t=s===""||j.exactLength&&s.length<2;u=p.checkValid(P.type,t,o);M=parseInt(s)-1;if(j.strict&&(M>11||M<0)){u=false;}}else{for(var i=0;i<w.length;i++){var x=w[i];var y=p.findEntry(V,x);if(y.index!==-1){return{month:y.index,length:y.value.length};}}u=p.checkValid(P.type,true,o);}return{month:M,length:s?s.length:0,valid:u};},isNumeric:function(i){return i<3;}}),"L":D._createPatternSymbol({name:"monthStandalone",format:function(o,i,u,j){var M=u?i.getUTCMonth():i.getMonth();if(o.digits==3){return j.aMonthsAbbrevSt[M];}else if(o.digits==4){return j.aMonthsWideSt[M];}else if(o.digits>4){return j.aMonthsNarrowSt[M];}else{return String(M+1).padStart(o.digits,"0");}},parse:function(V,P,o,j){var M,s,t,u,w=[o.aMonthsWide,o.aMonthsWideSt,o.aMonthsAbbrev,o.aMonthsAbbrevSt,o.aMonthsNarrow,o.aMonthsNarrowSt];if(P.digits<3){s=p.findNumbers(V,Math.max(P.digits,2));t=s===""||j.exactLength&&s.length<2;u=p.checkValid(P.type,t,o);M=parseInt(s)-1;if(j.strict&&(M>11||M<0)){u=false;}}else{for(var i=0;i<w.length;i++){var x=w[i];var y=p.findEntry(V,x);if(y.index!==-1){return{month:y.index,length:y.value.length};}}u=p.checkValid(P.type,true,o);}return{month:M,length:s?s.length:0,valid:u};},isNumeric:function(i){return i<3;}}),"w":D._createPatternSymbol({name:"weekInYear",format:function(o,i,u,j){var w=u?i.getUTCWeek(j.oLocale,j.oFormatOptions.calendarWeekNumbering):i.getWeek(j.oLocale,j.oFormatOptions.calendarWeekNumbering);var W=w.week;var s=String(W+1);if(o.digits<3){s=s.padStart(o.digits,"0");}else{s=j.oLocaleData.getCalendarWeek(o.digits===3?"narrow":"wide",s.padStart(2,"0"));}return s;},parse:function(V,P,o,i){var s,j,t,w,u=0;if(P.digits<3){s=p.findNumbers(V,2);u=s.length;w=parseInt(s)-1;j=!s||i.exactLength&&u<2;t=p.checkValid(P.type,j,o);}else{s=o.oLocaleData.getCalendarWeek(P.digits===3?"narrow":"wide");s=s.replace("{0}","[0-9]+");var x=new RegExp(s),R=x.exec(V);if(R){u=R[0].length;w=parseInt(R[0])-1;}else{t=p.checkValid(P.type,true,o);}}return{length:u,valid:t,week:w};},isNumeric:function(i){return i<3;}}),"W":D._createPatternSymbol({name:"weekInMonth"}),"D":D._createPatternSymbol({name:"dayInYear"}),"d":D._createPatternSymbol({name:"day",format:function(o,i,u,j){var s=u?i.getUTCDate():i.getDate();return String(s).padStart(o.digits,"0");},parse:function(V,P,o,i){var s=p.findNumbers(V,Math.max(P.digits,2)),j=s===""||i.exactLength&&s.length<2,t=p.checkValid(P.type,j,o),u=parseInt(s);if(i.strict&&(u>31||u<1)){t=false;}return{day:u,length:s.length,valid:t};},isNumeric:true}),"Q":D._createPatternSymbol({name:"quarter",format:function(o,i,u,j){var Q=u?i.getUTCQuarter():i.getQuarter();if(o.digits==3){return j.aQuartersAbbrev[Q];}else if(o.digits==4){return j.aQuartersWide[Q];}else if(o.digits>4){return j.aQuartersNarrow[Q];}else{return String(Q+1).padStart(o.digits,"0");}},parse:function(V,P,o,j){var s,t,Q,u;var w=[o.aQuartersWide,o.aQuartersWideSt,o.aQuartersAbbrev,o.aQuartersAbbrevSt,o.aQuartersNarrow,o.aQuartersNarrowSt];if(P.digits<3){s=p.findNumbers(V,Math.max(P.digits,2));t=s===""||j.exactLength&&s.length<2;u=p.checkValid(P.type,t,o);Q=parseInt(s)-1;if(j.strict&&Q>3){u=false;}}else{for(var i=0;i<w.length;i++){var x=w[i];var y=p.findEntry(V,x);if(y.index!==-1){return{quarter:y.index,length:y.value.length};}}u=p.checkValid(P.type,true,o);}return{length:s?s.length:0,quarter:Q,valid:u};},isNumeric:function(i){return i<3;}}),"q":D._createPatternSymbol({name:"quarterStandalone",format:function(o,i,u,j){var Q=u?i.getUTCQuarter():i.getQuarter();if(o.digits==3){return j.aQuartersAbbrevSt[Q];}else if(o.digits==4){return j.aQuartersWideSt[Q];}else if(o.digits>4){return j.aQuartersNarrowSt[Q];}else{return String(Q+1).padStart(o.digits,"0");}},parse:function(V,P,o,j){var s,t,Q,u;var w=[o.aQuartersWide,o.aQuartersWideSt,o.aQuartersAbbrev,o.aQuartersAbbrevSt,o.aQuartersNarrow,o.aQuartersNarrowSt];if(P.digits<3){s=p.findNumbers(V,Math.max(P.digits,2));t=s===""||j.exactLength&&s.length<2;u=p.checkValid(P.type,t,o);Q=parseInt(s)-1;if(j.strict&&Q>3){u=false;}}else{for(var i=0;i<w.length;i++){var x=w[i];var y=p.findEntry(V,x);if(y.index!==-1){return{quarter:y.index,length:y.value.length};}}u=p.checkValid(P.type,true,o);}return{length:s?s.length:0,quarter:Q,valid:u};},isNumeric:function(i){return i<3;}}),"F":D._createPatternSymbol({name:"dayOfWeekInMonth"}),"E":D._createPatternSymbol({name:"dayNameInWeek",format:function(o,i,u,j){var s=u?i.getUTCDay():i.getDay();if(o.digits<4){return j.aDaysAbbrev[s];}else if(o.digits==4){return j.aDaysWide[s];}else if(o.digits==5){return j.aDaysNarrow[s];}else{return j.aDaysShort[s];}},parse:function(V,P,o,j){var s=[o.aDaysWide,o.aDaysWideSt,o.aDaysAbbrev,o.aDaysAbbrevSt,o.aDaysShort,o.aDaysShortSt,o.aDaysNarrow,o.aDaysNarrowSt];for(var i=0;i<s.length;i++){var t=s[i];var u=p.findEntry(V,t);if(u.index!==-1){return{dayOfWeek:u.index,length:u.value.length};}}}}),"c":D._createPatternSymbol({name:"dayNameInWeekStandalone",format:function(o,i,u,j){var s=u?i.getUTCDay():i.getDay();if(o.digits<4){return j.aDaysAbbrevSt[s];}else if(o.digits==4){return j.aDaysWideSt[s];}else if(o.digits==5){return j.aDaysNarrowSt[s];}else{return j.aDaysShortSt[s];}},parse:function(V,P,o,j){var s=[o.aDaysWide,o.aDaysWideSt,o.aDaysAbbrev,o.aDaysAbbrevSt,o.aDaysShort,o.aDaysShortSt,o.aDaysNarrow,o.aDaysNarrowSt];for(var i=0;i<s.length;i++){var t=s[i];var u=p.findEntry(V,t);if(u.index!==-1){return{day:u.index,length:u.value.length};}}}}),"u":D._createPatternSymbol({name:"dayNumberOfWeek",format:function(o,i,u,j){var s=u?i.getUTCDay():i.getDay();return j._adaptDayOfWeek(s);},parse:function(V,P,o,i){var s=p.findNumbers(V,P.digits),j=i.exactLength&&s.length!==P.digits;return{dayNumberOfWeek:parseInt(s),length:s.length,valid:p.checkValid(P.type,j,o)};},isNumeric:true}),"a":D._createPatternSymbol({name:"amPmMarker",format:function(o,i,u,j){var s=u?i.getUTCDayPeriod():i.getDayPeriod();return j.aDayPeriods[s];},parse:function(V,P,o,i){var j;var s;var A=o.aDayPeriods[0],t=o.aDayPeriods[1];var u=/[aApP](?:\.)?[mM](?:\.)?/;var M=V.match(u);var w=(M&&M.index===0);if(w){V=M[0].replace(/\./g,"").toLowerCase()+V.substring(M[0].length);A=A.replace(/\./g,"").toLowerCase();t=t.replace(/\./g,"").toLowerCase();}if(V.indexOf(A)===0){j=false;s=(w?M[0].length:A.length);}else if(V.indexOf(t)===0){j=true;s=(w?M[0].length:t.length);}return{pm:j,length:s};}}),"H":D._createPatternSymbol({name:"hour0_23",format:function(o,i,u,j){var H=u?i.getUTCHours():i.getHours();return String(H).padStart(o.digits,"0");},parse:function(V,P,o,i){var s=p.findNumbers(V,Math.max(P.digits,2)),H=parseInt(s),j=s===""||i.exactLength&&s.length<2,t=p.checkValid(P.type,j,o);if(i.strict&&H>23){t=false;}return{hour:H,length:s.length,valid:t};},isNumeric:true}),"k":D._createPatternSymbol({name:"hour1_24",format:function(o,i,u,j){var H=u?i.getUTCHours():i.getHours();var s=(H===0?"24":String(H));return s.padStart(o.digits,"0");},parse:function(V,P,o,i){var s=p.findNumbers(V,Math.max(P.digits,2)),H=parseInt(s),j=s===""||i.exactLength&&s.length<2,t=p.checkValid(P.type,j,o);if(H==24){H=0;}if(i.strict&&H>23){t=false;}return{hour:H,length:s.length,valid:t};},isNumeric:true}),"K":D._createPatternSymbol({name:"hour0_11",format:function(o,i,u,j){var H=u?i.getUTCHours():i.getHours();var s=String(H>11?H-12:H);return s.padStart(o.digits,"0");},parse:function(V,P,o,i){var s=p.findNumbers(V,Math.max(P.digits,2)),H=parseInt(s),j=s===""||i.exactLength&&s.length<2,t=p.checkValid(P.type,j,o);if(i.strict&&H>11){t=false;}return{hour:H,length:s.length,valid:t};},isNumeric:true}),"h":D._createPatternSymbol({name:"hour1_12",format:function(o,i,u,j){var H=u?i.getUTCHours():i.getHours();var s;if(H>12){s=String(H-12);}else if(H==0){s="12";}else{s=String(H);}return s.padStart(o.digits,"0");},parse:function(V,P,o,i){var j=i.dateValue.pm,s=p.findNumbers(V,Math.max(P.digits,2)),H=parseInt(s),t=s===""||i.exactLength&&s.length<2,u=p.checkValid(P.type,t,o);if(H==12){H=0;j=(j===undefined)?true:j;}if(i.strict&&H>11){u=false;}return{hour:H,length:s.length,pm:j,valid:u};},isNumeric:true}),"m":D._createPatternSymbol({name:"minute",format:function(o,i,u,j){var M=u?i.getUTCMinutes():i.getMinutes();return String(M).padStart(o.digits,"0");},parse:function(V,P,o,i){var s=p.findNumbers(V,Math.max(P.digits,2)),M=parseInt(s),j=s===""||i.exactLength&&s.length<2,t=p.checkValid(P.type,j,o);if(i.strict&&M>59){t=false;}return{length:s.length,minute:M,valid:t};},isNumeric:true}),"s":D._createPatternSymbol({name:"second",format:function(o,i,u,j){var s=u?i.getUTCSeconds():i.getSeconds();return String(s).padStart(o.digits,"0");},parse:function(V,P,o,i){var E=Math.max(P.digits,2),s=p.findNumbers(V,E),j=s===""||i.exactLength&&s.length<E,S=parseInt(s),t=p.checkValid(P.type,j,o);if(i.strict&&S>59){t=false;}return{length:s.length,second:S,valid:t};},isNumeric:true}),"S":D._createPatternSymbol({name:"fractionalsecond",format:function(o,i,u,j){var M=u?i.getUTCMilliseconds():i.getMilliseconds();var s=String(M);var t=s.padStart(3,"0");t=t.substr(0,o.digits);t=t.padEnd(o.digits,"0");return t;},parse:function(V,P,o,i){var s=p.findNumbers(V,P.digits),j=s.length,t=i.exactLength&&j<P.digits;s=s.substr(0,3);s=s.padEnd(3,"0");var M=parseInt(s);return{length:j,millisecond:M,valid:p.checkValid(P.type,t,o)};},isNumeric:true}),"z":D._createPatternSymbol({name:"timezoneGeneral",format:function(o,i,u,j){if(o.digits>3&&i.getTimezoneLong()){return i.getTimezoneLong();}else if(i.getTimezoneShort()){return i.getTimezoneShort();}var t="GMT";var T=Math.abs(i.getTimezoneOffset());var P=i.getTimezoneOffset()>0;var H=Math.floor(T/60);var M=T%60;if(!u&&T!=0){t+=(P?"-":"+");t+=String(H).padStart(2,"0");t+=":";t+=String(M).padStart(2,"0");}else{t+="Z";}return t;},parse:function(V,P,o,i){var j=0;var t;var T=V.substring(0,3);if(T==="GMT"||T==="UTC"){j=3;}else if(V.substring(0,2)==="UT"){j=2;}else if(V.charAt(0)=="Z"){j=1;t=0;}else{return{error:"cannot be parsed correcly by sap.ui.core.format.DateFormat: The given timezone is not supported!"};}if(V.charAt(0)!="Z"){var s=p.parseTZ(V.substr(j),true);j+=s.length;t=s.tzDiff;}return{length:j,tzDiff:t};}}),"Z":D._createPatternSymbol({name:"timezoneRFC822",format:function(o,i,u,j){var t=Math.abs(i.getTimezoneOffset());var P=i.getTimezoneOffset()>0;var H=Math.floor(t/60);var M=t%60;var T="";if(!u&&t!=0){T+=(P?"-":"+");T+=String(H).padStart(2,"0");T+=String(M).padStart(2,"0");}return T;},parse:function(V,P,o,i){return p.parseTZ(V,false);}}),"X":D._createPatternSymbol({name:"timezoneISO8601",format:function(o,i,u,j){var t=Math.abs(i.getTimezoneOffset());var P=i.getTimezoneOffset()>0;var H=Math.floor(t/60);var M=t%60;var T="";if(!u&&t!=0){T+=(P?"-":"+");T+=String(H).padStart(2,"0");T+=":";T+=String(M).padStart(2,"0");}else{T+="Z";}return T;},parse:function(V,P,o,i){if(V.charAt(0)=="Z"){return{length:1,tzDiff:0};}else{return p.parseTZ(V,true);}}})};D.prototype._format=function(j,u){if(this.oFormatOptions.relative){var R=this.formatRelative(j,u,this.oFormatOptions.relativeRange);if(R){return R;}}var s=this.oFormatOptions.calendarType;var o=U.getInstance(j,s);var B=[],P,t,S;for(var i=0;i<this.aFormatArray.length;i++){P=this.aFormatArray[i];S=P.symbol||"";B.push(this.oSymbols[S].format(P,o,u,this));}t=B.join("");if(sap.ui.getCore().getConfiguration().getOriginInfo()){t=new String(t);t.originInfo={source:"Common Locale Data Repository",locale:this.oLocale.toString(),style:this.oFormatOptions.style,pattern:this.oFormatOptions.pattern};}return t;};D.prototype.format=function(j,u){var s=this.oFormatOptions.calendarType,R;if(u===undefined){u=this.oFormatOptions.UTC;}if(Array.isArray(j)){if(!this.oFormatOptions.interval){e.error("Non-interval DateFormat can't format more than one date instance.");return"";}if(j.length!==2){e.error("Interval DateFormat can only format with 2 date instances but "+j.length+" is given.");return"";}if(this.oFormatOptions.singleIntervalValue){if(j[0]===null){e.error("First date instance which is passed to the interval DateFormat shouldn't be null.");return"";}if(j[1]===null){R=this._format(j[0],u);}}if(R===undefined){var V=j.every(function(J){return J&&!isNaN(J.getTime());});if(!V){e.error("At least one date instance which is passed to the interval DateFormat isn't valid.");return"";}R=this._formatInterval(j,u);}}else{if(!j||isNaN(j.getTime())){e.error("The given date instance isn't valid.");return"";}if(this.oFormatOptions.interval){e.error("Interval DateFormat expects an array with two dates for the first argument but only one date is given.");return"";}R=this._format(j,u);}if(s==C.Japanese&&this.oLocale.getLanguage()==="ja"){R=R.replace(/(^|[^\d])1年/g,"$1元年");}return R;};D.prototype._formatInterval=function(j,u){var s=this.oFormatOptions.calendarType;var o=U.getInstance(j[0],s);var t=U.getInstance(j[1],s);var w;var P;var S;var B=[];var x;var y=[];var z=this._getGreatestDiffField([o,t],u);if(!z){return this._format(j[0],u);}if(this.oFormatOptions.format){x=this.oLocaleData.getCustomIntervalPattern(this.oFormatOptions.format,z,s);}else{x=this.oLocaleData.getCombinedIntervalPattern(this.oFormatOptions.pattern,s);}y=this.parseCldrDatePattern(x);w=o;for(var i=0;i<y.length;i++){P=y[i];S=P.symbol||"";if(P.repeat){w=t;}B.push(this.oSymbols[S].format(P,w,u,this));}return B.join("");};var F={Era:"Era",FullYear:"Year",Quarter:"Quarter",Month:"Month",Week:"Week",Date:"Day",DayPeriod:"DayPeriod",Hours:"Hour",Minutes:"Minute",Seconds:"Second"};D.prototype._getGreatestDiffField=function(i,u){var j=false,o={};this.aIntervalCompareFields.forEach(function(s){var G="get"+(u?"UTC":""),M=G+s,t=F[s],w=i[0][M].apply(i[0]),T=i[1][M].apply(i[1]);if(!d(w,T)){j=true;o[t]=true;}});if(j){return o;}return null;};D.prototype._parse=function(V,j,u,s){var N,P,o,R,S,t={valid:true},I=0,w={formatArray:j,dateValue:t,strict:s},x=this;function y(A){return x.oSymbols[A.symbol||""];}function z(A){return!!A&&y(A).isNumeric(A.digits);}for(var i=0;i<j.length;i++){S=V.substr(I);P=j[i];o=j[i-1];N=j[i+1];w.index=i;w.exactLength=z(P)&&(z(o)||z(N));R=y(P).parse(S,P,this,w)||{};t=q.extend(t,R);if(R.valid===false){break;}I+=R.length||0;}t.index=I;if(t.pm){t.hour+=12;}if(t.dayNumberOfWeek===undefined&&t.dayOfWeek!==undefined){t.dayNumberOfWeek=this._adaptDayOfWeek(t.dayOfWeek);}if(t.quarter!==undefined&&t.month===undefined&&t.day===undefined){t.month=3*t.quarter;t.day=1;}return t;};D.prototype._parseInterval=function(V,s,u,S){var j,R,o;this.intervalPatterns.some(function(P){var t=this.parseCldrDatePattern(P);R=undefined;for(var i=0;i<t.length;i++){if(t[i].repeat){R=i;break;}}if(R===undefined){o=this._parse(V,t,u,S);if(o.index===0||o.index<V.length){o.valid=false;}if(o.valid===false){return;}j=[o,o];return true;}else{j=[];o=this._parse(V,t.slice(0,R),u,S);if(o.valid===false){return;}j.push(o);var w=o.index;o=this._parse(V.substring(w),t.slice(R),u,S);if(o.index===0||o.index+w<V.length){o.valid=false;}if(o.valid===false){return;}j.push(o);return true;}}.bind(this));return j;};var h=function(o,s,u,S,i,j){var t,y=typeof o.year==="number"?o.year:1970;if(o.valid){if(u||o.tzDiff!==undefined){t=U.getInstance(new Date(0),s);t.setUTCEra(o.era||U.getCurrentEra(s));t.setUTCFullYear(y);t.setUTCMonth(o.month||0);t.setUTCDate(o.day||1);t.setUTCHours(o.hour||0);t.setUTCMinutes(o.minute||0);t.setUTCSeconds(o.second||0);t.setUTCMilliseconds(o.millisecond||0);if(S&&(o.day||1)!==t.getUTCDate()){o.valid=false;t=undefined;}else{if(o.tzDiff){t.setUTCMinutes((o.minute||0)+o.tzDiff);}if(o.week!==undefined&&(o.month===undefined||o.day===undefined)){t.setUTCWeek({year:o.weekYear||o.year,week:o.week},j,i.calendarWeekNumbering);if(o.dayNumberOfWeek!==undefined){t.setUTCDate(t.getUTCDate()+o.dayNumberOfWeek-1);}}}}else{t=U.getInstance(new Date(1970,0,1,0,0,0),s);t.setEra(o.era||U.getCurrentEra(s));t.setFullYear(y);t.setMonth(o.month||0);t.setDate(o.day||1);t.setHours(o.hour||0);t.setMinutes(o.minute||0);t.setSeconds(o.second||0);t.setMilliseconds(o.millisecond||0);if(S&&(o.day||1)!==t.getDate()){o.valid=false;t=undefined;}else if(o.week!==undefined&&(o.month===undefined||o.day===undefined)){t.setWeek({year:o.weekYear||o.year,week:o.week},j,i.calendarWeekNumbering);if(o.dayNumberOfWeek!==undefined){t.setDate(t.getDate()+o.dayNumberOfWeek-1);}}}if(o.valid){t=t.getJSDate();return t;}}return null;};function k(o,i){if(o===i){return o;}var M={};Object.keys(o).forEach(function(K){M[K]=o[K];});Object.keys(i).forEach(function(K){if(!M.hasOwnProperty(K)){M[K]=i[K];}});return M;}function l(s,E){if(s.getTime()>E.getTime()){return false;}return true;}D.prototype.parse=function(V,u,s){V=q.trim(V);var o;var i=this.oFormatOptions.calendarType;if(u===undefined){u=this.oFormatOptions.UTC;}if(s===undefined){s=this.oFormatOptions.strictParsing;}if(i==C.Japanese&&this.oLocale.getLanguage()==="ja"){V=V.replace(/元年/g,"1年");}if(!this.oFormatOptions.interval){var j=this.parseRelative(V,u);if(j){return j;}o=this._parse(V,this.aFormatArray,u,s);if(o.index===0||o.index<V.length){o.valid=false;}j=h(o,i,u,s,this.oFormatOptions,this.oLocale);if(j){return j;}}else{var t=this._parseInterval(V,i,u,s);var J,w;if(t&&t.length==2){var x=k(t[0],t[1]);var y=k(t[1],t[0]);J=h(x,i,u,s,this.oFormatOptions,this.oLocale);w=h(y,i,u,s,this.oFormatOptions,this.oLocale);if(J&&w){if(this.oFormatOptions.singleIntervalValue&&J.getTime()===w.getTime()){return[J,null];}var z=l(J,w);if(s&&!z){e.error("StrictParsing: Invalid date range. The given end date is before the start date.");return[null,null];}return[J,w];}}}if(!this.bIsFallback){var A;this.aFallbackFormats.every(function(B){A=B.parse(V,u,s);if(Array.isArray(A)){return!(A[0]&&A[1]);}else{return!A;}});return A;}if(!this.oFormatOptions.interval){return null;}else{return[null,null];}};D.prototype.parseCldrDatePattern=function(P){if(m[P]){return m[P];}var j=[],i,Q=false,o=null,s="",N="",A={},I=false;for(i=0;i<P.length;i++){var t=P.charAt(i),u,w,x;if(Q){if(t=="'"){w=P.charAt(i-1);x=P.charAt(i-2);u=P.charAt(i+1);if(w=="'"&&x!="'"){Q=false;}else if(u=="'"){i+=1;}else{Q=false;continue;}}if(s=="text"){o.value+=t;}else{o={type:"text",value:t};j.push(o);s="text";}}else{if(t=="'"){Q=true;}else if(this.oSymbols[t]){N=this.oSymbols[t].name;if(s==N){o.digits++;}else{o={type:N,symbol:t,digits:1};j.push(o);s=N;if(!I){if(A[N]){o.repeat=true;I=true;}else{A[N]=true;}}}}else{if(s=="text"){o.value+=t;}else{o={type:"text",value:t};j.push(o);s="text";}}}}m[P]=j;return j;};D.prototype.parseRelative=function(V,u){var P,E,j,R,o;if(!V){return null;}P=this.oLocaleData.getRelativePatterns(this.aRelativeParseScales,this.oFormatOptions.relativeStyle);for(var i=0;i<P.length;i++){E=P[i];j=new RegExp("^\\s*"+E.pattern.replace(/\{0\}/,"(\\d+)")+"\\s*$","i");R=j.exec(V);if(R){if(E.value!==undefined){return s(E.value,E.scale);}else{o=parseInt(R[1]);return s(o*E.sign,E.scale);}}}function s(t,S){var T,w=new Date(),J;if(u){T=w.getTime();}else{T=Date.UTC(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds(),w.getMilliseconds());}J=new Date(T);switch(S){case"second":J.setUTCSeconds(J.getUTCSeconds()+t);break;case"minute":J.setUTCMinutes(J.getUTCMinutes()+t);break;case"hour":J.setUTCHours(J.getUTCHours()+t);break;case"day":J.setUTCDate(J.getUTCDate()+t);break;case"week":J.setUTCDate(J.getUTCDate()+t*7);break;case"month":J.setUTCMonth(J.getUTCMonth()+t);break;case"quarter":J.setUTCMonth(J.getUTCMonth()+t*3);break;case"year":J.setUTCFullYear(J.getUTCFullYear()+t);break;}if(u){return J;}else{return new Date(J.getUTCFullYear(),J.getUTCMonth(),J.getUTCDate(),J.getUTCHours(),J.getUTCMinutes(),J.getUTCSeconds(),J.getUTCMilliseconds());}}};D.prototype.formatRelative=function(j,u,R){var t=new Date(),o,s=this.oFormatOptions.relativeScale||"day",i,P,w;w=(j.getTime()-t.getTime())/1000;if(this.oFormatOptions.relativeScale=="auto"){s=this._getScale(w,this.aRelativeScales);}if(!R){R=this._mRanges[s];}if(s=="year"||s=="month"||s=="day"){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));o=new Date(0);if(u){o.setUTCFullYear(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate());}else{o.setUTCFullYear(j.getFullYear(),j.getMonth(),j.getDate());}j=o;}i=this._getDifference(s,[t,j]);if(this.oFormatOptions.relativeScale!="auto"&&(i<R[0]||i>R[1])){return null;}P=this.oLocaleData.getRelativePattern(s,i,w>0,this.oFormatOptions.relativeStyle);return f(P,[Math.abs(i)]);};D.prototype._mRanges={second:[-60,60],minute:[-60,60],hour:[-24,24],day:[-6,6],week:[-4,4],month:[-12,12],year:[-10,10]};D.prototype._mScales={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592000,quarter:7776000,year:31536000};D.prototype._getScale=function(j,s){var S,t;j=Math.abs(j);for(var i=0;i<s.length;i++){t=s[i];if(j>=this._mScales[t]){S=t;break;}}if(!S){S=s[s.length-1];}return S;};function n(o,s){var j=["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],M;for(var i=s;i<j.length;i++){M="set"+j[s];o[M].apply(o,[0]);}}var r={year:function(o,t){return t.getFullYear()-o.getFullYear();},month:function(o,t){return t.getMonth()-o.getMonth()+(this.year(o,t)*12);},week:function(o,t,i){var j=i._adaptDayOfWeek(o.getDay());var T=i._adaptDayOfWeek(t.getDay());n(o,3);n(t,3);return(t.getTime()-o.getTime()-(T-j)*i._mScales.day*1000)/(i._mScales.week*1000);},day:function(o,t,i){n(o,3);n(t,3);return(t.getTime()-o.getTime())/(i._mScales.day*1000);},hour:function(o,t,i){n(o,4);n(t,4);return(t.getTime()-o.getTime())/(i._mScales.hour*1000);},minute:function(o,t,i){n(o,5);n(t,5);return(t.getTime()-o.getTime())/(i._mScales.minute*1000);},second:function(o,t,i){n(o,6);n(t,6);return(t.getTime()-o.getTime())/(i._mScales.second*1000);}};D.prototype._adaptDayOfWeek=function(i){var s=this.oFormatOptions.calendarWeekNumbering;var j=b.getWeekConfigurationValues(s,this.oLocale).firstDayOfWeek;var o=i-(j-1);if(o<=0){o+=7;}return o;};D.prototype._getDifference=function(s,i){var o=i[0];var t=i[1];return Math.round(r[s](o,t,this));};D.prototype.getAllowedCharacters=function(j){if(this.oFormatOptions.relative){return"";}var A="";var N=false;var o=false;var P;for(var i=0;i<j.length;i++){P=j[i];switch(P.type){case"text":if(A.indexOf(P.value)<0){A+=P.value;}break;case"day":case"year":case"weekYear":case"dayNumberOfWeek":case"weekInYear":case"hour0_23":case"hour1_24":case"hour0_11":case"hour1_12":case"minute":case"second":case"fractionalsecond":if(!N){A+="0123456789";N=true;}break;case"month":case"monthStandalone":if(P.digits<3){if(!N){A+="0123456789";N=true;}}else{o=true;}break;default:o=true;break;}}if(o){A="";}return A;};D.prototype.getPlaceholderText=function(){var R=sap.ui.getCore().getLibraryResourceBundle();return R.getText("date.placeholder",[this.format.apply(this,this.getSampleValue())]);};D.prototype.getSampleValue=function(){var o,i=new Date().getFullYear(),u=this.oFormatOptions.UTC;function j(y,M,s,H,t,S,w){return u?new Date(Date.UTC(y,M,s,H,t,S,w)):new Date(y,M,s,H,t,S,w);}o=j(i,11,31,23,59,58,123);if(this.oFormatOptions.interval){return[[j(i,11,22,9,12,34,567),o]];}return[o];};return D;},true);
